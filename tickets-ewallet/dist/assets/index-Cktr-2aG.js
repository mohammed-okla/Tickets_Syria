var qq=Object.defineProperty;var Yq=(e,t,n)=>t in e?qq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Fw=(e,t,n)=>Yq(e,typeof t!="symbol"?t+"":t,n);function f6(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var hx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zi(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Wq(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Uw={exports:{}},ng={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wO;function Gq(){if(wO)return ng;wO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var u in i)u!=="key"&&(s[u]=i[u])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:o,ref:i!==void 0?i:null,props:s}}return ng.Fragment=t,ng.jsx=n,ng.jsxs=n,ng}var jO;function Kq(){return jO||(jO=1,Uw.exports=Gq()),Uw.exports}var a=Kq(),zw={exports:{}},qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NO;function Xq(){if(NO)return qt;NO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function w(re){return re===null||typeof re!="object"?null:(re=x&&re[x]||re["@@iterator"],typeof re=="function"?re:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function A(re,de,xe){this.props=re,this.context=de,this.refs=C,this.updater=xe||_}A.prototype.isReactComponent={},A.prototype.setState=function(re,de){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,de,"setState")},A.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function M(){}M.prototype=A.prototype;function D(re,de,xe){this.props=re,this.context=de,this.refs=C,this.updater=xe||_}var R=D.prototype=new M;R.constructor=D,T(R,A.prototype),R.isPureReactComponent=!0;var z=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},I=Object.prototype.hasOwnProperty;function B(re,de,xe,Se,ye,Le){return xe=Le.ref,{$$typeof:e,type:re,key:de,ref:xe!==void 0?xe:null,props:Le}}function V(re,de){return B(re.type,de,void 0,void 0,void 0,re.props)}function F(re){return typeof re=="object"&&re!==null&&re.$$typeof===e}function $(re){var de={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(xe){return de[xe]})}var W=/\/+/g;function Y(re,de){return typeof re=="object"&&re!==null&&re.key!=null?$(""+re.key):de.toString(36)}function X(){}function ne(re){switch(re.status){case"fulfilled":return re.value;case"rejected":throw re.reason;default:switch(typeof re.status=="string"?re.then(X,X):(re.status="pending",re.then(function(de){re.status==="pending"&&(re.status="fulfilled",re.value=de)},function(de){re.status==="pending"&&(re.status="rejected",re.reason=de)})),re.status){case"fulfilled":return re.value;case"rejected":throw re.reason}}throw re}function J(re,de,xe,Se,ye){var Le=typeof re;(Le==="undefined"||Le==="boolean")&&(re=null);var ie=!1;if(re===null)ie=!0;else switch(Le){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(re.$$typeof){case e:case t:ie=!0;break;case g:return ie=re._init,J(ie(re._payload),de,xe,Se,ye)}}if(ie)return ye=ye(re),ie=Se===""?"."+Y(re,0):Se,z(ye)?(xe="",ie!=null&&(xe=ie.replace(W,"$&/")+"/"),J(ye,de,xe,"",function(he){return he})):ye!=null&&(F(ye)&&(ye=V(ye,xe+(ye.key==null||re&&re.key===ye.key?"":(""+ye.key).replace(W,"$&/")+"/")+ie)),de.push(ye)),1;ie=0;var ce=Se===""?".":Se+":";if(z(re))for(var le=0;le<re.length;le++)Se=re[le],Le=ce+Y(Se,le),ie+=J(Se,de,xe,Le,ye);else if(le=w(re),typeof le=="function")for(re=le.call(re),le=0;!(Se=re.next()).done;)Se=Se.value,Le=ce+Y(Se,le++),ie+=J(Se,de,xe,Le,ye);else if(Le==="object"){if(typeof re.then=="function")return J(ne(re),de,xe,Se,ye);throw de=String(re),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.")}return ie}function H(re,de,xe){if(re==null)return re;var Se=[],ye=0;return J(re,Se,"","",function(Le){return de.call(xe,Le,ye++)}),Se}function ee(re){if(re._status===-1){var de=re._result;de=de(),de.then(function(xe){(re._status===0||re._status===-1)&&(re._status=1,re._result=xe)},function(xe){(re._status===0||re._status===-1)&&(re._status=2,re._result=xe)}),re._status===-1&&(re._status=0,re._result=de)}if(re._status===1)return re._result.default;throw re._result}var K=typeof reportError=="function"?reportError:function(re){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof re=="object"&&re!==null&&typeof re.message=="string"?String(re.message):String(re),error:re});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",re);return}console.error(re)};function ue(){}return qt.Children={map:H,forEach:function(re,de,xe){H(re,function(){de.apply(this,arguments)},xe)},count:function(re){var de=0;return H(re,function(){de++}),de},toArray:function(re){return H(re,function(de){return de})||[]},only:function(re){if(!F(re))throw Error("React.Children.only expected to receive a single React element child.");return re}},qt.Component=A,qt.Fragment=n,qt.Profiler=i,qt.PureComponent=D,qt.StrictMode=r,qt.Suspense=m,qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,qt.__COMPILER_RUNTIME={__proto__:null,c:function(re){return k.H.useMemoCache(re)}},qt.cache=function(re){return function(){return re.apply(null,arguments)}},qt.cloneElement=function(re,de,xe){if(re==null)throw Error("The argument must be a React element, but you passed "+re+".");var Se=T({},re.props),ye=re.key,Le=void 0;if(de!=null)for(ie in de.ref!==void 0&&(Le=void 0),de.key!==void 0&&(ye=""+de.key),de)!I.call(de,ie)||ie==="key"||ie==="__self"||ie==="__source"||ie==="ref"&&de.ref===void 0||(Se[ie]=de[ie]);var ie=arguments.length-2;if(ie===1)Se.children=xe;else if(1<ie){for(var ce=Array(ie),le=0;le<ie;le++)ce[le]=arguments[le+2];Se.children=ce}return B(re.type,ye,void 0,void 0,Le,Se)},qt.createContext=function(re){return re={$$typeof:o,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null},re.Provider=re,re.Consumer={$$typeof:s,_context:re},re},qt.createElement=function(re,de,xe){var Se,ye={},Le=null;if(de!=null)for(Se in de.key!==void 0&&(Le=""+de.key),de)I.call(de,Se)&&Se!=="key"&&Se!=="__self"&&Se!=="__source"&&(ye[Se]=de[Se]);var ie=arguments.length-2;if(ie===1)ye.children=xe;else if(1<ie){for(var ce=Array(ie),le=0;le<ie;le++)ce[le]=arguments[le+2];ye.children=ce}if(re&&re.defaultProps)for(Se in ie=re.defaultProps,ie)ye[Se]===void 0&&(ye[Se]=ie[Se]);return B(re,Le,void 0,void 0,null,ye)},qt.createRef=function(){return{current:null}},qt.forwardRef=function(re){return{$$typeof:u,render:re}},qt.isValidElement=F,qt.lazy=function(re){return{$$typeof:g,_payload:{_status:-1,_result:re},_init:ee}},qt.memo=function(re,de){return{$$typeof:f,type:re,compare:de===void 0?null:de}},qt.startTransition=function(re){var de=k.T,xe={};k.T=xe;try{var Se=re(),ye=k.S;ye!==null&&ye(xe,Se),typeof Se=="object"&&Se!==null&&typeof Se.then=="function"&&Se.then(ue,K)}catch(Le){K(Le)}finally{k.T=de}},qt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},qt.use=function(re){return k.H.use(re)},qt.useActionState=function(re,de,xe){return k.H.useActionState(re,de,xe)},qt.useCallback=function(re,de){return k.H.useCallback(re,de)},qt.useContext=function(re){return k.H.useContext(re)},qt.useDebugValue=function(){},qt.useDeferredValue=function(re,de){return k.H.useDeferredValue(re,de)},qt.useEffect=function(re,de,xe){var Se=k.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Se.useEffect(re,de)},qt.useId=function(){return k.H.useId()},qt.useImperativeHandle=function(re,de,xe){return k.H.useImperativeHandle(re,de,xe)},qt.useInsertionEffect=function(re,de){return k.H.useInsertionEffect(re,de)},qt.useLayoutEffect=function(re,de){return k.H.useLayoutEffect(re,de)},qt.useMemo=function(re,de){return k.H.useMemo(re,de)},qt.useOptimistic=function(re,de){return k.H.useOptimistic(re,de)},qt.useReducer=function(re,de,xe){return k.H.useReducer(re,de,xe)},qt.useRef=function(re){return k.H.useRef(re)},qt.useState=function(re){return k.H.useState(re)},qt.useSyncExternalStore=function(re,de,xe){return k.H.useSyncExternalStore(re,de,xe)},qt.useTransition=function(){return k.H.useTransition()},qt.version="19.1.0",qt}var SO;function Lh(){return SO||(SO=1,zw.exports=Xq()),zw.exports}var N=Lh();const at=zi(N),h6=f6({__proto__:null,default:at},[N]);var Vw={exports:{}},rg={},$w={exports:{}},Hw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _O;function Qq(){return _O||(_O=1,function(e){function t(H,ee){var K=H.length;H.push(ee);e:for(;0<K;){var ue=K-1>>>1,re=H[ue];if(0<i(re,ee))H[ue]=ee,H[K]=re,K=ue;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ee=H[0],K=H.pop();if(K!==ee){H[0]=K;e:for(var ue=0,re=H.length,de=re>>>1;ue<de;){var xe=2*(ue+1)-1,Se=H[xe],ye=xe+1,Le=H[ye];if(0>i(Se,K))ye<re&&0>i(Le,Se)?(H[ue]=Le,H[ye]=K,ue=ye):(H[ue]=Se,H[xe]=K,ue=xe);else if(ye<re&&0>i(Le,K))H[ue]=Le,H[ye]=K,ue=ye;else break e}}return ee}function i(H,ee){var K=H.sortIndex-ee.sortIndex;return K!==0?K:H.id-ee.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var m=[],f=[],g=1,x=null,w=3,_=!1,T=!1,C=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function z(H){for(var ee=n(f);ee!==null;){if(ee.callback===null)r(f);else if(ee.startTime<=H)r(f),ee.sortIndex=ee.expirationTime,t(m,ee);else break;ee=n(f)}}function k(H){if(C=!1,z(H),!T)if(n(m)!==null)T=!0,I||(I=!0,Y());else{var ee=n(f);ee!==null&&J(k,ee.startTime-H)}}var I=!1,B=-1,V=5,F=-1;function $(){return A?!0:!(e.unstable_now()-F<V)}function W(){if(A=!1,I){var H=e.unstable_now();F=H;var ee=!0;try{e:{T=!1,C&&(C=!1,D(B),B=-1),_=!0;var K=w;try{t:{for(z(H),x=n(m);x!==null&&!(x.expirationTime>H&&$());){var ue=x.callback;if(typeof ue=="function"){x.callback=null,w=x.priorityLevel;var re=ue(x.expirationTime<=H);if(H=e.unstable_now(),typeof re=="function"){x.callback=re,z(H),ee=!0;break t}x===n(m)&&r(m),z(H)}else r(m);x=n(m)}if(x!==null)ee=!0;else{var de=n(f);de!==null&&J(k,de.startTime-H),ee=!1}}break e}finally{x=null,w=K,_=!1}ee=void 0}}finally{ee?Y():I=!1}}}var Y;if(typeof R=="function")Y=function(){R(W)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ne=X.port2;X.port1.onmessage=W,Y=function(){ne.postMessage(null)}}else Y=function(){M(W,0)};function J(H,ee){B=M(function(){H(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(H){switch(w){case 1:case 2:case 3:var ee=3;break;default:ee=w}var K=w;w=ee;try{return H()}finally{w=K}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var K=w;w=H;try{return ee()}finally{w=K}},e.unstable_scheduleCallback=function(H,ee,K){var ue=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ue+K:ue):K=ue,H){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=K+re,H={id:g++,callback:ee,priorityLevel:H,startTime:K,expirationTime:re,sortIndex:-1},K>ue?(H.sortIndex=K,t(f,H),n(m)===null&&H===n(f)&&(C?(D(B),B=-1):C=!0,J(k,K-ue))):(H.sortIndex=re,t(m,H),T||_||(T=!0,I||(I=!0,Y()))),H},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(H){var ee=w;return function(){var K=w;w=ee;try{return H.apply(this,arguments)}finally{w=K}}}}(Hw)),Hw}var AO;function Zq(){return AO||(AO=1,$w.exports=Qq()),$w.exports}var qw={exports:{}},ti={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EO;function Jq(){if(EO)return ti;EO=1;var e=Lh();function t(m){var f="https://react.dev/errors/"+m;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(m,f,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:m,containerInfo:f,implementation:g}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(m,f){if(m==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ti.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ti.createPortal=function(m,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return s(m,f,null,g)},ti.flushSync=function(m){var f=o.T,g=r.p;try{if(o.T=null,r.p=2,m)return m()}finally{o.T=f,r.p=g,r.d.f()}},ti.preconnect=function(m,f){typeof m=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(m,f))},ti.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},ti.preinit=function(m,f){if(typeof m=="string"&&f&&typeof f.as=="string"){var g=f.as,x=u(g,f.crossOrigin),w=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;g==="style"?r.d.S(m,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:_}):g==="script"&&r.d.X(m,{crossOrigin:x,integrity:w,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ti.preinitModule=function(m,f){if(typeof m=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var g=u(f.as,f.crossOrigin);r.d.M(m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(m)},ti.preload=function(m,f){if(typeof m=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var g=f.as,x=u(g,f.crossOrigin);r.d.L(m,g,{crossOrigin:x,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ti.preloadModule=function(m,f){if(typeof m=="string")if(f){var g=u(f.as,f.crossOrigin);r.d.m(m,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(m)},ti.requestFormReset=function(m){r.d.r(m)},ti.unstable_batchedUpdates=function(m,f){return m(f)},ti.useFormState=function(m,f,g){return o.H.useFormState(m,f,g)},ti.useFormStatus=function(){return o.H.useHostTransitionStatus()},ti.version="19.1.0",ti}var CO;function m6(){if(CO)return qw.exports;CO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),qw.exports=Jq(),qw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TO;function eY(){if(TO)return rg;TO=1;var e=Zq(),t=Lh(),n=m6();function r(l){var d="https://react.dev/errors/"+l;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+l+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function s(l){var d=l,v=l;if(l.alternate)for(;d.return;)d=d.return;else{l=d;do d=l,(d.flags&4098)!==0&&(v=d.return),l=d.return;while(l)}return d.tag===3?v:null}function o(l){if(l.tag===13){var d=l.memoizedState;if(d===null&&(l=l.alternate,l!==null&&(d=l.memoizedState)),d!==null)return d.dehydrated}return null}function u(l){if(s(l)!==l)throw Error(r(188))}function m(l){var d=l.alternate;if(!d){if(d=s(l),d===null)throw Error(r(188));return d!==l?null:l}for(var v=l,j=d;;){var O=v.return;if(O===null)break;var L=O.alternate;if(L===null){if(j=O.return,j!==null){v=j;continue}break}if(O.child===L.child){for(L=O.child;L;){if(L===v)return u(O),l;if(L===j)return u(O),d;L=L.sibling}throw Error(r(188))}if(v.return!==j.return)v=O,j=L;else{for(var G=!1,ae=O.child;ae;){if(ae===v){G=!0,v=O,j=L;break}if(ae===j){G=!0,j=O,v=L;break}ae=ae.sibling}if(!G){for(ae=L.child;ae;){if(ae===v){G=!0,v=L,j=O;break}if(ae===j){G=!0,j=L,v=O;break}ae=ae.sibling}if(!G)throw Error(r(189))}}if(v.alternate!==j)throw Error(r(190))}if(v.tag!==3)throw Error(r(188));return v.stateNode.current===v?l:d}function f(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l;for(l=l.child;l!==null;){if(d=f(l),d!==null)return d;l=l.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),R=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function Y(l){return l===null||typeof l!="object"?null:(l=W&&l[W]||l["@@iterator"],typeof l=="function"?l:null)}var X=Symbol.for("react.client.reference");function ne(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===X?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case T:return"Fragment";case A:return"Profiler";case C:return"StrictMode";case k:return"Suspense";case I:return"SuspenseList";case F:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case _:return"Portal";case R:return(l.displayName||"Context")+".Provider";case D:return(l._context.displayName||"Context")+".Consumer";case z:var d=l.render;return l=l.displayName,l||(l=d.displayName||d.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case B:return d=l.displayName||null,d!==null?d:ne(l.type)||"Memo";case V:d=l._payload,l=l._init;try{return ne(l(d))}catch{}}return null}var J=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},ue=[],re=-1;function de(l){return{current:l}}function xe(l){0>re||(l.current=ue[re],ue[re]=null,re--)}function Se(l,d){re++,ue[re]=l.current,l.current=d}var ye=de(null),Le=de(null),ie=de(null),ce=de(null);function le(l,d){switch(Se(ie,d),Se(Le,l),Se(ye,null),d.nodeType){case 9:case 11:l=(l=d.documentElement)&&(l=l.namespaceURI)?K3(l):0;break;default:if(l=d.tagName,d=d.namespaceURI)d=K3(d),l=X3(d,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}xe(ye),Se(ye,l)}function he(){xe(ye),xe(Le),xe(ie)}function Ee(l){l.memoizedState!==null&&Se(ce,l);var d=ye.current,v=X3(d,l.type);d!==v&&(Se(Le,l),Se(ye,v))}function je(l){Le.current===l&&(xe(ye),xe(Le)),ce.current===l&&(xe(ce),Qm._currentValue=K)}var be=Object.prototype.hasOwnProperty,Ke=e.unstable_scheduleCallback,ze=e.unstable_cancelCallback,Qe=e.unstable_shouldYield,ht=e.unstable_requestPaint,Je=e.unstable_now,bt=e.unstable_getCurrentPriorityLevel,st=e.unstable_ImmediatePriority,hr=e.unstable_UserBlockingPriority,ct=e.unstable_NormalPriority,xn=e.unstable_LowPriority,Wr=e.unstable_IdlePriority,mr=e.log,Wa=e.unstable_setDisableYieldValue,Nn=null,Gn=null;function gr(l){if(typeof mr=="function"&&Wa(l),Gn&&typeof Gn.setStrictMode=="function")try{Gn.setStrictMode(Nn,l)}catch{}}var sn=Math.clz32?Math.clz32:xs,$i=Math.log,qs=Math.LN2;function xs(l){return l>>>=0,l===0?32:31-($i(l)/qs|0)|0}var cn=256,nt=4194304;function vn(l){var d=l&42;if(d!==0)return d;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function un(l,d,v){var j=l.pendingLanes;if(j===0)return 0;var O=0,L=l.suspendedLanes,G=l.pingedLanes;l=l.warmLanes;var ae=j&134217727;return ae!==0?(j=ae&~L,j!==0?O=vn(j):(G&=ae,G!==0?O=vn(G):v||(v=ae&~l,v!==0&&(O=vn(v))))):(ae=j&~L,ae!==0?O=vn(ae):G!==0?O=vn(G):v||(v=j&~l,v!==0&&(O=vn(v)))),O===0?0:d!==0&&d!==O&&(d&L)===0&&(L=O&-O,v=d&-d,L>=v||L===32&&(v&4194048)!==0)?d:O}function _n(l,d){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&d)===0}function Ys(l,d){switch(l){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pi(){var l=cn;return cn<<=1,(cn&4194048)===0&&(cn=256),l}function Eu(){var l=nt;return nt<<=1,(nt&62914560)===0&&(nt=4194304),l}function en(l){for(var d=[],v=0;31>v;v++)d.push(l);return d}function Ga(l,d){l.pendingLanes|=d,d!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function Cu(l,d,v,j,O,L){var G=l.pendingLanes;l.pendingLanes=v,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=v,l.entangledLanes&=v,l.errorRecoveryDisabledLanes&=v,l.shellSuspendCounter=0;var ae=l.entanglements,fe=l.expirationTimes,De=l.hiddenUpdates;for(v=G&~v;0<v;){var Ve=31-sn(v),Ye=1<<Ve;ae[Ve]=0,fe[Ve]=-1;var ke=De[Ve];if(ke!==null)for(De[Ve]=null,Ve=0;Ve<ke.length;Ve++){var Be=ke[Ve];Be!==null&&(Be.lane&=-536870913)}v&=~Ye}j!==0&&Pt(l,j,0),L!==0&&O===0&&l.tag!==0&&(l.suspendedLanes|=L&~(G&~d))}function Pt(l,d,v){l.pendingLanes|=d,l.suspendedLanes&=~d;var j=31-sn(d);l.entangledLanes|=d,l.entanglements[j]=l.entanglements[j]|1073741824|v&4194090}function pn(l,d){var v=l.entangledLanes|=d;for(l=l.entanglements;v;){var j=31-sn(v),O=1<<j;O&d|l[j]&d&&(l[j]|=d),v&=~O}}function rr(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function fn(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Ei(){var l=ee.p;return l!==0?l:(l=window.event,l===void 0?32:gO(l.type))}function ar(l,d){var v=ee.p;try{return ee.p=l,d()}finally{ee.p=v}}var yn=Math.random().toString(36).slice(2),pr="__reactFiber$"+yn,hn="__reactProps$"+yn,_r="__reactContainer$"+yn,Pr="__reactEvents$"+yn,Ra="__reactListeners$"+yn,xi="__reactHandles$"+yn,ut="__reactResources$"+yn,vs="__reactMarker$"+yn;function Tu(l){delete l[pr],delete l[hn],delete l[Pr],delete l[Ra],delete l[xi]}function kr(l){var d=l[pr];if(d)return d;for(var v=l.parentNode;v;){if(d=v[_r]||v[pr]){if(v=d.alternate,d.child!==null||v!==null&&v.child!==null)for(l=eO(l);l!==null;){if(v=l[pr])return v;l=eO(l)}return d}l=v,v=l.parentNode}return null}function Hi(l){if(l=l[pr]||l[_r]){var d=l.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return l}return null}function vo(l){var d=l.tag;if(d===5||d===26||d===27||d===6)return l.stateNode;throw Error(r(33))}function Ws(l){var d=l[ut];return d||(d=l[ut]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Tn(l){l[vs]=!0}var ap=new Set,ip={};function xa(l,d){Ar(l,d),Ar(l+"Capture",d)}function Ar(l,d){for(ip[l]=d,l=0;l<d.length;l++)ap.add(d[l])}var Kn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),um={},Gs={};function dm(l){return be.call(Gs,l)?!0:be.call(um,l)?!1:Kn.test(l)?Gs[l]=!0:(um[l]=!0,!1)}function Ge(l,d,v){if(dm(d))if(v===null)l.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":l.removeAttribute(d);return;case"boolean":var j=d.toLowerCase().slice(0,5);if(j!=="data-"&&j!=="aria-"){l.removeAttribute(d);return}}l.setAttribute(d,""+v)}}function Gd(l,d,v){if(v===null)l.removeAttribute(d);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttribute(d,""+v)}}function bn(l,d,v,j){if(j===null)l.removeAttribute(v);else{switch(typeof j){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(v);return}l.setAttributeNS(d,v,""+j)}}var yo,sp;function tn(l){if(yo===void 0)try{throw Error()}catch(v){var d=v.stack.trim().match(/\n( *(at )?)/);yo=d&&d[1]||"",sp=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yo+l+sp}var dn=!1;function Kt(l,d){if(!l||dn)return"";dn=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var j={DetermineComponentFrameRoot:function(){try{if(d){var Ye=function(){throw Error()};if(Object.defineProperty(Ye.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ye,[])}catch(Be){var ke=Be}Reflect.construct(l,[],Ye)}else{try{Ye.call()}catch(Be){ke=Be}l.call(Ye.prototype)}}else{try{throw Error()}catch(Be){ke=Be}(Ye=l())&&typeof Ye.catch=="function"&&Ye.catch(function(){})}}catch(Be){if(Be&&ke&&typeof Be.stack=="string")return[Be.stack,ke.stack]}return[null,null]}};j.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(j.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(j.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var L=j.DetermineComponentFrameRoot(),G=L[0],ae=L[1];if(G&&ae){var fe=G.split(`
`),De=ae.split(`
`);for(O=j=0;j<fe.length&&!fe[j].includes("DetermineComponentFrameRoot");)j++;for(;O<De.length&&!De[O].includes("DetermineComponentFrameRoot");)O++;if(j===fe.length||O===De.length)for(j=fe.length-1,O=De.length-1;1<=j&&0<=O&&fe[j]!==De[O];)O--;for(;1<=j&&0<=O;j--,O--)if(fe[j]!==De[O]){if(j!==1||O!==1)do if(j--,O--,0>O||fe[j]!==De[O]){var Ve=`
`+fe[j].replace(" at new "," at ");return l.displayName&&Ve.includes("<anonymous>")&&(Ve=Ve.replace("<anonymous>",l.displayName)),Ve}while(1<=j&&0<=O);break}}}finally{dn=!1,Error.prepareStackTrace=v}return(v=l?l.displayName||l.name:"")?tn(v):""}function fm(l){switch(l.tag){case 26:case 27:case 5:return tn(l.type);case 16:return tn("Lazy");case 13:return tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return Kt(l.type,!1);case 11:return Kt(l.type.render,!1);case 1:return Kt(l.type,!0);case 31:return tn("Activity");default:return""}}function Kd(l){try{var d="";do d+=fm(l),l=l.return;while(l);return d}catch(v){return`
Error generating stack: `+v.message+`
`+v.stack}}function Ka(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Er(l){var d=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function bo(l){var d=Er(l)?"checked":"value",v=Object.getOwnPropertyDescriptor(l.constructor.prototype,d),j=""+l[d];if(!l.hasOwnProperty(d)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var O=v.get,L=v.set;return Object.defineProperty(l,d,{configurable:!0,get:function(){return O.call(this)},set:function(G){j=""+G,L.call(this,G)}}),Object.defineProperty(l,d,{enumerable:v.enumerable}),{getValue:function(){return j},setValue:function(G){j=""+G},stopTracking:function(){l._valueTracker=null,delete l[d]}}}}function Xd(l){l._valueTracker||(l._valueTracker=bo(l))}function ir(l){if(!l)return!1;var d=l._valueTracker;if(!d)return!0;var v=d.getValue(),j="";return l&&(j=Er(l)?l.checked?"true":"false":l.value),l=j,l!==v?(d.setValue(l),!0):!1}function qi(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var qy=/[\n"\\]/g;function aa(l){return l.replace(qy,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function An(l,d,v,j,O,L,G,ae){l.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?l.type=G:l.removeAttribute("type"),d!=null?G==="number"?(d===0&&l.value===""||l.value!=d)&&(l.value=""+Ka(d)):l.value!==""+Ka(d)&&(l.value=""+Ka(d)):G!=="submit"&&G!=="reset"||l.removeAttribute("value"),d!=null?Ce(l,G,Ka(d)):v!=null?Ce(l,G,Ka(v)):j!=null&&l.removeAttribute("value"),O==null&&L!=null&&(l.defaultChecked=!!L),O!=null&&(l.checked=O&&typeof O!="function"&&typeof O!="symbol"),ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"?l.name=""+Ka(ae):l.removeAttribute("name")}function ia(l,d,v,j,O,L,G,ae){if(L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(l.type=L),d!=null||v!=null){if(!(L!=="submit"&&L!=="reset"||d!=null))return;v=v!=null?""+Ka(v):"",d=d!=null?""+Ka(d):v,ae||d===l.value||(l.value=d),l.defaultValue=d}j=j??O,j=typeof j!="function"&&typeof j!="symbol"&&!!j,l.checked=ae?l.checked:!!j,l.defaultChecked=!!j,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(l.name=G)}function Ce(l,d,v){d==="number"&&qi(l.ownerDocument)===l||l.defaultValue===""+v||(l.defaultValue=""+v)}function se(l,d,v,j){if(l=l.options,d){d={};for(var O=0;O<v.length;O++)d["$"+v[O]]=!0;for(v=0;v<l.length;v++)O=d.hasOwnProperty("$"+l[v].value),l[v].selected!==O&&(l[v].selected=O),O&&j&&(l[v].defaultSelected=!0)}else{for(v=""+Ka(v),d=null,O=0;O<l.length;O++){if(l[O].value===v){l[O].selected=!0,j&&(l[O].defaultSelected=!0);return}d!==null||l[O].disabled||(d=l[O])}d!==null&&(d.selected=!0)}}function wt(l,d,v){if(d!=null&&(d=""+Ka(d),d!==l.value&&(l.value=d),v==null)){l.defaultValue!==d&&(l.defaultValue=d);return}l.defaultValue=v!=null?""+Ka(v):""}function Ir(l,d,v,j){if(d==null){if(j!=null){if(v!=null)throw Error(r(92));if(J(j)){if(1<j.length)throw Error(r(93));j=j[0]}v=j}v==null&&(v=""),d=v}v=Ka(d),l.defaultValue=v,j=l.textContent,j===v&&j!==""&&j!==null&&(l.value=j)}function sa(l,d){if(d){var v=l.firstChild;if(v&&v===l.lastChild&&v.nodeType===3){v.nodeValue=d;return}}l.textContent=d}var Yy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qd(l,d,v){var j=d.indexOf("--")===0;v==null||typeof v=="boolean"||v===""?j?l.setProperty(d,""):d==="float"?l.cssFloat="":l[d]="":j?l.setProperty(d,v):typeof v!="number"||v===0||Yy.has(d)?d==="float"?l.cssFloat=v:l[d]=(""+v).trim():l[d]=v+"px"}function vi(l,d,v){if(d!=null&&typeof d!="object")throw Error(r(62));if(l=l.style,v!=null){for(var j in v)!v.hasOwnProperty(j)||d!=null&&d.hasOwnProperty(j)||(j.indexOf("--")===0?l.setProperty(j,""):j==="float"?l.cssFloat="":l[j]="");for(var O in d)j=d[O],d.hasOwnProperty(O)&&v[O]!==j&&Qd(l,O,j)}else for(var L in d)d.hasOwnProperty(L)&&Qd(l,L,d[L])}function jt(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),op=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zd(l){return op.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}var Ou=null;function rc(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var wo=null,ac=null;function Lr(l){var d=Hi(l);if(d&&(l=d.stateNode)){var v=l[hn]||null;e:switch(l=d.stateNode,d.type){case"input":if(An(l,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name),d=v.name,v.type==="radio"&&d!=null){for(v=l;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll('input[name="'+aa(""+d)+'"][type="radio"]'),d=0;d<v.length;d++){var j=v[d];if(j!==l&&j.form===l.form){var O=j[hn]||null;if(!O)throw Error(r(90));An(j,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(d=0;d<v.length;d++)j=v[d],j.form===l.form&&ir(j)}break e;case"textarea":wt(l,v.value,v.defaultValue);break e;case"select":d=v.value,d!=null&&se(l,!!v.multiple,d,!1)}}}var ol=!1;function Ks(l,d,v){if(ol)return l(d,v);ol=!0;try{var j=l(d);return j}finally{if(ol=!1,(wo!==null||ac!==null)&&(Yp(),wo&&(d=wo,l=ac,ac=wo=null,Lr(d),l)))for(d=0;d<l.length;d++)Lr(l[d])}}function _t(l,d){var v=l.stateNode;if(v===null)return null;var j=v[hn]||null;if(j===null)return null;v=j[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(l=l.type,j=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!j;break e;default:l=!1}if(l)return null;if(v&&typeof v!="function")throw Error(r(231,d,typeof v));return v}var Xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ft=!1;if(Xs)try{var xr={};Object.defineProperty(xr,"passive",{get:function(){Ft=!0}}),window.addEventListener("test",xr,xr),window.removeEventListener("test",xr,xr)}catch{Ft=!1}var jo=null,Mu=null,Du=null;function No(){if(Du)return Du;var l,d=Mu,v=d.length,j,O="value"in jo?jo.value:jo.textContent,L=O.length;for(l=0;l<v&&d[l]===O[l];l++);var G=v-l;for(j=1;j<=G&&d[v-j]===O[L-j];j++);return Du=O.slice(l,1<j?1-j:void 0)}function Jd(l){var d=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&d===13&&(l=13)):l=d,l===10&&(l=13),32<=l||l===13?l:0}function So(){return!0}function ic(){return!1}function Gr(l){function d(v,j,O,L,G){this._reactName=v,this._targetInst=O,this.type=j,this.nativeEvent=L,this.target=G,this.currentTarget=null;for(var ae in l)l.hasOwnProperty(ae)&&(v=l[ae],this[ae]=v?v(L):L[ae]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?So:ic,this.isPropagationStopped=ic,this}return g(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=So)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=So)},persist:function(){},isPersistent:So}),d}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ao=Gr(_o),Qs=g({},_o,{view:0,detail:0}),Xa=Gr(Qs),ef,tf,sc,nf=g({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pu,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==sc&&(sc&&l.type==="mousemove"?(ef=l.screenX-sc.screenX,tf=l.screenY-sc.screenY):tf=ef=0,sc=l),ef)},movementY:function(l){return"movementY"in l?l.movementY:tf}}),lp=Gr(nf),Wy=g({},nf,{dataTransfer:0}),En=Gr(Wy),cp=g({},Qs,{relatedTarget:0}),oc=Gr(cp),Eo=g({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),Gy=Gr(Eo),Fe=g({},_o,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Ht=Gr(Fe),oa=g({},_o,{data:0}),Ru=Gr(oa),up={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ky={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qy(l){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(l):(l=Xy[l])?!!d[l]:!1}function Pu(){return Qy}var Br=g({},Qs,{key:function(l){if(l.key){var d=up[l.key]||l.key;if(d!=="Unidentified")return d}return l.type==="keypress"?(l=Jd(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Ky[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pu,charCode:function(l){return l.type==="keypress"?Jd(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Jd(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),hm=Gr(Br),sr=g({},nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ku=Gr(sr),ll=g({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pu}),On=Gr(ll),Et=g({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zy=Gr(Et),Vn=g({},nf,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),cl=Gr(Vn),lc=g({},_o,{newState:0,oldState:0}),Jy=Gr(lc),ys=[9,13,27,32],Iu=Xs&&"CompositionEvent"in window,cc=null;Xs&&"documentMode"in document&&(cc=document.documentMode);var mm=Xs&&"TextEvent"in window&&!cc,gm=Xs&&(!Iu||cc&&8<cc&&11>=cc),pm=" ",dp=!1;function ul(l,d){switch(l){case"keyup":return ys.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rf(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var uc=!1;function Lu(l,d){switch(l){case"compositionend":return rf(d);case"keypress":return d.which!==32?null:(dp=!0,pm);case"textInput":return l=d.data,l===pm&&dp?null:l;default:return null}}function eb(l,d){if(uc)return l==="compositionend"||!Iu&&ul(l,d)?(l=No(),Du=Mu=jo=null,uc=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return gm&&d.locale!=="ko"?null:d.data;default:return null}}var Co={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bu(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d==="input"?!!Co[l.type]:d==="textarea"}function yi(l,d,v,j){wo?ac?ac.push(j):ac=[j]:wo=j,d=Zp(d,"onChange"),0<d.length&&(v=new Ao("onChange","change",null,v,j),l.push({event:v,listeners:d}))}var dc=null,Qa=null;function tb(l){H3(l,0)}function fc(l){var d=vo(l);if(ir(d))return l}function fp(l,d){if(l==="change")return d}var xm=!1;if(Xs){var Ci;if(Xs){var vm="oninput"in document;if(!vm){var af=document.createElement("div");af.setAttribute("oninput","return;"),vm=typeof af.oninput=="function"}Ci=vm}else Ci=!1;xm=Ci&&(!document.documentMode||9<document.documentMode)}function hc(){dc&&(dc.detachEvent("onpropertychange",on),Qa=dc=null)}function on(l){if(l.propertyName==="value"&&fc(Qa)){var d=[];yi(d,Qa,l,rc(l)),Ks(tb,d)}}function sf(l,d,v){l==="focusin"?(hc(),dc=d,Qa=v,dc.attachEvent("onpropertychange",on)):l==="focusout"&&hc()}function Q(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return fc(Qa)}function c(l,d){if(l==="click")return fc(d)}function h(l,d){if(l==="input"||l==="change")return fc(d)}function p(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var y=typeof Object.is=="function"?Object.is:p;function b(l,d){if(y(l,d))return!0;if(typeof l!="object"||l===null||typeof d!="object"||d===null)return!1;var v=Object.keys(l),j=Object.keys(d);if(v.length!==j.length)return!1;for(j=0;j<v.length;j++){var O=v[j];if(!be.call(d,O)||!y(l[O],d[O]))return!1}return!0}function S(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function E(l,d){var v=S(l);l=0;for(var j;v;){if(v.nodeType===3){if(j=l+v.textContent.length,l<=d&&j>=d)return{node:v,offset:d-l};l=j}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=S(v)}}function P(l,d){return l&&d?l===d?!0:l&&l.nodeType===3?!1:d&&d.nodeType===3?P(l,d.parentNode):"contains"in l?l.contains(d):l.compareDocumentPosition?!!(l.compareDocumentPosition(d)&16):!1:!1}function U(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var d=qi(l.document);d instanceof l.HTMLIFrameElement;){try{var v=typeof d.contentWindow.location.href=="string"}catch{v=!1}if(v)l=d.contentWindow;else break;d=qi(l.document)}return d}function q(l){var d=l&&l.nodeName&&l.nodeName.toLowerCase();return d&&(d==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||d==="textarea"||l.contentEditable==="true")}var Z=Xs&&"documentMode"in document&&11>=document.documentMode,te=null,oe=null,pe=null,ve=!1;function Ae(l,d,v){var j=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;ve||te==null||te!==qi(j)||(j=te,"selectionStart"in j&&q(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),pe&&b(pe,j)||(pe=j,j=Zp(oe,"onSelect"),0<j.length&&(d=new Ao("onSelect","select",null,d,v),l.push({event:d,listeners:j}),d.target=te)))}function Ie(l,d){var v={};return v[l.toLowerCase()]=d.toLowerCase(),v["Webkit"+l]="webkit"+d,v["Moz"+l]="moz"+d,v}var Ze={animationend:Ie("Animation","AnimationEnd"),animationiteration:Ie("Animation","AnimationIteration"),animationstart:Ie("Animation","AnimationStart"),transitionrun:Ie("Transition","TransitionRun"),transitionstart:Ie("Transition","TransitionStart"),transitioncancel:Ie("Transition","TransitionCancel"),transitionend:Ie("Transition","TransitionEnd")},tt={},Xe={};Xs&&(Xe=document.createElement("div").style,"AnimationEvent"in window||(delete Ze.animationend.animation,delete Ze.animationiteration.animation,delete Ze.animationstart.animation),"TransitionEvent"in window||delete Ze.transitionend.transition);function Ut(l){if(tt[l])return tt[l];if(!Ze[l])return l;var d=Ze[l],v;for(v in d)if(d.hasOwnProperty(v)&&v in Xe)return tt[l]=d[v];return l}var kt=Ut("animationend"),Pa=Ut("animationiteration"),Ti=Ut("animationstart"),Za=Ut("transitionrun"),Mn=Ut("transitionstart"),la=Ut("transitioncancel"),Ja=Ut("transitionend"),dl=new Map,To="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");To.push("scrollEnd");function Yi(l,d){dl.set(l,d),xa(d,[l])}var hp=new WeakMap;function bs(l,d){if(typeof l=="object"&&l!==null){var v=hp.get(l);return v!==void 0?v:(d={value:l,source:d,stack:Kd(d)},hp.set(l,d),d)}return{value:l,source:d,stack:Kd(d)}}var ws=[],of=0,nb=0;function mp(){for(var l=of,d=nb=of=0;d<l;){var v=ws[d];ws[d++]=null;var j=ws[d];ws[d++]=null;var O=ws[d];ws[d++]=null;var L=ws[d];if(ws[d++]=null,j!==null&&O!==null){var G=j.pending;G===null?O.next=O:(O.next=G.next,G.next=O),j.pending=O}L!==0&&CT(v,O,L)}}function gp(l,d,v,j){ws[of++]=l,ws[of++]=d,ws[of++]=v,ws[of++]=j,nb|=j,l.lanes|=j,l=l.alternate,l!==null&&(l.lanes|=j)}function rb(l,d,v,j){return gp(l,d,v,j),pp(l)}function lf(l,d){return gp(l,null,null,d),pp(l)}function CT(l,d,v){l.lanes|=v;var j=l.alternate;j!==null&&(j.lanes|=v);for(var O=!1,L=l.return;L!==null;)L.childLanes|=v,j=L.alternate,j!==null&&(j.childLanes|=v),L.tag===22&&(l=L.stateNode,l===null||l._visibility&1||(O=!0)),l=L,L=L.return;return l.tag===3?(L=l.stateNode,O&&d!==null&&(O=31-sn(v),l=L.hiddenUpdates,j=l[O],j===null?l[O]=[d]:j.push(d),d.lane=v|536870912),L):null}function pp(l){if(50<$m)throw $m=0,cw=null,Error(r(185));for(var d=l.return;d!==null;)l=d,d=l.return;return l.tag===3?l.stateNode:null}var cf={};function OH(l,d,v,j){this.tag=l,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(l,d,v,j){return new OH(l,d,v,j)}function ab(l){return l=l.prototype,!(!l||!l.isReactComponent)}function fl(l,d){var v=l.alternate;return v===null?(v=Wi(l.tag,d,l.key,l.mode),v.elementType=l.elementType,v.type=l.type,v.stateNode=l.stateNode,v.alternate=l,l.alternate=v):(v.pendingProps=d,v.type=l.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=l.flags&65011712,v.childLanes=l.childLanes,v.lanes=l.lanes,v.child=l.child,v.memoizedProps=l.memoizedProps,v.memoizedState=l.memoizedState,v.updateQueue=l.updateQueue,d=l.dependencies,v.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},v.sibling=l.sibling,v.index=l.index,v.ref=l.ref,v.refCleanup=l.refCleanup,v}function TT(l,d){l.flags&=65011714;var v=l.alternate;return v===null?(l.childLanes=0,l.lanes=d,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=v.childLanes,l.lanes=v.lanes,l.child=v.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=v.memoizedProps,l.memoizedState=v.memoizedState,l.updateQueue=v.updateQueue,l.type=v.type,d=v.dependencies,l.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),l}function xp(l,d,v,j,O,L){var G=0;if(j=l,typeof l=="function")ab(l)&&(G=1);else if(typeof l=="string")G=Dq(l,v,ye.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case F:return l=Wi(31,v,d,O),l.elementType=F,l.lanes=L,l;case T:return Fu(v.children,O,L,d);case C:G=8,O|=24;break;case A:return l=Wi(12,v,d,O|2),l.elementType=A,l.lanes=L,l;case k:return l=Wi(13,v,d,O),l.elementType=k,l.lanes=L,l;case I:return l=Wi(19,v,d,O),l.elementType=I,l.lanes=L,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case M:case R:G=10;break e;case D:G=9;break e;case z:G=11;break e;case B:G=14;break e;case V:G=16,j=null;break e}G=29,v=Error(r(130,l===null?"null":typeof l,"")),j=null}return d=Wi(G,v,d,O),d.elementType=l,d.type=j,d.lanes=L,d}function Fu(l,d,v,j){return l=Wi(7,l,j,d),l.lanes=v,l}function ib(l,d,v){return l=Wi(6,l,null,d),l.lanes=v,l}function sb(l,d,v){return d=Wi(4,l.children!==null?l.children:[],l.key,d),d.lanes=v,d.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},d}var uf=[],df=0,vp=null,yp=0,js=[],Ns=0,Uu=null,hl=1,ml="";function zu(l,d){uf[df++]=yp,uf[df++]=vp,vp=l,yp=d}function OT(l,d,v){js[Ns++]=hl,js[Ns++]=ml,js[Ns++]=Uu,Uu=l;var j=hl;l=ml;var O=32-sn(j)-1;j&=~(1<<O),v+=1;var L=32-sn(d)+O;if(30<L){var G=O-O%5;L=(j&(1<<G)-1).toString(32),j>>=G,O-=G,hl=1<<32-sn(d)+O|v<<O|j,ml=L+l}else hl=1<<L|v<<O|j,ml=l}function ob(l){l.return!==null&&(zu(l,1),OT(l,1,0))}function lb(l){for(;l===vp;)vp=uf[--df],uf[df]=null,yp=uf[--df],uf[df]=null;for(;l===Uu;)Uu=js[--Ns],js[Ns]=null,ml=js[--Ns],js[Ns]=null,hl=js[--Ns],js[Ns]=null}var bi=null,Cr=null,Sn=!1,Vu=null,Oo=!1,cb=Error(r(519));function $u(l){var d=Error(r(418,""));throw wm(bs(d,l)),cb}function MT(l){var d=l.stateNode,v=l.type,j=l.memoizedProps;switch(d[pr]=l,d[hn]=j,v){case"dialog":rn("cancel",d),rn("close",d);break;case"iframe":case"object":case"embed":rn("load",d);break;case"video":case"audio":for(v=0;v<qm.length;v++)rn(qm[v],d);break;case"source":rn("error",d);break;case"img":case"image":case"link":rn("error",d),rn("load",d);break;case"details":rn("toggle",d);break;case"input":rn("invalid",d),ia(d,j.value,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name,!0),Xd(d);break;case"select":rn("invalid",d);break;case"textarea":rn("invalid",d),Ir(d,j.value,j.defaultValue,j.children),Xd(d)}v=j.children,typeof v!="string"&&typeof v!="number"&&typeof v!="bigint"||d.textContent===""+v||j.suppressHydrationWarning===!0||G3(d.textContent,v)?(j.popover!=null&&(rn("beforetoggle",d),rn("toggle",d)),j.onScroll!=null&&rn("scroll",d),j.onScrollEnd!=null&&rn("scrollend",d),j.onClick!=null&&(d.onclick=Jp),d=!0):d=!1,d||$u(l)}function DT(l){for(bi=l.return;bi;)switch(bi.tag){case 5:case 13:Oo=!1;return;case 27:case 3:Oo=!0;return;default:bi=bi.return}}function ym(l){if(l!==bi)return!1;if(!Sn)return DT(l),Sn=!0,!1;var d=l.tag,v;if((v=d!==3&&d!==27)&&((v=d===5)&&(v=l.type,v=!(v!=="form"&&v!=="button")||_w(l.type,l.memoizedProps)),v=!v),v&&Cr&&$u(l),DT(l),d===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,d=0;l;){if(l.nodeType===8)if(v=l.data,v==="/$"){if(d===0){Cr=Js(l.nextSibling);break e}d--}else v!=="$"&&v!=="$!"&&v!=="$?"||d++;l=l.nextSibling}Cr=null}}else d===27?(d=Cr,Tc(l.type)?(l=Tw,Tw=null,Cr=l):Cr=d):Cr=bi?Js(l.stateNode.nextSibling):null;return!0}function bm(){Cr=bi=null,Sn=!1}function RT(){var l=Vu;return l!==null&&(Di===null?Di=l:Di.push.apply(Di,l),Vu=null),l}function wm(l){Vu===null?Vu=[l]:Vu.push(l)}var ub=de(null),Hu=null,gl=null;function mc(l,d,v){Se(ub,d._currentValue),d._currentValue=v}function pl(l){l._currentValue=ub.current,xe(ub)}function db(l,d,v){for(;l!==null;){var j=l.alternate;if((l.childLanes&d)!==d?(l.childLanes|=d,j!==null&&(j.childLanes|=d)):j!==null&&(j.childLanes&d)!==d&&(j.childLanes|=d),l===v)break;l=l.return}}function fb(l,d,v,j){var O=l.child;for(O!==null&&(O.return=l);O!==null;){var L=O.dependencies;if(L!==null){var G=O.child;L=L.firstContext;e:for(;L!==null;){var ae=L;L=O;for(var fe=0;fe<d.length;fe++)if(ae.context===d[fe]){L.lanes|=v,ae=L.alternate,ae!==null&&(ae.lanes|=v),db(L.return,v,l),j||(G=null);break e}L=ae.next}}else if(O.tag===18){if(G=O.return,G===null)throw Error(r(341));G.lanes|=v,L=G.alternate,L!==null&&(L.lanes|=v),db(G,v,l),G=null}else G=O.child;if(G!==null)G.return=O;else for(G=O;G!==null;){if(G===l){G=null;break}if(O=G.sibling,O!==null){O.return=G.return,G=O;break}G=G.return}O=G}}function jm(l,d,v,j){l=null;for(var O=d,L=!1;O!==null;){if(!L){if((O.flags&524288)!==0)L=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var G=O.alternate;if(G===null)throw Error(r(387));if(G=G.memoizedProps,G!==null){var ae=O.type;y(O.pendingProps.value,G.value)||(l!==null?l.push(ae):l=[ae])}}else if(O===ce.current){if(G=O.alternate,G===null)throw Error(r(387));G.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(l!==null?l.push(Qm):l=[Qm])}O=O.return}l!==null&&fb(d,l,v,j),d.flags|=262144}function bp(l){for(l=l.firstContext;l!==null;){if(!y(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function qu(l){Hu=l,gl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function ei(l){return PT(Hu,l)}function wp(l,d){return Hu===null&&qu(l),PT(l,d)}function PT(l,d){var v=d._currentValue;if(d={context:d,memoizedValue:v,next:null},gl===null){if(l===null)throw Error(r(308));gl=d,l.dependencies={lanes:0,firstContext:d},l.flags|=524288}else gl=gl.next=d;return v}var MH=typeof AbortController<"u"?AbortController:function(){var l=[],d=this.signal={aborted:!1,addEventListener:function(v,j){l.push(j)}};this.abort=function(){d.aborted=!0,l.forEach(function(v){return v()})}},DH=e.unstable_scheduleCallback,RH=e.unstable_NormalPriority,ca={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hb(){return{controller:new MH,data:new Map,refCount:0}}function Nm(l){l.refCount--,l.refCount===0&&DH(RH,function(){l.controller.abort()})}var Sm=null,mb=0,ff=0,hf=null;function PH(l,d){if(Sm===null){var v=Sm=[];mb=0,ff=pw(),hf={status:"pending",value:void 0,then:function(j){v.push(j)}}}return mb++,d.then(kT,kT),d}function kT(){if(--mb===0&&Sm!==null){hf!==null&&(hf.status="fulfilled");var l=Sm;Sm=null,ff=0,hf=null;for(var d=0;d<l.length;d++)(0,l[d])()}}function kH(l,d){var v=[],j={status:"pending",value:null,reason:null,then:function(O){v.push(O)}};return l.then(function(){j.status="fulfilled",j.value=d;for(var O=0;O<v.length;O++)(0,v[O])(d)},function(O){for(j.status="rejected",j.reason=O,O=0;O<v.length;O++)(0,v[O])(void 0)}),j}var IT=H.S;H.S=function(l,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&PH(l,d),IT!==null&&IT(l,d)};var Yu=de(null);function gb(){var l=Yu.current;return l!==null?l:Xn.pooledCache}function jp(l,d){d===null?Se(Yu,Yu.current):Se(Yu,d.pool)}function LT(){var l=gb();return l===null?null:{parent:ca._currentValue,pool:l}}var _m=Error(r(460)),BT=Error(r(474)),Np=Error(r(542)),pb={then:function(){}};function FT(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Sp(){}function UT(l,d,v){switch(v=l[v],v===void 0?l.push(d):v!==d&&(d.then(Sp,Sp),d=v),d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,VT(l),l;default:if(typeof d.status=="string")d.then(Sp,Sp);else{if(l=Xn,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=d,l.status="pending",l.then(function(j){if(d.status==="pending"){var O=d;O.status="fulfilled",O.value=j}},function(j){if(d.status==="pending"){var O=d;O.status="rejected",O.reason=j}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw l=d.reason,VT(l),l}throw Am=d,_m}}var Am=null;function zT(){if(Am===null)throw Error(r(459));var l=Am;return Am=null,l}function VT(l){if(l===_m||l===Np)throw Error(r(483))}var gc=!1;function xb(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vb(l,d){l=l.updateQueue,d.updateQueue===l&&(d.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function pc(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function xc(l,d,v){var j=l.updateQueue;if(j===null)return null;if(j=j.shared,(Dn&2)!==0){var O=j.pending;return O===null?d.next=d:(d.next=O.next,O.next=d),j.pending=d,d=pp(l),CT(l,null,v),d}return gp(l,j,d,v),pp(l)}function Em(l,d,v){if(d=d.updateQueue,d!==null&&(d=d.shared,(v&4194048)!==0)){var j=d.lanes;j&=l.pendingLanes,v|=j,d.lanes=v,pn(l,v)}}function yb(l,d){var v=l.updateQueue,j=l.alternate;if(j!==null&&(j=j.updateQueue,v===j)){var O=null,L=null;if(v=v.firstBaseUpdate,v!==null){do{var G={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};L===null?O=L=G:L=L.next=G,v=v.next}while(v!==null);L===null?O=L=d:L=L.next=d}else O=L=d;v={baseState:j.baseState,firstBaseUpdate:O,lastBaseUpdate:L,shared:j.shared,callbacks:j.callbacks},l.updateQueue=v;return}l=v.lastBaseUpdate,l===null?v.firstBaseUpdate=d:l.next=d,v.lastBaseUpdate=d}var bb=!1;function Cm(){if(bb){var l=hf;if(l!==null)throw l}}function Tm(l,d,v,j){bb=!1;var O=l.updateQueue;gc=!1;var L=O.firstBaseUpdate,G=O.lastBaseUpdate,ae=O.shared.pending;if(ae!==null){O.shared.pending=null;var fe=ae,De=fe.next;fe.next=null,G===null?L=De:G.next=De,G=fe;var Ve=l.alternate;Ve!==null&&(Ve=Ve.updateQueue,ae=Ve.lastBaseUpdate,ae!==G&&(ae===null?Ve.firstBaseUpdate=De:ae.next=De,Ve.lastBaseUpdate=fe))}if(L!==null){var Ye=O.baseState;G=0,Ve=De=fe=null,ae=L;do{var ke=ae.lane&-536870913,Be=ke!==ae.lane;if(Be?(mn&ke)===ke:(j&ke)===ke){ke!==0&&ke===ff&&(bb=!0),Ve!==null&&(Ve=Ve.next={lane:0,tag:ae.tag,payload:ae.payload,callback:null,next:null});e:{var Dt=l,Tt=ae;ke=d;var Un=v;switch(Tt.tag){case 1:if(Dt=Tt.payload,typeof Dt=="function"){Ye=Dt.call(Un,Ye,ke);break e}Ye=Dt;break e;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=Tt.payload,ke=typeof Dt=="function"?Dt.call(Un,Ye,ke):Dt,ke==null)break e;Ye=g({},Ye,ke);break e;case 2:gc=!0}}ke=ae.callback,ke!==null&&(l.flags|=64,Be&&(l.flags|=8192),Be=O.callbacks,Be===null?O.callbacks=[ke]:Be.push(ke))}else Be={lane:ke,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},Ve===null?(De=Ve=Be,fe=Ye):Ve=Ve.next=Be,G|=ke;if(ae=ae.next,ae===null){if(ae=O.shared.pending,ae===null)break;Be=ae,ae=Be.next,Be.next=null,O.lastBaseUpdate=Be,O.shared.pending=null}}while(!0);Ve===null&&(fe=Ye),O.baseState=fe,O.firstBaseUpdate=De,O.lastBaseUpdate=Ve,L===null&&(O.shared.lanes=0),_c|=G,l.lanes=G,l.memoizedState=Ye}}function $T(l,d){if(typeof l!="function")throw Error(r(191,l));l.call(d)}function HT(l,d){var v=l.callbacks;if(v!==null)for(l.callbacks=null,l=0;l<v.length;l++)$T(v[l],d)}var mf=de(null),_p=de(0);function qT(l,d){l=Nl,Se(_p,l),Se(mf,d),Nl=l|d.baseLanes}function wb(){Se(_p,Nl),Se(mf,mf.current)}function jb(){Nl=_p.current,xe(mf),xe(_p)}var vc=0,Xt=null,Bn=null,Kr=null,Ap=!1,gf=!1,Wu=!1,Ep=0,Om=0,pf=null,IH=0;function Fr(){throw Error(r(321))}function Nb(l,d){if(d===null)return!1;for(var v=0;v<d.length&&v<l.length;v++)if(!y(l[v],d[v]))return!1;return!0}function Sb(l,d,v,j,O,L){return vc=L,Xt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,H.H=l===null||l.memoizedState===null?C4:T4,Wu=!1,L=v(j,O),Wu=!1,gf&&(L=WT(d,v,j,O)),YT(l),L}function YT(l){H.H=Rp;var d=Bn!==null&&Bn.next!==null;if(vc=0,Kr=Bn=Xt=null,Ap=!1,Om=0,pf=null,d)throw Error(r(300));l===null||va||(l=l.dependencies,l!==null&&bp(l)&&(va=!0))}function WT(l,d,v,j){Xt=l;var O=0;do{if(gf&&(pf=null),Om=0,gf=!1,25<=O)throw Error(r(301));if(O+=1,Kr=Bn=null,l.updateQueue!=null){var L=l.updateQueue;L.lastEffect=null,L.events=null,L.stores=null,L.memoCache!=null&&(L.memoCache.index=0)}H.H=$H,L=d(v,j)}while(gf);return L}function LH(){var l=H.H,d=l.useState()[0];return d=typeof d.then=="function"?Mm(d):d,l=l.useState()[0],(Bn!==null?Bn.memoizedState:null)!==l&&(Xt.flags|=1024),d}function _b(){var l=Ep!==0;return Ep=0,l}function Ab(l,d,v){d.updateQueue=l.updateQueue,d.flags&=-2053,l.lanes&=~v}function Eb(l){if(Ap){for(l=l.memoizedState;l!==null;){var d=l.queue;d!==null&&(d.pending=null),l=l.next}Ap=!1}vc=0,Kr=Bn=Xt=null,gf=!1,Om=Ep=0,pf=null}function Oi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?Xt.memoizedState=Kr=l:Kr=Kr.next=l,Kr}function Xr(){if(Bn===null){var l=Xt.alternate;l=l!==null?l.memoizedState:null}else l=Bn.next;var d=Kr===null?Xt.memoizedState:Kr.next;if(d!==null)Kr=d,Bn=l;else{if(l===null)throw Xt.alternate===null?Error(r(467)):Error(r(310));Bn=l,l={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},Kr===null?Xt.memoizedState=Kr=l:Kr=Kr.next=l}return Kr}function Cb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mm(l){var d=Om;return Om+=1,pf===null&&(pf=[]),l=UT(pf,l,d),d=Xt,(Kr===null?d.memoizedState:Kr.next)===null&&(d=d.alternate,H.H=d===null||d.memoizedState===null?C4:T4),l}function Cp(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Mm(l);if(l.$$typeof===R)return ei(l)}throw Error(r(438,String(l)))}function Tb(l){var d=null,v=Xt.updateQueue;if(v!==null&&(d=v.memoCache),d==null){var j=Xt.alternate;j!==null&&(j=j.updateQueue,j!==null&&(j=j.memoCache,j!=null&&(d={data:j.data.map(function(O){return O.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),v===null&&(v=Cb(),Xt.updateQueue=v),v.memoCache=d,v=d.data[d.index],v===void 0)for(v=d.data[d.index]=Array(l),j=0;j<l;j++)v[j]=$;return d.index++,v}function xl(l,d){return typeof d=="function"?d(l):d}function Tp(l){var d=Xr();return Ob(d,Bn,l)}function Ob(l,d,v){var j=l.queue;if(j===null)throw Error(r(311));j.lastRenderedReducer=v;var O=l.baseQueue,L=j.pending;if(L!==null){if(O!==null){var G=O.next;O.next=L.next,L.next=G}d.baseQueue=O=L,j.pending=null}if(L=l.baseState,O===null)l.memoizedState=L;else{d=O.next;var ae=G=null,fe=null,De=d,Ve=!1;do{var Ye=De.lane&-536870913;if(Ye!==De.lane?(mn&Ye)===Ye:(vc&Ye)===Ye){var ke=De.revertLane;if(ke===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null}),Ye===ff&&(Ve=!0);else if((vc&ke)===ke){De=De.next,ke===ff&&(Ve=!0);continue}else Ye={lane:0,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},fe===null?(ae=fe=Ye,G=L):fe=fe.next=Ye,Xt.lanes|=ke,_c|=ke;Ye=De.action,Wu&&v(L,Ye),L=De.hasEagerState?De.eagerState:v(L,Ye)}else ke={lane:Ye,revertLane:De.revertLane,action:De.action,hasEagerState:De.hasEagerState,eagerState:De.eagerState,next:null},fe===null?(ae=fe=ke,G=L):fe=fe.next=ke,Xt.lanes|=Ye,_c|=Ye;De=De.next}while(De!==null&&De!==d);if(fe===null?G=L:fe.next=ae,!y(L,l.memoizedState)&&(va=!0,Ve&&(v=hf,v!==null)))throw v;l.memoizedState=L,l.baseState=G,l.baseQueue=fe,j.lastRenderedState=L}return O===null&&(j.lanes=0),[l.memoizedState,j.dispatch]}function Mb(l){var d=Xr(),v=d.queue;if(v===null)throw Error(r(311));v.lastRenderedReducer=l;var j=v.dispatch,O=v.pending,L=d.memoizedState;if(O!==null){v.pending=null;var G=O=O.next;do L=l(L,G.action),G=G.next;while(G!==O);y(L,d.memoizedState)||(va=!0),d.memoizedState=L,d.baseQueue===null&&(d.baseState=L),v.lastRenderedState=L}return[L,j]}function GT(l,d,v){var j=Xt,O=Xr(),L=Sn;if(L){if(v===void 0)throw Error(r(407));v=v()}else v=d();var G=!y((Bn||O).memoizedState,v);G&&(O.memoizedState=v,va=!0),O=O.queue;var ae=QT.bind(null,j,O,l);if(Dm(2048,8,ae,[l]),O.getSnapshot!==d||G||Kr!==null&&Kr.memoizedState.tag&1){if(j.flags|=2048,xf(9,Op(),XT.bind(null,j,O,v,d),null),Xn===null)throw Error(r(349));L||(vc&124)!==0||KT(j,d,v)}return v}function KT(l,d,v){l.flags|=16384,l={getSnapshot:d,value:v},d=Xt.updateQueue,d===null?(d=Cb(),Xt.updateQueue=d,d.stores=[l]):(v=d.stores,v===null?d.stores=[l]:v.push(l))}function XT(l,d,v,j){d.value=v,d.getSnapshot=j,ZT(d)&&JT(l)}function QT(l,d,v){return v(function(){ZT(d)&&JT(l)})}function ZT(l){var d=l.getSnapshot;l=l.value;try{var v=d();return!y(l,v)}catch{return!0}}function JT(l){var d=lf(l,2);d!==null&&Zi(d,l,2)}function Db(l){var d=Oi();if(typeof l=="function"){var v=l;if(l=v(),Wu){gr(!0);try{v()}finally{gr(!1)}}}return d.memoizedState=d.baseState=l,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:l},d}function e4(l,d,v,j){return l.baseState=v,Ob(l,Bn,typeof j=="function"?j:xl)}function BH(l,d,v,j,O){if(Dp(l))throw Error(r(485));if(l=d.action,l!==null){var L={payload:O,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){L.listeners.push(G)}};H.T!==null?v(!0):L.isTransition=!1,j(L),v=d.pending,v===null?(L.next=d.pending=L,t4(d,L)):(L.next=v.next,d.pending=v.next=L)}}function t4(l,d){var v=d.action,j=d.payload,O=l.state;if(d.isTransition){var L=H.T,G={};H.T=G;try{var ae=v(O,j),fe=H.S;fe!==null&&fe(G,ae),n4(l,d,ae)}catch(De){Rb(l,d,De)}finally{H.T=L}}else try{L=v(O,j),n4(l,d,L)}catch(De){Rb(l,d,De)}}function n4(l,d,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(j){r4(l,d,j)},function(j){return Rb(l,d,j)}):r4(l,d,v)}function r4(l,d,v){d.status="fulfilled",d.value=v,a4(d),l.state=v,d=l.pending,d!==null&&(v=d.next,v===d?l.pending=null:(v=v.next,d.next=v,t4(l,v)))}function Rb(l,d,v){var j=l.pending;if(l.pending=null,j!==null){j=j.next;do d.status="rejected",d.reason=v,a4(d),d=d.next;while(d!==j)}l.action=null}function a4(l){l=l.listeners;for(var d=0;d<l.length;d++)(0,l[d])()}function i4(l,d){return d}function s4(l,d){if(Sn){var v=Xn.formState;if(v!==null){e:{var j=Xt;if(Sn){if(Cr){t:{for(var O=Cr,L=Oo;O.nodeType!==8;){if(!L){O=null;break t}if(O=Js(O.nextSibling),O===null){O=null;break t}}L=O.data,O=L==="F!"||L==="F"?O:null}if(O){Cr=Js(O.nextSibling),j=O.data==="F!";break e}}$u(j)}j=!1}j&&(d=v[0])}}return v=Oi(),v.memoizedState=v.baseState=d,j={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i4,lastRenderedState:d},v.queue=j,v=_4.bind(null,Xt,j),j.dispatch=v,j=Db(!1),L=Bb.bind(null,Xt,!1,j.queue),j=Oi(),O={state:d,dispatch:null,action:l,pending:null},j.queue=O,v=BH.bind(null,Xt,O,L,v),O.dispatch=v,j.memoizedState=l,[d,v,!1]}function o4(l){var d=Xr();return l4(d,Bn,l)}function l4(l,d,v){if(d=Ob(l,d,i4)[0],l=Tp(xl)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var j=Mm(d)}catch(G){throw G===_m?Np:G}else j=d;d=Xr();var O=d.queue,L=O.dispatch;return v!==d.memoizedState&&(Xt.flags|=2048,xf(9,Op(),FH.bind(null,O,v),null)),[j,L,l]}function FH(l,d){l.action=d}function c4(l){var d=Xr(),v=Bn;if(v!==null)return l4(d,v,l);Xr(),d=d.memoizedState,v=Xr();var j=v.queue.dispatch;return v.memoizedState=l,[d,j,!1]}function xf(l,d,v,j){return l={tag:l,create:v,deps:j,inst:d,next:null},d=Xt.updateQueue,d===null&&(d=Cb(),Xt.updateQueue=d),v=d.lastEffect,v===null?d.lastEffect=l.next=l:(j=v.next,v.next=l,l.next=j,d.lastEffect=l),l}function Op(){return{destroy:void 0,resource:void 0}}function u4(){return Xr().memoizedState}function Mp(l,d,v,j){var O=Oi();j=j===void 0?null:j,Xt.flags|=l,O.memoizedState=xf(1|d,Op(),v,j)}function Dm(l,d,v,j){var O=Xr();j=j===void 0?null:j;var L=O.memoizedState.inst;Bn!==null&&j!==null&&Nb(j,Bn.memoizedState.deps)?O.memoizedState=xf(d,L,v,j):(Xt.flags|=l,O.memoizedState=xf(1|d,L,v,j))}function d4(l,d){Mp(8390656,8,l,d)}function f4(l,d){Dm(2048,8,l,d)}function h4(l,d){return Dm(4,2,l,d)}function m4(l,d){return Dm(4,4,l,d)}function g4(l,d){if(typeof d=="function"){l=l();var v=d(l);return function(){typeof v=="function"?v():d(null)}}if(d!=null)return l=l(),d.current=l,function(){d.current=null}}function p4(l,d,v){v=v!=null?v.concat([l]):null,Dm(4,4,g4.bind(null,d,l),v)}function Pb(){}function x4(l,d){var v=Xr();d=d===void 0?null:d;var j=v.memoizedState;return d!==null&&Nb(d,j[1])?j[0]:(v.memoizedState=[l,d],l)}function v4(l,d){var v=Xr();d=d===void 0?null:d;var j=v.memoizedState;if(d!==null&&Nb(d,j[1]))return j[0];if(j=l(),Wu){gr(!0);try{l()}finally{gr(!1)}}return v.memoizedState=[j,d],j}function kb(l,d,v){return v===void 0||(vc&1073741824)!==0?l.memoizedState=d:(l.memoizedState=v,l=w3(),Xt.lanes|=l,_c|=l,v)}function y4(l,d,v,j){return y(v,d)?v:mf.current!==null?(l=kb(l,v,j),y(l,d)||(va=!0),l):(vc&42)===0?(va=!0,l.memoizedState=v):(l=w3(),Xt.lanes|=l,_c|=l,d)}function b4(l,d,v,j,O){var L=ee.p;ee.p=L!==0&&8>L?L:8;var G=H.T,ae={};H.T=ae,Bb(l,!1,d,v);try{var fe=O(),De=H.S;if(De!==null&&De(ae,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Ve=kH(fe,j);Rm(l,d,Ve,Qi(l))}else Rm(l,d,j,Qi(l))}catch(Ye){Rm(l,d,{then:function(){},status:"rejected",reason:Ye},Qi())}finally{ee.p=L,H.T=G}}function UH(){}function Ib(l,d,v,j){if(l.tag!==5)throw Error(r(476));var O=w4(l).queue;b4(l,O,d,K,v===null?UH:function(){return j4(l),v(j)})}function w4(l){var d=l.memoizedState;if(d!==null)return d;d={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:K},next:null};var v={};return d.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:v},next:null},l.memoizedState=d,l=l.alternate,l!==null&&(l.memoizedState=d),d}function j4(l){var d=w4(l).next.queue;Rm(l,d,{},Qi())}function Lb(){return ei(Qm)}function N4(){return Xr().memoizedState}function S4(){return Xr().memoizedState}function zH(l){for(var d=l.return;d!==null;){switch(d.tag){case 24:case 3:var v=Qi();l=pc(v);var j=xc(d,l,v);j!==null&&(Zi(j,d,v),Em(j,d,v)),d={cache:hb()},l.payload=d;return}d=d.return}}function VH(l,d,v){var j=Qi();v={lane:j,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null},Dp(l)?A4(d,v):(v=rb(l,d,v,j),v!==null&&(Zi(v,l,j),E4(v,d,j)))}function _4(l,d,v){var j=Qi();Rm(l,d,v,j)}function Rm(l,d,v,j){var O={lane:j,revertLane:0,action:v,hasEagerState:!1,eagerState:null,next:null};if(Dp(l))A4(d,O);else{var L=l.alternate;if(l.lanes===0&&(L===null||L.lanes===0)&&(L=d.lastRenderedReducer,L!==null))try{var G=d.lastRenderedState,ae=L(G,v);if(O.hasEagerState=!0,O.eagerState=ae,y(ae,G))return gp(l,d,O,0),Xn===null&&mp(),!1}catch{}finally{}if(v=rb(l,d,O,j),v!==null)return Zi(v,l,j),E4(v,d,j),!0}return!1}function Bb(l,d,v,j){if(j={lane:2,revertLane:pw(),action:j,hasEagerState:!1,eagerState:null,next:null},Dp(l)){if(d)throw Error(r(479))}else d=rb(l,v,j,2),d!==null&&Zi(d,l,2)}function Dp(l){var d=l.alternate;return l===Xt||d!==null&&d===Xt}function A4(l,d){gf=Ap=!0;var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}function E4(l,d,v){if((v&4194048)!==0){var j=d.lanes;j&=l.pendingLanes,v|=j,d.lanes=v,pn(l,v)}}var Rp={readContext:ei,use:Cp,useCallback:Fr,useContext:Fr,useEffect:Fr,useImperativeHandle:Fr,useLayoutEffect:Fr,useInsertionEffect:Fr,useMemo:Fr,useReducer:Fr,useRef:Fr,useState:Fr,useDebugValue:Fr,useDeferredValue:Fr,useTransition:Fr,useSyncExternalStore:Fr,useId:Fr,useHostTransitionStatus:Fr,useFormState:Fr,useActionState:Fr,useOptimistic:Fr,useMemoCache:Fr,useCacheRefresh:Fr},C4={readContext:ei,use:Cp,useCallback:function(l,d){return Oi().memoizedState=[l,d===void 0?null:d],l},useContext:ei,useEffect:d4,useImperativeHandle:function(l,d,v){v=v!=null?v.concat([l]):null,Mp(4194308,4,g4.bind(null,d,l),v)},useLayoutEffect:function(l,d){return Mp(4194308,4,l,d)},useInsertionEffect:function(l,d){Mp(4,2,l,d)},useMemo:function(l,d){var v=Oi();d=d===void 0?null:d;var j=l();if(Wu){gr(!0);try{l()}finally{gr(!1)}}return v.memoizedState=[j,d],j},useReducer:function(l,d,v){var j=Oi();if(v!==void 0){var O=v(d);if(Wu){gr(!0);try{v(d)}finally{gr(!1)}}}else O=d;return j.memoizedState=j.baseState=O,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:O},j.queue=l,l=l.dispatch=VH.bind(null,Xt,l),[j.memoizedState,l]},useRef:function(l){var d=Oi();return l={current:l},d.memoizedState=l},useState:function(l){l=Db(l);var d=l.queue,v=_4.bind(null,Xt,d);return d.dispatch=v,[l.memoizedState,v]},useDebugValue:Pb,useDeferredValue:function(l,d){var v=Oi();return kb(v,l,d)},useTransition:function(){var l=Db(!1);return l=b4.bind(null,Xt,l.queue,!0,!1),Oi().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,d,v){var j=Xt,O=Oi();if(Sn){if(v===void 0)throw Error(r(407));v=v()}else{if(v=d(),Xn===null)throw Error(r(349));(mn&124)!==0||KT(j,d,v)}O.memoizedState=v;var L={value:v,getSnapshot:d};return O.queue=L,d4(QT.bind(null,j,L,l),[l]),j.flags|=2048,xf(9,Op(),XT.bind(null,j,L,v,d),null),v},useId:function(){var l=Oi(),d=Xn.identifierPrefix;if(Sn){var v=ml,j=hl;v=(j&~(1<<32-sn(j)-1)).toString(32)+v,d=""+d+"R"+v,v=Ep++,0<v&&(d+="H"+v.toString(32)),d+=""}else v=IH++,d=""+d+"r"+v.toString(32)+"";return l.memoizedState=d},useHostTransitionStatus:Lb,useFormState:s4,useActionState:s4,useOptimistic:function(l){var d=Oi();d.memoizedState=d.baseState=l;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=v,d=Bb.bind(null,Xt,!0,v),v.dispatch=d,[l,d]},useMemoCache:Tb,useCacheRefresh:function(){return Oi().memoizedState=zH.bind(null,Xt)}},T4={readContext:ei,use:Cp,useCallback:x4,useContext:ei,useEffect:f4,useImperativeHandle:p4,useInsertionEffect:h4,useLayoutEffect:m4,useMemo:v4,useReducer:Tp,useRef:u4,useState:function(){return Tp(xl)},useDebugValue:Pb,useDeferredValue:function(l,d){var v=Xr();return y4(v,Bn.memoizedState,l,d)},useTransition:function(){var l=Tp(xl)[0],d=Xr().memoizedState;return[typeof l=="boolean"?l:Mm(l),d]},useSyncExternalStore:GT,useId:N4,useHostTransitionStatus:Lb,useFormState:o4,useActionState:o4,useOptimistic:function(l,d){var v=Xr();return e4(v,Bn,l,d)},useMemoCache:Tb,useCacheRefresh:S4},$H={readContext:ei,use:Cp,useCallback:x4,useContext:ei,useEffect:f4,useImperativeHandle:p4,useInsertionEffect:h4,useLayoutEffect:m4,useMemo:v4,useReducer:Mb,useRef:u4,useState:function(){return Mb(xl)},useDebugValue:Pb,useDeferredValue:function(l,d){var v=Xr();return Bn===null?kb(v,l,d):y4(v,Bn.memoizedState,l,d)},useTransition:function(){var l=Mb(xl)[0],d=Xr().memoizedState;return[typeof l=="boolean"?l:Mm(l),d]},useSyncExternalStore:GT,useId:N4,useHostTransitionStatus:Lb,useFormState:c4,useActionState:c4,useOptimistic:function(l,d){var v=Xr();return Bn!==null?e4(v,Bn,l,d):(v.baseState=l,[l,v.queue.dispatch])},useMemoCache:Tb,useCacheRefresh:S4},vf=null,Pm=0;function Pp(l){var d=Pm;return Pm+=1,vf===null&&(vf=[]),UT(vf,l,d)}function km(l,d){d=d.props.ref,l.ref=d!==void 0?d:null}function kp(l,d){throw d.$$typeof===x?Error(r(525)):(l=Object.prototype.toString.call(d),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":l)))}function O4(l){var d=l._init;return d(l._payload)}function M4(l){function d(_e,we){if(l){var Te=_e.deletions;Te===null?(_e.deletions=[we],_e.flags|=16):Te.push(we)}}function v(_e,we){if(!l)return null;for(;we!==null;)d(_e,we),we=we.sibling;return null}function j(_e){for(var we=new Map;_e!==null;)_e.key!==null?we.set(_e.key,_e):we.set(_e.index,_e),_e=_e.sibling;return we}function O(_e,we){return _e=fl(_e,we),_e.index=0,_e.sibling=null,_e}function L(_e,we,Te){return _e.index=Te,l?(Te=_e.alternate,Te!==null?(Te=Te.index,Te<we?(_e.flags|=67108866,we):Te):(_e.flags|=67108866,we)):(_e.flags|=1048576,we)}function G(_e){return l&&_e.alternate===null&&(_e.flags|=67108866),_e}function ae(_e,we,Te,He){return we===null||we.tag!==6?(we=ib(Te,_e.mode,He),we.return=_e,we):(we=O(we,Te),we.return=_e,we)}function fe(_e,we,Te,He){var mt=Te.type;return mt===T?Ve(_e,we,Te.props.children,He,Te.key):we!==null&&(we.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===V&&O4(mt)===we.type)?(we=O(we,Te.props),km(we,Te),we.return=_e,we):(we=xp(Te.type,Te.key,Te.props,null,_e.mode,He),km(we,Te),we.return=_e,we)}function De(_e,we,Te,He){return we===null||we.tag!==4||we.stateNode.containerInfo!==Te.containerInfo||we.stateNode.implementation!==Te.implementation?(we=sb(Te,_e.mode,He),we.return=_e,we):(we=O(we,Te.children||[]),we.return=_e,we)}function Ve(_e,we,Te,He,mt){return we===null||we.tag!==7?(we=Fu(Te,_e.mode,He,mt),we.return=_e,we):(we=O(we,Te),we.return=_e,we)}function Ye(_e,we,Te){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=ib(""+we,_e.mode,Te),we.return=_e,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case w:return Te=xp(we.type,we.key,we.props,null,_e.mode,Te),km(Te,we),Te.return=_e,Te;case _:return we=sb(we,_e.mode,Te),we.return=_e,we;case V:var He=we._init;return we=He(we._payload),Ye(_e,we,Te)}if(J(we)||Y(we))return we=Fu(we,_e.mode,Te,null),we.return=_e,we;if(typeof we.then=="function")return Ye(_e,Pp(we),Te);if(we.$$typeof===R)return Ye(_e,wp(_e,we),Te);kp(_e,we)}return null}function ke(_e,we,Te,He){var mt=we!==null?we.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return mt!==null?null:ae(_e,we,""+Te,He);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case w:return Te.key===mt?fe(_e,we,Te,He):null;case _:return Te.key===mt?De(_e,we,Te,He):null;case V:return mt=Te._init,Te=mt(Te._payload),ke(_e,we,Te,He)}if(J(Te)||Y(Te))return mt!==null?null:Ve(_e,we,Te,He,null);if(typeof Te.then=="function")return ke(_e,we,Pp(Te),He);if(Te.$$typeof===R)return ke(_e,we,wp(_e,Te),He);kp(_e,Te)}return null}function Be(_e,we,Te,He,mt){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return _e=_e.get(Te)||null,ae(we,_e,""+He,mt);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case w:return _e=_e.get(He.key===null?Te:He.key)||null,fe(we,_e,He,mt);case _:return _e=_e.get(He.key===null?Te:He.key)||null,De(we,_e,He,mt);case V:var Jt=He._init;return He=Jt(He._payload),Be(_e,we,Te,He,mt)}if(J(He)||Y(He))return _e=_e.get(Te)||null,Ve(we,_e,He,mt,null);if(typeof He.then=="function")return Be(_e,we,Te,Pp(He),mt);if(He.$$typeof===R)return Be(_e,we,Te,wp(we,He),mt);kp(we,He)}return null}function Dt(_e,we,Te,He){for(var mt=null,Jt=null,Nt=we,Ot=we=0,ba=null;Nt!==null&&Ot<Te.length;Ot++){Nt.index>Ot?(ba=Nt,Nt=null):ba=Nt.sibling;var wn=ke(_e,Nt,Te[Ot],He);if(wn===null){Nt===null&&(Nt=ba);break}l&&Nt&&wn.alternate===null&&d(_e,Nt),we=L(wn,we,Ot),Jt===null?mt=wn:Jt.sibling=wn,Jt=wn,Nt=ba}if(Ot===Te.length)return v(_e,Nt),Sn&&zu(_e,Ot),mt;if(Nt===null){for(;Ot<Te.length;Ot++)Nt=Ye(_e,Te[Ot],He),Nt!==null&&(we=L(Nt,we,Ot),Jt===null?mt=Nt:Jt.sibling=Nt,Jt=Nt);return Sn&&zu(_e,Ot),mt}for(Nt=j(Nt);Ot<Te.length;Ot++)ba=Be(Nt,_e,Ot,Te[Ot],He),ba!==null&&(l&&ba.alternate!==null&&Nt.delete(ba.key===null?Ot:ba.key),we=L(ba,we,Ot),Jt===null?mt=ba:Jt.sibling=ba,Jt=ba);return l&&Nt.forEach(function(Pc){return d(_e,Pc)}),Sn&&zu(_e,Ot),mt}function Tt(_e,we,Te,He){if(Te==null)throw Error(r(151));for(var mt=null,Jt=null,Nt=we,Ot=we=0,ba=null,wn=Te.next();Nt!==null&&!wn.done;Ot++,wn=Te.next()){Nt.index>Ot?(ba=Nt,Nt=null):ba=Nt.sibling;var Pc=ke(_e,Nt,wn.value,He);if(Pc===null){Nt===null&&(Nt=ba);break}l&&Nt&&Pc.alternate===null&&d(_e,Nt),we=L(Pc,we,Ot),Jt===null?mt=Pc:Jt.sibling=Pc,Jt=Pc,Nt=ba}if(wn.done)return v(_e,Nt),Sn&&zu(_e,Ot),mt;if(Nt===null){for(;!wn.done;Ot++,wn=Te.next())wn=Ye(_e,wn.value,He),wn!==null&&(we=L(wn,we,Ot),Jt===null?mt=wn:Jt.sibling=wn,Jt=wn);return Sn&&zu(_e,Ot),mt}for(Nt=j(Nt);!wn.done;Ot++,wn=Te.next())wn=Be(Nt,_e,Ot,wn.value,He),wn!==null&&(l&&wn.alternate!==null&&Nt.delete(wn.key===null?Ot:wn.key),we=L(wn,we,Ot),Jt===null?mt=wn:Jt.sibling=wn,Jt=wn);return l&&Nt.forEach(function(Hq){return d(_e,Hq)}),Sn&&zu(_e,Ot),mt}function Un(_e,we,Te,He){if(typeof Te=="object"&&Te!==null&&Te.type===T&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case w:e:{for(var mt=Te.key;we!==null;){if(we.key===mt){if(mt=Te.type,mt===T){if(we.tag===7){v(_e,we.sibling),He=O(we,Te.props.children),He.return=_e,_e=He;break e}}else if(we.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===V&&O4(mt)===we.type){v(_e,we.sibling),He=O(we,Te.props),km(He,Te),He.return=_e,_e=He;break e}v(_e,we);break}else d(_e,we);we=we.sibling}Te.type===T?(He=Fu(Te.props.children,_e.mode,He,Te.key),He.return=_e,_e=He):(He=xp(Te.type,Te.key,Te.props,null,_e.mode,He),km(He,Te),He.return=_e,_e=He)}return G(_e);case _:e:{for(mt=Te.key;we!==null;){if(we.key===mt)if(we.tag===4&&we.stateNode.containerInfo===Te.containerInfo&&we.stateNode.implementation===Te.implementation){v(_e,we.sibling),He=O(we,Te.children||[]),He.return=_e,_e=He;break e}else{v(_e,we);break}else d(_e,we);we=we.sibling}He=sb(Te,_e.mode,He),He.return=_e,_e=He}return G(_e);case V:return mt=Te._init,Te=mt(Te._payload),Un(_e,we,Te,He)}if(J(Te))return Dt(_e,we,Te,He);if(Y(Te)){if(mt=Y(Te),typeof mt!="function")throw Error(r(150));return Te=mt.call(Te),Tt(_e,we,Te,He)}if(typeof Te.then=="function")return Un(_e,we,Pp(Te),He);if(Te.$$typeof===R)return Un(_e,we,wp(_e,Te),He);kp(_e,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,we!==null&&we.tag===6?(v(_e,we.sibling),He=O(we,Te),He.return=_e,_e=He):(v(_e,we),He=ib(Te,_e.mode,He),He.return=_e,_e=He),G(_e)):v(_e,we)}return function(_e,we,Te,He){try{Pm=0;var mt=Un(_e,we,Te,He);return vf=null,mt}catch(Nt){if(Nt===_m||Nt===Np)throw Nt;var Jt=Wi(29,Nt,null,_e.mode);return Jt.lanes=He,Jt.return=_e,Jt}finally{}}}var yf=M4(!0),D4=M4(!1),Ss=de(null),Mo=null;function yc(l){var d=l.alternate;Se(ua,ua.current&1),Se(Ss,l),Mo===null&&(d===null||mf.current!==null||d.memoizedState!==null)&&(Mo=l)}function R4(l){if(l.tag===22){if(Se(ua,ua.current),Se(Ss,l),Mo===null){var d=l.alternate;d!==null&&d.memoizedState!==null&&(Mo=l)}}else bc()}function bc(){Se(ua,ua.current),Se(Ss,Ss.current)}function vl(l){xe(Ss),Mo===l&&(Mo=null),xe(ua)}var ua=de(0);function Ip(l){for(var d=l;d!==null;){if(d.tag===13){var v=d.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||Cw(v)))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}function Fb(l,d,v,j){d=l.memoizedState,v=v(j,d),v=v==null?d:g({},d,v),l.memoizedState=v,l.lanes===0&&(l.updateQueue.baseState=v)}var Ub={enqueueSetState:function(l,d,v){l=l._reactInternals;var j=Qi(),O=pc(j);O.payload=d,v!=null&&(O.callback=v),d=xc(l,O,j),d!==null&&(Zi(d,l,j),Em(d,l,j))},enqueueReplaceState:function(l,d,v){l=l._reactInternals;var j=Qi(),O=pc(j);O.tag=1,O.payload=d,v!=null&&(O.callback=v),d=xc(l,O,j),d!==null&&(Zi(d,l,j),Em(d,l,j))},enqueueForceUpdate:function(l,d){l=l._reactInternals;var v=Qi(),j=pc(v);j.tag=2,d!=null&&(j.callback=d),d=xc(l,j,v),d!==null&&(Zi(d,l,v),Em(d,l,v))}};function P4(l,d,v,j,O,L,G){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(j,L,G):d.prototype&&d.prototype.isPureReactComponent?!b(v,j)||!b(O,L):!0}function k4(l,d,v,j){l=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(v,j),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(v,j),d.state!==l&&Ub.enqueueReplaceState(d,d.state,null)}function Gu(l,d){var v=d;if("ref"in d){v={};for(var j in d)j!=="ref"&&(v[j]=d[j])}if(l=l.defaultProps){v===d&&(v=g({},v));for(var O in l)v[O]===void 0&&(v[O]=l[O])}return v}var Lp=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)};function I4(l){Lp(l)}function L4(l){console.error(l)}function B4(l){Lp(l)}function Bp(l,d){try{var v=l.onUncaughtError;v(d.value,{componentStack:d.stack})}catch(j){setTimeout(function(){throw j})}}function F4(l,d,v){try{var j=l.onCaughtError;j(v.value,{componentStack:v.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function zb(l,d,v){return v=pc(v),v.tag=3,v.payload={element:null},v.callback=function(){Bp(l,d)},v}function U4(l){return l=pc(l),l.tag=3,l}function z4(l,d,v,j){var O=v.type.getDerivedStateFromError;if(typeof O=="function"){var L=j.value;l.payload=function(){return O(L)},l.callback=function(){F4(d,v,j)}}var G=v.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(l.callback=function(){F4(d,v,j),typeof O!="function"&&(Ac===null?Ac=new Set([this]):Ac.add(this));var ae=j.stack;this.componentDidCatch(j.value,{componentStack:ae!==null?ae:""})})}function HH(l,d,v,j,O){if(v.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){if(d=v.alternate,d!==null&&jm(d,v,O,!0),v=Ss.current,v!==null){switch(v.tag){case 13:return Mo===null?dw():v.alternate===null&&Tr===0&&(Tr=3),v.flags&=-257,v.flags|=65536,v.lanes=O,j===pb?v.flags|=16384:(d=v.updateQueue,d===null?v.updateQueue=new Set([j]):d.add(j),hw(l,j,O)),!1;case 22:return v.flags|=65536,j===pb?v.flags|=16384:(d=v.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([j])},v.updateQueue=d):(v=d.retryQueue,v===null?d.retryQueue=new Set([j]):v.add(j)),hw(l,j,O)),!1}throw Error(r(435,v.tag))}return hw(l,j,O),dw(),!1}if(Sn)return d=Ss.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=O,j!==cb&&(l=Error(r(422),{cause:j}),wm(bs(l,v)))):(j!==cb&&(d=Error(r(423),{cause:j}),wm(bs(d,v))),l=l.current.alternate,l.flags|=65536,O&=-O,l.lanes|=O,j=bs(j,v),O=zb(l.stateNode,j,O),yb(l,O),Tr!==4&&(Tr=2)),!1;var L=Error(r(520),{cause:j});if(L=bs(L,v),Vm===null?Vm=[L]:Vm.push(L),Tr!==4&&(Tr=2),d===null)return!0;j=bs(j,v),v=d;do{switch(v.tag){case 3:return v.flags|=65536,l=O&-O,v.lanes|=l,l=zb(v.stateNode,j,l),yb(v,l),!1;case 1:if(d=v.type,L=v.stateNode,(v.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Ac===null||!Ac.has(L))))return v.flags|=65536,O&=-O,v.lanes|=O,O=U4(O),z4(O,l,v,j),yb(v,O),!1}v=v.return}while(v!==null);return!1}var V4=Error(r(461)),va=!1;function ka(l,d,v,j){d.child=l===null?D4(d,null,v,j):yf(d,l.child,v,j)}function $4(l,d,v,j,O){v=v.render;var L=d.ref;if("ref"in j){var G={};for(var ae in j)ae!=="ref"&&(G[ae]=j[ae])}else G=j;return qu(d),j=Sb(l,d,v,G,L,O),ae=_b(),l!==null&&!va?(Ab(l,d,O),yl(l,d,O)):(Sn&&ae&&ob(d),d.flags|=1,ka(l,d,j,O),d.child)}function H4(l,d,v,j,O){if(l===null){var L=v.type;return typeof L=="function"&&!ab(L)&&L.defaultProps===void 0&&v.compare===null?(d.tag=15,d.type=L,q4(l,d,L,j,O)):(l=xp(v.type,null,j,d,d.mode,O),l.ref=d.ref,l.return=d,d.child=l)}if(L=l.child,!Kb(l,O)){var G=L.memoizedProps;if(v=v.compare,v=v!==null?v:b,v(G,j)&&l.ref===d.ref)return yl(l,d,O)}return d.flags|=1,l=fl(L,j),l.ref=d.ref,l.return=d,d.child=l}function q4(l,d,v,j,O){if(l!==null){var L=l.memoizedProps;if(b(L,j)&&l.ref===d.ref)if(va=!1,d.pendingProps=j=L,Kb(l,O))(l.flags&131072)!==0&&(va=!0);else return d.lanes=l.lanes,yl(l,d,O)}return Vb(l,d,v,j,O)}function Y4(l,d,v){var j=d.pendingProps,O=j.children,L=l!==null?l.memoizedState:null;if(j.mode==="hidden"){if((d.flags&128)!==0){if(j=L!==null?L.baseLanes|v:v,l!==null){for(O=d.child=l.child,L=0;O!==null;)L=L|O.lanes|O.childLanes,O=O.sibling;d.childLanes=L&~j}else d.childLanes=0,d.child=null;return W4(l,d,j,v)}if((v&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},l!==null&&jp(d,L!==null?L.cachePool:null),L!==null?qT(d,L):wb(),R4(d);else return d.lanes=d.childLanes=536870912,W4(l,d,L!==null?L.baseLanes|v:v,v)}else L!==null?(jp(d,L.cachePool),qT(d,L),bc(),d.memoizedState=null):(l!==null&&jp(d,null),wb(),bc());return ka(l,d,O,v),d.child}function W4(l,d,v,j){var O=gb();return O=O===null?null:{parent:ca._currentValue,pool:O},d.memoizedState={baseLanes:v,cachePool:O},l!==null&&jp(d,null),wb(),R4(d),l!==null&&jm(l,d,j,!0),null}function Fp(l,d){var v=d.ref;if(v===null)l!==null&&l.ref!==null&&(d.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(r(284));(l===null||l.ref!==v)&&(d.flags|=4194816)}}function Vb(l,d,v,j,O){return qu(d),v=Sb(l,d,v,j,void 0,O),j=_b(),l!==null&&!va?(Ab(l,d,O),yl(l,d,O)):(Sn&&j&&ob(d),d.flags|=1,ka(l,d,v,O),d.child)}function G4(l,d,v,j,O,L){return qu(d),d.updateQueue=null,v=WT(d,j,v,O),YT(l),j=_b(),l!==null&&!va?(Ab(l,d,L),yl(l,d,L)):(Sn&&j&&ob(d),d.flags|=1,ka(l,d,v,L),d.child)}function K4(l,d,v,j,O){if(qu(d),d.stateNode===null){var L=cf,G=v.contextType;typeof G=="object"&&G!==null&&(L=ei(G)),L=new v(j,L),d.memoizedState=L.state!==null&&L.state!==void 0?L.state:null,L.updater=Ub,d.stateNode=L,L._reactInternals=d,L=d.stateNode,L.props=j,L.state=d.memoizedState,L.refs={},xb(d),G=v.contextType,L.context=typeof G=="object"&&G!==null?ei(G):cf,L.state=d.memoizedState,G=v.getDerivedStateFromProps,typeof G=="function"&&(Fb(d,v,G,j),L.state=d.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof L.getSnapshotBeforeUpdate=="function"||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(G=L.state,typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount(),G!==L.state&&Ub.enqueueReplaceState(L,L.state,null),Tm(d,j,L,O),Cm(),L.state=d.memoizedState),typeof L.componentDidMount=="function"&&(d.flags|=4194308),j=!0}else if(l===null){L=d.stateNode;var ae=d.memoizedProps,fe=Gu(v,ae);L.props=fe;var De=L.context,Ve=v.contextType;G=cf,typeof Ve=="object"&&Ve!==null&&(G=ei(Ve));var Ye=v.getDerivedStateFromProps;Ve=typeof Ye=="function"||typeof L.getSnapshotBeforeUpdate=="function",ae=d.pendingProps!==ae,Ve||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(ae||De!==G)&&k4(d,L,j,G),gc=!1;var ke=d.memoizedState;L.state=ke,Tm(d,j,L,O),Cm(),De=d.memoizedState,ae||ke!==De||gc?(typeof Ye=="function"&&(Fb(d,v,Ye,j),De=d.memoizedState),(fe=gc||P4(d,v,fe,j,ke,De,G))?(Ve||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(d.flags|=4194308)):(typeof L.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=j,d.memoizedState=De),L.props=j,L.state=De,L.context=G,j=fe):(typeof L.componentDidMount=="function"&&(d.flags|=4194308),j=!1)}else{L=d.stateNode,vb(l,d),G=d.memoizedProps,Ve=Gu(v,G),L.props=Ve,Ye=d.pendingProps,ke=L.context,De=v.contextType,fe=cf,typeof De=="object"&&De!==null&&(fe=ei(De)),ae=v.getDerivedStateFromProps,(De=typeof ae=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(G!==Ye||ke!==fe)&&k4(d,L,j,fe),gc=!1,ke=d.memoizedState,L.state=ke,Tm(d,j,L,O),Cm();var Be=d.memoizedState;G!==Ye||ke!==Be||gc||l!==null&&l.dependencies!==null&&bp(l.dependencies)?(typeof ae=="function"&&(Fb(d,v,ae,j),Be=d.memoizedState),(Ve=gc||P4(d,v,Ve,j,ke,Be,fe)||l!==null&&l.dependencies!==null&&bp(l.dependencies))?(De||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(j,Be,fe),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(j,Be,fe)),typeof L.componentDidUpdate=="function"&&(d.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof L.componentDidUpdate!="function"||G===l.memoizedProps&&ke===l.memoizedState||(d.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||G===l.memoizedProps&&ke===l.memoizedState||(d.flags|=1024),d.memoizedProps=j,d.memoizedState=Be),L.props=j,L.state=Be,L.context=fe,j=Ve):(typeof L.componentDidUpdate!="function"||G===l.memoizedProps&&ke===l.memoizedState||(d.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||G===l.memoizedProps&&ke===l.memoizedState||(d.flags|=1024),j=!1)}return L=j,Fp(l,d),j=(d.flags&128)!==0,L||j?(L=d.stateNode,v=j&&typeof v.getDerivedStateFromError!="function"?null:L.render(),d.flags|=1,l!==null&&j?(d.child=yf(d,l.child,null,O),d.child=yf(d,null,v,O)):ka(l,d,v,O),d.memoizedState=L.state,l=d.child):l=yl(l,d,O),l}function X4(l,d,v,j){return bm(),d.flags|=256,ka(l,d,v,j),d.child}var $b={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hb(l){return{baseLanes:l,cachePool:LT()}}function qb(l,d,v){return l=l!==null?l.childLanes&~v:0,d&&(l|=_s),l}function Q4(l,d,v){var j=d.pendingProps,O=!1,L=(d.flags&128)!==0,G;if((G=L)||(G=l!==null&&l.memoizedState===null?!1:(ua.current&2)!==0),G&&(O=!0,d.flags&=-129),G=(d.flags&32)!==0,d.flags&=-33,l===null){if(Sn){if(O?yc(d):bc(),Sn){var ae=Cr,fe;if(fe=ae){e:{for(fe=ae,ae=Oo;fe.nodeType!==8;){if(!ae){ae=null;break e}if(fe=Js(fe.nextSibling),fe===null){ae=null;break e}}ae=fe}ae!==null?(d.memoizedState={dehydrated:ae,treeContext:Uu!==null?{id:hl,overflow:ml}:null,retryLane:536870912,hydrationErrors:null},fe=Wi(18,null,null,0),fe.stateNode=ae,fe.return=d,d.child=fe,bi=d,Cr=null,fe=!0):fe=!1}fe||$u(d)}if(ae=d.memoizedState,ae!==null&&(ae=ae.dehydrated,ae!==null))return Cw(ae)?d.lanes=32:d.lanes=536870912,null;vl(d)}return ae=j.children,j=j.fallback,O?(bc(),O=d.mode,ae=Up({mode:"hidden",children:ae},O),j=Fu(j,O,v,null),ae.return=d,j.return=d,ae.sibling=j,d.child=ae,O=d.child,O.memoizedState=Hb(v),O.childLanes=qb(l,G,v),d.memoizedState=$b,j):(yc(d),Yb(d,ae))}if(fe=l.memoizedState,fe!==null&&(ae=fe.dehydrated,ae!==null)){if(L)d.flags&256?(yc(d),d.flags&=-257,d=Wb(l,d,v)):d.memoizedState!==null?(bc(),d.child=l.child,d.flags|=128,d=null):(bc(),O=j.fallback,ae=d.mode,j=Up({mode:"visible",children:j.children},ae),O=Fu(O,ae,v,null),O.flags|=2,j.return=d,O.return=d,j.sibling=O,d.child=j,yf(d,l.child,null,v),j=d.child,j.memoizedState=Hb(v),j.childLanes=qb(l,G,v),d.memoizedState=$b,d=O);else if(yc(d),Cw(ae)){if(G=ae.nextSibling&&ae.nextSibling.dataset,G)var De=G.dgst;G=De,j=Error(r(419)),j.stack="",j.digest=G,wm({value:j,source:null,stack:null}),d=Wb(l,d,v)}else if(va||jm(l,d,v,!1),G=(v&l.childLanes)!==0,va||G){if(G=Xn,G!==null&&(j=v&-v,j=(j&42)!==0?1:rr(j),j=(j&(G.suspendedLanes|v))!==0?0:j,j!==0&&j!==fe.retryLane))throw fe.retryLane=j,lf(l,j),Zi(G,l,j),V4;ae.data==="$?"||dw(),d=Wb(l,d,v)}else ae.data==="$?"?(d.flags|=192,d.child=l.child,d=null):(l=fe.treeContext,Cr=Js(ae.nextSibling),bi=d,Sn=!0,Vu=null,Oo=!1,l!==null&&(js[Ns++]=hl,js[Ns++]=ml,js[Ns++]=Uu,hl=l.id,ml=l.overflow,Uu=d),d=Yb(d,j.children),d.flags|=4096);return d}return O?(bc(),O=j.fallback,ae=d.mode,fe=l.child,De=fe.sibling,j=fl(fe,{mode:"hidden",children:j.children}),j.subtreeFlags=fe.subtreeFlags&65011712,De!==null?O=fl(De,O):(O=Fu(O,ae,v,null),O.flags|=2),O.return=d,j.return=d,j.sibling=O,d.child=j,j=O,O=d.child,ae=l.child.memoizedState,ae===null?ae=Hb(v):(fe=ae.cachePool,fe!==null?(De=ca._currentValue,fe=fe.parent!==De?{parent:De,pool:De}:fe):fe=LT(),ae={baseLanes:ae.baseLanes|v,cachePool:fe}),O.memoizedState=ae,O.childLanes=qb(l,G,v),d.memoizedState=$b,j):(yc(d),v=l.child,l=v.sibling,v=fl(v,{mode:"visible",children:j.children}),v.return=d,v.sibling=null,l!==null&&(G=d.deletions,G===null?(d.deletions=[l],d.flags|=16):G.push(l)),d.child=v,d.memoizedState=null,v)}function Yb(l,d){return d=Up({mode:"visible",children:d},l.mode),d.return=l,l.child=d}function Up(l,d){return l=Wi(22,l,null,d),l.lanes=0,l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},l}function Wb(l,d,v){return yf(d,l.child,null,v),l=Yb(d,d.pendingProps.children),l.flags|=2,d.memoizedState=null,l}function Z4(l,d,v){l.lanes|=d;var j=l.alternate;j!==null&&(j.lanes|=d),db(l.return,d,v)}function Gb(l,d,v,j,O){var L=l.memoizedState;L===null?l.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:j,tail:v,tailMode:O}:(L.isBackwards=d,L.rendering=null,L.renderingStartTime=0,L.last=j,L.tail=v,L.tailMode=O)}function J4(l,d,v){var j=d.pendingProps,O=j.revealOrder,L=j.tail;if(ka(l,d,j.children,v),j=ua.current,(j&2)!==0)j=j&1|2,d.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=d.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Z4(l,v,d);else if(l.tag===19)Z4(l,v,d);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===d)break e;for(;l.sibling===null;){if(l.return===null||l.return===d)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}j&=1}switch(Se(ua,j),O){case"forwards":for(v=d.child,O=null;v!==null;)l=v.alternate,l!==null&&Ip(l)===null&&(O=v),v=v.sibling;v=O,v===null?(O=d.child,d.child=null):(O=v.sibling,v.sibling=null),Gb(d,!1,O,v,L);break;case"backwards":for(v=null,O=d.child,d.child=null;O!==null;){if(l=O.alternate,l!==null&&Ip(l)===null){d.child=O;break}l=O.sibling,O.sibling=v,v=O,O=l}Gb(d,!0,v,null,L);break;case"together":Gb(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function yl(l,d,v){if(l!==null&&(d.dependencies=l.dependencies),_c|=d.lanes,(v&d.childLanes)===0)if(l!==null){if(jm(l,d,v,!1),(v&d.childLanes)===0)return null}else return null;if(l!==null&&d.child!==l.child)throw Error(r(153));if(d.child!==null){for(l=d.child,v=fl(l,l.pendingProps),d.child=v,v.return=d;l.sibling!==null;)l=l.sibling,v=v.sibling=fl(l,l.pendingProps),v.return=d;v.sibling=null}return d.child}function Kb(l,d){return(l.lanes&d)!==0?!0:(l=l.dependencies,!!(l!==null&&bp(l)))}function qH(l,d,v){switch(d.tag){case 3:le(d,d.stateNode.containerInfo),mc(d,ca,l.memoizedState.cache),bm();break;case 27:case 5:Ee(d);break;case 4:le(d,d.stateNode.containerInfo);break;case 10:mc(d,d.type,d.memoizedProps.value);break;case 13:var j=d.memoizedState;if(j!==null)return j.dehydrated!==null?(yc(d),d.flags|=128,null):(v&d.child.childLanes)!==0?Q4(l,d,v):(yc(d),l=yl(l,d,v),l!==null?l.sibling:null);yc(d);break;case 19:var O=(l.flags&128)!==0;if(j=(v&d.childLanes)!==0,j||(jm(l,d,v,!1),j=(v&d.childLanes)!==0),O){if(j)return J4(l,d,v);d.flags|=128}if(O=d.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),Se(ua,ua.current),j)break;return null;case 22:case 23:return d.lanes=0,Y4(l,d,v);case 24:mc(d,ca,l.memoizedState.cache)}return yl(l,d,v)}function e3(l,d,v){if(l!==null)if(l.memoizedProps!==d.pendingProps)va=!0;else{if(!Kb(l,v)&&(d.flags&128)===0)return va=!1,qH(l,d,v);va=(l.flags&131072)!==0}else va=!1,Sn&&(d.flags&1048576)!==0&&OT(d,yp,d.index);switch(d.lanes=0,d.tag){case 16:e:{l=d.pendingProps;var j=d.elementType,O=j._init;if(j=O(j._payload),d.type=j,typeof j=="function")ab(j)?(l=Gu(j,l),d.tag=1,d=K4(null,d,j,l,v)):(d.tag=0,d=Vb(null,d,j,l,v));else{if(j!=null){if(O=j.$$typeof,O===z){d.tag=11,d=$4(null,d,j,l,v);break e}else if(O===B){d.tag=14,d=H4(null,d,j,l,v);break e}}throw d=ne(j)||j,Error(r(306,d,""))}}return d;case 0:return Vb(l,d,d.type,d.pendingProps,v);case 1:return j=d.type,O=Gu(j,d.pendingProps),K4(l,d,j,O,v);case 3:e:{if(le(d,d.stateNode.containerInfo),l===null)throw Error(r(387));j=d.pendingProps;var L=d.memoizedState;O=L.element,vb(l,d),Tm(d,j,null,v);var G=d.memoizedState;if(j=G.cache,mc(d,ca,j),j!==L.cache&&fb(d,[ca],v,!0),Cm(),j=G.element,L.isDehydrated)if(L={element:j,isDehydrated:!1,cache:G.cache},d.updateQueue.baseState=L,d.memoizedState=L,d.flags&256){d=X4(l,d,j,v);break e}else if(j!==O){O=bs(Error(r(424)),d),wm(O),d=X4(l,d,j,v);break e}else{switch(l=d.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Cr=Js(l.firstChild),bi=d,Sn=!0,Vu=null,Oo=!0,v=D4(d,null,j,v),d.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling}else{if(bm(),j===O){d=yl(l,d,v);break e}ka(l,d,j,v)}d=d.child}return d;case 26:return Fp(l,d),l===null?(v=aO(d.type,null,d.pendingProps,null))?d.memoizedState=v:Sn||(v=d.type,l=d.pendingProps,j=ex(ie.current).createElement(v),j[pr]=d,j[hn]=l,La(j,v,l),Tn(j),d.stateNode=j):d.memoizedState=aO(d.type,l.memoizedProps,d.pendingProps,l.memoizedState),null;case 27:return Ee(d),l===null&&Sn&&(j=d.stateNode=tO(d.type,d.pendingProps,ie.current),bi=d,Oo=!0,O=Cr,Tc(d.type)?(Tw=O,Cr=Js(j.firstChild)):Cr=O),ka(l,d,d.pendingProps.children,v),Fp(l,d),l===null&&(d.flags|=4194304),d.child;case 5:return l===null&&Sn&&((O=j=Cr)&&(j=yq(j,d.type,d.pendingProps,Oo),j!==null?(d.stateNode=j,bi=d,Cr=Js(j.firstChild),Oo=!1,O=!0):O=!1),O||$u(d)),Ee(d),O=d.type,L=d.pendingProps,G=l!==null?l.memoizedProps:null,j=L.children,_w(O,L)?j=null:G!==null&&_w(O,G)&&(d.flags|=32),d.memoizedState!==null&&(O=Sb(l,d,LH,null,null,v),Qm._currentValue=O),Fp(l,d),ka(l,d,j,v),d.child;case 6:return l===null&&Sn&&((l=v=Cr)&&(v=bq(v,d.pendingProps,Oo),v!==null?(d.stateNode=v,bi=d,Cr=null,l=!0):l=!1),l||$u(d)),null;case 13:return Q4(l,d,v);case 4:return le(d,d.stateNode.containerInfo),j=d.pendingProps,l===null?d.child=yf(d,null,j,v):ka(l,d,j,v),d.child;case 11:return $4(l,d,d.type,d.pendingProps,v);case 7:return ka(l,d,d.pendingProps,v),d.child;case 8:return ka(l,d,d.pendingProps.children,v),d.child;case 12:return ka(l,d,d.pendingProps.children,v),d.child;case 10:return j=d.pendingProps,mc(d,d.type,j.value),ka(l,d,j.children,v),d.child;case 9:return O=d.type._context,j=d.pendingProps.children,qu(d),O=ei(O),j=j(O),d.flags|=1,ka(l,d,j,v),d.child;case 14:return H4(l,d,d.type,d.pendingProps,v);case 15:return q4(l,d,d.type,d.pendingProps,v);case 19:return J4(l,d,v);case 31:return j=d.pendingProps,v=d.mode,j={mode:j.mode,children:j.children},l===null?(v=Up(j,v),v.ref=d.ref,d.child=v,v.return=d,d=v):(v=fl(l.child,j),v.ref=d.ref,d.child=v,v.return=d,d=v),d;case 22:return Y4(l,d,v);case 24:return qu(d),j=ei(ca),l===null?(O=gb(),O===null&&(O=Xn,L=hb(),O.pooledCache=L,L.refCount++,L!==null&&(O.pooledCacheLanes|=v),O=L),d.memoizedState={parent:j,cache:O},xb(d),mc(d,ca,O)):((l.lanes&v)!==0&&(vb(l,d),Tm(d,null,null,v),Cm()),O=l.memoizedState,L=d.memoizedState,O.parent!==j?(O={parent:j,cache:j},d.memoizedState=O,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=O),mc(d,ca,j)):(j=L.cache,mc(d,ca,j),j!==O.cache&&fb(d,[ca],v,!0))),ka(l,d,d.pendingProps.children,v),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function bl(l){l.flags|=4}function t3(l,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!cO(d)){if(d=Ss.current,d!==null&&((mn&4194048)===mn?Mo!==null:(mn&62914560)!==mn&&(mn&536870912)===0||d!==Mo))throw Am=pb,BT;l.flags|=8192}}function zp(l,d){d!==null&&(l.flags|=4),l.flags&16384&&(d=l.tag!==22?Eu():536870912,l.lanes|=d,Nf|=d)}function Im(l,d){if(!Sn)switch(l.tailMode){case"hidden":d=l.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?l.tail=null:v.sibling=null;break;case"collapsed":v=l.tail;for(var j=null;v!==null;)v.alternate!==null&&(j=v),v=v.sibling;j===null?d||l.tail===null?l.tail=null:l.tail.sibling=null:j.sibling=null}}function vr(l){var d=l.alternate!==null&&l.alternate.child===l.child,v=0,j=0;if(d)for(var O=l.child;O!==null;)v|=O.lanes|O.childLanes,j|=O.subtreeFlags&65011712,j|=O.flags&65011712,O.return=l,O=O.sibling;else for(O=l.child;O!==null;)v|=O.lanes|O.childLanes,j|=O.subtreeFlags,j|=O.flags,O.return=l,O=O.sibling;return l.subtreeFlags|=j,l.childLanes=v,d}function YH(l,d,v){var j=d.pendingProps;switch(lb(d),d.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(d),null;case 1:return vr(d),null;case 3:return v=d.stateNode,j=null,l!==null&&(j=l.memoizedState.cache),d.memoizedState.cache!==j&&(d.flags|=2048),pl(ca),he(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(ym(d)?bl(d):l===null||l.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,RT())),vr(d),null;case 26:return v=d.memoizedState,l===null?(bl(d),v!==null?(vr(d),t3(d,v)):(vr(d),d.flags&=-16777217)):v?v!==l.memoizedState?(bl(d),vr(d),t3(d,v)):(vr(d),d.flags&=-16777217):(l.memoizedProps!==j&&bl(d),vr(d),d.flags&=-16777217),null;case 27:je(d),v=ie.current;var O=d.type;if(l!==null&&d.stateNode!=null)l.memoizedProps!==j&&bl(d);else{if(!j){if(d.stateNode===null)throw Error(r(166));return vr(d),null}l=ye.current,ym(d)?MT(d):(l=tO(O,j,v),d.stateNode=l,bl(d))}return vr(d),null;case 5:if(je(d),v=d.type,l!==null&&d.stateNode!=null)l.memoizedProps!==j&&bl(d);else{if(!j){if(d.stateNode===null)throw Error(r(166));return vr(d),null}if(l=ye.current,ym(d))MT(d);else{switch(O=ex(ie.current),l){case 1:l=O.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:l=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":l=O.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":l=O.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":l=O.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof j.is=="string"?O.createElement("select",{is:j.is}):O.createElement("select"),j.multiple?l.multiple=!0:j.size&&(l.size=j.size);break;default:l=typeof j.is=="string"?O.createElement(v,{is:j.is}):O.createElement(v)}}l[pr]=d,l[hn]=j;e:for(O=d.child;O!==null;){if(O.tag===5||O.tag===6)l.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===d)break e;for(;O.sibling===null;){if(O.return===null||O.return===d)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}d.stateNode=l;e:switch(La(l,v,j),v){case"button":case"input":case"select":case"textarea":l=!!j.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&bl(d)}}return vr(d),d.flags&=-16777217,null;case 6:if(l&&d.stateNode!=null)l.memoizedProps!==j&&bl(d);else{if(typeof j!="string"&&d.stateNode===null)throw Error(r(166));if(l=ie.current,ym(d)){if(l=d.stateNode,v=d.memoizedProps,j=null,O=bi,O!==null)switch(O.tag){case 27:case 5:j=O.memoizedProps}l[pr]=d,l=!!(l.nodeValue===v||j!==null&&j.suppressHydrationWarning===!0||G3(l.nodeValue,v)),l||$u(d)}else l=ex(l).createTextNode(j),l[pr]=d,d.stateNode=l}return vr(d),null;case 13:if(j=d.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(O=ym(d),j!==null&&j.dehydrated!==null){if(l===null){if(!O)throw Error(r(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[pr]=d}else bm(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;vr(d),O=!1}else O=RT(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=O),O=!0;if(!O)return d.flags&256?(vl(d),d):(vl(d),null)}if(vl(d),(d.flags&128)!==0)return d.lanes=v,d;if(v=j!==null,l=l!==null&&l.memoizedState!==null,v){j=d.child,O=null,j.alternate!==null&&j.alternate.memoizedState!==null&&j.alternate.memoizedState.cachePool!==null&&(O=j.alternate.memoizedState.cachePool.pool);var L=null;j.memoizedState!==null&&j.memoizedState.cachePool!==null&&(L=j.memoizedState.cachePool.pool),L!==O&&(j.flags|=2048)}return v!==l&&v&&(d.child.flags|=8192),zp(d,d.updateQueue),vr(d),null;case 4:return he(),l===null&&bw(d.stateNode.containerInfo),vr(d),null;case 10:return pl(d.type),vr(d),null;case 19:if(xe(ua),O=d.memoizedState,O===null)return vr(d),null;if(j=(d.flags&128)!==0,L=O.rendering,L===null)if(j)Im(O,!1);else{if(Tr!==0||l!==null&&(l.flags&128)!==0)for(l=d.child;l!==null;){if(L=Ip(l),L!==null){for(d.flags|=128,Im(O,!1),l=L.updateQueue,d.updateQueue=l,zp(d,l),d.subtreeFlags=0,l=v,v=d.child;v!==null;)TT(v,l),v=v.sibling;return Se(ua,ua.current&1|2),d.child}l=l.sibling}O.tail!==null&&Je()>Hp&&(d.flags|=128,j=!0,Im(O,!1),d.lanes=4194304)}else{if(!j)if(l=Ip(L),l!==null){if(d.flags|=128,j=!0,l=l.updateQueue,d.updateQueue=l,zp(d,l),Im(O,!0),O.tail===null&&O.tailMode==="hidden"&&!L.alternate&&!Sn)return vr(d),null}else 2*Je()-O.renderingStartTime>Hp&&v!==536870912&&(d.flags|=128,j=!0,Im(O,!1),d.lanes=4194304);O.isBackwards?(L.sibling=d.child,d.child=L):(l=O.last,l!==null?l.sibling=L:d.child=L,O.last=L)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=Je(),d.sibling=null,l=ua.current,Se(ua,j?l&1|2:l&1),d):(vr(d),null);case 22:case 23:return vl(d),jb(),j=d.memoizedState!==null,l!==null?l.memoizedState!==null!==j&&(d.flags|=8192):j&&(d.flags|=8192),j?(v&536870912)!==0&&(d.flags&128)===0&&(vr(d),d.subtreeFlags&6&&(d.flags|=8192)):vr(d),v=d.updateQueue,v!==null&&zp(d,v.retryQueue),v=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),j=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(j=d.memoizedState.cachePool.pool),j!==v&&(d.flags|=2048),l!==null&&xe(Yu),null;case 24:return v=null,l!==null&&(v=l.memoizedState.cache),d.memoizedState.cache!==v&&(d.flags|=2048),pl(ca),vr(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function WH(l,d){switch(lb(d),d.tag){case 1:return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 3:return pl(ca),he(),l=d.flags,(l&65536)!==0&&(l&128)===0?(d.flags=l&-65537|128,d):null;case 26:case 27:case 5:return je(d),null;case 13:if(vl(d),l=d.memoizedState,l!==null&&l.dehydrated!==null){if(d.alternate===null)throw Error(r(340));bm()}return l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 19:return xe(ua),null;case 4:return he(),null;case 10:return pl(d.type),null;case 22:case 23:return vl(d),jb(),l!==null&&xe(Yu),l=d.flags,l&65536?(d.flags=l&-65537|128,d):null;case 24:return pl(ca),null;case 25:return null;default:return null}}function n3(l,d){switch(lb(d),d.tag){case 3:pl(ca),he();break;case 26:case 27:case 5:je(d);break;case 4:he();break;case 13:vl(d);break;case 19:xe(ua);break;case 10:pl(d.type);break;case 22:case 23:vl(d),jb(),l!==null&&xe(Yu);break;case 24:pl(ca)}}function Lm(l,d){try{var v=d.updateQueue,j=v!==null?v.lastEffect:null;if(j!==null){var O=j.next;v=O;do{if((v.tag&l)===l){j=void 0;var L=v.create,G=v.inst;j=L(),G.destroy=j}v=v.next}while(v!==O)}}catch(ae){$n(d,d.return,ae)}}function wc(l,d,v){try{var j=d.updateQueue,O=j!==null?j.lastEffect:null;if(O!==null){var L=O.next;j=L;do{if((j.tag&l)===l){var G=j.inst,ae=G.destroy;if(ae!==void 0){G.destroy=void 0,O=d;var fe=v,De=ae;try{De()}catch(Ve){$n(O,fe,Ve)}}}j=j.next}while(j!==L)}}catch(Ve){$n(d,d.return,Ve)}}function r3(l){var d=l.updateQueue;if(d!==null){var v=l.stateNode;try{HT(d,v)}catch(j){$n(l,l.return,j)}}}function a3(l,d,v){v.props=Gu(l.type,l.memoizedProps),v.state=l.memoizedState;try{v.componentWillUnmount()}catch(j){$n(l,d,j)}}function Bm(l,d){try{var v=l.ref;if(v!==null){switch(l.tag){case 26:case 27:case 5:var j=l.stateNode;break;case 30:j=l.stateNode;break;default:j=l.stateNode}typeof v=="function"?l.refCleanup=v(j):v.current=j}}catch(O){$n(l,d,O)}}function Do(l,d){var v=l.ref,j=l.refCleanup;if(v!==null)if(typeof j=="function")try{j()}catch(O){$n(l,d,O)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(O){$n(l,d,O)}else v.current=null}function i3(l){var d=l.type,v=l.memoizedProps,j=l.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":v.autoFocus&&j.focus();break e;case"img":v.src?j.src=v.src:v.srcSet&&(j.srcset=v.srcSet)}}catch(O){$n(l,l.return,O)}}function Xb(l,d,v){try{var j=l.stateNode;mq(j,l.type,v,d),j[hn]=d}catch(O){$n(l,l.return,O)}}function s3(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Tc(l.type)||l.tag===4}function Qb(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||s3(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Tc(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Zb(l,d,v){var j=l.tag;if(j===5||j===6)l=l.stateNode,d?(v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v).insertBefore(l,d):(d=v.nodeType===9?v.body:v.nodeName==="HTML"?v.ownerDocument.body:v,d.appendChild(l),v=v._reactRootContainer,v!=null||d.onclick!==null||(d.onclick=Jp));else if(j!==4&&(j===27&&Tc(l.type)&&(v=l.stateNode,d=null),l=l.child,l!==null))for(Zb(l,d,v),l=l.sibling;l!==null;)Zb(l,d,v),l=l.sibling}function Vp(l,d,v){var j=l.tag;if(j===5||j===6)l=l.stateNode,d?v.insertBefore(l,d):v.appendChild(l);else if(j!==4&&(j===27&&Tc(l.type)&&(v=l.stateNode),l=l.child,l!==null))for(Vp(l,d,v),l=l.sibling;l!==null;)Vp(l,d,v),l=l.sibling}function o3(l){var d=l.stateNode,v=l.memoizedProps;try{for(var j=l.type,O=d.attributes;O.length;)d.removeAttributeNode(O[0]);La(d,j,v),d[pr]=l,d[hn]=v}catch(L){$n(l,l.return,L)}}var wl=!1,Ur=!1,Jb=!1,l3=typeof WeakSet=="function"?WeakSet:Set,ya=null;function GH(l,d){if(l=l.containerInfo,Nw=sx,l=U(l),q(l)){if("selectionStart"in l)var v={start:l.selectionStart,end:l.selectionEnd};else e:{v=(v=l.ownerDocument)&&v.defaultView||window;var j=v.getSelection&&v.getSelection();if(j&&j.rangeCount!==0){v=j.anchorNode;var O=j.anchorOffset,L=j.focusNode;j=j.focusOffset;try{v.nodeType,L.nodeType}catch{v=null;break e}var G=0,ae=-1,fe=-1,De=0,Ve=0,Ye=l,ke=null;t:for(;;){for(var Be;Ye!==v||O!==0&&Ye.nodeType!==3||(ae=G+O),Ye!==L||j!==0&&Ye.nodeType!==3||(fe=G+j),Ye.nodeType===3&&(G+=Ye.nodeValue.length),(Be=Ye.firstChild)!==null;)ke=Ye,Ye=Be;for(;;){if(Ye===l)break t;if(ke===v&&++De===O&&(ae=G),ke===L&&++Ve===j&&(fe=G),(Be=Ye.nextSibling)!==null)break;Ye=ke,ke=Ye.parentNode}Ye=Be}v=ae===-1||fe===-1?null:{start:ae,end:fe}}else v=null}v=v||{start:0,end:0}}else v=null;for(Sw={focusedElem:l,selectionRange:v},sx=!1,ya=d;ya!==null;)if(d=ya,l=d.child,(d.subtreeFlags&1024)!==0&&l!==null)l.return=d,ya=l;else for(;ya!==null;){switch(d=ya,L=d.alternate,l=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if((l&1024)!==0&&L!==null){l=void 0,v=d,O=L.memoizedProps,L=L.memoizedState,j=v.stateNode;try{var Dt=Gu(v.type,O,v.elementType===v.type);l=j.getSnapshotBeforeUpdate(Dt,L),j.__reactInternalSnapshotBeforeUpdate=l}catch(Tt){$n(v,v.return,Tt)}}break;case 3:if((l&1024)!==0){if(l=d.stateNode.containerInfo,v=l.nodeType,v===9)Ew(l);else if(v===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Ew(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=d.sibling,l!==null){l.return=d.return,ya=l;break}ya=d.return}}function c3(l,d,v){var j=v.flags;switch(v.tag){case 0:case 11:case 15:jc(l,v),j&4&&Lm(5,v);break;case 1:if(jc(l,v),j&4)if(l=v.stateNode,d===null)try{l.componentDidMount()}catch(G){$n(v,v.return,G)}else{var O=Gu(v.type,d.memoizedProps);d=d.memoizedState;try{l.componentDidUpdate(O,d,l.__reactInternalSnapshotBeforeUpdate)}catch(G){$n(v,v.return,G)}}j&64&&r3(v),j&512&&Bm(v,v.return);break;case 3:if(jc(l,v),j&64&&(l=v.updateQueue,l!==null)){if(d=null,v.child!==null)switch(v.child.tag){case 27:case 5:d=v.child.stateNode;break;case 1:d=v.child.stateNode}try{HT(l,d)}catch(G){$n(v,v.return,G)}}break;case 27:d===null&&j&4&&o3(v);case 26:case 5:jc(l,v),d===null&&j&4&&i3(v),j&512&&Bm(v,v.return);break;case 12:jc(l,v);break;case 13:jc(l,v),j&4&&f3(l,v),j&64&&(l=v.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(v=rq.bind(null,v),wq(l,v))));break;case 22:if(j=v.memoizedState!==null||wl,!j){d=d!==null&&d.memoizedState!==null||Ur,O=wl;var L=Ur;wl=j,(Ur=d)&&!L?Nc(l,v,(v.subtreeFlags&8772)!==0):jc(l,v),wl=O,Ur=L}break;case 30:break;default:jc(l,v)}}function u3(l){var d=l.alternate;d!==null&&(l.alternate=null,u3(d)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(d=l.stateNode,d!==null&&Tu(d)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var or=null,Mi=!1;function jl(l,d,v){for(v=v.child;v!==null;)d3(l,d,v),v=v.sibling}function d3(l,d,v){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Nn,v)}catch{}switch(v.tag){case 26:Ur||Do(v,d),jl(l,d,v),v.memoizedState?v.memoizedState.count--:v.stateNode&&(v=v.stateNode,v.parentNode.removeChild(v));break;case 27:Ur||Do(v,d);var j=or,O=Mi;Tc(v.type)&&(or=v.stateNode,Mi=!1),jl(l,d,v),Wm(v.stateNode),or=j,Mi=O;break;case 5:Ur||Do(v,d);case 6:if(j=or,O=Mi,or=null,jl(l,d,v),or=j,Mi=O,or!==null)if(Mi)try{(or.nodeType===9?or.body:or.nodeName==="HTML"?or.ownerDocument.body:or).removeChild(v.stateNode)}catch(L){$n(v,d,L)}else try{or.removeChild(v.stateNode)}catch(L){$n(v,d,L)}break;case 18:or!==null&&(Mi?(l=or,J3(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,v.stateNode),tg(l)):J3(or,v.stateNode));break;case 4:j=or,O=Mi,or=v.stateNode.containerInfo,Mi=!0,jl(l,d,v),or=j,Mi=O;break;case 0:case 11:case 14:case 15:Ur||wc(2,v,d),Ur||wc(4,v,d),jl(l,d,v);break;case 1:Ur||(Do(v,d),j=v.stateNode,typeof j.componentWillUnmount=="function"&&a3(v,d,j)),jl(l,d,v);break;case 21:jl(l,d,v);break;case 22:Ur=(j=Ur)||v.memoizedState!==null,jl(l,d,v),Ur=j;break;default:jl(l,d,v)}}function f3(l,d){if(d.memoizedState===null&&(l=d.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{tg(l)}catch(v){$n(d,d.return,v)}}function KH(l){switch(l.tag){case 13:case 19:var d=l.stateNode;return d===null&&(d=l.stateNode=new l3),d;case 22:return l=l.stateNode,d=l._retryCache,d===null&&(d=l._retryCache=new l3),d;default:throw Error(r(435,l.tag))}}function ew(l,d){var v=KH(l);d.forEach(function(j){var O=aq.bind(null,l,j);v.has(j)||(v.add(j),j.then(O,O))})}function Gi(l,d){var v=d.deletions;if(v!==null)for(var j=0;j<v.length;j++){var O=v[j],L=l,G=d,ae=G;e:for(;ae!==null;){switch(ae.tag){case 27:if(Tc(ae.type)){or=ae.stateNode,Mi=!1;break e}break;case 5:or=ae.stateNode,Mi=!1;break e;case 3:case 4:or=ae.stateNode.containerInfo,Mi=!0;break e}ae=ae.return}if(or===null)throw Error(r(160));d3(L,G,O),or=null,Mi=!1,L=O.alternate,L!==null&&(L.return=null),O.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)h3(d,l),d=d.sibling}var Zs=null;function h3(l,d){var v=l.alternate,j=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Gi(d,l),Ki(l),j&4&&(wc(3,l,l.return),Lm(3,l),wc(5,l,l.return));break;case 1:Gi(d,l),Ki(l),j&512&&(Ur||v===null||Do(v,v.return)),j&64&&wl&&(l=l.updateQueue,l!==null&&(j=l.callbacks,j!==null&&(v=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=v===null?j:v.concat(j))));break;case 26:var O=Zs;if(Gi(d,l),Ki(l),j&512&&(Ur||v===null||Do(v,v.return)),j&4){var L=v!==null?v.memoizedState:null;if(j=l.memoizedState,v===null)if(j===null)if(l.stateNode===null){e:{j=l.type,v=l.memoizedProps,O=O.ownerDocument||O;t:switch(j){case"title":L=O.getElementsByTagName("title")[0],(!L||L[vs]||L[pr]||L.namespaceURI==="http://www.w3.org/2000/svg"||L.hasAttribute("itemprop"))&&(L=O.createElement(j),O.head.insertBefore(L,O.querySelector("head > title"))),La(L,j,v),L[pr]=l,Tn(L),j=L;break e;case"link":var G=oO("link","href",O).get(j+(v.href||""));if(G){for(var ae=0;ae<G.length;ae++)if(L=G[ae],L.getAttribute("href")===(v.href==null||v.href===""?null:v.href)&&L.getAttribute("rel")===(v.rel==null?null:v.rel)&&L.getAttribute("title")===(v.title==null?null:v.title)&&L.getAttribute("crossorigin")===(v.crossOrigin==null?null:v.crossOrigin)){G.splice(ae,1);break t}}L=O.createElement(j),La(L,j,v),O.head.appendChild(L);break;case"meta":if(G=oO("meta","content",O).get(j+(v.content||""))){for(ae=0;ae<G.length;ae++)if(L=G[ae],L.getAttribute("content")===(v.content==null?null:""+v.content)&&L.getAttribute("name")===(v.name==null?null:v.name)&&L.getAttribute("property")===(v.property==null?null:v.property)&&L.getAttribute("http-equiv")===(v.httpEquiv==null?null:v.httpEquiv)&&L.getAttribute("charset")===(v.charSet==null?null:v.charSet)){G.splice(ae,1);break t}}L=O.createElement(j),La(L,j,v),O.head.appendChild(L);break;default:throw Error(r(468,j))}L[pr]=l,Tn(L),j=L}l.stateNode=j}else lO(O,l.type,l.stateNode);else l.stateNode=sO(O,j,l.memoizedProps);else L!==j?(L===null?v.stateNode!==null&&(v=v.stateNode,v.parentNode.removeChild(v)):L.count--,j===null?lO(O,l.type,l.stateNode):sO(O,j,l.memoizedProps)):j===null&&l.stateNode!==null&&Xb(l,l.memoizedProps,v.memoizedProps)}break;case 27:Gi(d,l),Ki(l),j&512&&(Ur||v===null||Do(v,v.return)),v!==null&&j&4&&Xb(l,l.memoizedProps,v.memoizedProps);break;case 5:if(Gi(d,l),Ki(l),j&512&&(Ur||v===null||Do(v,v.return)),l.flags&32){O=l.stateNode;try{sa(O,"")}catch(Be){$n(l,l.return,Be)}}j&4&&l.stateNode!=null&&(O=l.memoizedProps,Xb(l,O,v!==null?v.memoizedProps:O)),j&1024&&(Jb=!0);break;case 6:if(Gi(d,l),Ki(l),j&4){if(l.stateNode===null)throw Error(r(162));j=l.memoizedProps,v=l.stateNode;try{v.nodeValue=j}catch(Be){$n(l,l.return,Be)}}break;case 3:if(rx=null,O=Zs,Zs=tx(d.containerInfo),Gi(d,l),Zs=O,Ki(l),j&4&&v!==null&&v.memoizedState.isDehydrated)try{tg(d.containerInfo)}catch(Be){$n(l,l.return,Be)}Jb&&(Jb=!1,m3(l));break;case 4:j=Zs,Zs=tx(l.stateNode.containerInfo),Gi(d,l),Ki(l),Zs=j;break;case 12:Gi(d,l),Ki(l);break;case 13:Gi(d,l),Ki(l),l.child.flags&8192&&l.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(sw=Je()),j&4&&(j=l.updateQueue,j!==null&&(l.updateQueue=null,ew(l,j)));break;case 22:O=l.memoizedState!==null;var fe=v!==null&&v.memoizedState!==null,De=wl,Ve=Ur;if(wl=De||O,Ur=Ve||fe,Gi(d,l),Ur=Ve,wl=De,Ki(l),j&8192)e:for(d=l.stateNode,d._visibility=O?d._visibility&-2:d._visibility|1,O&&(v===null||fe||wl||Ur||Ku(l)),v=null,d=l;;){if(d.tag===5||d.tag===26){if(v===null){fe=v=d;try{if(L=fe.stateNode,O)G=L.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{ae=fe.stateNode;var Ye=fe.memoizedProps.style,ke=Ye!=null&&Ye.hasOwnProperty("display")?Ye.display:null;ae.style.display=ke==null||typeof ke=="boolean"?"":(""+ke).trim()}}catch(Be){$n(fe,fe.return,Be)}}}else if(d.tag===6){if(v===null){fe=d;try{fe.stateNode.nodeValue=O?"":fe.memoizedProps}catch(Be){$n(fe,fe.return,Be)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===l)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break e;for(;d.sibling===null;){if(d.return===null||d.return===l)break e;v===d&&(v=null),d=d.return}v===d&&(v=null),d.sibling.return=d.return,d=d.sibling}j&4&&(j=l.updateQueue,j!==null&&(v=j.retryQueue,v!==null&&(j.retryQueue=null,ew(l,v))));break;case 19:Gi(d,l),Ki(l),j&4&&(j=l.updateQueue,j!==null&&(l.updateQueue=null,ew(l,j)));break;case 30:break;case 21:break;default:Gi(d,l),Ki(l)}}function Ki(l){var d=l.flags;if(d&2){try{for(var v,j=l.return;j!==null;){if(s3(j)){v=j;break}j=j.return}if(v==null)throw Error(r(160));switch(v.tag){case 27:var O=v.stateNode,L=Qb(l);Vp(l,L,O);break;case 5:var G=v.stateNode;v.flags&32&&(sa(G,""),v.flags&=-33);var ae=Qb(l);Vp(l,ae,G);break;case 3:case 4:var fe=v.stateNode.containerInfo,De=Qb(l);Zb(l,De,fe);break;default:throw Error(r(161))}}catch(Ve){$n(l,l.return,Ve)}l.flags&=-3}d&4096&&(l.flags&=-4097)}function m3(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var d=l;m3(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),l=l.sibling}}function jc(l,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)c3(l,d.alternate,d),d=d.sibling}function Ku(l){for(l=l.child;l!==null;){var d=l;switch(d.tag){case 0:case 11:case 14:case 15:wc(4,d,d.return),Ku(d);break;case 1:Do(d,d.return);var v=d.stateNode;typeof v.componentWillUnmount=="function"&&a3(d,d.return,v),Ku(d);break;case 27:Wm(d.stateNode);case 26:case 5:Do(d,d.return),Ku(d);break;case 22:d.memoizedState===null&&Ku(d);break;case 30:Ku(d);break;default:Ku(d)}l=l.sibling}}function Nc(l,d,v){for(v=v&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var j=d.alternate,O=l,L=d,G=L.flags;switch(L.tag){case 0:case 11:case 15:Nc(O,L,v),Lm(4,L);break;case 1:if(Nc(O,L,v),j=L,O=j.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(De){$n(j,j.return,De)}if(j=L,O=j.updateQueue,O!==null){var ae=j.stateNode;try{var fe=O.shared.hiddenCallbacks;if(fe!==null)for(O.shared.hiddenCallbacks=null,O=0;O<fe.length;O++)$T(fe[O],ae)}catch(De){$n(j,j.return,De)}}v&&G&64&&r3(L),Bm(L,L.return);break;case 27:o3(L);case 26:case 5:Nc(O,L,v),v&&j===null&&G&4&&i3(L),Bm(L,L.return);break;case 12:Nc(O,L,v);break;case 13:Nc(O,L,v),v&&G&4&&f3(O,L);break;case 22:L.memoizedState===null&&Nc(O,L,v),Bm(L,L.return);break;case 30:break;default:Nc(O,L,v)}d=d.sibling}}function tw(l,d){var v=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),l=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(l=d.memoizedState.cachePool.pool),l!==v&&(l!=null&&l.refCount++,v!=null&&Nm(v))}function nw(l,d){l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Nm(l))}function Ro(l,d,v,j){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)g3(l,d,v,j),d=d.sibling}function g3(l,d,v,j){var O=d.flags;switch(d.tag){case 0:case 11:case 15:Ro(l,d,v,j),O&2048&&Lm(9,d);break;case 1:Ro(l,d,v,j);break;case 3:Ro(l,d,v,j),O&2048&&(l=null,d.alternate!==null&&(l=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==l&&(d.refCount++,l!=null&&Nm(l)));break;case 12:if(O&2048){Ro(l,d,v,j),l=d.stateNode;try{var L=d.memoizedProps,G=L.id,ae=L.onPostCommit;typeof ae=="function"&&ae(G,d.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(fe){$n(d,d.return,fe)}}else Ro(l,d,v,j);break;case 13:Ro(l,d,v,j);break;case 23:break;case 22:L=d.stateNode,G=d.alternate,d.memoizedState!==null?L._visibility&2?Ro(l,d,v,j):Fm(l,d):L._visibility&2?Ro(l,d,v,j):(L._visibility|=2,bf(l,d,v,j,(d.subtreeFlags&10256)!==0)),O&2048&&tw(G,d);break;case 24:Ro(l,d,v,j),O&2048&&nw(d.alternate,d);break;default:Ro(l,d,v,j)}}function bf(l,d,v,j,O){for(O=O&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var L=l,G=d,ae=v,fe=j,De=G.flags;switch(G.tag){case 0:case 11:case 15:bf(L,G,ae,fe,O),Lm(8,G);break;case 23:break;case 22:var Ve=G.stateNode;G.memoizedState!==null?Ve._visibility&2?bf(L,G,ae,fe,O):Fm(L,G):(Ve._visibility|=2,bf(L,G,ae,fe,O)),O&&De&2048&&tw(G.alternate,G);break;case 24:bf(L,G,ae,fe,O),O&&De&2048&&nw(G.alternate,G);break;default:bf(L,G,ae,fe,O)}d=d.sibling}}function Fm(l,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var v=l,j=d,O=j.flags;switch(j.tag){case 22:Fm(v,j),O&2048&&tw(j.alternate,j);break;case 24:Fm(v,j),O&2048&&nw(j.alternate,j);break;default:Fm(v,j)}d=d.sibling}}var Um=8192;function wf(l){if(l.subtreeFlags&Um)for(l=l.child;l!==null;)p3(l),l=l.sibling}function p3(l){switch(l.tag){case 26:wf(l),l.flags&Um&&l.memoizedState!==null&&Pq(Zs,l.memoizedState,l.memoizedProps);break;case 5:wf(l);break;case 3:case 4:var d=Zs;Zs=tx(l.stateNode.containerInfo),wf(l),Zs=d;break;case 22:l.memoizedState===null&&(d=l.alternate,d!==null&&d.memoizedState!==null?(d=Um,Um=16777216,wf(l),Um=d):wf(l));break;default:wf(l)}}function x3(l){var d=l.alternate;if(d!==null&&(l=d.child,l!==null)){d.child=null;do d=l.sibling,l.sibling=null,l=d;while(l!==null)}}function zm(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var v=0;v<d.length;v++){var j=d[v];ya=j,y3(j,l)}x3(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)v3(l),l=l.sibling}function v3(l){switch(l.tag){case 0:case 11:case 15:zm(l),l.flags&2048&&wc(9,l,l.return);break;case 3:zm(l);break;case 12:zm(l);break;case 22:var d=l.stateNode;l.memoizedState!==null&&d._visibility&2&&(l.return===null||l.return.tag!==13)?(d._visibility&=-3,$p(l)):zm(l);break;default:zm(l)}}function $p(l){var d=l.deletions;if((l.flags&16)!==0){if(d!==null)for(var v=0;v<d.length;v++){var j=d[v];ya=j,y3(j,l)}x3(l)}for(l=l.child;l!==null;){switch(d=l,d.tag){case 0:case 11:case 15:wc(8,d,d.return),$p(d);break;case 22:v=d.stateNode,v._visibility&2&&(v._visibility&=-3,$p(d));break;default:$p(d)}l=l.sibling}}function y3(l,d){for(;ya!==null;){var v=ya;switch(v.tag){case 0:case 11:case 15:wc(8,v,d);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var j=v.memoizedState.cachePool.pool;j!=null&&j.refCount++}break;case 24:Nm(v.memoizedState.cache)}if(j=v.child,j!==null)j.return=v,ya=j;else e:for(v=l;ya!==null;){j=ya;var O=j.sibling,L=j.return;if(u3(j),j===v){ya=null;break e}if(O!==null){O.return=L,ya=O;break e}ya=L}}}var XH={getCacheForType:function(l){var d=ei(ca),v=d.data.get(l);return v===void 0&&(v=l(),d.data.set(l,v)),v}},QH=typeof WeakMap=="function"?WeakMap:Map,Dn=0,Xn=null,nn=null,mn=0,Rn=0,Xi=null,Sc=!1,jf=!1,rw=!1,Nl=0,Tr=0,_c=0,Xu=0,aw=0,_s=0,Nf=0,Vm=null,Di=null,iw=!1,sw=0,Hp=1/0,qp=null,Ac=null,Ia=0,Ec=null,Sf=null,_f=0,ow=0,lw=null,b3=null,$m=0,cw=null;function Qi(){if((Dn&2)!==0&&mn!==0)return mn&-mn;if(H.T!==null){var l=ff;return l!==0?l:pw()}return Ei()}function w3(){_s===0&&(_s=(mn&536870912)===0||Sn?pi():536870912);var l=Ss.current;return l!==null&&(l.flags|=32),_s}function Zi(l,d,v){(l===Xn&&(Rn===2||Rn===9)||l.cancelPendingCommit!==null)&&(Af(l,0),Cc(l,mn,_s,!1)),Ga(l,v),((Dn&2)===0||l!==Xn)&&(l===Xn&&((Dn&2)===0&&(Xu|=v),Tr===4&&Cc(l,mn,_s,!1)),Po(l))}function j3(l,d,v){if((Dn&6)!==0)throw Error(r(327));var j=!v&&(d&124)===0&&(d&l.expiredLanes)===0||_n(l,d),O=j?eq(l,d):fw(l,d,!0),L=j;do{if(O===0){jf&&!j&&Cc(l,d,0,!1);break}else{if(v=l.current.alternate,L&&!ZH(v)){O=fw(l,d,!1),L=!1;continue}if(O===2){if(L=d,l.errorRecoveryDisabledLanes&L)var G=0;else G=l.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){d=G;e:{var ae=l;O=Vm;var fe=ae.current.memoizedState.isDehydrated;if(fe&&(Af(ae,G).flags|=256),G=fw(ae,G,!1),G!==2){if(rw&&!fe){ae.errorRecoveryDisabledLanes|=L,Xu|=L,O=4;break e}L=Di,Di=O,L!==null&&(Di===null?Di=L:Di.push.apply(Di,L))}O=G}if(L=!1,O!==2)continue}}if(O===1){Af(l,0),Cc(l,d,0,!0);break}e:{switch(j=l,L=O,L){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:Cc(j,d,_s,!Sc);break e;case 2:Di=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&(O=sw+300-Je(),10<O)){if(Cc(j,d,_s,!Sc),un(j,0,!0)!==0)break e;j.timeoutHandle=Q3(N3.bind(null,j,v,Di,qp,iw,d,_s,Xu,Nf,Sc,L,2,-0,0),O);break e}N3(j,v,Di,qp,iw,d,_s,Xu,Nf,Sc,L,0,-0,0)}}break}while(!0);Po(l)}function N3(l,d,v,j,O,L,G,ae,fe,De,Ve,Ye,ke,Be){if(l.timeoutHandle=-1,Ye=d.subtreeFlags,(Ye&8192||(Ye&16785408)===16785408)&&(Xm={stylesheets:null,count:0,unsuspend:Rq},p3(d),Ye=kq(),Ye!==null)){l.cancelPendingCommit=Ye(O3.bind(null,l,d,L,v,j,O,G,ae,fe,Ve,1,ke,Be)),Cc(l,L,G,!De);return}O3(l,d,L,v,j,O,G,ae,fe)}function ZH(l){for(var d=l;;){var v=d.tag;if((v===0||v===11||v===15)&&d.flags&16384&&(v=d.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var j=0;j<v.length;j++){var O=v[j],L=O.getSnapshot;O=O.value;try{if(!y(L(),O))return!1}catch{return!1}}if(v=d.child,d.subtreeFlags&16384&&v!==null)v.return=d,d=v;else{if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Cc(l,d,v,j){d&=~aw,d&=~Xu,l.suspendedLanes|=d,l.pingedLanes&=~d,j&&(l.warmLanes|=d),j=l.expirationTimes;for(var O=d;0<O;){var L=31-sn(O),G=1<<L;j[L]=-1,O&=~G}v!==0&&Pt(l,v,d)}function Yp(){return(Dn&6)===0?(Hm(0),!1):!0}function uw(){if(nn!==null){if(Rn===0)var l=nn.return;else l=nn,gl=Hu=null,Eb(l),vf=null,Pm=0,l=nn;for(;l!==null;)n3(l.alternate,l),l=l.return;nn=null}}function Af(l,d){var v=l.timeoutHandle;v!==-1&&(l.timeoutHandle=-1,pq(v)),v=l.cancelPendingCommit,v!==null&&(l.cancelPendingCommit=null,v()),uw(),Xn=l,nn=v=fl(l.current,null),mn=d,Rn=0,Xi=null,Sc=!1,jf=_n(l,d),rw=!1,Nf=_s=aw=Xu=_c=Tr=0,Di=Vm=null,iw=!1,(d&8)!==0&&(d|=d&32);var j=l.entangledLanes;if(j!==0)for(l=l.entanglements,j&=d;0<j;){var O=31-sn(j),L=1<<O;d|=l[O],j&=~L}return Nl=d,mp(),v}function S3(l,d){Xt=null,H.H=Rp,d===_m||d===Np?(d=zT(),Rn=3):d===BT?(d=zT(),Rn=4):Rn=d===V4?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Xi=d,nn===null&&(Tr=1,Bp(l,bs(d,l.current)))}function _3(){var l=H.H;return H.H=Rp,l===null?Rp:l}function A3(){var l=H.A;return H.A=XH,l}function dw(){Tr=4,Sc||(mn&4194048)!==mn&&Ss.current!==null||(jf=!0),(_c&134217727)===0&&(Xu&134217727)===0||Xn===null||Cc(Xn,mn,_s,!1)}function fw(l,d,v){var j=Dn;Dn|=2;var O=_3(),L=A3();(Xn!==l||mn!==d)&&(qp=null,Af(l,d)),d=!1;var G=Tr;e:do try{if(Rn!==0&&nn!==null){var ae=nn,fe=Xi;switch(Rn){case 8:uw(),G=6;break e;case 3:case 2:case 9:case 6:Ss.current===null&&(d=!0);var De=Rn;if(Rn=0,Xi=null,Ef(l,ae,fe,De),v&&jf){G=0;break e}break;default:De=Rn,Rn=0,Xi=null,Ef(l,ae,fe,De)}}JH(),G=Tr;break}catch(Ve){S3(l,Ve)}while(!0);return d&&l.shellSuspendCounter++,gl=Hu=null,Dn=j,H.H=O,H.A=L,nn===null&&(Xn=null,mn=0,mp()),G}function JH(){for(;nn!==null;)E3(nn)}function eq(l,d){var v=Dn;Dn|=2;var j=_3(),O=A3();Xn!==l||mn!==d?(qp=null,Hp=Je()+500,Af(l,d)):jf=_n(l,d);e:do try{if(Rn!==0&&nn!==null){d=nn;var L=Xi;t:switch(Rn){case 1:Rn=0,Xi=null,Ef(l,d,L,1);break;case 2:case 9:if(FT(L)){Rn=0,Xi=null,C3(d);break}d=function(){Rn!==2&&Rn!==9||Xn!==l||(Rn=7),Po(l)},L.then(d,d);break e;case 3:Rn=7;break e;case 4:Rn=5;break e;case 7:FT(L)?(Rn=0,Xi=null,C3(d)):(Rn=0,Xi=null,Ef(l,d,L,7));break;case 5:var G=null;switch(nn.tag){case 26:G=nn.memoizedState;case 5:case 27:var ae=nn;if(!G||cO(G)){Rn=0,Xi=null;var fe=ae.sibling;if(fe!==null)nn=fe;else{var De=ae.return;De!==null?(nn=De,Wp(De)):nn=null}break t}}Rn=0,Xi=null,Ef(l,d,L,5);break;case 6:Rn=0,Xi=null,Ef(l,d,L,6);break;case 8:uw(),Tr=6;break e;default:throw Error(r(462))}}tq();break}catch(Ve){S3(l,Ve)}while(!0);return gl=Hu=null,H.H=j,H.A=O,Dn=v,nn!==null?0:(Xn=null,mn=0,mp(),Tr)}function tq(){for(;nn!==null&&!Qe();)E3(nn)}function E3(l){var d=e3(l.alternate,l,Nl);l.memoizedProps=l.pendingProps,d===null?Wp(l):nn=d}function C3(l){var d=l,v=d.alternate;switch(d.tag){case 15:case 0:d=G4(v,d,d.pendingProps,d.type,void 0,mn);break;case 11:d=G4(v,d,d.pendingProps,d.type.render,d.ref,mn);break;case 5:Eb(d);default:n3(v,d),d=nn=TT(d,Nl),d=e3(v,d,Nl)}l.memoizedProps=l.pendingProps,d===null?Wp(l):nn=d}function Ef(l,d,v,j){gl=Hu=null,Eb(d),vf=null,Pm=0;var O=d.return;try{if(HH(l,O,d,v,mn)){Tr=1,Bp(l,bs(v,l.current)),nn=null;return}}catch(L){if(O!==null)throw nn=O,L;Tr=1,Bp(l,bs(v,l.current)),nn=null;return}d.flags&32768?(Sn||j===1?l=!0:jf||(mn&536870912)!==0?l=!1:(Sc=l=!0,(j===2||j===9||j===3||j===6)&&(j=Ss.current,j!==null&&j.tag===13&&(j.flags|=16384))),T3(d,l)):Wp(d)}function Wp(l){var d=l;do{if((d.flags&32768)!==0){T3(d,Sc);return}l=d.return;var v=YH(d.alternate,d,Nl);if(v!==null){nn=v;return}if(d=d.sibling,d!==null){nn=d;return}nn=d=l}while(d!==null);Tr===0&&(Tr=5)}function T3(l,d){do{var v=WH(l.alternate,l);if(v!==null){v.flags&=32767,nn=v;return}if(v=l.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!d&&(l=l.sibling,l!==null)){nn=l;return}nn=l=v}while(l!==null);Tr=6,nn=null}function O3(l,d,v,j,O,L,G,ae,fe){l.cancelPendingCommit=null;do Gp();while(Ia!==0);if((Dn&6)!==0)throw Error(r(327));if(d!==null){if(d===l.current)throw Error(r(177));if(L=d.lanes|d.childLanes,L|=nb,Cu(l,v,L,G,ae,fe),l===Xn&&(nn=Xn=null,mn=0),Sf=d,Ec=l,_f=v,ow=L,lw=O,b3=j,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,iq(ct,function(){return k3(),null})):(l.callbackNode=null,l.callbackPriority=0),j=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||j){j=H.T,H.T=null,O=ee.p,ee.p=2,G=Dn,Dn|=4;try{GH(l,d,v)}finally{Dn=G,ee.p=O,H.T=j}}Ia=1,M3(),D3(),R3()}}function M3(){if(Ia===1){Ia=0;var l=Ec,d=Sf,v=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||v){v=H.T,H.T=null;var j=ee.p;ee.p=2;var O=Dn;Dn|=4;try{h3(d,l);var L=Sw,G=U(l.containerInfo),ae=L.focusedElem,fe=L.selectionRange;if(G!==ae&&ae&&ae.ownerDocument&&P(ae.ownerDocument.documentElement,ae)){if(fe!==null&&q(ae)){var De=fe.start,Ve=fe.end;if(Ve===void 0&&(Ve=De),"selectionStart"in ae)ae.selectionStart=De,ae.selectionEnd=Math.min(Ve,ae.value.length);else{var Ye=ae.ownerDocument||document,ke=Ye&&Ye.defaultView||window;if(ke.getSelection){var Be=ke.getSelection(),Dt=ae.textContent.length,Tt=Math.min(fe.start,Dt),Un=fe.end===void 0?Tt:Math.min(fe.end,Dt);!Be.extend&&Tt>Un&&(G=Un,Un=Tt,Tt=G);var _e=E(ae,Tt),we=E(ae,Un);if(_e&&we&&(Be.rangeCount!==1||Be.anchorNode!==_e.node||Be.anchorOffset!==_e.offset||Be.focusNode!==we.node||Be.focusOffset!==we.offset)){var Te=Ye.createRange();Te.setStart(_e.node,_e.offset),Be.removeAllRanges(),Tt>Un?(Be.addRange(Te),Be.extend(we.node,we.offset)):(Te.setEnd(we.node,we.offset),Be.addRange(Te))}}}}for(Ye=[],Be=ae;Be=Be.parentNode;)Be.nodeType===1&&Ye.push({element:Be,left:Be.scrollLeft,top:Be.scrollTop});for(typeof ae.focus=="function"&&ae.focus(),ae=0;ae<Ye.length;ae++){var He=Ye[ae];He.element.scrollLeft=He.left,He.element.scrollTop=He.top}}sx=!!Nw,Sw=Nw=null}finally{Dn=O,ee.p=j,H.T=v}}l.current=d,Ia=2}}function D3(){if(Ia===2){Ia=0;var l=Ec,d=Sf,v=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||v){v=H.T,H.T=null;var j=ee.p;ee.p=2;var O=Dn;Dn|=4;try{c3(l,d.alternate,d)}finally{Dn=O,ee.p=j,H.T=v}}Ia=3}}function R3(){if(Ia===4||Ia===3){Ia=0,ht();var l=Ec,d=Sf,v=_f,j=b3;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?Ia=5:(Ia=0,Sf=Ec=null,P3(l,l.pendingLanes));var O=l.pendingLanes;if(O===0&&(Ac=null),fn(v),d=d.stateNode,Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Nn,d,void 0,(d.current.flags&128)===128)}catch{}if(j!==null){d=H.T,O=ee.p,ee.p=2,H.T=null;try{for(var L=l.onRecoverableError,G=0;G<j.length;G++){var ae=j[G];L(ae.value,{componentStack:ae.stack})}}finally{H.T=d,ee.p=O}}(_f&3)!==0&&Gp(),Po(l),O=l.pendingLanes,(v&4194090)!==0&&(O&42)!==0?l===cw?$m++:($m=0,cw=l):$m=0,Hm(0)}}function P3(l,d){(l.pooledCacheLanes&=d)===0&&(d=l.pooledCache,d!=null&&(l.pooledCache=null,Nm(d)))}function Gp(l){return M3(),D3(),R3(),k3()}function k3(){if(Ia!==5)return!1;var l=Ec,d=ow;ow=0;var v=fn(_f),j=H.T,O=ee.p;try{ee.p=32>v?32:v,H.T=null,v=lw,lw=null;var L=Ec,G=_f;if(Ia=0,Sf=Ec=null,_f=0,(Dn&6)!==0)throw Error(r(331));var ae=Dn;if(Dn|=4,v3(L.current),g3(L,L.current,G,v),Dn=ae,Hm(0,!1),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Nn,L)}catch{}return!0}finally{ee.p=O,H.T=j,P3(l,d)}}function I3(l,d,v){d=bs(v,d),d=zb(l.stateNode,d,2),l=xc(l,d,2),l!==null&&(Ga(l,2),Po(l))}function $n(l,d,v){if(l.tag===3)I3(l,l,v);else for(;d!==null;){if(d.tag===3){I3(d,l,v);break}else if(d.tag===1){var j=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Ac===null||!Ac.has(j))){l=bs(v,l),v=U4(2),j=xc(d,v,2),j!==null&&(z4(v,j,d,l),Ga(j,2),Po(j));break}}d=d.return}}function hw(l,d,v){var j=l.pingCache;if(j===null){j=l.pingCache=new QH;var O=new Set;j.set(d,O)}else O=j.get(d),O===void 0&&(O=new Set,j.set(d,O));O.has(v)||(rw=!0,O.add(v),l=nq.bind(null,l,d,v),d.then(l,l))}function nq(l,d,v){var j=l.pingCache;j!==null&&j.delete(d),l.pingedLanes|=l.suspendedLanes&v,l.warmLanes&=~v,Xn===l&&(mn&v)===v&&(Tr===4||Tr===3&&(mn&62914560)===mn&&300>Je()-sw?(Dn&2)===0&&Af(l,0):aw|=v,Nf===mn&&(Nf=0)),Po(l)}function L3(l,d){d===0&&(d=Eu()),l=lf(l,d),l!==null&&(Ga(l,d),Po(l))}function rq(l){var d=l.memoizedState,v=0;d!==null&&(v=d.retryLane),L3(l,v)}function aq(l,d){var v=0;switch(l.tag){case 13:var j=l.stateNode,O=l.memoizedState;O!==null&&(v=O.retryLane);break;case 19:j=l.stateNode;break;case 22:j=l.stateNode._retryCache;break;default:throw Error(r(314))}j!==null&&j.delete(d),L3(l,v)}function iq(l,d){return Ke(l,d)}var Kp=null,Cf=null,mw=!1,Xp=!1,gw=!1,Qu=0;function Po(l){l!==Cf&&l.next===null&&(Cf===null?Kp=Cf=l:Cf=Cf.next=l),Xp=!0,mw||(mw=!0,oq())}function Hm(l,d){if(!gw&&Xp){gw=!0;do for(var v=!1,j=Kp;j!==null;){if(l!==0){var O=j.pendingLanes;if(O===0)var L=0;else{var G=j.suspendedLanes,ae=j.pingedLanes;L=(1<<31-sn(42|l)+1)-1,L&=O&~(G&~ae),L=L&201326741?L&201326741|1:L?L|2:0}L!==0&&(v=!0,z3(j,L))}else L=mn,L=un(j,j===Xn?L:0,j.cancelPendingCommit!==null||j.timeoutHandle!==-1),(L&3)===0||_n(j,L)||(v=!0,z3(j,L));j=j.next}while(v);gw=!1}}function sq(){B3()}function B3(){Xp=mw=!1;var l=0;Qu!==0&&(gq()&&(l=Qu),Qu=0);for(var d=Je(),v=null,j=Kp;j!==null;){var O=j.next,L=F3(j,d);L===0?(j.next=null,v===null?Kp=O:v.next=O,O===null&&(Cf=v)):(v=j,(l!==0||(L&3)!==0)&&(Xp=!0)),j=O}Hm(l)}function F3(l,d){for(var v=l.suspendedLanes,j=l.pingedLanes,O=l.expirationTimes,L=l.pendingLanes&-62914561;0<L;){var G=31-sn(L),ae=1<<G,fe=O[G];fe===-1?((ae&v)===0||(ae&j)!==0)&&(O[G]=Ys(ae,d)):fe<=d&&(l.expiredLanes|=ae),L&=~ae}if(d=Xn,v=mn,v=un(l,l===d?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),j=l.callbackNode,v===0||l===d&&(Rn===2||Rn===9)||l.cancelPendingCommit!==null)return j!==null&&j!==null&&ze(j),l.callbackNode=null,l.callbackPriority=0;if((v&3)===0||_n(l,v)){if(d=v&-v,d===l.callbackPriority)return d;switch(j!==null&&ze(j),fn(v)){case 2:case 8:v=hr;break;case 32:v=ct;break;case 268435456:v=Wr;break;default:v=ct}return j=U3.bind(null,l),v=Ke(v,j),l.callbackPriority=d,l.callbackNode=v,d}return j!==null&&j!==null&&ze(j),l.callbackPriority=2,l.callbackNode=null,2}function U3(l,d){if(Ia!==0&&Ia!==5)return l.callbackNode=null,l.callbackPriority=0,null;var v=l.callbackNode;if(Gp()&&l.callbackNode!==v)return null;var j=mn;return j=un(l,l===Xn?j:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),j===0?null:(j3(l,j,d),F3(l,Je()),l.callbackNode!=null&&l.callbackNode===v?U3.bind(null,l):null)}function z3(l,d){if(Gp())return null;j3(l,d,!0)}function oq(){xq(function(){(Dn&6)!==0?Ke(st,sq):B3()})}function pw(){return Qu===0&&(Qu=pi()),Qu}function V3(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Zd(""+l)}function $3(l,d){var v=d.ownerDocument.createElement("input");return v.name=d.name,v.value=d.value,l.id&&v.setAttribute("form",l.id),d.parentNode.insertBefore(v,d),l=new FormData(l),v.parentNode.removeChild(v),l}function lq(l,d,v,j,O){if(d==="submit"&&v&&v.stateNode===O){var L=V3((O[hn]||null).action),G=j.submitter;G&&(d=(d=G[hn]||null)?V3(d.formAction):G.getAttribute("formAction"),d!==null&&(L=d,G=null));var ae=new Ao("action","action",null,j,O);l.push({event:ae,listeners:[{instance:null,listener:function(){if(j.defaultPrevented){if(Qu!==0){var fe=G?$3(O,G):new FormData(O);Ib(v,{pending:!0,data:fe,method:O.method,action:L},null,fe)}}else typeof L=="function"&&(ae.preventDefault(),fe=G?$3(O,G):new FormData(O),Ib(v,{pending:!0,data:fe,method:O.method,action:L},L,fe))},currentTarget:O}]})}}for(var xw=0;xw<To.length;xw++){var vw=To[xw],cq=vw.toLowerCase(),uq=vw[0].toUpperCase()+vw.slice(1);Yi(cq,"on"+uq)}Yi(kt,"onAnimationEnd"),Yi(Pa,"onAnimationIteration"),Yi(Ti,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(Za,"onTransitionRun"),Yi(Mn,"onTransitionStart"),Yi(la,"onTransitionCancel"),Yi(Ja,"onTransitionEnd"),Ar("onMouseEnter",["mouseout","mouseover"]),Ar("onMouseLeave",["mouseout","mouseover"]),Ar("onPointerEnter",["pointerout","pointerover"]),Ar("onPointerLeave",["pointerout","pointerover"]),xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dq=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qm));function H3(l,d){d=(d&4)!==0;for(var v=0;v<l.length;v++){var j=l[v],O=j.event;j=j.listeners;e:{var L=void 0;if(d)for(var G=j.length-1;0<=G;G--){var ae=j[G],fe=ae.instance,De=ae.currentTarget;if(ae=ae.listener,fe!==L&&O.isPropagationStopped())break e;L=ae,O.currentTarget=De;try{L(O)}catch(Ve){Lp(Ve)}O.currentTarget=null,L=fe}else for(G=0;G<j.length;G++){if(ae=j[G],fe=ae.instance,De=ae.currentTarget,ae=ae.listener,fe!==L&&O.isPropagationStopped())break e;L=ae,O.currentTarget=De;try{L(O)}catch(Ve){Lp(Ve)}O.currentTarget=null,L=fe}}}}function rn(l,d){var v=d[Pr];v===void 0&&(v=d[Pr]=new Set);var j=l+"__bubble";v.has(j)||(q3(d,l,2,!1),v.add(j))}function yw(l,d,v){var j=0;d&&(j|=4),q3(v,l,j,d)}var Qp="_reactListening"+Math.random().toString(36).slice(2);function bw(l){if(!l[Qp]){l[Qp]=!0,ap.forEach(function(v){v!=="selectionchange"&&(dq.has(v)||yw(v,!1,l),yw(v,!0,l))});var d=l.nodeType===9?l:l.ownerDocument;d===null||d[Qp]||(d[Qp]=!0,yw("selectionchange",!1,d))}}function q3(l,d,v,j){switch(gO(d)){case 2:var O=Bq;break;case 8:O=Fq;break;default:O=Pw}v=O.bind(null,d,v,l),O=void 0,!Ft||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(O=!0),j?O!==void 0?l.addEventListener(d,v,{capture:!0,passive:O}):l.addEventListener(d,v,!0):O!==void 0?l.addEventListener(d,v,{passive:O}):l.addEventListener(d,v,!1)}function ww(l,d,v,j,O){var L=j;if((d&1)===0&&(d&2)===0&&j!==null)e:for(;;){if(j===null)return;var G=j.tag;if(G===3||G===4){var ae=j.stateNode.containerInfo;if(ae===O)break;if(G===4)for(G=j.return;G!==null;){var fe=G.tag;if((fe===3||fe===4)&&G.stateNode.containerInfo===O)return;G=G.return}for(;ae!==null;){if(G=kr(ae),G===null)return;if(fe=G.tag,fe===5||fe===6||fe===26||fe===27){j=L=G;continue e}ae=ae.parentNode}}j=j.return}Ks(function(){var De=L,Ve=rc(v),Ye=[];e:{var ke=dl.get(l);if(ke!==void 0){var Be=Ao,Dt=l;switch(l){case"keypress":if(Jd(v)===0)break e;case"keydown":case"keyup":Be=hm;break;case"focusin":Dt="focus",Be=oc;break;case"focusout":Dt="blur",Be=oc;break;case"beforeblur":case"afterblur":Be=oc;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=En;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=On;break;case kt:case Pa:case Ti:Be=Gy;break;case Ja:Be=Zy;break;case"scroll":case"scrollend":Be=Xa;break;case"wheel":Be=cl;break;case"copy":case"cut":case"paste":Be=Ht;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=ku;break;case"toggle":case"beforetoggle":Be=Jy}var Tt=(d&4)!==0,Un=!Tt&&(l==="scroll"||l==="scrollend"),_e=Tt?ke!==null?ke+"Capture":null:ke;Tt=[];for(var we=De,Te;we!==null;){var He=we;if(Te=He.stateNode,He=He.tag,He!==5&&He!==26&&He!==27||Te===null||_e===null||(He=_t(we,_e),He!=null&&Tt.push(Ym(we,He,Te))),Un)break;we=we.return}0<Tt.length&&(ke=new Be(ke,Dt,null,v,Ve),Ye.push({event:ke,listeners:Tt}))}}if((d&7)===0){e:{if(ke=l==="mouseover"||l==="pointerover",Be=l==="mouseout"||l==="pointerout",ke&&v!==Ou&&(Dt=v.relatedTarget||v.fromElement)&&(kr(Dt)||Dt[_r]))break e;if((Be||ke)&&(ke=Ve.window===Ve?Ve:(ke=Ve.ownerDocument)?ke.defaultView||ke.parentWindow:window,Be?(Dt=v.relatedTarget||v.toElement,Be=De,Dt=Dt?kr(Dt):null,Dt!==null&&(Un=s(Dt),Tt=Dt.tag,Dt!==Un||Tt!==5&&Tt!==27&&Tt!==6)&&(Dt=null)):(Be=null,Dt=De),Be!==Dt)){if(Tt=lp,He="onMouseLeave",_e="onMouseEnter",we="mouse",(l==="pointerout"||l==="pointerover")&&(Tt=ku,He="onPointerLeave",_e="onPointerEnter",we="pointer"),Un=Be==null?ke:vo(Be),Te=Dt==null?ke:vo(Dt),ke=new Tt(He,we+"leave",Be,v,Ve),ke.target=Un,ke.relatedTarget=Te,He=null,kr(Ve)===De&&(Tt=new Tt(_e,we+"enter",Dt,v,Ve),Tt.target=Te,Tt.relatedTarget=Un,He=Tt),Un=He,Be&&Dt)t:{for(Tt=Be,_e=Dt,we=0,Te=Tt;Te;Te=Tf(Te))we++;for(Te=0,He=_e;He;He=Tf(He))Te++;for(;0<we-Te;)Tt=Tf(Tt),we--;for(;0<Te-we;)_e=Tf(_e),Te--;for(;we--;){if(Tt===_e||_e!==null&&Tt===_e.alternate)break t;Tt=Tf(Tt),_e=Tf(_e)}Tt=null}else Tt=null;Be!==null&&Y3(Ye,ke,Be,Tt,!1),Dt!==null&&Un!==null&&Y3(Ye,Un,Dt,Tt,!0)}}e:{if(ke=De?vo(De):window,Be=ke.nodeName&&ke.nodeName.toLowerCase(),Be==="select"||Be==="input"&&ke.type==="file")var mt=fp;else if(Bu(ke))if(xm)mt=h;else{mt=Q;var Jt=sf}else Be=ke.nodeName,!Be||Be.toLowerCase()!=="input"||ke.type!=="checkbox"&&ke.type!=="radio"?De&&jt(De.elementType)&&(mt=fp):mt=c;if(mt&&(mt=mt(l,De))){yi(Ye,mt,v,Ve);break e}Jt&&Jt(l,ke,De),l==="focusout"&&De&&ke.type==="number"&&De.memoizedProps.value!=null&&Ce(ke,"number",ke.value)}switch(Jt=De?vo(De):window,l){case"focusin":(Bu(Jt)||Jt.contentEditable==="true")&&(te=Jt,oe=De,pe=null);break;case"focusout":pe=oe=te=null;break;case"mousedown":ve=!0;break;case"contextmenu":case"mouseup":case"dragend":ve=!1,Ae(Ye,v,Ve);break;case"selectionchange":if(Z)break;case"keydown":case"keyup":Ae(Ye,v,Ve)}var Nt;if(Iu)e:{switch(l){case"compositionstart":var Ot="onCompositionStart";break e;case"compositionend":Ot="onCompositionEnd";break e;case"compositionupdate":Ot="onCompositionUpdate";break e}Ot=void 0}else uc?ul(l,v)&&(Ot="onCompositionEnd"):l==="keydown"&&v.keyCode===229&&(Ot="onCompositionStart");Ot&&(gm&&v.locale!=="ko"&&(uc||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&uc&&(Nt=No()):(jo=Ve,Mu="value"in jo?jo.value:jo.textContent,uc=!0)),Jt=Zp(De,Ot),0<Jt.length&&(Ot=new Ru(Ot,l,null,v,Ve),Ye.push({event:Ot,listeners:Jt}),Nt?Ot.data=Nt:(Nt=rf(v),Nt!==null&&(Ot.data=Nt)))),(Nt=mm?Lu(l,v):eb(l,v))&&(Ot=Zp(De,"onBeforeInput"),0<Ot.length&&(Jt=new Ru("onBeforeInput","beforeinput",null,v,Ve),Ye.push({event:Jt,listeners:Ot}),Jt.data=Nt)),lq(Ye,l,De,v,Ve)}H3(Ye,d)})}function Ym(l,d,v){return{instance:l,listener:d,currentTarget:v}}function Zp(l,d){for(var v=d+"Capture",j=[];l!==null;){var O=l,L=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||L===null||(O=_t(l,v),O!=null&&j.unshift(Ym(l,O,L)),O=_t(l,d),O!=null&&j.push(Ym(l,O,L))),l.tag===3)return j;l=l.return}return[]}function Tf(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function Y3(l,d,v,j,O){for(var L=d._reactName,G=[];v!==null&&v!==j;){var ae=v,fe=ae.alternate,De=ae.stateNode;if(ae=ae.tag,fe!==null&&fe===j)break;ae!==5&&ae!==26&&ae!==27||De===null||(fe=De,O?(De=_t(v,L),De!=null&&G.unshift(Ym(v,De,fe))):O||(De=_t(v,L),De!=null&&G.push(Ym(v,De,fe)))),v=v.return}G.length!==0&&l.push({event:d,listeners:G})}var fq=/\r\n?/g,hq=/\u0000|\uFFFD/g;function W3(l){return(typeof l=="string"?l:""+l).replace(fq,`
`).replace(hq,"")}function G3(l,d){return d=W3(d),W3(l)===d}function Jp(){}function Fn(l,d,v,j,O,L){switch(v){case"children":typeof j=="string"?d==="body"||d==="textarea"&&j===""||sa(l,j):(typeof j=="number"||typeof j=="bigint")&&d!=="body"&&sa(l,""+j);break;case"className":Gd(l,"class",j);break;case"tabIndex":Gd(l,"tabindex",j);break;case"dir":case"role":case"viewBox":case"width":case"height":Gd(l,v,j);break;case"style":vi(l,j,L);break;case"data":if(d!=="object"){Gd(l,"data",j);break}case"src":case"href":if(j===""&&(d!=="a"||v!=="href")){l.removeAttribute(v);break}if(j==null||typeof j=="function"||typeof j=="symbol"||typeof j=="boolean"){l.removeAttribute(v);break}j=Zd(""+j),l.setAttribute(v,j);break;case"action":case"formAction":if(typeof j=="function"){l.setAttribute(v,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof L=="function"&&(v==="formAction"?(d!=="input"&&Fn(l,d,"name",O.name,O,null),Fn(l,d,"formEncType",O.formEncType,O,null),Fn(l,d,"formMethod",O.formMethod,O,null),Fn(l,d,"formTarget",O.formTarget,O,null)):(Fn(l,d,"encType",O.encType,O,null),Fn(l,d,"method",O.method,O,null),Fn(l,d,"target",O.target,O,null)));if(j==null||typeof j=="symbol"||typeof j=="boolean"){l.removeAttribute(v);break}j=Zd(""+j),l.setAttribute(v,j);break;case"onClick":j!=null&&(l.onclick=Jp);break;case"onScroll":j!=null&&rn("scroll",l);break;case"onScrollEnd":j!=null&&rn("scrollend",l);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(r(61));if(v=j.__html,v!=null){if(O.children!=null)throw Error(r(60));l.innerHTML=v}}break;case"multiple":l.multiple=j&&typeof j!="function"&&typeof j!="symbol";break;case"muted":l.muted=j&&typeof j!="function"&&typeof j!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(j==null||typeof j=="function"||typeof j=="boolean"||typeof j=="symbol"){l.removeAttribute("xlink:href");break}v=Zd(""+j),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",v);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":j!=null&&typeof j!="function"&&typeof j!="symbol"?l.setAttribute(v,""+j):l.removeAttribute(v);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":j&&typeof j!="function"&&typeof j!="symbol"?l.setAttribute(v,""):l.removeAttribute(v);break;case"capture":case"download":j===!0?l.setAttribute(v,""):j!==!1&&j!=null&&typeof j!="function"&&typeof j!="symbol"?l.setAttribute(v,j):l.removeAttribute(v);break;case"cols":case"rows":case"size":case"span":j!=null&&typeof j!="function"&&typeof j!="symbol"&&!isNaN(j)&&1<=j?l.setAttribute(v,j):l.removeAttribute(v);break;case"rowSpan":case"start":j==null||typeof j=="function"||typeof j=="symbol"||isNaN(j)?l.removeAttribute(v):l.setAttribute(v,j);break;case"popover":rn("beforetoggle",l),rn("toggle",l),Ge(l,"popover",j);break;case"xlinkActuate":bn(l,"http://www.w3.org/1999/xlink","xlink:actuate",j);break;case"xlinkArcrole":bn(l,"http://www.w3.org/1999/xlink","xlink:arcrole",j);break;case"xlinkRole":bn(l,"http://www.w3.org/1999/xlink","xlink:role",j);break;case"xlinkShow":bn(l,"http://www.w3.org/1999/xlink","xlink:show",j);break;case"xlinkTitle":bn(l,"http://www.w3.org/1999/xlink","xlink:title",j);break;case"xlinkType":bn(l,"http://www.w3.org/1999/xlink","xlink:type",j);break;case"xmlBase":bn(l,"http://www.w3.org/XML/1998/namespace","xml:base",j);break;case"xmlLang":bn(l,"http://www.w3.org/XML/1998/namespace","xml:lang",j);break;case"xmlSpace":bn(l,"http://www.w3.org/XML/1998/namespace","xml:space",j);break;case"is":Ge(l,"is",j);break;case"innerText":case"textContent":break;default:(!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(v=Jn.get(v)||v,Ge(l,v,j))}}function jw(l,d,v,j,O,L){switch(v){case"style":vi(l,j,L);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(r(61));if(v=j.__html,v!=null){if(O.children!=null)throw Error(r(60));l.innerHTML=v}}break;case"children":typeof j=="string"?sa(l,j):(typeof j=="number"||typeof j=="bigint")&&sa(l,""+j);break;case"onScroll":j!=null&&rn("scroll",l);break;case"onScrollEnd":j!=null&&rn("scrollend",l);break;case"onClick":j!=null&&(l.onclick=Jp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ip.hasOwnProperty(v))e:{if(v[0]==="o"&&v[1]==="n"&&(O=v.endsWith("Capture"),d=v.slice(2,O?v.length-7:void 0),L=l[hn]||null,L=L!=null?L[v]:null,typeof L=="function"&&l.removeEventListener(d,L,O),typeof j=="function")){typeof L!="function"&&L!==null&&(v in l?l[v]=null:l.hasAttribute(v)&&l.removeAttribute(v)),l.addEventListener(d,j,O);break e}v in l?l[v]=j:j===!0?l.setAttribute(v,""):Ge(l,v,j)}}}function La(l,d,v){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rn("error",l),rn("load",l);var j=!1,O=!1,L;for(L in v)if(v.hasOwnProperty(L)){var G=v[L];if(G!=null)switch(L){case"src":j=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Fn(l,d,L,G,v,null)}}O&&Fn(l,d,"srcSet",v.srcSet,v,null),j&&Fn(l,d,"src",v.src,v,null);return;case"input":rn("invalid",l);var ae=L=G=O=null,fe=null,De=null;for(j in v)if(v.hasOwnProperty(j)){var Ve=v[j];if(Ve!=null)switch(j){case"name":O=Ve;break;case"type":G=Ve;break;case"checked":fe=Ve;break;case"defaultChecked":De=Ve;break;case"value":L=Ve;break;case"defaultValue":ae=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(r(137,d));break;default:Fn(l,d,j,Ve,v,null)}}ia(l,L,ae,fe,De,G,O,!1),Xd(l);return;case"select":rn("invalid",l),j=G=L=null;for(O in v)if(v.hasOwnProperty(O)&&(ae=v[O],ae!=null))switch(O){case"value":L=ae;break;case"defaultValue":G=ae;break;case"multiple":j=ae;default:Fn(l,d,O,ae,v,null)}d=L,v=G,l.multiple=!!j,d!=null?se(l,!!j,d,!1):v!=null&&se(l,!!j,v,!0);return;case"textarea":rn("invalid",l),L=O=j=null;for(G in v)if(v.hasOwnProperty(G)&&(ae=v[G],ae!=null))switch(G){case"value":j=ae;break;case"defaultValue":O=ae;break;case"children":L=ae;break;case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(91));break;default:Fn(l,d,G,ae,v,null)}Ir(l,j,O,L),Xd(l);return;case"option":for(fe in v)if(v.hasOwnProperty(fe)&&(j=v[fe],j!=null))switch(fe){case"selected":l.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Fn(l,d,fe,j,v,null)}return;case"dialog":rn("beforetoggle",l),rn("toggle",l),rn("cancel",l),rn("close",l);break;case"iframe":case"object":rn("load",l);break;case"video":case"audio":for(j=0;j<qm.length;j++)rn(qm[j],l);break;case"image":rn("error",l),rn("load",l);break;case"details":rn("toggle",l);break;case"embed":case"source":case"link":rn("error",l),rn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(De in v)if(v.hasOwnProperty(De)&&(j=v[De],j!=null))switch(De){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Fn(l,d,De,j,v,null)}return;default:if(jt(d)){for(Ve in v)v.hasOwnProperty(Ve)&&(j=v[Ve],j!==void 0&&jw(l,d,Ve,j,v,void 0));return}}for(ae in v)v.hasOwnProperty(ae)&&(j=v[ae],j!=null&&Fn(l,d,ae,j,v,null))}function mq(l,d,v,j){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,L=null,G=null,ae=null,fe=null,De=null,Ve=null;for(Be in v){var Ye=v[Be];if(v.hasOwnProperty(Be)&&Ye!=null)switch(Be){case"checked":break;case"value":break;case"defaultValue":fe=Ye;default:j.hasOwnProperty(Be)||Fn(l,d,Be,null,j,Ye)}}for(var ke in j){var Be=j[ke];if(Ye=v[ke],j.hasOwnProperty(ke)&&(Be!=null||Ye!=null))switch(ke){case"type":L=Be;break;case"name":O=Be;break;case"checked":De=Be;break;case"defaultChecked":Ve=Be;break;case"value":G=Be;break;case"defaultValue":ae=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(r(137,d));break;default:Be!==Ye&&Fn(l,d,ke,Be,j,Ye)}}An(l,G,ae,fe,De,Ve,L,O);return;case"select":Be=G=ae=ke=null;for(L in v)if(fe=v[L],v.hasOwnProperty(L)&&fe!=null)switch(L){case"value":break;case"multiple":Be=fe;default:j.hasOwnProperty(L)||Fn(l,d,L,null,j,fe)}for(O in j)if(L=j[O],fe=v[O],j.hasOwnProperty(O)&&(L!=null||fe!=null))switch(O){case"value":ke=L;break;case"defaultValue":ae=L;break;case"multiple":G=L;default:L!==fe&&Fn(l,d,O,L,j,fe)}d=ae,v=G,j=Be,ke!=null?se(l,!!v,ke,!1):!!j!=!!v&&(d!=null?se(l,!!v,d,!0):se(l,!!v,v?[]:"",!1));return;case"textarea":Be=ke=null;for(ae in v)if(O=v[ae],v.hasOwnProperty(ae)&&O!=null&&!j.hasOwnProperty(ae))switch(ae){case"value":break;case"children":break;default:Fn(l,d,ae,null,j,O)}for(G in j)if(O=j[G],L=v[G],j.hasOwnProperty(G)&&(O!=null||L!=null))switch(G){case"value":ke=O;break;case"defaultValue":Be=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:O!==L&&Fn(l,d,G,O,j,L)}wt(l,ke,Be);return;case"option":for(var Dt in v)if(ke=v[Dt],v.hasOwnProperty(Dt)&&ke!=null&&!j.hasOwnProperty(Dt))switch(Dt){case"selected":l.selected=!1;break;default:Fn(l,d,Dt,null,j,ke)}for(fe in j)if(ke=j[fe],Be=v[fe],j.hasOwnProperty(fe)&&ke!==Be&&(ke!=null||Be!=null))switch(fe){case"selected":l.selected=ke&&typeof ke!="function"&&typeof ke!="symbol";break;default:Fn(l,d,fe,ke,j,Be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in v)ke=v[Tt],v.hasOwnProperty(Tt)&&ke!=null&&!j.hasOwnProperty(Tt)&&Fn(l,d,Tt,null,j,ke);for(De in j)if(ke=j[De],Be=v[De],j.hasOwnProperty(De)&&ke!==Be&&(ke!=null||Be!=null))switch(De){case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(r(137,d));break;default:Fn(l,d,De,ke,j,Be)}return;default:if(jt(d)){for(var Un in v)ke=v[Un],v.hasOwnProperty(Un)&&ke!==void 0&&!j.hasOwnProperty(Un)&&jw(l,d,Un,void 0,j,ke);for(Ve in j)ke=j[Ve],Be=v[Ve],!j.hasOwnProperty(Ve)||ke===Be||ke===void 0&&Be===void 0||jw(l,d,Ve,ke,j,Be);return}}for(var _e in v)ke=v[_e],v.hasOwnProperty(_e)&&ke!=null&&!j.hasOwnProperty(_e)&&Fn(l,d,_e,null,j,ke);for(Ye in j)ke=j[Ye],Be=v[Ye],!j.hasOwnProperty(Ye)||ke===Be||ke==null&&Be==null||Fn(l,d,Ye,ke,j,Be)}var Nw=null,Sw=null;function ex(l){return l.nodeType===9?l:l.ownerDocument}function K3(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X3(l,d){if(l===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&d==="foreignObject"?0:l}function _w(l,d){return l==="textarea"||l==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Aw=null;function gq(){var l=window.event;return l&&l.type==="popstate"?l===Aw?!1:(Aw=l,!0):(Aw=null,!1)}var Q3=typeof setTimeout=="function"?setTimeout:void 0,pq=typeof clearTimeout=="function"?clearTimeout:void 0,Z3=typeof Promise=="function"?Promise:void 0,xq=typeof queueMicrotask=="function"?queueMicrotask:typeof Z3<"u"?function(l){return Z3.resolve(null).then(l).catch(vq)}:Q3;function vq(l){setTimeout(function(){throw l})}function Tc(l){return l==="head"}function J3(l,d){var v=d,j=0,O=0;do{var L=v.nextSibling;if(l.removeChild(v),L&&L.nodeType===8)if(v=L.data,v==="/$"){if(0<j&&8>j){v=j;var G=l.ownerDocument;if(v&1&&Wm(G.documentElement),v&2&&Wm(G.body),v&4)for(v=G.head,Wm(v),G=v.firstChild;G;){var ae=G.nextSibling,fe=G.nodeName;G[vs]||fe==="SCRIPT"||fe==="STYLE"||fe==="LINK"&&G.rel.toLowerCase()==="stylesheet"||v.removeChild(G),G=ae}}if(O===0){l.removeChild(L),tg(d);return}O--}else v==="$"||v==="$?"||v==="$!"?O++:j=v.charCodeAt(0)-48;else j=0;v=L}while(v);tg(d)}function Ew(l){var d=l.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var v=d;switch(d=d.nextSibling,v.nodeName){case"HTML":case"HEAD":case"BODY":Ew(v),Tu(v);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(v.rel.toLowerCase()==="stylesheet")continue}l.removeChild(v)}}function yq(l,d,v,j){for(;l.nodeType===1;){var O=v;if(l.nodeName.toLowerCase()!==d.toLowerCase()){if(!j&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(j){if(!l[vs])switch(d){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(L=l.getAttribute("rel"),L==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(L!==O.rel||l.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||l.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||l.getAttribute("title")!==(O.title==null?null:O.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(L=l.getAttribute("src"),(L!==(O.src==null?null:O.src)||l.getAttribute("type")!==(O.type==null?null:O.type)||l.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&L&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(d==="input"&&l.type==="hidden"){var L=O.name==null?null:""+O.name;if(O.type==="hidden"&&l.getAttribute("name")===L)return l}else return l;if(l=Js(l.nextSibling),l===null)break}return null}function bq(l,d,v){if(d==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!v||(l=Js(l.nextSibling),l===null))return null;return l}function Cw(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState==="complete"}function wq(l,d){var v=l.ownerDocument;if(l.data!=="$?"||v.readyState==="complete")d();else{var j=function(){d(),v.removeEventListener("DOMContentLoaded",j)};v.addEventListener("DOMContentLoaded",j),l._reactRetry=j}}function Js(l){for(;l!=null;l=l.nextSibling){var d=l.nodeType;if(d===1||d===3)break;if(d===8){if(d=l.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return l}var Tw=null;function eO(l){l=l.previousSibling;for(var d=0;l;){if(l.nodeType===8){var v=l.data;if(v==="$"||v==="$!"||v==="$?"){if(d===0)return l;d--}else v==="/$"&&d++}l=l.previousSibling}return null}function tO(l,d,v){switch(d=ex(v),l){case"html":if(l=d.documentElement,!l)throw Error(r(452));return l;case"head":if(l=d.head,!l)throw Error(r(453));return l;case"body":if(l=d.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function Wm(l){for(var d=l.attributes;d.length;)l.removeAttributeNode(d[0]);Tu(l)}var As=new Map,nO=new Set;function tx(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Sl=ee.d;ee.d={f:jq,r:Nq,D:Sq,C:_q,L:Aq,m:Eq,X:Tq,S:Cq,M:Oq};function jq(){var l=Sl.f(),d=Yp();return l||d}function Nq(l){var d=Hi(l);d!==null&&d.tag===5&&d.type==="form"?j4(d):Sl.r(l)}var Of=typeof document>"u"?null:document;function rO(l,d,v){var j=Of;if(j&&typeof d=="string"&&d){var O=aa(d);O='link[rel="'+l+'"][href="'+O+'"]',typeof v=="string"&&(O+='[crossorigin="'+v+'"]'),nO.has(O)||(nO.add(O),l={rel:l,crossOrigin:v,href:d},j.querySelector(O)===null&&(d=j.createElement("link"),La(d,"link",l),Tn(d),j.head.appendChild(d)))}}function Sq(l){Sl.D(l),rO("dns-prefetch",l,null)}function _q(l,d){Sl.C(l,d),rO("preconnect",l,d)}function Aq(l,d,v){Sl.L(l,d,v);var j=Of;if(j&&l&&d){var O='link[rel="preload"][as="'+aa(d)+'"]';d==="image"&&v&&v.imageSrcSet?(O+='[imagesrcset="'+aa(v.imageSrcSet)+'"]',typeof v.imageSizes=="string"&&(O+='[imagesizes="'+aa(v.imageSizes)+'"]')):O+='[href="'+aa(l)+'"]';var L=O;switch(d){case"style":L=Mf(l);break;case"script":L=Df(l)}As.has(L)||(l=g({rel:"preload",href:d==="image"&&v&&v.imageSrcSet?void 0:l,as:d},v),As.set(L,l),j.querySelector(O)!==null||d==="style"&&j.querySelector(Gm(L))||d==="script"&&j.querySelector(Km(L))||(d=j.createElement("link"),La(d,"link",l),Tn(d),j.head.appendChild(d)))}}function Eq(l,d){Sl.m(l,d);var v=Of;if(v&&l){var j=d&&typeof d.as=="string"?d.as:"script",O='link[rel="modulepreload"][as="'+aa(j)+'"][href="'+aa(l)+'"]',L=O;switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":L=Df(l)}if(!As.has(L)&&(l=g({rel:"modulepreload",href:l},d),As.set(L,l),v.querySelector(O)===null)){switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(v.querySelector(Km(L)))return}j=v.createElement("link"),La(j,"link",l),Tn(j),v.head.appendChild(j)}}}function Cq(l,d,v){Sl.S(l,d,v);var j=Of;if(j&&l){var O=Ws(j).hoistableStyles,L=Mf(l);d=d||"default";var G=O.get(L);if(!G){var ae={loading:0,preload:null};if(G=j.querySelector(Gm(L)))ae.loading=5;else{l=g({rel:"stylesheet",href:l,"data-precedence":d},v),(v=As.get(L))&&Ow(l,v);var fe=G=j.createElement("link");Tn(fe),La(fe,"link",l),fe._p=new Promise(function(De,Ve){fe.onload=De,fe.onerror=Ve}),fe.addEventListener("load",function(){ae.loading|=1}),fe.addEventListener("error",function(){ae.loading|=2}),ae.loading|=4,nx(G,d,j)}G={type:"stylesheet",instance:G,count:1,state:ae},O.set(L,G)}}}function Tq(l,d){Sl.X(l,d);var v=Of;if(v&&l){var j=Ws(v).hoistableScripts,O=Df(l),L=j.get(O);L||(L=v.querySelector(Km(O)),L||(l=g({src:l,async:!0},d),(d=As.get(O))&&Mw(l,d),L=v.createElement("script"),Tn(L),La(L,"link",l),v.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},j.set(O,L))}}function Oq(l,d){Sl.M(l,d);var v=Of;if(v&&l){var j=Ws(v).hoistableScripts,O=Df(l),L=j.get(O);L||(L=v.querySelector(Km(O)),L||(l=g({src:l,async:!0,type:"module"},d),(d=As.get(O))&&Mw(l,d),L=v.createElement("script"),Tn(L),La(L,"link",l),v.head.appendChild(L)),L={type:"script",instance:L,count:1,state:null},j.set(O,L))}}function aO(l,d,v,j){var O=(O=ie.current)?tx(O):null;if(!O)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof v.precedence=="string"&&typeof v.href=="string"?(d=Mf(v.href),v=Ws(O).hoistableStyles,j=v.get(d),j||(j={type:"style",instance:null,count:0,state:null},v.set(d,j)),j):{type:"void",instance:null,count:0,state:null};case"link":if(v.rel==="stylesheet"&&typeof v.href=="string"&&typeof v.precedence=="string"){l=Mf(v.href);var L=Ws(O).hoistableStyles,G=L.get(l);if(G||(O=O.ownerDocument||O,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},L.set(l,G),(L=O.querySelector(Gm(l)))&&!L._p&&(G.instance=L,G.state.loading=5),As.has(l)||(v={rel:"preload",as:"style",href:v.href,crossOrigin:v.crossOrigin,integrity:v.integrity,media:v.media,hrefLang:v.hrefLang,referrerPolicy:v.referrerPolicy},As.set(l,v),L||Mq(O,l,v,G.state))),d&&j===null)throw Error(r(528,""));return G}if(d&&j!==null)throw Error(r(529,""));return null;case"script":return d=v.async,v=v.src,typeof v=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Df(v),v=Ws(O).hoistableScripts,j=v.get(d),j||(j={type:"script",instance:null,count:0,state:null},v.set(d,j)),j):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Mf(l){return'href="'+aa(l)+'"'}function Gm(l){return'link[rel="stylesheet"]['+l+"]"}function iO(l){return g({},l,{"data-precedence":l.precedence,precedence:null})}function Mq(l,d,v,j){l.querySelector('link[rel="preload"][as="style"]['+d+"]")?j.loading=1:(d=l.createElement("link"),j.preload=d,d.addEventListener("load",function(){return j.loading|=1}),d.addEventListener("error",function(){return j.loading|=2}),La(d,"link",v),Tn(d),l.head.appendChild(d))}function Df(l){return'[src="'+aa(l)+'"]'}function Km(l){return"script[async]"+l}function sO(l,d,v){if(d.count++,d.instance===null)switch(d.type){case"style":var j=l.querySelector('style[data-href~="'+aa(v.href)+'"]');if(j)return d.instance=j,Tn(j),j;var O=g({},v,{"data-href":v.href,"data-precedence":v.precedence,href:null,precedence:null});return j=(l.ownerDocument||l).createElement("style"),Tn(j),La(j,"style",O),nx(j,v.precedence,l),d.instance=j;case"stylesheet":O=Mf(v.href);var L=l.querySelector(Gm(O));if(L)return d.state.loading|=4,d.instance=L,Tn(L),L;j=iO(v),(O=As.get(O))&&Ow(j,O),L=(l.ownerDocument||l).createElement("link"),Tn(L);var G=L;return G._p=new Promise(function(ae,fe){G.onload=ae,G.onerror=fe}),La(L,"link",j),d.state.loading|=4,nx(L,v.precedence,l),d.instance=L;case"script":return L=Df(v.src),(O=l.querySelector(Km(L)))?(d.instance=O,Tn(O),O):(j=v,(O=As.get(L))&&(j=g({},v),Mw(j,O)),l=l.ownerDocument||l,O=l.createElement("script"),Tn(O),La(O,"link",j),l.head.appendChild(O),d.instance=O);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(j=d.instance,d.state.loading|=4,nx(j,v.precedence,l));return d.instance}function nx(l,d,v){for(var j=v.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=j.length?j[j.length-1]:null,L=O,G=0;G<j.length;G++){var ae=j[G];if(ae.dataset.precedence===d)L=ae;else if(L!==O)break}L?L.parentNode.insertBefore(l,L.nextSibling):(d=v.nodeType===9?v.head:v,d.insertBefore(l,d.firstChild))}function Ow(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.title==null&&(l.title=d.title)}function Mw(l,d){l.crossOrigin==null&&(l.crossOrigin=d.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=d.referrerPolicy),l.integrity==null&&(l.integrity=d.integrity)}var rx=null;function oO(l,d,v){if(rx===null){var j=new Map,O=rx=new Map;O.set(v,j)}else O=rx,j=O.get(v),j||(j=new Map,O.set(v,j));if(j.has(l))return j;for(j.set(l,null),v=v.getElementsByTagName(l),O=0;O<v.length;O++){var L=v[O];if(!(L[vs]||L[pr]||l==="link"&&L.getAttribute("rel")==="stylesheet")&&L.namespaceURI!=="http://www.w3.org/2000/svg"){var G=L.getAttribute(d)||"";G=l+G;var ae=j.get(G);ae?ae.push(L):j.set(G,[L])}}return j}function lO(l,d,v){l=l.ownerDocument||l,l.head.insertBefore(v,d==="title"?l.querySelector("head > title"):null)}function Dq(l,d,v){if(v===1||d.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return l=d.disabled,typeof d.precedence=="string"&&l==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function cO(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}var Xm=null;function Rq(){}function Pq(l,d,v){if(Xm===null)throw Error(r(475));var j=Xm;if(d.type==="stylesheet"&&(typeof v.media!="string"||matchMedia(v.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var O=Mf(v.href),L=l.querySelector(Gm(O));if(L){l=L._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(j.count++,j=ax.bind(j),l.then(j,j)),d.state.loading|=4,d.instance=L,Tn(L);return}L=l.ownerDocument||l,v=iO(v),(O=As.get(O))&&Ow(v,O),L=L.createElement("link"),Tn(L);var G=L;G._p=new Promise(function(ae,fe){G.onload=ae,G.onerror=fe}),La(L,"link",v),d.instance=L}j.stylesheets===null&&(j.stylesheets=new Map),j.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(j.count++,d=ax.bind(j),l.addEventListener("load",d),l.addEventListener("error",d))}}function kq(){if(Xm===null)throw Error(r(475));var l=Xm;return l.stylesheets&&l.count===0&&Dw(l,l.stylesheets),0<l.count?function(d){var v=setTimeout(function(){if(l.stylesheets&&Dw(l,l.stylesheets),l.unsuspend){var j=l.unsuspend;l.unsuspend=null,j()}},6e4);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(v)}}:null}function ax(){if(this.count--,this.count===0){if(this.stylesheets)Dw(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var ix=null;function Dw(l,d){l.stylesheets=null,l.unsuspend!==null&&(l.count++,ix=new Map,d.forEach(Iq,l),ix=null,ax.call(l))}function Iq(l,d){if(!(d.state.loading&4)){var v=ix.get(l);if(v)var j=v.get(null);else{v=new Map,ix.set(l,v);for(var O=l.querySelectorAll("link[data-precedence],style[data-precedence]"),L=0;L<O.length;L++){var G=O[L];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(v.set(G.dataset.precedence,G),j=G)}j&&v.set(null,j)}O=d.instance,G=O.getAttribute("data-precedence"),L=v.get(G)||j,L===j&&v.set(null,O),v.set(G,O),this.count++,j=ax.bind(this),O.addEventListener("load",j),O.addEventListener("error",j),L?L.parentNode.insertBefore(O,L.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(O,l.firstChild)),d.state.loading|=4}}var Qm={$$typeof:R,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function Lq(l,d,v,j,O,L,G,ae){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=en(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=en(0),this.hiddenUpdates=en(null),this.identifierPrefix=j,this.onUncaughtError=O,this.onCaughtError=L,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ae,this.incompleteTransitions=new Map}function uO(l,d,v,j,O,L,G,ae,fe,De,Ve,Ye){return l=new Lq(l,d,v,G,ae,fe,De,Ye),d=1,L===!0&&(d|=24),L=Wi(3,null,null,d),l.current=L,L.stateNode=l,d=hb(),d.refCount++,l.pooledCache=d,d.refCount++,L.memoizedState={element:j,isDehydrated:v,cache:d},xb(L),l}function dO(l){return l?(l=cf,l):cf}function fO(l,d,v,j,O,L){O=dO(O),j.context===null?j.context=O:j.pendingContext=O,j=pc(d),j.payload={element:v},L=L===void 0?null:L,L!==null&&(j.callback=L),v=xc(l,j,d),v!==null&&(Zi(v,l,d),Em(v,l,d))}function hO(l,d){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var v=l.retryLane;l.retryLane=v!==0&&v<d?v:d}}function Rw(l,d){hO(l,d),(l=l.alternate)&&hO(l,d)}function mO(l){if(l.tag===13){var d=lf(l,67108864);d!==null&&Zi(d,l,67108864),Rw(l,67108864)}}var sx=!0;function Bq(l,d,v,j){var O=H.T;H.T=null;var L=ee.p;try{ee.p=2,Pw(l,d,v,j)}finally{ee.p=L,H.T=O}}function Fq(l,d,v,j){var O=H.T;H.T=null;var L=ee.p;try{ee.p=8,Pw(l,d,v,j)}finally{ee.p=L,H.T=O}}function Pw(l,d,v,j){if(sx){var O=kw(j);if(O===null)ww(l,d,j,ox,v),pO(l,j);else if(zq(O,l,d,v,j))j.stopPropagation();else if(pO(l,j),d&4&&-1<Uq.indexOf(l)){for(;O!==null;){var L=Hi(O);if(L!==null)switch(L.tag){case 3:if(L=L.stateNode,L.current.memoizedState.isDehydrated){var G=vn(L.pendingLanes);if(G!==0){var ae=L;for(ae.pendingLanes|=2,ae.entangledLanes|=2;G;){var fe=1<<31-sn(G);ae.entanglements[1]|=fe,G&=~fe}Po(L),(Dn&6)===0&&(Hp=Je()+500,Hm(0))}}break;case 13:ae=lf(L,2),ae!==null&&Zi(ae,L,2),Yp(),Rw(L,2)}if(L=kw(j),L===null&&ww(l,d,j,ox,v),L===O)break;O=L}O!==null&&j.stopPropagation()}else ww(l,d,j,null,v)}}function kw(l){return l=rc(l),Iw(l)}var ox=null;function Iw(l){if(ox=null,l=kr(l),l!==null){var d=s(l);if(d===null)l=null;else{var v=d.tag;if(v===13){if(l=o(d),l!==null)return l;l=null}else if(v===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;l=null}else d!==l&&(l=null)}}return ox=l,null}function gO(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case st:return 2;case hr:return 8;case ct:case xn:return 32;case Wr:return 268435456;default:return 32}default:return 32}}var Lw=!1,Oc=null,Mc=null,Dc=null,Zm=new Map,Jm=new Map,Rc=[],Uq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pO(l,d){switch(l){case"focusin":case"focusout":Oc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Dc=null;break;case"pointerover":case"pointerout":Zm.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jm.delete(d.pointerId)}}function eg(l,d,v,j,O,L){return l===null||l.nativeEvent!==L?(l={blockedOn:d,domEventName:v,eventSystemFlags:j,nativeEvent:L,targetContainers:[O]},d!==null&&(d=Hi(d),d!==null&&mO(d)),l):(l.eventSystemFlags|=j,d=l.targetContainers,O!==null&&d.indexOf(O)===-1&&d.push(O),l)}function zq(l,d,v,j,O){switch(d){case"focusin":return Oc=eg(Oc,l,d,v,j,O),!0;case"dragenter":return Mc=eg(Mc,l,d,v,j,O),!0;case"mouseover":return Dc=eg(Dc,l,d,v,j,O),!0;case"pointerover":var L=O.pointerId;return Zm.set(L,eg(Zm.get(L)||null,l,d,v,j,O)),!0;case"gotpointercapture":return L=O.pointerId,Jm.set(L,eg(Jm.get(L)||null,l,d,v,j,O)),!0}return!1}function xO(l){var d=kr(l.target);if(d!==null){var v=s(d);if(v!==null){if(d=v.tag,d===13){if(d=o(v),d!==null){l.blockedOn=d,ar(l.priority,function(){if(v.tag===13){var j=Qi();j=rr(j);var O=lf(v,j);O!==null&&Zi(O,v,j),Rw(v,j)}});return}}else if(d===3&&v.stateNode.current.memoizedState.isDehydrated){l.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}l.blockedOn=null}function lx(l){if(l.blockedOn!==null)return!1;for(var d=l.targetContainers;0<d.length;){var v=kw(l.nativeEvent);if(v===null){v=l.nativeEvent;var j=new v.constructor(v.type,v);Ou=j,v.target.dispatchEvent(j),Ou=null}else return d=Hi(v),d!==null&&mO(d),l.blockedOn=v,!1;d.shift()}return!0}function vO(l,d,v){lx(l)&&v.delete(d)}function Vq(){Lw=!1,Oc!==null&&lx(Oc)&&(Oc=null),Mc!==null&&lx(Mc)&&(Mc=null),Dc!==null&&lx(Dc)&&(Dc=null),Zm.forEach(vO),Jm.forEach(vO)}function cx(l,d){l.blockedOn===d&&(l.blockedOn=null,Lw||(Lw=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vq)))}var ux=null;function yO(l){ux!==l&&(ux=l,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ux===l&&(ux=null);for(var d=0;d<l.length;d+=3){var v=l[d],j=l[d+1],O=l[d+2];if(typeof j!="function"){if(Iw(j||v)===null)continue;break}var L=Hi(v);L!==null&&(l.splice(d,3),d-=3,Ib(L,{pending:!0,data:O,method:v.method,action:j},j,O))}}))}function tg(l){function d(fe){return cx(fe,l)}Oc!==null&&cx(Oc,l),Mc!==null&&cx(Mc,l),Dc!==null&&cx(Dc,l),Zm.forEach(d),Jm.forEach(d);for(var v=0;v<Rc.length;v++){var j=Rc[v];j.blockedOn===l&&(j.blockedOn=null)}for(;0<Rc.length&&(v=Rc[0],v.blockedOn===null);)xO(v),v.blockedOn===null&&Rc.shift();if(v=(l.ownerDocument||l).$$reactFormReplay,v!=null)for(j=0;j<v.length;j+=3){var O=v[j],L=v[j+1],G=O[hn]||null;if(typeof L=="function")G||yO(v);else if(G){var ae=null;if(L&&L.hasAttribute("formAction")){if(O=L,G=L[hn]||null)ae=G.formAction;else if(Iw(O)!==null)continue}else ae=G.action;typeof ae=="function"?v[j+1]=ae:(v.splice(j,3),j-=3),yO(v)}}}function Bw(l){this._internalRoot=l}dx.prototype.render=Bw.prototype.render=function(l){var d=this._internalRoot;if(d===null)throw Error(r(409));var v=d.current,j=Qi();fO(v,j,l,d,null,null)},dx.prototype.unmount=Bw.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var d=l.containerInfo;fO(l.current,2,null,l,null,null),Yp(),d[_r]=null}};function dx(l){this._internalRoot=l}dx.prototype.unstable_scheduleHydration=function(l){if(l){var d=Ei();l={blockedOn:null,target:l,priority:d};for(var v=0;v<Rc.length&&d!==0&&d<Rc[v].priority;v++);Rc.splice(v,0,l),v===0&&xO(l)}};var bO=t.version;if(bO!=="19.1.0")throw Error(r(527,bO,"19.1.0"));ee.findDOMNode=function(l){var d=l._reactInternals;if(d===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=m(d),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var $q={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fx.isDisabled&&fx.supportsFiber)try{Nn=fx.inject($q),Gn=fx}catch{}}return rg.createRoot=function(l,d){if(!i(l))throw Error(r(299));var v=!1,j="",O=I4,L=L4,G=B4,ae=null;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(j=d.identifierPrefix),d.onUncaughtError!==void 0&&(O=d.onUncaughtError),d.onCaughtError!==void 0&&(L=d.onCaughtError),d.onRecoverableError!==void 0&&(G=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(ae=d.unstable_transitionCallbacks)),d=uO(l,1,!1,null,null,v,j,O,L,G,ae,null),l[_r]=d.current,bw(l),new Bw(d)},rg.hydrateRoot=function(l,d,v){if(!i(l))throw Error(r(299));var j=!1,O="",L=I4,G=L4,ae=B4,fe=null,De=null;return v!=null&&(v.unstable_strictMode===!0&&(j=!0),v.identifierPrefix!==void 0&&(O=v.identifierPrefix),v.onUncaughtError!==void 0&&(L=v.onUncaughtError),v.onCaughtError!==void 0&&(G=v.onCaughtError),v.onRecoverableError!==void 0&&(ae=v.onRecoverableError),v.unstable_transitionCallbacks!==void 0&&(fe=v.unstable_transitionCallbacks),v.formState!==void 0&&(De=v.formState)),d=uO(l,1,!0,d,v??null,j,O,L,G,ae,fe,De),d.context=dO(null),v=d.current,j=Qi(),j=rr(j),O=pc(j),O.callback=null,xc(v,O,j),v=j,d.current.lanes=v,Ga(d,v),Po(d),l[_r]=d.current,bw(l),new dx(d)},rg.version="19.1.0",rg}var OO;function tY(){if(OO)return Vw.exports;OO=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vw.exports=eY(),Vw.exports}var nY=tY();const rY="modulepreload",aY=function(e){return"/"+e},MO={},Sd=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),m=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=o(n.map(f=>{if(f=aY(f),f in MO)return;MO[f]=!0;const g=f.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${x}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":rY,g||(w.as="script"),w.crossOrigin="",w.href=f,m&&w.setAttribute("nonce",m),document.head.appendChild(w),g)return new Promise((_,T)=>{w.addEventListener("load",_),w.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return i.then(o=>{for(const u of o||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})},iY=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Sd(async()=>{const{default:r}=await Promise.resolve().then(()=>Bh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class L_ extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class sY extends L_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class DO extends L_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class RO extends L_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var kN;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(kN||(kN={}));var oY=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};class lY{constructor(t,{headers:n={},customFetch:r,region:i=kN.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=iY(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return oY(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let u={},{region:m}=n;m||(m=this.region);const f=new URL(`${this.url}/${t}`);m&&m!=="any"&&(u["x-region"]=m,f.searchParams.set("forceFunctionRegion",m));let g;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",g=o):typeof o=="string"?(u["Content-Type"]="text/plain",g=o):typeof FormData<"u"&&o instanceof FormData?g=o:(u["Content-Type"]="application/json",g=JSON.stringify(o)));const x=yield this.fetch(f.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:g}).catch(C=>{throw new sY(C)}),w=x.headers.get("x-relay-error");if(w&&w==="true")throw new DO(x);if(!x.ok)throw new RO(x);let _=((r=x.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),T;return _==="application/json"?T=yield x.json():_==="application/octet-stream"?T=yield x.blob():_==="text/event-stream"?T=x:_==="multipart/form-data"?T=yield x.formData():T=yield x.text(),{data:T,error:null,response:x}}catch(i){return{data:null,error:i,response:i instanceof RO||i instanceof DO?i.context:void 0}}})}}var wa={},Rf={},Pf={},kf={},If={},Lf={},cY=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vh=cY();const uY=vh.fetch,g6=vh.fetch.bind(vh),p6=vh.Headers,dY=vh.Request,fY=vh.Response,Bh=Object.freeze(Object.defineProperty({__proto__:null,Headers:p6,Request:dY,Response:fY,default:g6,fetch:uY},Symbol.toStringTag,{value:"Module"})),hY=Wq(Bh);var mx={},PO;function x6(){if(PO)return mx;PO=1,Object.defineProperty(mx,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return mx.default=e,mx}var kO;function v6(){if(kO)return Lf;kO=1;var e=Lf&&Lf.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Lf,"__esModule",{value:!0});const t=e(hY),n=e(x6());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let m=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{var g,x,w;let _=null,T=null,C=null,A=f.status,M=f.statusText;if(f.ok){if(this.method!=="HEAD"){const k=await f.text();k===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?T=k:T=JSON.parse(k))}const R=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),z=(x=f.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");R&&z&&z.length>1&&(C=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(_={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,C=null,A=406,M="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const R=await f.text();try{_=JSON.parse(R),Array.isArray(_)&&f.status===404&&(T=[],_=null,A=200,M="OK")}catch{f.status===404&&R===""?(A=204,M="No Content"):_={message:R}}if(_&&this.isMaybeSingle&&(!((w=_==null?void 0:_.details)===null||w===void 0)&&w.includes("0 rows"))&&(_=null,A=200,M="OK"),_&&this.shouldThrowOnError)throw new n.default(_)}return{error:_,data:T,count:C,status:A,statusText:M}});return this.shouldThrowOnError||(m=m.catch(f=>{var g,x,w;return{error:{message:`${(g=f==null?void 0:f.name)!==null&&g!==void 0?g:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(x=f==null?void 0:f.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(w=f==null?void 0:f.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),m.then(s,o)}returns(){return this}overrideTypes(){return this}}return Lf.default=r,Lf}var IO;function y6(){if(IO)return If;IO=1;var e=If&&If.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(If,"__esModule",{value:!0});const t=e(v6());class n extends t.default{select(i){let s=!1;const o=(i??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:u,referencedTable:m=u}={}){const f=m?`${m}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:u=o}={}){const m=typeof u>"u"?"offset":`${u}.offset`,f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(m,`${i}`),this.url.searchParams.set(f,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:u=!1,wal:m=!1,format:f="text"}={}){var g;const x=[i?"analyze":null,s?"verbose":null,o?"settings":null,u?"buffers":null,m?"wal":null].filter(Boolean).join("|"),w=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${w}"; options=${x};`,f==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return If.default=n,If}var LO;function B_(){if(LO)return kf;LO=1;var e=kf&&kf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(kf,"__esModule",{value:!0});const t=e(y6());class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:u}={}){let m="";u==="plain"?m="pl":u==="phrase"?m="ph":u==="websearch"&&(m="w");const f=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${m}fts${f}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const u=o?`${o}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return kf.default=n,kf}var BO;function b6(){if(BO)return Pf;BO=1;var e=Pf&&Pf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pf,"__esModule",{value:!0});const t=e(B_());class n{constructor(i,{headers:s={},schema:o,fetch:u}){this.url=i,this.headers=s,this.schema=o,this.fetch=u}select(i,{head:s=!1,count:o}={}){const u=s?"HEAD":"GET";let m=!1;const f=(i??"*").split("").map(g=>/\s/.test(g)&&!m?"":(g==='"'&&(m=!m),g)).join("");return this.url.searchParams.set("select",f),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const u="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),s&&m.push(`count=${s}`),o||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(i)){const f=i.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(f.length>0){const g=[...new Set(f)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:u,defaultToNull:m=!0}={}){const f="POST",g=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&g.push(this.headers.Prefer),u&&g.push(`count=${u}`),m||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(i)){const x=i.reduce((w,_)=>w.concat(Object.keys(_)),[]);if(x.length>0){const w=[...new Set(x)].map(_=>`"${_}"`);this.url.searchParams.set("columns",w.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),s&&u.push(`count=${s}`),this.headers.Prefer=u.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Pf.default=n,Pf}var ag={},ig={},FO;function mY(){return FO||(FO=1,Object.defineProperty(ig,"__esModule",{value:!0}),ig.version=void 0,ig.version="0.0.0-automated"),ig}var UO;function gY(){if(UO)return ag;UO=1,Object.defineProperty(ag,"__esModule",{value:!0}),ag.DEFAULT_HEADERS=void 0;const e=mY();return ag.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},ag}var zO;function pY(){if(zO)return Rf;zO=1;var e=Rf&&Rf.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Rf,"__esModule",{value:!0});const t=e(b6()),n=e(B_()),r=gY();class i{constructor(o,{headers:u={},schema:m,fetch:f}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),u),this.schemaName=m,this.fetch=f}from(o){const u=new URL(`${this.url}/${o}`);return new t.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:m=!1,get:f=!1,count:g}={}){let x;const w=new URL(`${this.url}/rpc/${o}`);let _;m||f?(x=m?"HEAD":"GET",Object.entries(u).filter(([C,A])=>A!==void 0).map(([C,A])=>[C,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([C,A])=>{w.searchParams.append(C,A)})):(x="POST",_=u);const T=Object.assign({},this.headers);return g&&(T.Prefer=`count=${g}`),new n.default({method:x,url:w,headers:T,schema:this.schemaName,body:_,fetch:this.fetch,allowEmpty:!1})}}return Rf.default=i,Rf}var VO;function xY(){if(VO)return wa;VO=1;var e=wa&&wa.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(wa,"__esModule",{value:!0}),wa.PostgrestError=wa.PostgrestBuilder=wa.PostgrestTransformBuilder=wa.PostgrestFilterBuilder=wa.PostgrestQueryBuilder=wa.PostgrestClient=void 0;const t=e(pY());wa.PostgrestClient=t.default;const n=e(b6());wa.PostgrestQueryBuilder=n.default;const r=e(B_());wa.PostgrestFilterBuilder=r.default;const i=e(y6());wa.PostgrestTransformBuilder=i.default;const s=e(v6());wa.PostgrestBuilder=s.default;const o=e(x6());return wa.PostgrestError=o.default,wa.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},wa}var vY=xY();const yY=zi(vY),{PostgrestClient:bY,PostgrestQueryBuilder:YCe,PostgrestFilterBuilder:WCe,PostgrestTransformBuilder:GCe,PostgrestBuilder:KCe,PostgrestError:XCe}=yY;function wY(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const jY=wY(),NY="2.11.15",SY=`realtime-js/${NY}`,_Y="1.0.0",w6=1e4,AY=1e3;var Og;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Og||(Og={}));var ni;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ni||(ni={}));var io;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(io||(io={}));var IN;(function(e){e.websocket="websocket"})(IN||(IN={}));var ld;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ld||(ld={}));class EY{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const u=r.decode(t.slice(o,o+i));o=o+i;const m=r.decode(t.slice(o,o+s));o=o+s;const f=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:u,event:m,payload:f}}}let j6=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Qn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Qn||(Qn={}));const $O=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=CY(o,e,t,i),s),{})},CY=(e,t,n,r)=>{const i=t.find(u=>u.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?N6(s,o):LN(o)},N6=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return DY(t,n)}switch(e){case Qn.bool:return TY(t);case Qn.float4:case Qn.float8:case Qn.int2:case Qn.int4:case Qn.int8:case Qn.numeric:case Qn.oid:return OY(t);case Qn.json:case Qn.jsonb:return MY(t);case Qn.timestamp:return RY(t);case Qn.abstime:case Qn.date:case Qn.daterange:case Qn.int4range:case Qn.int8range:case Qn.money:case Qn.reltime:case Qn.text:case Qn.time:case Qn.timestamptz:case Qn.timetz:case Qn.tsrange:case Qn.tstzrange:return LN(t);default:return LN(t)}},LN=e=>e,TY=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},OY=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},MY=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},DY=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(u=>N6(t,u))}return e},RY=e=>typeof e=="string"?e.replace(" ","T"):e,S6=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Yw{constructor(t,n,r={},i=w6){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var HO;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(HO||(HO={}));class Mg{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Mg.syncState(this.state,i,s,o),this.pendingDiffs.forEach(m=>{this.state=Mg.syncDiff(this.state,m,s,o)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Mg.syncDiff(this.state,i,s,o),u())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),u={},m={};return this.map(s,(f,g)=>{o[f]||(m[f]=g)}),this.map(o,(f,g)=>{const x=s[f];if(x){const w=g.map(A=>A.presence_ref),_=x.map(A=>A.presence_ref),T=g.filter(A=>_.indexOf(A.presence_ref)<0),C=x.filter(A=>w.indexOf(A.presence_ref)<0);T.length>0&&(u[f]=T),C.length>0&&(m[f]=C)}else u[f]=g}),this.syncDiff(s,{joins:u,leaves:m},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(u,m)=>{var f;const g=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(m),g.length>0){const x=t[u].map(_=>_.presence_ref),w=g.filter(_=>x.indexOf(_.presence_ref)<0);t[u].unshift(...w)}r(u,g,m)}),this.map(o,(u,m)=>{let f=t[u];if(!f)return;const g=m.map(x=>x.presence_ref);f=f.filter(x=>g.indexOf(x.presence_ref)<0),t[u]=f,i(u,f,m),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qO;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qO||(qO={}));var YO;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(YO||(YO={}));var El;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(El||(El={}));class F_{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ni.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Yw(this,io.join,this.params,this.timeout),this.rejoinTimer=new j6(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ni.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ni.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ni.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ni.errored,this.rejoinTimer.scheduleTimeout())}),this._on(io.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Mg(this),this.broadcastEndpointURL=S6(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ni.closed){const{config:{broadcast:s,presence:o,private:u}}=this.params;this._onError(g=>t==null?void 0:t(El.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(El.CLOSED));const m={},f={broadcast:s,presence:o,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket.setAuth(),g===void 0){t==null||t(El.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(x=w==null?void 0:w.length)!==null&&x!==void 0?x:0,T=[];for(let C=0;C<_;C++){const A=w[C],{filter:{event:M,schema:D,table:R,filter:z}}=A,k=g&&g[C];if(k&&k.event===M&&k.schema===D&&k.table===R&&k.filter===z)T.push(Object.assign(Object.assign({},A),{id:k.id}));else{this.unsubscribe(),this.state=ni.errored,t==null||t(El.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(El.SUBSCRIBED);return}}).receive("error",g=>{this.state=ni.errored,t==null||t(El.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(El.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,u,m;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||m===void 0)&&m.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ni.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(io.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Yw(this,io.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Yw(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:u,error:m,leave:f,join:g}=io;if(r&&[u,m,f,g].indexOf(o)>=0&&r!==this._joinRef())return;let w=this._onMessage(o,n,r);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var T,C,A;return((T=_.filter)===null||T===void 0?void 0:T.event)==="*"||((A=(C=_.filter)===null||C===void 0?void 0:C.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(_=>_.callback(w,r)):(s=this.bindings[o])===null||s===void 0||s.filter(_=>{var T,C,A,M,D,R;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in _){const z=_.id,k=(T=_.filter)===null||T===void 0?void 0:T.event;return z&&((C=n.ids)===null||C===void 0?void 0:C.includes(z))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const z=(D=(M=_==null?void 0:_.filter)===null||M===void 0?void 0:M.event)===null||D===void 0?void 0:D.toLocaleLowerCase();return z==="*"||z===((R=n==null?void 0:n.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===o}).map(_=>{if(typeof w=="object"&&"ids"in w){const T=w.data,{schema:C,table:A,commit_timestamp:M,type:D,errors:R}=T;w=Object.assign(Object.assign({},{schema:C,table:A,commit_timestamp:M,eventType:D,new:{},old:{},errors:R}),this._getPayloadRecords(T))}_.callback(w,r)})}_isClosed(){return this.state===ni.closed}_isJoined(){return this.state===ni.joined}_isJoining(){return this.state===ni.joining}_isLeaving(){return this.state===ni.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&F_.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(io.close,{},t)}_onError(t){this._on(io.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ni.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=$O(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=$O(t.columns,t.old_record)),n}}const WO=()=>{},PY=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kY{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=w6,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=WO,this.ref=0,this.logger=WO,this.conn=null,this.sendBuffer=[],this.serializer=new EY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...u)=>Sd(async()=>{const{default:m}=await Promise.resolve().then(()=>Bh);return{default:m}},void 0).then(({default:m})=>m(...u)):o=fetch,(...u)=>o(...u)},this.endPoint=`${t}/${IN.websocket}`,this.httpEndpoint=S6(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,o)=>o(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new j6(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=jY),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_Y}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Og.connecting:return ld.Connecting;case Og.open:return ld.Open;case Og.closing:return ld.Closing;default:return ld.Closed}}isConnected(){return this.connectionState()===ld.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new F_(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,u=>{var m;(m=this.conn)===null||m===void 0||m.send(u)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:SY};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(io.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(AY,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:o}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(u=>u(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(io.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([PY],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class U_ extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ja(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class IY extends U_{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class BN extends U_{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var LY=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};const _6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Sd(async()=>{const{default:r}=await Promise.resolve().then(()=>Bh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},BY=()=>LY(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sd(()=>Promise.resolve().then(()=>Bh),void 0)).Response:Response}),FN=e=>{if(Array.isArray(e))return e.map(n=>FN(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=FN(r)}),t},FY=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ld=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};const Ww=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UY=(e,t,n)=>Ld(void 0,void 0,void 0,function*(){const r=yield BY();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,o=(i==null?void 0:i.statusCode)||s+"";t(new IY(Ww(i),s,o))}).catch(i=>{t(new BN(Ww(i),i))}):t(new BN(Ww(e),e))}),zY=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(FY(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function b0(e,t,n,r,i,s){return Ld(this,void 0,void 0,function*(){return new Promise((o,u)=>{e(n,zY(t,r,i,s)).then(m=>{if(!m.ok)throw m;return r!=null&&r.noResolveJson?m:m.json()}).then(m=>o(m)).catch(m=>UY(m,u,r))})})}function uv(e,t,n,r){return Ld(this,void 0,void 0,function*(){return b0(e,"GET",t,n,r)})}function Cl(e,t,n,r,i){return Ld(this,void 0,void 0,function*(){return b0(e,"POST",t,r,i,n)})}function UN(e,t,n,r,i){return Ld(this,void 0,void 0,function*(){return b0(e,"PUT",t,r,i,n)})}function VY(e,t,n,r){return Ld(this,void 0,void 0,function*(){return b0(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function A6(e,t,n,r,i){return Ld(this,void 0,void 0,function*(){return b0(e,"DELETE",t,r,i,n)})}var Ri=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};const $Y={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},GO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class HY{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=_6(i)}uploadOrUpdate(t,n,r,i){return Ri(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},GO),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const m=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),m&&s.append("metadata",this.encodeMetadata(m)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),m&&s.append("metadata",this.encodeMetadata(m))):(s=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,m&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(n),g=this._getFinalPath(f),x=yield(t=="PUT"?UN:Cl)(this.fetch,`${this.url}/object/${g}`,s,Object.assign({headers:u},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:x.Id,fullPath:x.Key},error:null}}catch(s){if(ja(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Ri(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ri(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${o}`);u.searchParams.set("token",n);try{let m;const f=Object.assign({upsert:GO.upsert},i),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",f.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",f.cacheControl)):(m=r,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType);const x=yield UN(this.fetch,u.toString(),m,{headers:g});return{data:{path:s,fullPath:x.Key},error:null}}catch(m){if(ja(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(t,n){return Ri(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Cl(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),u=o.searchParams.get("token");if(!u)throw new U_("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:u},error:null}}catch(r){if(ja(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ri(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ri(this,void 0,void 0,function*(){try{return{data:yield Cl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ja(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ri(this,void 0,void 0,function*(){try{return{data:{path:(yield Cl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ja(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ri(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Cl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(ja(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ri(this,void 0,void 0,function*(){try{const i=yield Cl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(ja(i))return{data:null,error:i};throw i}})}download(t,n){return Ri(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield uv(this.fetch,`${this.url}/${i}/${u}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(ja(u))return{data:null,error:u};throw u}})}info(t){return Ri(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield uv(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:FN(r),error:null}}catch(r){if(ja(r))return{data:null,error:r};throw r}})}exists(t){return Ri(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield VY(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ja(r)&&r instanceof BN){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&i.push(m);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(t){return Ri(this,void 0,void 0,function*(){try{return{data:yield A6(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ja(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ri(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},$Y),n),{prefix:t||""});return{data:yield Cl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(ja(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const qY="2.10.4",YY={"X-Client-Info":`storage-js/${qY}`};var Bf=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};class WY{constructor(t,n={},r,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},YY),n),this.fetch=_6(r)}listBuckets(){return Bf(this,void 0,void 0,function*(){try{return{data:yield uv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ja(t))return{data:null,error:t};throw t}})}getBucket(t){return Bf(this,void 0,void 0,function*(){try{return{data:yield uv(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ja(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Bf(this,void 0,void 0,function*(){try{return{data:yield Cl(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ja(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Bf(this,void 0,void 0,function*(){try{return{data:yield UN(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ja(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Bf(this,void 0,void 0,function*(){try{return{data:yield Cl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ja(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Bf(this,void 0,void 0,function*(){try{return{data:yield A6(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ja(n))return{data:null,error:n};throw n}})}}class GY extends WY{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new HY(this.url,this.headers,t,this.fetch)}}const KY="2.53.0";let jg="";typeof Deno<"u"?jg="deno":typeof document<"u"?jg="web":typeof navigator<"u"&&navigator.product==="ReactNative"?jg="react-native":jg="node";const XY={"X-Client-Info":`supabase-js-${jg}/${KY}`},QY={headers:XY},ZY={schema:"public"},JY={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eW={};var tW=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};const nW=e=>{let t;return e?t=e:typeof fetch>"u"?t=g6:t=fetch,(...n)=>t(...n)},rW=()=>typeof Headers>"u"?p6:Headers,aW=(e,t,n)=>{const r=nW(n),i=rW();return(s,o)=>tW(void 0,void 0,void 0,function*(){var u;const m=(u=yield t())!==null&&u!==void 0?u:e;let f=new i(o==null?void 0:o.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${m}`),r(s,Object.assign(Object.assign({},o),{headers:f}))})};var iW=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};function sW(e){return e.endsWith("/")?e:e+"/"}function oW(e,t){var n,r;const{db:i,auth:s,realtime:o,global:u}=e,{db:m,auth:f,realtime:g,global:x}=t,w={db:Object.assign(Object.assign({},m),i),auth:Object.assign(Object.assign({},f),s),realtime:Object.assign(Object.assign({},g),o),storage:{},global:Object.assign(Object.assign(Object.assign({},x),u),{headers:Object.assign(Object.assign({},(n=x==null?void 0:x.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>iW(this,void 0,void 0,function*(){return""})};return e.accessToken?w.accessToken=e.accessToken:delete w.accessToken,w}const E6="2.71.1",Jf=30*1e3,zN=3,Gw=zN*Jf,lW="http://localhost:9999",cW="supabase.auth.token",uW={"X-Client-Info":`gotrue-js/${E6}`},VN="X-Supabase-Api-Version",C6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fW=10*60*1e3;class z_ extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Vt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class hW extends z_{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function mW(e){return Vt(e)&&e.name==="AuthApiError"}class T6 extends z_{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class gu extends z_{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class $c extends gu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gW(e){return Vt(e)&&e.name==="AuthSessionMissingError"}class gx extends gu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class px extends gu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xx extends gu{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function pW(e){return Vt(e)&&e.name==="AuthImplicitGrantRedirectError"}class KO extends gu{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class $N extends gu{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Kw(e){return Vt(e)&&e.name==="AuthRetryableFetchError"}class XO extends gu{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class HN extends gu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const dv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),QO=` 	
\r=`.split(""),xW=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<QO.length;t+=1)e[QO[t].charCodeAt(0)]=-2;for(let t=0;t<dv.length;t+=1)e[dv[t].charCodeAt(0)]=t;return e})();function ZO(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(dv[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(dv[r]),t.queuedBits-=6}}function O6(e,t,n){const r=xW[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function JO(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{bW(o,r,n)};for(let o=0;o<e.length;o+=1)O6(e.charCodeAt(o),i,s);return t.join("")}function vW(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function yW(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}vW(r,t)}}function bW(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function wW(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)O6(e.charCodeAt(i),n,r);return new Uint8Array(t)}function jW(e){const t=[];return yW(e,n=>t.push(n)),new Uint8Array(t)}function NW(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>ZO(i,n,r)),ZO(null,n,r),t.join("")}function SW(e){return Math.round(Date.now()/1e3)+e}function _W(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const to=()=>typeof window<"u"&&typeof document<"u",Zu={tested:!1,writable:!1},M6=()=>{if(!to())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zu.tested)return Zu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Zu.tested=!0,Zu.writable=!0}catch{Zu.tested=!0,Zu.writable=!1}return Zu.writable};function AW(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const D6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>Sd(async()=>{const{default:r}=await Promise.resolve().then(()=>Bh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},EW=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",eh=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ju=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},kc=async(e,t)=>{await e.removeItem(t)};class j1{constructor(){this.promise=new j1.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}j1.promiseConstructor=Promise;function Xw(e){const t=e.split(".");if(t.length!==3)throw new HN("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!dW.test(t[r]))throw new HN("JWT not in base64url format");return{header:JSON.parse(JO(t[0])),payload:JSON.parse(JO(t[1])),signature:wW(t[2]),raw:{header:t[0],payload:t[1]}}}async function CW(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function TW(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function OW(e){return("0"+e.toString(16)).substr(-2)}function MW(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,OW).join("")}async function DW(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function RW(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await DW(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ff(e,t,n=!1){const r=MW();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await eh(e,`${t}-code-verifier`,i);const s=await RW(r);return[s,r===s?"plain":"s256"]}const PW=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function kW(e){const t=e.headers.get(VN);if(!t||!t.match(PW))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function IW(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function LW(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BW=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Uf(e){if(!BW.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qw(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function eM(e){return JSON.parse(JSON.stringify(e))}var FW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const nd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UW=[502,503,504];async function tM(e){var t;if(!EW(e))throw new $N(nd(e),0);if(UW.includes(e.status))throw new $N(nd(e),e.status);let n;try{n=await e.json()}catch(s){throw new T6(nd(s),s)}let r;const i=kW(e);if(i&&i.getTime()>=C6["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new XO(nd(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new $c}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new XO(nd(n),e.status,n.weak_password.reasons);throw new hW(nd(n),e.status||500,r)}const zW=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function an(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[VN]||(s[VN]=C6["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",m=await VW(e,t,n+u,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function VW(e,t,n,r,i,s){const o=zW(t,r,i,s);let u;try{u=await e(n,Object.assign({},o))}catch(m){throw console.error(m),new $N(nd(m),0)}if(u.ok||await tM(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(m){await tM(m)}}function Al(e){var t;let n=null;YW(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=SW(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function nM(e){const t=Al(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Wc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $W(e){return{data:e,error:null}}function HW(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=FW(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},m=Object.assign({},o);return{data:{properties:u,user:m},error:null}}function qW(e){return e}function YW(e){return e.access_token&&e.refresh_token&&e.expires_in}const Zw=["global","local","others"];var WW=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class GW{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=D6(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Zw[0]){if(Zw.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Zw.join(", ")}`);try{return await an(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Vt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await an(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Wc})}catch(r){if(Vt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=WW(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await an(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:HW,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Vt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await an(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Wc})}catch(n){if(Vt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,u,m;try{const f={nextPage:null,lastPage:0,total:0},g=await an(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:qW});if(g.error)throw g.error;const x=await g.json(),w=(o=g.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(m=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(T=>{const C=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(T.split(";")[1].split("=")[1]);f[`${A}Page`]=C}),f.total=parseInt(w)),{data:Object.assign(Object.assign({},x),f),error:null}}catch(f){if(Vt(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Uf(t);try{return await an(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Wc})}catch(n){if(Vt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Uf(t);try{return await an(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Wc})}catch(r){if(Vt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Uf(t);try{return await an(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Wc})}catch(r){if(Vt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Uf(t.userId);try{const{data:n,error:r}=await an(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Vt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Uf(t.userId),Uf(t.id);try{return{data:await an(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Vt(n))return{data:null,error:n};throw n}}}function rM(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function KW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zf={debug:!!(globalThis&&M6()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class R6 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class XW extends R6{}async function QW(e,t,n){zf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),zf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){zf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{zf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw zf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new XW(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zf.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}KW();const ZW={url:lW,storageKey:cW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function aM(e,t,n){return await n()}const Vf={};class zg{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=zg.nextInstanceID,zg.nextInstanceID+=1,this.instanceID>0&&to()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},ZW),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new GW({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=D6(i.fetch),this.lock=i.lock||aM,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:to()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=QW:this.lock=aM,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:M6()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rM(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=rM(this.memoryStorage)),to()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Vf[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Vf[this.storageKey]=Object.assign(Object.assign({},Vf[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Vf[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vf[this.storageKey]=Object.assign(Object.assign({},Vf[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${E6}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=AW(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),to()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),pW(s)){const m=(t=s.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Vt(n)?{error:n}:{error:new T6("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await an(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Al}),{data:o,error:u}=s;if(u||!o)return{data:{user:null,session:null},error:u};const m=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:f,session:m},error:null}}catch(s){if(Vt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:g,password:x,options:w}=t;let _=null,T=null;this.flowType==="pkce"&&([_,T]=await Ff(this.storage,this.storageKey)),s=await an(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:g,password:x,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:_,code_challenge_method:T},xform:Al})}else if("phone"in t){const{phone:g,password:x,options:w}=t;s=await an(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},channel:(i=w==null?void 0:w.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Al})}else throw new px("You must provide either an email or phone number and a password");const{data:o,error:u}=s;if(u||!o)return{data:{user:null,session:null},error:u};const m=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:f,session:m},error:null}}catch(s){if(Vt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:u}=t;n=await an(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:nM})}else if("phone"in t){const{phone:s,password:o,options:u}=t;n=await an(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:nM})}else throw new px("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new gx}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Vt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,u,m,f,g,x,w,_;let T,C;if("message"in t)T=t.message,C=t.signature;else{const{chain:A,wallet:M,statement:D,options:R}=t;let z;if(to())if(typeof M=="object")z=M;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))z=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=M}const k=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in z&&z.signIn){const I=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),D?{statement:D}:null));let B;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")B=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)B=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)T=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),C=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${k.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...D?["",D,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(i=(r=R==null?void 0:R.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=R==null?void 0:R.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((o=R==null?void 0:R.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((u=R==null?void 0:R.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((m=R==null?void 0:R.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((f=R==null?void 0:R.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((x=(g=R==null?void 0:R.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...R.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const I=await z.signMessage(new TextEncoder().encode(T),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=I}}try{const{data:A,error:M}=await an(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:NW(C)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Al});if(M)throw M;return!A||!A.session||!A.user?{data:{user:null,session:null},error:new gx}:(A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),{data:Object.assign({},A),error:M})}catch(A){if(Vt(A))return{data:{user:null,session:null},error:A};throw A}}async _exchangeCodeForSession(t){const n=await Ju(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await an(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Al});if(await kc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new gx}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Vt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,u=await an(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Al}),{data:m,error:f}=u;return f?{data:{user:null,session:null},error:f}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new gx}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:f})}catch(n){if(Vt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:u,options:m}=t;let f=null,g=null;this.flowType==="pkce"&&([f,g]=await Ff(this.storage,this.storageKey));const{error:x}=await an(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in t){const{phone:u,options:m}=t,{data:f,error:g}=await an(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=m==null?void 0:m.data)!==null&&i!==void 0?i:{},create_user:(s=m==null?void 0:m.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(o=m==null?void 0:m.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g}}throw new px("You must provide either an email or phone number.")}catch(u){if(Vt(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:u}=await an(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Al});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const m=o.session,f=o.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:f,session:m},error:null}}catch(i){if(Vt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Ff(this.storage,this.storageKey)),await an(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:$W})}catch(s){if(Vt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new $c;const{error:i}=await an(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Vt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await an(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:u}=await an(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:u}}throw new px("You must provide either an email or phone number and a type")}catch(n){if(Vt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ju(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Gw:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Ju(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Qw()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(m,f,g)=>(!o&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,f,g))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await an(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Wc}):await this._useSession(async n=>{var r,i,s;const{data:o,error:u}=n;if(u)throw u;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $c}:await an(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Wc})})}catch(n){if(Vt(n))return gW(n)&&(await this._removeSession(),await kc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new $c;const o=i.session;let u=null,m=null;this.flowType==="pkce"&&t.email!=null&&([u,m]=await Ff(this.storage,this.storageKey));const{data:f,error:g}=await an(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:m}),jwt:o.access_token,xform:Wc});if(g)throw g;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Vt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $c;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Xw(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:u,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:m}=await this._getUser(t.access_token);if(m)throw m;s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Vt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:u}=n;if(u)throw u;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new $c;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Vt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!to())throw new xx("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xx(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new KO("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xx("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new KO("No code detected.");const{data:D,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:D.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:u,expires_at:m,token_type:f}=t;if(!s||!u||!o||!f)throw new xx("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(u);let w=g+x;m&&(w=parseInt(m));const _=w-g;_*1e3<=Jf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${x}s`);const T=w-x;g-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,w,g):g-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,w,g);const{data:C,error:A}=await this._getUser(s);if(A)throw A;const M={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:x,expires_at:w,refresh_token:o,token_type:f,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:t.type},error:null}}catch(r){if(Vt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ju(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:u}=await this.admin.signOut(o,t);if(u&&!(mW(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await kc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=_W(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ff(this.storage,this.storageKey,!0));try{return await an(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Vt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Vt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,u,m,f,g;const{data:x,error:w}=s;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await an(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(f=x.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})});if(i)throw i;return to()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Vt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await an(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Vt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await TW(async i=>(i>0&&await CW(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await an(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Al})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Kw(s)&&Date.now()+o-r<Jf})}catch(r){if(this._debug(n,"error",r),Vt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),to()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Ju(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Ju(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await eh(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Qw()}else if(i&&!i.user&&!i.user){const o=await Ju(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await kc(this.storage,this.storageKey+"-user"),await eh(this.storage,this.storageKey,i)):i.user=Qw()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Gw;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Gw}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Kw(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(i.access_token);!u&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new $c;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new j1;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new $c;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={session:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(i,"error",s),Vt(s)){const o={session:null,error:s};return Kw(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(m){s.push(m)}});if(await Promise.all(o),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await eh(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=eM(i);await eh(this.storage,this.storageKey,s)}else{const i=eM(n);await eh(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await kc(this.storage,this.storageKey),await kc(this.storage,this.storageKey+"-code-verifier"),await kc(this.storage,this.storageKey+"-user"),this.userStorage&&await kc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&to()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Jf);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Jf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Jf}ms, refresh threshold is ${zN} ticks`),i<=zN&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof R6)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!to()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Ff(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await an(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Vt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:m,error:f}=await an(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&(!((i=m==null?void 0:m.totp)===null||i===void 0)&&i.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(n){if(Vt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:u}=await an(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:u})})}catch(n){if(Vt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await an(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Vt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Xw(i.access_token);let u=null;o.aal&&(u=o.aal);let m=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const g=o.amr||[];return{data:{currentLevel:u,nextLevel:m,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+fW>i)return r;const{data:s,error:o}=await an(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:_,error:T}=await this.getSession();if(T||!_.session)return{data:null,error:T};r=_.session.access_token}const{header:i,payload:s,signature:o,raw:{header:u,payload:m}}=Xw(r);n!=null&&n.allowExpired||IW(s.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:s,header:i,signature:o},error:null}}const g=LW(i.alg),x=await crypto.subtle.importKey("jwk",f,g,!0,["verify"]);if(!await crypto.subtle.verify(g,x,o,jW(`${u}.${m}`)))throw new HN("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(Vt(r))return{data:null,error:r};throw r}}}zg.nextInstanceID=0;const JW=zg;class eG extends JW{constructor(t){super(t)}}var tG=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})};class nG{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=sW(t),m=new URL(u);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const f=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:ZY,realtime:eW,auth:Object.assign(Object.assign({},JY),{storageKey:f}),global:QY},x=oW(r??{},g);this.storageKey=(i=x.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=x.global.headers)!==null&&s!==void 0?s:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(w,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=x.auth)!==null&&o!==void 0?o:{},this.headers,x.global.fetch),this.fetch=aW(n,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new bY(new URL("rest/v1",m).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new GY(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new lY(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return tG(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:u,debug:m},f,g){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eG({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),f),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:u,debug:m,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new kY(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const rG=(e,t,n)=>new nG(e,t,n);function aG(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}aG()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const iG="https://zedwbdksnduazpdveoab.supabase.co",sG="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InplZHdiZGtzbmR1YXpwZHZlb2FiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwMDcwNDIsImV4cCI6MjA2OTU4MzA0Mn0.LjhdIRxPhAM0JTUdX9YdxHaSkffoDLV4RBkglKFksxI",qe=rG(iG,sG),P6=N.createContext(void 0);function oG({children:e}){const[t,n]=N.useState(null),[r,i]=N.useState(null),[s,o]=N.useState(null),[u,m]=N.useState(!0);N.useEffect(()=>{qe.auth.getSession().then(({data:{session:M}})=>{o(M),n((M==null?void 0:M.user)??null),M!=null&&M.user?f(M.user.id):m(!1)});const{data:{subscription:A}}=qe.auth.onAuthStateChange(async(M,D)=>{o(D),n((D==null?void 0:D.user)??null),D!=null&&D.user?await f(D.user.id):(i(null),m(!1))});return()=>A.unsubscribe()},[]);const f=async A=>{try{const{data:M,error:D}=await qe.from("profiles").select("*").eq("id",A).single();if(D)throw D;i(M)}catch(M){console.error("Error fetching profile:",M)}finally{m(!1)}},C={user:t,profile:r,session:s,loading:u,signUp:async(A,M,D)=>{const{data:R,error:z}=await qe.auth.signUp({email:A,password:M,options:{data:D}});return{data:R,error:z}},signIn:async(A,M,D=!1)=>{const{data:R,error:z}=await qe.auth.signInWithPassword({email:A,password:M});return D&&R.session?localStorage.setItem("tickets_remember_me","true"):localStorage.removeItem("tickets_remember_me"),{data:R,error:z}},signOut:async()=>{await qe.auth.signOut()},updateProfile:async A=>{if(!t)return;const{error:M}=await qe.from("profiles").update(A).eq("id",t.id);M||i(D=>D?{...D,...A}:null)},refreshProfile:async()=>{t&&await f(t.id)}};return a.jsx(P6.Provider,{value:C,children:e})}function Wt(){const e=N.useContext(P6);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function lG(){const e=Wt();return N.useEffect(()=>{!e.loading&&!e.user&&(window.location.href="/login")},[e.loading,e.user]),e}function V_(e){const t=lG();return N.useEffect(()=>{!t.loading&&t.profile&&!e.includes(t.profile.user_type)&&(window.location.href=`/${t.profile.user_type}`)},[t.loading,t.profile,e]),t}const cG={en:{"common.loading":"Loading...","common.error":"An error occurred","common.success":"Success","common.cancel":"Cancel","common.confirm":"Confirm","common.save":"Save","common.edit":"Edit","common.delete":"Delete","common.back":"Back","common.next":"Next","common.previous":"Previous","common.search":"Search","common.filter":"Filter","common.amount":"Amount","common.date":"Date","common.status":"Status","common.description":"Description","common.balance":"Balance","common.currency":"SYP","auth.login":"Login","auth.register":"Register","auth.logout":"Logout","auth.email":"Email","auth.password":"Password","auth.confirmPassword":"Confirm Password","auth.fullName":"Full Name","auth.phoneNumber":"Phone Number","auth.forgotPassword":"Forgot Password?","auth.dontHaveAccount":"Don't have an account?","auth.alreadyHaveAccount":"Already have an account?","auth.signUp":"Sign Up","auth.signIn":"Sign In","auth.role":"I am a","auth.passenger":"Passenger","auth.driver":"Driver","auth.merchant":"Merchant","auth.eventAdmin":"Event Organizer","auth.accountType":"Account Type","auth.getStartedDescription":"Get started with your digital wallet in minutes","auth.fullNamePlaceholder":"Your full name","auth.emailPlaceholder":"your@email.com","auth.phoneNumberPlaceholder":"XXX XXX XXX","auth.createPasswordPlaceholder":"Create a strong password","auth.confirmPasswordPlaceholder":"Confirm your password","auth.signInHere":"Sign in here","auth.signUpHere":"Sign up for free","auth.accessDescription":"Access your digital wallet and manage your payments","auth.enterPasswordPlaceholder":"Enter your password","auth.rememberMe":"Remember me","common.optional":"Optional","features.digitalWallet":"Digital wallet access","features.qrPayments":"QR code payments","features.eventTickets":"Event ticket purchases","features.transactionHistory":"Transaction history","features.driverDashboard":"Driver dashboard","features.earningsTracking":"Earnings tracking","features.qrGeneration":"QR code generation","features.tripManagement":"Trip management","features.businessDashboard":"Business dashboard","features.paymentProcessing":"Payment processing","features.analyticsInsights":"Analytics & insights","features.customerManagement":"Customer management","features.eventCreation":"Event creation","features.ticketManagement":"Ticket management","features.attendeeAnalytics":"Attendee analytics","features.revenueTracking":"Revenue tracking","registration.personalAccountFeatures":"Personal Account Features","registration.driverAccountFeatures":"Driver Account Features","registration.businessAccountFeatures":"Business Account Features","registration.eventOrganizerFeatures":"Event Organizer Features","registration.whyChooseTickets":"Why Choose Tickets?","registration.bankGradeSecurity":"Bank-grade security & encryption","registration.instantTransactions":"Instant transactions & real-time updates","registration.customerSupport":"24/7 customer support","registration.lowFees":"Low fees & transparent pricing","registration.soc2Certified":"SOC 2 Certified","registration.iso27001":"ISO 27001","registration.pciCompliant":"PCI Compliant","registration.joinRevolution":"Join the digital payment revolution","registration.backToHome":"Back to Home","login.welcomeBack":"Welcome back","login.secure":"Secure","login.encrypted":"Encrypted","login.private":"Private","nav.dashboard":"Dashboard","nav.wallet":"Wallet","nav.transactions":"Transactions","nav.scanner":"QR Scanner","nav.events":"Events","nav.tickets":"My Tickets","nav.earnings":"Earnings","nav.trips":"Trips","nav.verification":"Verification","nav.qrcode":"QR Code","nav.business":"Business","nav.management":"Management","nav.analytics":"Analytics","nav.users":"Users","nav.disputes":"Disputes","nav.verificationReview":"Driver Verification","nav.support":"Support","nav.settings":"Settings","nav.profile":"Profile","wallet.title":"Digital Wallet","wallet.balance":"Current Balance","wallet.recharge":"Recharge Wallet","wallet.rechargeAmount":"Recharge Amount","wallet.paymentMethod":"Payment Method","wallet.mtnCash":"MTN Cash","wallet.syriatelCash":"Syriatel Cash","wallet.shamCash":"ShamCash","wallet.fatora":"Fatora","wallet.stripe":"Credit Card","wallet.rechargeSuccess":"Wallet recharged successfully","wallet.insufficientBalance":"Insufficient balance","transactions.title":"Transaction History","transactions.recent":"Recent Transactions","transactions.payment":"Payment","transactions.recharge":"Recharge","transactions.refund":"Refund","transactions.withdrawal":"Withdrawal","transactions.pending":"Pending","transactions.completed":"Completed","transactions.failed":"Failed","transactions.cancelled":"Cancelled","transactions.to":"To","transactions.from":"From","scanner.title":"QR Code Scanner","scanner.scanToPayDriver":"Scan driver QR to pay for transport","scanner.scanToPayMerchant":"Scan merchant QR to make payment","scanner.scanning":"Scanning...","scanner.paymentSuccess":"Payment successful","scanner.paymentFailed":"Payment failed","scanner.quantity":"Number of tickets","events.title":"Events","events.upcoming":"Upcoming Events","events.myEvents":"My Events","events.createEvent":"Create Event","events.eventTitle":"Event Title","events.eventDescription":"Event Description","events.eventLocation":"Location","events.eventDate":"Date","events.eventPrice":"Ticket Price","events.availableTickets":"Available Tickets","events.buyTicket":"Buy Ticket","events.ticketPurchased":"Ticket purchased successfully","driver.title":"Driver Dashboard","driver.earnings":"Earnings","driver.todayEarnings":"Today's Earnings","driver.weekEarnings":"Week Earnings","driver.monthEarnings":"Month Earnings","driver.generateQR":"Generate QR Code","driver.activeTrip":"Active Trip","driver.startTrip":"Start Trip","driver.endTrip":"End Trip","driver.route":"Route","driver.ticketFee":"Ticket Fee","driver.passengerCount":"Passengers","driver.analytics":"Driver Analytics","driver.performance":"Performance","driver.efficiency":"Efficiency","driver.monthlyComparison":"Monthly Comparison","driver.hourlyPerformance":"Hourly Performance","driver.locationPerformance":"Location Performance","driver.ratingDistribution":"Rating Distribution","driver.performanceMetrics":"Performance Metrics","driver.earningsBreakdown":"Earnings Breakdown","driver.todaySnapshot":"Today's Snapshot","driver.exportAnalytics":"Export Analytics","driver.earningsTrend":"Earnings Trend","driver.dailyAverage":"Daily Average","driver.weeklyAverage":"Weekly Average","driver.monthlyAverage":"Monthly Average","driver.totalNetEarnings":"Total Net Earnings","driver.averagePerTrip":"Average per Trip","driver.totalDistance":"Total Distance","driver.totalDuration":"Total Duration","driver.earningsPerHour":"Earnings per Hour","driver.earningsPerKm":"Earnings per KM","driver.cancellationRate":"Cancellation Rate","driver.overallRating":"Overall Rating","driver.efficiencyRating":"Efficiency Rating","driver.excellent":"Excellent","driver.verification.title":"Driver Verification","driver.verification.description":"Complete your driver verification to start earning with Tickets","driver.verification.status.title":"Verification Status","driver.verification.status.not_submitted":"Not Submitted","driver.verification.status.pending":"Under Review","driver.verification.status.approved":"Approved","driver.verification.status.rejected":"Rejected","driver.verification.progress":"Progress","driver.verification.driverInfo":"Driver Information","driver.verification.driverInfoDesc":"Provide your driver and vehicle details","driver.verification.licenseNumber":"License Number","driver.verification.licenseNumberPlaceholder":"Enter your driving license number","driver.verification.licenseExpiry":"License Expiry Date","driver.verification.vehicleType":"Vehicle Type","driver.verification.selectVehicleType":"Select vehicle type","driver.verification.vehicleModel":"Vehicle Model","driver.verification.vehicleModelPlaceholder":"e.g., Toyota Hiace 2020","driver.verification.vehiclePlate":"Vehicle Plate Number","driver.verification.vehiclePlatePlaceholder":"e.g., 123456 Damascus","driver.verification.routeName":"Route Name","driver.verification.routeNamePlaceholder":"e.g., Damascus-Aleppo","driver.verification.routeDescription":"Route Description","driver.verification.routeDescriptionPlaceholder":"Describe your regular routes and stops","driver.verification.documents":"Required Documents","driver.verification.documentsDesc":"Upload clear photos or scans of your documents","driver.verification.documentTypes.license_front":"Driver License (Front)","driver.verification.documentTypes.license_back":"Driver License (Back)","driver.verification.documentTypes.vehicle_registration":"Vehicle Registration","driver.verification.documentTypes.vehicle_photo":"Vehicle Photo","driver.verification.viewDocument":"View Document","driver.verification.submit":"Submit for Review","driver.verification.invalidFileType":"Please upload images (JPG, PNG) or PDF files only","driver.verification.fileTooLarge":"File size must be less than 5MB","driver.verification.documentUploaded":"Document uploaded successfully","driver.verification.uploadFailed":"Failed to upload document. Please try again.","driver.verification.fillRequired":"Please fill in all required fields","driver.verification.uploadAllDocuments":"Please upload all required documents","driver.verification.submitted":"Verification submitted successfully! You will be notified when reviewed.","driver.verification.rejectedMessage":"Your verification was rejected. Please review the feedback and resubmit.","driver.verification.approvedMessage":"Congratulations! Your driver verification has been approved. You can now start accepting passengers.","driver.verification.vehicleTypes.bus":"Bus","driver.verification.vehicleTypes.microbus":"Microbus","driver.verification.vehicleTypes.taxi":"Taxi","driver.verification.vehicleTypes.private_car":"Private Car","driver.verification.vehicleTypes.motorcycle":"Motorcycle","driver.verification.vehicleTypes.truck":"Truck","common.saving":"Saving...","merchant.title":"Merchant Dashboard","merchant.business":"Business Information","merchant.businessName":"Business Name","merchant.businessCategory":"Category","merchant.generateQR":"Generate Payment QR","merchant.qrAmount":"Payment Amount","admin.title":"Admin Dashboard","admin.userManagement":"User Management","admin.systemAnalytics":"System Analytics","admin.totalUsers":"Total Users","admin.totalTransactions":"Total Transactions","admin.totalRevenue":"Total Revenue","admin.disputes":"Disputes","app.name":"Tickets","app.subtitle":"Digital Wallet & Payment System","app.welcome":"Welcome to Tickets","app.description":"Your digital wallet for seamless payments, event tickets, and transportation in Syria.","onboard.welcome":"Welcome to Tickets!","onboard.step1.title":"Digital Wallet","onboard.step1.desc":"Securely store and manage your money digitally","onboard.step2.title":"QR Payments","onboard.step2.desc":"Pay for transportation and purchases instantly","onboard.step3.title":"Event Tickets","onboard.step3.desc":"Buy and manage event tickets digitally","onboard.getStarted":"Get Started","onboard.skip":"Skip Tour"},ar:{"common.loading":" ...","common.error":" ","common.success":"","common.cancel":"","common.confirm":"","common.save":"","common.edit":"","common.delete":"","common.back":"","common.next":"","common.previous":"","common.search":"","common.filter":"","common.amount":"","common.date":"","common.status":"","common.description":"","common.balance":"","common.currency":".","auth.login":" ","auth.register":" ","auth.logout":" ","auth.email":" ","auth.password":" ","auth.confirmPassword":"  ","auth.fullName":" ","auth.phoneNumber":" ","auth.forgotPassword":"  ","auth.dontHaveAccount":"  ","auth.alreadyHaveAccount":"  ","auth.signUp":" ","auth.signIn":" ","auth.role":"","auth.passenger":"","auth.driver":"","auth.merchant":"","auth.eventAdmin":" ","auth.accountType":" ","auth.getStartedDescription":"     ","auth.fullNamePlaceholder":" ","auth.emailPlaceholder":"your@email.com","auth.phoneNumberPlaceholder":"XXX XXX XXX","auth.createPasswordPlaceholder":"   ","auth.confirmPasswordPlaceholder":"  ","auth.signInHere":"  ","auth.signUpHere":"  ","auth.accessDescription":"     ","auth.enterPasswordPlaceholder":"  ","auth.rememberMe":"","common.optional":"","features.digitalWallet":"  ","features.qrPayments":"  QR","features.eventTickets":"  ","features.transactionHistory":" ","features.driverDashboard":"  ","features.earningsTracking":" ","features.qrGeneration":"  QR","features.tripManagement":" ","features.businessDashboard":"  ","features.paymentProcessing":" ","features.analyticsInsights":" ","features.customerManagement":" ","features.eventCreation":" ","features.ticketManagement":" ","features.attendeeAnalytics":" ","features.revenueTracking":" ","registration.personalAccountFeatures":"  ","registration.driverAccountFeatures":"  ","registration.businessAccountFeatures":"  ","registration.eventOrganizerFeatures":"  ","registration.whyChooseTickets":"  ","registration.bankGradeSecurity":"   ","registration.instantTransactions":"     ","registration.customerSupport":"  24/7","registration.lowFees":"   ","registration.soc2Certified":" SOC 2","registration.iso27001":"ISO 27001","registration.pciCompliant":"  PCI","registration.joinRevolution":"    ","registration.backToHome":"  ","login.welcomeBack":" ","login.secure":"","login.encrypted":"","login.private":"","nav.dashboard":" ","nav.wallet":"","nav.transactions":"","nav.scanner":" QR","nav.events":"","nav.tickets":"","nav.earnings":"","nav.trips":"","nav.verification":"","nav.qrcode":" QR","nav.business":"","nav.management":"","nav.analytics":"","nav.users":"","nav.disputes":"","nav.verificationReview":" ","nav.support":"","nav.settings":"","nav.profile":" ","wallet.title":" ","wallet.balance":" ","wallet.recharge":" ","wallet.rechargeAmount":" ","wallet.paymentMethod":" ","wallet.mtnCash":"   ","wallet.syriatelCash":" ","wallet.shamCash":" ","wallet.fatora":"","wallet.stripe":" ","wallet.rechargeSuccess":"   ","wallet.insufficientBalance":"  ","transactions.title":" ","transactions.recent":" ","transactions.payment":"","transactions.recharge":"","transactions.refund":"","transactions.withdrawal":"","transactions.pending":"","transactions.completed":"","transactions.failed":"","transactions.cancelled":"","transactions.to":"","transactions.from":"","scanner.title":"  QR","scanner.scanToPayDriver":"   ","scanner.scanToPayMerchant":"   ","scanner.scanning":" ...","scanner.paymentSuccess":"  ","scanner.paymentFailed":" ","scanner.quantity":" ","events.title":"","events.upcoming":" ","events.myEvents":"","events.createEvent":" ","events.eventTitle":" ","events.eventDescription":" ","events.eventLocation":"","events.eventDate":"","events.eventPrice":" ","events.availableTickets":" ","events.buyTicket":" ","events.ticketPurchased":"   ","driver.title":"  ","driver.earnings":"","driver.todayEarnings":" ","driver.weekEarnings":" ","driver.monthEarnings":" ","driver.generateQR":"  QR","driver.activeTrip":" ","driver.startTrip":" ","driver.endTrip":" ","driver.route":"","driver.ticketFee":" ","driver.passengerCount":"","driver.analytics":" ","driver.performance":"","driver.efficiency":"","driver.monthlyComparison":" ","driver.hourlyPerformance":" ","driver.locationPerformance":" ","driver.ratingDistribution":" ","driver.performanceMetrics":" ","driver.earningsBreakdown":" ","driver.todaySnapshot":" ","driver.exportAnalytics":" ","driver.earningsTrend":" ","driver.dailyAverage":" ","driver.weeklyAverage":" ","driver.monthlyAverage":" ","driver.totalNetEarnings":"  ","driver.averagePerTrip":"  ","driver.totalDistance":" ","driver.totalDuration":" ","driver.earningsPerHour":"  ","driver.earningsPerKm":"  ","driver.cancellationRate":" ","driver.overallRating":" ","driver.efficiencyRating":" ","driver.excellent":"","driver.verification.title":" ","driver.verification.description":"      ","driver.verification.status.title":" ","driver.verification.status.not_submitted":"  ","driver.verification.status.pending":" ","driver.verification.status.approved":" ","driver.verification.status.rejected":"","driver.verification.progress":"","driver.verification.driverInfo":" ","driver.verification.driverInfoDesc":"   ","driver.verification.licenseNumber":"  ","driver.verification.licenseNumberPlaceholder":"   ","driver.verification.licenseExpiry":"  ","driver.verification.vehicleType":" ","driver.verification.selectVehicleType":"  ","driver.verification.vehicleModel":" ","driver.verification.vehicleModelPlaceholder":":   2020","driver.verification.vehiclePlate":"  ","driver.verification.vehiclePlatePlaceholder":": 123456 ","driver.verification.routeName":" ","driver.verification.routeNamePlaceholder":": -","driver.verification.routeDescription":" ","driver.verification.routeDescriptionPlaceholder":"   ","driver.verification.documents":" ","driver.verification.documentsDesc":"      ","driver.verification.documentTypes.license_front":"  ( )","driver.verification.documentTypes.license_back":"  ( )","driver.verification.documentTypes.vehicle_registration":" ","driver.verification.documentTypes.vehicle_photo":" ","driver.verification.viewDocument":" ","driver.verification.submit":" ","driver.verification.invalidFileType":"    (JPG, PNG)  PDF ","driver.verification.fileTooLarge":"       5 ","driver.verification.documentUploaded":"   ","driver.verification.uploadFailed":"   .    .","driver.verification.fillRequired":"    ","driver.verification.uploadAllDocuments":"    ","driver.verification.submitted":"   !    .","driver.verification.rejectedMessage":"  .     .","driver.verification.approvedMessage":"!     .      .","driver.verification.vehicleTypes.bus":"","driver.verification.vehicleTypes.microbus":"","driver.verification.vehicleTypes.taxi":"","driver.verification.vehicleTypes.private_car":" ","driver.verification.vehicleTypes.motorcycle":" ","driver.verification.vehicleTypes.truck":"","common.saving":" ...","merchant.title":"  ","merchant.business":" ","merchant.businessName":" ","merchant.businessCategory":"","merchant.generateQR":"   QR","merchant.qrAmount":" ","admin.title":"  ","admin.userManagement":" ","admin.systemAnalytics":" ","admin.totalUsers":" ","admin.totalTransactions":" ","admin.totalRevenue":" ","admin.disputes":"","app.name":"","app.subtitle":"   ","app.welcome":"   ","app.description":"        .","onboard.welcome":"   !","onboard.step1.title":" ","onboard.step1.desc":"    ","onboard.step2.title":"  QR","onboard.step2.desc":"   ","onboard.step3.title":" ","onboard.step3.desc":"    ","onboard.getStarted":" ","onboard.skip":" "}},k6=N.createContext(void 0);function uG({children:e}){const[t,n]=N.useState("en");N.useEffect(()=>{const s=localStorage.getItem("language");s&&["en","ar"].includes(s)&&n(s)},[]),N.useEffect(()=>{localStorage.setItem("language",t),document.documentElement.lang=t,document.documentElement.dir=t==="ar"?"rtl":"ltr"},[t]);const i={language:t,setLanguage:n,t:(s,o)=>{let u=cG[t][s]||s;return o&&Object.entries(o).forEach(([m,f])=>{u=u.replace(`{{${m}}}`,f)}),u},isRTL:t==="ar"};return a.jsx(k6.Provider,{value:i,children:e})}function $t(){const e=N.useContext(k6);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}const I6=N.createContext(void 0);function dG({children:e}){const[t,n]=N.useState("system"),[r,i]=N.useState(!1),{profile:s,updateProfile:o}=Wt();N.useEffect(()=>{(()=>{if(s!=null&&s.theme_preference)n(s.theme_preference);else{const g=localStorage.getItem("tickets_theme");g&&["light","dark","system"].includes(g)&&n(g)}})()},[s]),N.useEffect(()=>{const f=()=>{if(t==="system"){const g=window.matchMedia("(prefers-color-scheme: dark)").matches;i(g)}else i(t==="dark")};if(f(),t==="system"){const g=window.matchMedia("(prefers-color-scheme: dark)"),x=()=>f();return g.addEventListener("change",x),()=>g.removeEventListener("change",x)}},[t]),N.useEffect(()=>{const f=document.documentElement;r?f.classList.add("dark"):f.classList.remove("dark")},[r]);const m={theme:t,setTheme:async f=>{if(n(f),localStorage.setItem("tickets_theme",f),s)try{await o({theme_preference:f})}catch(g){console.error("Failed to update theme preference:",g)}},isDark:r};return a.jsx(I6.Provider,{value:m,children:e})}function fG(){const e=N.useContext(I6);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}var Bd=m6();const L6=zi(Bd);function hG(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const mG=e=>{switch(e){case"success":return xG;case"info":return yG;case"warning":return vG;case"error":return bG;default:return null}},gG=Array(12).fill(0),pG=({visible:e,className:t})=>at.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},at.createElement("div",{className:"sonner-spinner"},gG.map((n,r)=>at.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),xG=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vG=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),yG=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),bG=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},at.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),wG=at.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},at.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),at.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),jG=()=>{const[e,t]=at.useState(document.hidden);return at.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let qN=1;class NG{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...i}=t,s=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:qN++,o=this.toasts.find(m=>m.id===s),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(m=>m.id===s?(this.publish({...m,...t,id:s,title:r}),{...m,...t,id:s,dismissible:u,title:r}):m):this.addToast({title:r,...i,dismissible:u,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let s=r!==void 0,o;const u=i.then(async f=>{if(o=["resolve",f],at.isValidElement(f))s=!1,this.create({id:r,type:"default",message:f});else if(_G(f)&&!f.ok){s=!1;const x=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,w=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,T=typeof x=="object"&&!at.isValidElement(x)?x:{message:x};this.create({id:r,type:"error",description:w,...T})}else if(f instanceof Error){s=!1;const x=typeof n.error=="function"?await n.error(f):n.error,w=typeof n.description=="function"?await n.description(f):n.description,T=typeof x=="object"&&!at.isValidElement(x)?x:{message:x};this.create({id:r,type:"error",description:w,...T})}else if(n.success!==void 0){s=!1;const x=typeof n.success=="function"?await n.success(f):n.success,w=typeof n.description=="function"?await n.description(f):n.description,T=typeof x=="object"&&!at.isValidElement(x)?x:{message:x};this.create({id:r,type:"success",description:w,...T})}}).catch(async f=>{if(o=["reject",f],n.error!==void 0){s=!1;const g=typeof n.error=="function"?await n.error(f):n.error,x=typeof n.description=="function"?await n.description(f):n.description,_=typeof g=="object"&&!at.isValidElement(g)?g:{message:g};this.create({id:r,type:"error",description:x,..._})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),m=()=>new Promise((f,g)=>u.then(()=>o[0]==="reject"?g(o[1]):f(o[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:m}:Object.assign(r,{unwrap:m})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||qN++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Pi=new NG,SG=(e,t)=>{const n=(t==null?void 0:t.id)||qN++;return Pi.addToast({title:e,...t,id:n}),n},_G=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",AG=SG,EG=()=>Pi.toasts,CG=()=>Pi.getActiveToasts(),Me=Object.assign(AG,{success:Pi.success,info:Pi.info,warning:Pi.warning,error:Pi.error,custom:Pi.custom,message:Pi.message,promise:Pi.promise,dismiss:Pi.dismiss,loading:Pi.loading},{getHistory:EG,getToasts:CG});hG("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function vx(e){return e.label!==void 0}const TG=3,OG="24px",MG="16px",iM=4e3,DG=356,RG=14,PG=45,kG=200;function ko(...e){return e.filter(Boolean).join(" ")}function IG(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const LG=e=>{var t,n,r,i,s,o,u,m,f;const{invert:g,toast:x,unstyled:w,interacting:_,setHeights:T,visibleToasts:C,heights:A,index:M,toasts:D,expanded:R,removeToast:z,defaultRichColors:k,closeButton:I,style:B,cancelButtonStyle:V,actionButtonStyle:F,className:$="",descriptionClassName:W="",duration:Y,position:X,gap:ne,expandByDefault:J,classNames:H,icons:ee,closeButtonAriaLabel:K="Close toast"}=e,[ue,re]=at.useState(null),[de,xe]=at.useState(null),[Se,ye]=at.useState(!1),[Le,ie]=at.useState(!1),[ce,le]=at.useState(!1),[he,Ee]=at.useState(!1),[je,be]=at.useState(!1),[Ke,ze]=at.useState(0),[Qe,ht]=at.useState(0),Je=at.useRef(x.duration||Y||iM),bt=at.useRef(null),st=at.useRef(null),hr=M===0,ct=M+1<=C,xn=x.type,Wr=x.dismissible!==!1,mr=x.className||"",Wa=x.descriptionClassName||"",Nn=at.useMemo(()=>A.findIndex(Pt=>Pt.toastId===x.id)||0,[A,x.id]),Gn=at.useMemo(()=>{var Pt;return(Pt=x.closeButton)!=null?Pt:I},[x.closeButton,I]),gr=at.useMemo(()=>x.duration||Y||iM,[x.duration,Y]),sn=at.useRef(0),$i=at.useRef(0),qs=at.useRef(0),xs=at.useRef(null),[cn,nt]=X.split("-"),vn=at.useMemo(()=>A.reduce((Pt,pn,rr)=>rr>=Nn?Pt:Pt+pn.height,0),[A,Nn]),un=jG(),_n=x.invert||g,Ys=xn==="loading";$i.current=at.useMemo(()=>Nn*ne+vn,[Nn,vn]),at.useEffect(()=>{Je.current=gr},[gr]),at.useEffect(()=>{ye(!0)},[]),at.useEffect(()=>{const Pt=st.current;if(Pt){const pn=Pt.getBoundingClientRect().height;return ht(pn),T(rr=>[{toastId:x.id,height:pn,position:x.position},...rr]),()=>T(rr=>rr.filter(fn=>fn.toastId!==x.id))}},[T,x.id]),at.useLayoutEffect(()=>{if(!Se)return;const Pt=st.current,pn=Pt.style.height;Pt.style.height="auto";const rr=Pt.getBoundingClientRect().height;Pt.style.height=pn,ht(rr),T(fn=>fn.find(ar=>ar.toastId===x.id)?fn.map(ar=>ar.toastId===x.id?{...ar,height:rr}:ar):[{toastId:x.id,height:rr,position:x.position},...fn])},[Se,x.title,x.description,T,x.id,x.jsx,x.action,x.cancel]);const pi=at.useCallback(()=>{ie(!0),ze($i.current),T(Pt=>Pt.filter(pn=>pn.toastId!==x.id)),setTimeout(()=>{z(x)},kG)},[x,z,T,$i]);at.useEffect(()=>{if(x.promise&&xn==="loading"||x.duration===1/0||x.type==="loading")return;let Pt;return R||_||un?(()=>{if(qs.current<sn.current){const fn=new Date().getTime()-sn.current;Je.current=Je.current-fn}qs.current=new Date().getTime()})():(()=>{Je.current!==1/0&&(sn.current=new Date().getTime(),Pt=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),pi()},Je.current))})(),()=>clearTimeout(Pt)},[R,_,x,xn,un,pi]),at.useEffect(()=>{x.delete&&(pi(),x.onDismiss==null||x.onDismiss.call(x,x))},[pi,x.delete]);function Eu(){var Pt;if(ee!=null&&ee.loading){var pn;return at.createElement("div",{className:ko(H==null?void 0:H.loader,x==null||(pn=x.classNames)==null?void 0:pn.loader,"sonner-loader"),"data-visible":xn==="loading"},ee.loading)}return at.createElement(pG,{className:ko(H==null?void 0:H.loader,x==null||(Pt=x.classNames)==null?void 0:Pt.loader),visible:xn==="loading"})}const en=x.icon||(ee==null?void 0:ee[xn])||mG(xn);var Ga,Cu;return at.createElement("li",{tabIndex:0,ref:st,className:ko($,mr,H==null?void 0:H.toast,x==null||(t=x.classNames)==null?void 0:t.toast,H==null?void 0:H.default,H==null?void 0:H[xn],x==null||(n=x.classNames)==null?void 0:n[xn]),"data-sonner-toast":"","data-rich-colors":(Ga=x.richColors)!=null?Ga:k,"data-styled":!(x.jsx||x.unstyled||w),"data-mounted":Se,"data-promise":!!x.promise,"data-swiped":je,"data-removed":Le,"data-visible":ct,"data-y-position":cn,"data-x-position":nt,"data-index":M,"data-front":hr,"data-swiping":ce,"data-dismissible":Wr,"data-type":xn,"data-invert":_n,"data-swipe-out":he,"data-swipe-direction":de,"data-expanded":!!(R||J&&Se),style:{"--index":M,"--toasts-before":M,"--z-index":D.length-M,"--offset":`${Le?Ke:$i.current}px`,"--initial-height":J?"auto":`${Qe}px`,...B,...x.style},onDragEnd:()=>{le(!1),re(null),xs.current=null},onPointerDown:Pt=>{Pt.button!==2&&(Ys||!Wr||(bt.current=new Date,ze($i.current),Pt.target.setPointerCapture(Pt.pointerId),Pt.target.tagName!=="BUTTON"&&(le(!0),xs.current={x:Pt.clientX,y:Pt.clientY})))},onPointerUp:()=>{var Pt,pn,rr;if(he||!Wr)return;xs.current=null;const fn=Number(((Pt=st.current)==null?void 0:Pt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ei=Number(((pn=st.current)==null?void 0:pn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ar=new Date().getTime()-((rr=bt.current)==null?void 0:rr.getTime()),yn=ue==="x"?fn:Ei,pr=Math.abs(yn)/ar;if(Math.abs(yn)>=PG||pr>.11){ze($i.current),x.onDismiss==null||x.onDismiss.call(x,x),xe(ue==="x"?fn>0?"right":"left":Ei>0?"down":"up"),pi(),Ee(!0);return}else{var hn,_r;(hn=st.current)==null||hn.style.setProperty("--swipe-amount-x","0px"),(_r=st.current)==null||_r.style.setProperty("--swipe-amount-y","0px")}be(!1),le(!1),re(null)},onPointerMove:Pt=>{var pn,rr,fn;if(!xs.current||!Wr||((pn=window.getSelection())==null?void 0:pn.toString().length)>0)return;const ar=Pt.clientY-xs.current.y,yn=Pt.clientX-xs.current.x;var pr;const hn=(pr=e.swipeDirections)!=null?pr:IG(X);!ue&&(Math.abs(yn)>1||Math.abs(ar)>1)&&re(Math.abs(yn)>Math.abs(ar)?"x":"y");let _r={x:0,y:0};const Pr=Ra=>1/(1.5+Math.abs(Ra)/20);if(ue==="y"){if(hn.includes("top")||hn.includes("bottom"))if(hn.includes("top")&&ar<0||hn.includes("bottom")&&ar>0)_r.y=ar;else{const Ra=ar*Pr(ar);_r.y=Math.abs(Ra)<Math.abs(ar)?Ra:ar}}else if(ue==="x"&&(hn.includes("left")||hn.includes("right")))if(hn.includes("left")&&yn<0||hn.includes("right")&&yn>0)_r.x=yn;else{const Ra=yn*Pr(yn);_r.x=Math.abs(Ra)<Math.abs(yn)?Ra:yn}(Math.abs(_r.x)>0||Math.abs(_r.y)>0)&&be(!0),(rr=st.current)==null||rr.style.setProperty("--swipe-amount-x",`${_r.x}px`),(fn=st.current)==null||fn.style.setProperty("--swipe-amount-y",`${_r.y}px`)}},Gn&&!x.jsx&&xn!=="loading"?at.createElement("button",{"aria-label":K,"data-disabled":Ys,"data-close-button":!0,onClick:Ys||!Wr?()=>{}:()=>{pi(),x.onDismiss==null||x.onDismiss.call(x,x)},className:ko(H==null?void 0:H.closeButton,x==null||(r=x.classNames)==null?void 0:r.closeButton)},(Cu=ee==null?void 0:ee.close)!=null?Cu:wG):null,(xn||x.icon||x.promise)&&x.icon!==null&&((ee==null?void 0:ee[xn])!==null||x.icon)?at.createElement("div",{"data-icon":"",className:ko(H==null?void 0:H.icon,x==null||(i=x.classNames)==null?void 0:i.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Eu():null,x.type!=="loading"?en:null):null,at.createElement("div",{"data-content":"",className:ko(H==null?void 0:H.content,x==null||(s=x.classNames)==null?void 0:s.content)},at.createElement("div",{"data-title":"",className:ko(H==null?void 0:H.title,x==null||(o=x.classNames)==null?void 0:o.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?at.createElement("div",{"data-description":"",className:ko(W,Wa,H==null?void 0:H.description,x==null||(u=x.classNames)==null?void 0:u.description)},typeof x.description=="function"?x.description():x.description):null),at.isValidElement(x.cancel)?x.cancel:x.cancel&&vx(x.cancel)?at.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||V,onClick:Pt=>{vx(x.cancel)&&Wr&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,Pt),pi())},className:ko(H==null?void 0:H.cancelButton,x==null||(m=x.classNames)==null?void 0:m.cancelButton)},x.cancel.label):null,at.isValidElement(x.action)?x.action:x.action&&vx(x.action)?at.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||F,onClick:Pt=>{vx(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,Pt),!Pt.defaultPrevented&&pi())},className:ko(H==null?void 0:H.actionButton,x==null||(f=x.classNames)==null?void 0:f.actionButton)},x.action.label):null)};function sM(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function BG(e,t){const n={};return[e,t].forEach((r,i)=>{const s=i===1,o=s?"--mobile-offset":"--offset",u=s?MG:OG;function m(f){["top","right","bottom","left"].forEach(g=>{n[`${o}-${g}`]=typeof f=="number"?`${f}px`:f})}typeof r=="number"||typeof r=="string"?m(r):typeof r=="object"?["top","right","bottom","left"].forEach(f=>{r[f]===void 0?n[`${o}-${f}`]=u:n[`${o}-${f}`]=typeof r[f]=="number"?`${r[f]}px`:r[f]}):m(u)}),n}const FG=at.forwardRef(function(t,n){const{invert:r,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:u,className:m,offset:f,mobileOffset:g,theme:x="light",richColors:w,duration:_,style:T,visibleToasts:C=TG,toastOptions:A,dir:M=sM(),gap:D=RG,icons:R,containerAriaLabel:z="Notifications"}=t,[k,I]=at.useState([]),B=at.useMemo(()=>Array.from(new Set([i].concat(k.filter(de=>de.position).map(de=>de.position)))),[k,i]),[V,F]=at.useState([]),[$,W]=at.useState(!1),[Y,X]=at.useState(!1),[ne,J]=at.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=at.useRef(null),ee=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=at.useRef(null),ue=at.useRef(!1),re=at.useCallback(de=>{I(xe=>{var Se;return(Se=xe.find(ye=>ye.id===de.id))!=null&&Se.delete||Pi.dismiss(de.id),xe.filter(({id:ye})=>ye!==de.id)})},[]);return at.useEffect(()=>Pi.subscribe(de=>{if(de.dismiss){requestAnimationFrame(()=>{I(xe=>xe.map(Se=>Se.id===de.id?{...Se,delete:!0}:Se))});return}setTimeout(()=>{L6.flushSync(()=>{I(xe=>{const Se=xe.findIndex(ye=>ye.id===de.id);return Se!==-1?[...xe.slice(0,Se),{...xe[Se],...de},...xe.slice(Se+1)]:[de,...xe]})})})}),[k]),at.useEffect(()=>{if(x!=="system"){J(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;const de=window.matchMedia("(prefers-color-scheme: dark)");try{de.addEventListener("change",({matches:xe})=>{J(xe?"dark":"light")})}catch{de.addListener(({matches:Se})=>{try{J(Se?"dark":"light")}catch(ye){console.error(ye)}})}},[x]),at.useEffect(()=>{k.length<=1&&W(!1)},[k]),at.useEffect(()=>{const de=xe=>{var Se;if(s.every(ie=>xe[ie]||xe.code===ie)){var Le;W(!0),(Le=H.current)==null||Le.focus()}xe.code==="Escape"&&(document.activeElement===H.current||(Se=H.current)!=null&&Se.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",de),()=>document.removeEventListener("keydown",de)},[s]),at.useEffect(()=>{if(H.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,ue.current=!1)}},[H.current]),at.createElement("section",{ref:n,"aria-label":`${z} ${ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},B.map((de,xe)=>{var Se;const[ye,Le]=de.split("-");return k.length?at.createElement("ol",{key:de,dir:M==="auto"?sM():M,tabIndex:-1,ref:H,className:m,"data-sonner-toaster":!0,"data-sonner-theme":ne,"data-y-position":ye,"data-x-position":Le,style:{"--front-toast-height":`${((Se=V[0])==null?void 0:Se.height)||0}px`,"--width":`${DG}px`,"--gap":`${D}px`,...T,...BG(f,g)},onBlur:ie=>{ue.current&&!ie.currentTarget.contains(ie.relatedTarget)&&(ue.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||ue.current||(ue.current=!0,K.current=ie.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{Y||W(!1)},onDragEnd:()=>W(!1),onPointerDown:ie=>{ie.target instanceof HTMLElement&&ie.target.dataset.dismissible==="false"||X(!0)},onPointerUp:()=>X(!1)},k.filter(ie=>!ie.position&&xe===0||ie.position===de).map((ie,ce)=>{var le,he;return at.createElement(LG,{key:ie.id,icons:R,index:ce,toast:ie,defaultRichColors:w,duration:(le=A==null?void 0:A.duration)!=null?le:_,className:A==null?void 0:A.className,descriptionClassName:A==null?void 0:A.descriptionClassName,invert:r,visibleToasts:C,closeButton:(he=A==null?void 0:A.closeButton)!=null?he:u,interacting:Y,position:de,style:A==null?void 0:A.style,unstyled:A==null?void 0:A.unstyled,classNames:A==null?void 0:A.classNames,cancelButtonStyle:A==null?void 0:A.cancelButtonStyle,actionButtonStyle:A==null?void 0:A.actionButtonStyle,closeButtonAriaLabel:A==null?void 0:A.closeButtonAriaLabel,removeToast:re,toasts:k.filter(Ee=>Ee.position==ie.position),heights:V.filter(Ee=>Ee.position==ie.position),setHeights:F,expandByDefault:o,gap:D,expanded:$,swipeDirections:t.swipeDirections})})):null}))}),B6=N.createContext(void 0),UG=({children:e})=>{const{user:t}=Wt(),[n,r]=N.useState([]),[i,s]=N.useState(0),[o,u]=N.useState(!1),[m,f]=N.useState(null),g=N.useCallback(async D=>{if(t){u(!0);try{let R=qe.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(50);D&&(D.type&&D.type.length>0&&(R=R.in("type",D.type)),D.priority&&D.priority.length>0&&(R=R.in("priority",D.priority)),D.is_read!==void 0&&(R=R.eq("is_read",D.is_read)),D.date_from&&(R=R.gte("created_at",D.date_from)),D.date_to&&(R=R.lte("created_at",D.date_to)),D.search&&(R=R.or(`title.ilike.%${D.search}%,message.ilike.%${D.search}%`)));const{data:z,error:k}=await R;if(k){console.error("Error fetching notifications:",k),Me.error("Failed to load notifications");return}r(z||[]);const I=(z||[]).filter(B=>!B.is_read&&(!B.expires_at||new Date(B.expires_at)>new Date)).length;s(I)}catch(R){console.error("Error fetching notifications:",R),Me.error("Failed to load notifications")}finally{u(!1)}}},[t]),x=N.useCallback(async D=>{if(t)try{const{error:R}=await qe.rpc("mark_notification_read",{p_notification_id:D,p_user_id:t.id});if(R){console.error("Error marking notification as read:",R);return}r(z=>z.map(k=>k.id===D?{...k,is_read:!0,read_at:new Date().toISOString()}:k)),s(z=>Math.max(0,z-1))}catch(R){console.error("Error marking notification as read:",R)}},[t]),w=N.useCallback(async()=>{if(t)try{const{error:D}=await qe.rpc("mark_all_notifications_read",{p_user_id:t.id});if(D){console.error("Error marking all notifications as read:",D),Me.error("Failed to mark notifications as read");return}r(R=>R.map(z=>({...z,is_read:!0,read_at:new Date().toISOString()}))),s(0),Me.success("All notifications marked as read")}catch(D){console.error("Error marking all notifications as read:",D),Me.error("Failed to mark notifications as read")}},[t]),_=N.useCallback(async D=>{if(t)try{const{error:R}=await qe.from("notifications").delete().eq("id",D).eq("user_id",t.id);if(R){console.error("Error deleting notification:",R),Me.error("Failed to delete notification");return}r(k=>k.filter(I=>I.id!==D));const z=n.find(k=>k.id===D);z&&!z.is_read&&s(k=>Math.max(0,k-1)),Me.success("Notification deleted")}catch(R){console.error("Error deleting notification:",R),Me.error("Failed to delete notification")}},[t,n]),T=N.useCallback(async D=>{if(!t)return!1;try{if(D.user_ids&&D.user_ids.length>0){const{error:R}=await qe.rpc("broadcast_notification",{p_user_ids:D.user_ids,p_title:D.title,p_message:D.message,p_type:D.type||"info",p_priority:D.priority||"normal",p_action_url:D.action_url,p_action_label:D.action_label,p_created_by:t.id});if(R)return console.error("Error broadcasting notification:",R),Me.error("Failed to send notifications"),!1}else if(D.user_id){const{error:R}=await qe.from("notifications").insert({user_id:D.user_id,title:D.title,message:D.message,type:D.type||"info",priority:D.priority||"normal",action_url:D.action_url,action_label:D.action_label,metadata:D.metadata,created_by:t.id});if(R)return console.error("Error creating notification:",R),Me.error("Failed to send notification"),!1}else return Me.error("No recipient specified"),!1;return Me.success("Notification sent successfully"),!0}catch(R){return console.error("Error creating notification:",R),Me.error("Failed to send notification"),!1}},[t]),C=N.useCallback(async()=>{if(t)try{const{data:D,error:R}=await qe.from("notifications").select("type, priority, is_read").eq("user_id",t.id);if(R){console.error("Error fetching notification stats:",R);return}const z={total:D.length,unread:D.filter(k=>!k.is_read).length,by_type:{info:D.filter(k=>k.type==="info").length,success:D.filter(k=>k.type==="success").length,warning:D.filter(k=>k.type==="warning").length,error:D.filter(k=>k.type==="error").length,system:D.filter(k=>k.type==="system").length,ticket:D.filter(k=>k.type==="ticket").length,payment:D.filter(k=>k.type==="payment").length,refund:D.filter(k=>k.type==="refund").length,event:D.filter(k=>k.type==="event").length},by_priority:{low:D.filter(k=>k.priority==="low").length,normal:D.filter(k=>k.priority==="normal").length,high:D.filter(k=>k.priority==="high").length,urgent:D.filter(k=>k.priority==="urgent").length}};f(z)}catch(D){console.error("Error refreshing notification stats:",D)}},[t]),A=N.useCallback(()=>{if(!t)return null;const D=qe.channel("notifications").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},R=>{if(R.eventType==="INSERT"){const z=R.new;r(k=>[z,...k]),z.is_read||s(k=>k+1),z.priority==="urgent"?Me.error(z.title,{description:z.message}):z.type==="success"?Me.success(z.title,{description:z.message}):Me.info(z.title,{description:z.message})}else if(R.eventType==="UPDATE"){const z=R.new;r(k=>k.map(I=>I.id===z.id?z:I))}else if(R.eventType==="DELETE"){const z=R.old.id;r(k=>k.filter(I=>I.id!==z))}}).subscribe();return{unsubscribe:()=>{D.unsubscribe()}}},[t]);N.useEffect(()=>{if(t){g(),C();const D=A();return()=>{D==null||D.unsubscribe()}}},[t,g,C,A]),N.useEffect(()=>{const D=setInterval(()=>{t&&C()},3e5);return()=>clearInterval(D)},[t,C]);const M={notifications:n,unreadCount:i,loading:o,stats:m,fetchNotifications:g,markAsRead:x,markAllAsRead:w,deleteNotification:_,createNotification:T,subscribe:A,refreshStats:C};return a.jsx(B6.Provider,{value:M,children:e})},$_=()=>{const e=N.useContext(B6);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e},F6=N.createContext(void 0),zG=({children:e})=>{const{user:t}=Wt(),[n,r]=N.useState([]),[i,s]=N.useState(null),[o,u]=N.useState([]),[m,f]=N.useState(!1),[g,x]=N.useState(null),w=N.useCallback(async I=>{if(t){f(!0);try{let B=qe.from("chat_conversations").select(`
          *,
          user:profiles!chat_conversations_user_id_fkey(id, full_name, email, avatar_url),
          assigned_admin:profiles!chat_conversations_assigned_admin_id_fkey(id, full_name, email)
        `).order("updated_at",{ascending:!1});t.role==="admin"||(B=B.eq("user_id",t.id)),I&&(I.status&&I.status.length>0&&(B=B.in("status",I.status)),I.priority&&I.priority.length>0&&(B=B.in("priority",I.priority)),I.category&&I.category.length>0&&(B=B.in("category",I.category)),I.assigned_admin_id&&(B=B.eq("assigned_admin_id",I.assigned_admin_id)),I.date_from&&(B=B.gte("created_at",I.date_from)),I.date_to&&(B=B.lte("created_at",I.date_to)),I.search&&(B=B.or(`subject.ilike.%${I.search}%,category.ilike.%${I.search}%`)));const{data:V,error:F}=await B;if(F){console.error("Error fetching conversations:",F),Me.error("Failed to load conversations");return}const $=await Promise.all((V||[]).map(async W=>{const{data:Y}=await qe.from("chat_messages").select(`
              *,
              sender:profiles!chat_messages_sender_id_fkey(id, full_name, avatar_url)
            `).eq("conversation_id",W.id).eq("is_internal",!1).order("created_at",{ascending:!1}).limit(1);let X=0;if(t.role!=="admin"){const{data:ne}=await qe.from("chat_messages").select("id").eq("conversation_id",W.id).neq("sender_id",t.id).eq("is_internal",!1).gt("created_at",W.updated_at||W.created_at);X=(ne==null?void 0:ne.length)||0}return{...W,last_message:(Y==null?void 0:Y[0])||null,unread_count:X}}));r($)}catch(B){console.error("Error fetching conversations:",B),Me.error("Failed to load conversations")}finally{f(!1)}}},[t]),_=N.useCallback(async I=>{if(t){f(!0);try{const{data:B,error:V}=await qe.from("chat_messages").select(`
          *,
          sender:profiles!chat_messages_sender_id_fkey(id, full_name, email, avatar_url, role)
        `).eq("conversation_id",I).order("created_at",{ascending:!0});if(V){console.error("Error fetching messages:",V),Me.error("Failed to load messages");return}const F=t.role==="admin"?B||[]:(B||[]).filter($=>!$.is_internal);u(F)}catch(B){console.error("Error fetching messages:",B),Me.error("Failed to load messages")}finally{f(!1)}}},[t]),T=N.useCallback(async I=>{if(!t)return null;try{const{data:B,error:V}=await qe.rpc("start_chat_conversation",{p_user_id:t.id,p_subject:I.subject,p_initial_message:I.initial_message,p_category:I.category||"general",p_priority:I.priority||"normal"});if(V)return console.error("Error creating conversation:",V),Me.error("Failed to start conversation"),null;const F=B[0];return F.success?(Me.success("Support request submitted successfully"),await w(),F.conversation_id):(Me.error(F.message),null)}catch(B){return console.error("Error creating conversation:",B),Me.error("Failed to start conversation"),null}},[t,w]),C=N.useCallback(async I=>{if(t)try{const{data:B,error:V}=await qe.rpc("add_chat_message",{p_conversation_id:I.conversation_id,p_sender_id:t.id,p_content:I.content,p_message_type:I.message_type||"text",p_attachments:I.attachments||[],p_is_internal:I.is_internal||!1});if(V){console.error("Error sending message:",V),Me.error("Failed to send message");return}const F=B[0];F.success?((i==null?void 0:i.id)===I.conversation_id&&await _(I.conversation_id),await w()):Me.error(F.message)}catch(B){console.error("Error sending message:",B),Me.error("Failed to send message")}},[t,i,_,w]),A=N.useCallback(I=>{s(I),I?_(I.id):u([])},[_]),M=N.useCallback(async(I,B)=>{if(!(!t||t.role!=="admin"))try{const{error:V}=await qe.from("chat_conversations").update({assigned_admin_id:B,status:"assigned",updated_at:new Date().toISOString()}).eq("id",I);if(V){console.error("Error assigning conversation:",V),Me.error("Failed to assign conversation");return}Me.success("Conversation assigned successfully"),await w()}catch(V){console.error("Error assigning conversation:",V),Me.error("Failed to assign conversation")}},[t,w]),D=N.useCallback(async(I,B)=>{if(t)try{const V={status:B,updated_at:new Date().toISOString()};(B==="resolved"||B==="closed")&&(V.resolved_at=new Date().toISOString());const{error:F}=await qe.from("chat_conversations").update(V).eq("id",I);if(F){console.error("Error updating conversation status:",F),Me.error("Failed to update conversation status");return}Me.success(`Conversation marked as ${B}`),await w()}catch(V){console.error("Error updating conversation status:",V),Me.error("Failed to update conversation status")}},[t,w]),R=N.useCallback(async()=>{if(!(!t||t.role!=="admin"))try{const{data:I,error:B}=await qe.from("chat_conversations").select("status, priority, category, created_at, resolved_at");if(B){console.error("Error fetching chat stats:",B);return}const V=new Date,F=new Date(V.getFullYear(),V.getMonth(),V.getDate()),$={total_conversations:I.length,open_conversations:I.filter(W=>W.status==="open").length,assigned_conversations:I.filter(W=>W.status==="assigned").length,resolved_today:I.filter(W=>W.resolved_at&&new Date(W.resolved_at)>=F).length,average_response_time:0,by_category:{},by_priority:{low:I.filter(W=>W.priority==="low").length,normal:I.filter(W=>W.priority==="normal").length,high:I.filter(W=>W.priority==="high").length,urgent:I.filter(W=>W.priority==="urgent").length}};I.forEach(W=>{const Y=W.category||"general";$.by_category[Y]=($.by_category[Y]||0)+1}),x($)}catch(I){console.error("Error refreshing chat stats:",I)}},[t]),z=N.useCallback(()=>{if(!t)return null;const I=qe.channel("chat_conversations").on("postgres_changes",{event:"*",schema:"public",table:"chat_conversations"},V=>{w()}).subscribe(),B=qe.channel("chat_messages").on("postgres_changes",{event:"*",schema:"public",table:"chat_messages"},V=>{if(V.eventType==="INSERT"){const F=V.new;(i==null?void 0:i.id)===F.conversation_id&&qe.from("chat_messages").select(`
                  *,
                  sender:profiles!chat_messages_sender_id_fkey(id, full_name, email, avatar_url, role)
                `).eq("id",F.id).single().then(({data:$})=>{$&&u(W=>[...W,$])}),F.sender_id!==t.id&&!F.is_internal&&Me.info("New message received",{description:"You have a new message in your support conversation"})}w()}).subscribe();return{unsubscribe:()=>{I.unsubscribe(),B.unsubscribe()}}},[t,i,w]);N.useEffect(()=>{if(t){w(),t.role==="admin"&&R();const I=z();return()=>{I==null||I.unsubscribe()}}},[t,w,R,z]),N.useEffect(()=>{if((t==null?void 0:t.role)==="admin"){const I=setInterval(()=>{R()},3e5);return()=>clearInterval(I)}},[t,R]);const k={conversations:n,activeConversation:i,messages:o,loading:m,stats:g,fetchConversations:w,fetchMessages:_,createConversation:T,sendMessage:C,setActiveConversation:A,assignConversation:M,updateConversationStatus:D,subscribe:z,refreshStats:R};return a.jsx(F6.Provider,{value:k,children:e})},U6=()=>{const e=N.useContext(F6);if(e===void 0)throw new Error("useChat must be used within a ChatProvider");return e};/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var oM="popstate";function VG(e={}){function t(r,i){let{pathname:s,search:o,hash:u}=r.location;return YN("",{pathname:s,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Vg(i)}return HG(t,n,null,e)}function dr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ls(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $G(){return Math.random().toString(36).substring(2,10)}function lM(e,t){return{usr:e.state,key:e.key,idx:t}}function YN(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Fh(t):t,state:n,key:t&&t.key||r||$G()}}function Vg({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Fh(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function HG(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,u="POP",m=null,f=g();f==null&&(f=0,o.replaceState({...o.state,idx:f},""));function g(){return(o.state||{idx:null}).idx}function x(){u="POP";let A=g(),M=A==null?null:A-f;f=A,m&&m({action:u,location:C.location,delta:M})}function w(A,M){u="PUSH";let D=YN(C.location,A,M);f=g()+1;let R=lM(D,f),z=C.createHref(D);try{o.pushState(R,"",z)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(z)}s&&m&&m({action:u,location:C.location,delta:1})}function _(A,M){u="REPLACE";let D=YN(C.location,A,M);f=g();let R=lM(D,f),z=C.createHref(D);o.replaceState(R,"",z),s&&m&&m({action:u,location:C.location,delta:0})}function T(A){return qG(A)}let C={get action(){return u},get location(){return e(i,o)},listen(A){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(oM,x),m=A,()=>{i.removeEventListener(oM,x),m=null}},createHref(A){return t(i,A)},createURL:T,encodeLocation(A){let M=T(A);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:_,go(A){return o.go(A)}};return C}function qG(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dr(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Vg(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function z6(e,t,n="/"){return YG(e,t,n,!1)}function YG(e,t,n,r){let i=typeof t=="string"?Fh(t):t,s=Fl(i.pathname||"/",n);if(s==null)return null;let o=V6(e);WG(o);let u=null;for(let m=0;u==null&&m<o.length;++m){let f=aK(s);u=nK(o[m],f,r)}return u}function V6(e,t=[],n=[],r=""){let i=(s,o,u)=>{let m={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};m.relativePath.startsWith("/")&&(dr(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let f=Pl([r,m.relativePath]),g=n.concat(m);s.children&&s.children.length>0&&(dr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),V6(s.children,t,g,f)),!(s.path==null&&!s.index)&&t.push({path:f,score:eK(f,s.index),routesMeta:g})};return e.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let m of $6(s.path))i(s,o,m)}),t}function $6(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=$6(r.join("/")),u=[];return u.push(...o.map(m=>m===""?s:[s,m].join("/"))),i&&u.push(...o),u.map(m=>e.startsWith("/")&&m===""?"/":m)}function WG(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tK(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var GG=/^:[\w-]+$/,KG=3,XG=2,QG=1,ZG=10,JG=-2,cM=e=>e==="*";function eK(e,t){let n=e.split("/"),r=n.length;return n.some(cM)&&(r+=JG),t&&(r+=XG),n.filter(i=>!cM(i)).reduce((i,s)=>i+(GG.test(s)?KG:s===""?QG:ZG),r)}function tK(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function nK(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",o=[];for(let u=0;u<r.length;++u){let m=r[u],f=u===r.length-1,g=s==="/"?t:t.slice(s.length)||"/",x=fv({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},g),w=m.route;if(!x&&f&&n&&!r[r.length-1].route.index&&(x=fv({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!x)return null;Object.assign(i,x.params),o.push({params:i,pathname:Pl([s,x.pathname]),pathnameBase:lK(Pl([s,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(s=Pl([s,x.pathnameBase]))}return o}function fv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=rK(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,{paramName:g,isOptional:x},w)=>{if(g==="*"){let T=u[w]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const _=u[w];return x&&!_?f[g]=void 0:f[g]=(_||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:e}}function rK(e,t=!1,n=!0){Ls(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,m)=>(r.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function aK(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ls(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Fl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function iK(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Fh(e):e;return{pathname:n?n.startsWith("/")?n:sK(n,t):t,search:cK(r),hash:uK(i)}}function sK(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Jw(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oK(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function H_(e){let t=oK(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function q_(e,t,n,r=!1){let i;typeof e=="string"?i=Fh(e):(i={...e},dr(!i.pathname||!i.pathname.includes("?"),Jw("?","pathname","search",i)),dr(!i.pathname||!i.pathname.includes("#"),Jw("#","pathname","hash",i)),dr(!i.search||!i.search.includes("#"),Jw("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,u;if(o==null)u=n;else{let x=t.length-1;if(!r&&o.startsWith("..")){let w=o.split("/");for(;w[0]==="..";)w.shift(),x-=1;i.pathname=w.join("/")}u=x>=0?t[x]:"/"}let m=iK(i,u),f=o&&o!=="/"&&o.endsWith("/"),g=(s||o===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(f||g)&&(m.pathname+="/"),m}var Pl=e=>e.join("/").replace(/\/\/+/g,"/"),lK=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cK=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uK=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function dK(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var H6=["POST","PUT","PATCH","DELETE"];new Set(H6);var fK=["GET",...H6];new Set(fK);var Uh=N.createContext(null);Uh.displayName="DataRouter";var N1=N.createContext(null);N1.displayName="DataRouterState";N.createContext(!1);var q6=N.createContext({isTransitioning:!1});q6.displayName="ViewTransition";var hK=N.createContext(new Map);hK.displayName="Fetchers";var mK=N.createContext(null);mK.displayName="Await";var mo=N.createContext(null);mo.displayName="Navigation";var w0=N.createContext(null);w0.displayName="Location";var nl=N.createContext({outlet:null,matches:[],isDataRoute:!1});nl.displayName="Route";var Y_=N.createContext(null);Y_.displayName="RouteError";function gK(e,{relative:t}={}){dr(zh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(mo),{hash:i,pathname:s,search:o}=j0(e,{relative:t}),u=s;return n!=="/"&&(u=s==="/"?n:Pl([n,s])),r.createHref({pathname:u,search:o,hash:i})}function zh(){return N.useContext(w0)!=null}function rl(){return dr(zh(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(w0).location}var Y6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W6(e){N.useContext(mo).static||N.useLayoutEffect(e)}function go(){let{isDataRoute:e}=N.useContext(nl);return e?CK():pK()}function pK(){dr(zh(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Uh),{basename:t,navigator:n}=N.useContext(mo),{matches:r}=N.useContext(nl),{pathname:i}=rl(),s=JSON.stringify(H_(r)),o=N.useRef(!1);return W6(()=>{o.current=!0}),N.useCallback((m,f={})=>{if(Ls(o.current,Y6),!o.current)return;if(typeof m=="number"){n.go(m);return}let g=q_(m,JSON.parse(s),i,f.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Pl([t,g.pathname])),(f.replace?n.replace:n.push)(g,f.state,f)},[t,n,s,i,e])}N.createContext(null);function j0(e,{relative:t}={}){let{matches:n}=N.useContext(nl),{pathname:r}=rl(),i=JSON.stringify(H_(n));return N.useMemo(()=>q_(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function xK(e,t){return G6(e,t)}function G6(e,t,n,r){var M;dr(zh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=N.useContext(mo),{matches:s}=N.useContext(nl),o=s[s.length-1],u=o?o.params:{},m=o?o.pathname:"/",f=o?o.pathnameBase:"/",g=o&&o.route;{let D=g&&g.path||"";K6(m,!g||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let x=rl(),w;if(t){let D=typeof t=="string"?Fh(t):t;dr(f==="/"||((M=D.pathname)==null?void 0:M.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${D.pathname}" was given in the \`location\` prop.`),w=D}else w=x;let _=w.pathname||"/",T=_;if(f!=="/"){let D=f.replace(/^\//,"").split("/");T="/"+_.replace(/^\//,"").split("/").slice(D.length).join("/")}let C=z6(e,{pathname:T});Ls(g||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ls(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=jK(C&&C.map(D=>Object.assign({},D,{params:Object.assign({},u,D.params),pathname:Pl([f,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?f:Pl([f,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),s,n,r);return t&&A?N.createElement(w0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},A):A}function vK(){let e=EK(),t=dK(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:i},n):null,o)}var yK=N.createElement(vK,null),bK=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(nl.Provider,{value:this.props.routeContext},N.createElement(Y_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function wK({routeContext:e,match:t,children:n}){let r=N.useContext(Uh);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(nl.Provider,{value:e},n)}function jK(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n==null?void 0:n.errors;if(s!=null){let m=i.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);dr(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let o=!1,u=-1;if(n)for(let m=0;m<i.length;m++){let f=i[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=m),f.route.id){let{loaderData:g,errors:x}=n,w=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||w){o=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((m,f,g)=>{let x,w=!1,_=null,T=null;n&&(x=s&&f.route.id?s[f.route.id]:void 0,_=f.route.errorElement||yK,o&&(u<0&&g===0?(K6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,T=null):u===g&&(w=!0,T=f.route.hydrateFallbackElement||null)));let C=t.concat(i.slice(0,g+1)),A=()=>{let M;return x?M=_:w?M=T:f.route.Component?M=N.createElement(f.route.Component,null):f.route.element?M=f.route.element:M=m,N.createElement(wK,{match:f,routeContext:{outlet:m,matches:C,isDataRoute:n!=null},children:M})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?N.createElement(bK,{location:n.location,revalidation:n.revalidation,component:_,error:x,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):A()},null)}function W_(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function NK(e){let t=N.useContext(Uh);return dr(t,W_(e)),t}function SK(e){let t=N.useContext(N1);return dr(t,W_(e)),t}function _K(e){let t=N.useContext(nl);return dr(t,W_(e)),t}function G_(e){let t=_K(e),n=t.matches[t.matches.length-1];return dr(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function AK(){return G_("useRouteId")}function EK(){var r;let e=N.useContext(Y_),t=SK("useRouteError"),n=G_("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function CK(){let{router:e}=NK("useNavigate"),t=G_("useNavigate"),n=N.useRef(!1);return W6(()=>{n.current=!0}),N.useCallback(async(i,s={})=>{Ls(n.current,Y6),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var uM={};function K6(e,t,n){!t&&!uM[e]&&(uM[e]=!0,Ls(!1,n))}N.memo(TK);function TK({routes:e,future:t,state:n}){return G6(e,void 0,n,t)}function Ul({to:e,replace:t,state:n,relative:r}){dr(zh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(mo);Ls(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=N.useContext(nl),{pathname:o}=rl(),u=go(),m=q_(e,H_(s),o,r==="path"),f=JSON.stringify(m);return N.useEffect(()=>{u(JSON.parse(f),{replace:t,state:n,relative:r})},[u,f,r,t,n]),null}function xt(e){dr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function OK({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){dr(!zh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof n=="string"&&(n=Fh(n));let{pathname:m="/",search:f="",hash:g="",state:x=null,key:w="default"}=n,_=N.useMemo(()=>{let T=Fl(m,o);return T==null?null:{location:{pathname:T,search:f,hash:g,state:x,key:w},navigationType:r}},[o,m,f,g,x,w,r]);return Ls(_!=null,`<Router basename="${o}"> is not able to match the URL "${m}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:N.createElement(mo.Provider,{value:u},N.createElement(w0.Provider,{children:t,value:_}))}function Vh({children:e,location:t}){return xK(WN(e),t)}function WN(e,t=[]){let n=[];return N.Children.forEach(e,(r,i)=>{if(!N.isValidElement(r))return;let s=[...t,i];if(r.type===N.Fragment){n.push.apply(n,WN(r.props.children,s));return}dr(r.type===xt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dr(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=WN(r.props.children,s)),n.push(o)}),n}var Qx="get",Zx="application/x-www-form-urlencoded";function S1(e){return e!=null&&typeof e.tagName=="string"}function MK(e){return S1(e)&&e.tagName.toLowerCase()==="button"}function DK(e){return S1(e)&&e.tagName.toLowerCase()==="form"}function RK(e){return S1(e)&&e.tagName.toLowerCase()==="input"}function PK(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function kK(e,t){return e.button===0&&(!t||t==="_self")&&!PK(e)}function GN(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function IK(e,t){let n=GN(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var yx=null;function LK(){if(yx===null)try{new FormData(document.createElement("form"),0),yx=!1}catch{yx=!0}return yx}var BK=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function e2(e){return e!=null&&!BK.has(e)?(Ls(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zx}"`),null):e}function FK(e,t){let n,r,i,s,o;if(DK(e)){let u=e.getAttribute("action");r=u?Fl(u,t):null,n=e.getAttribute("method")||Qx,i=e2(e.getAttribute("enctype"))||Zx,s=new FormData(e)}else if(MK(e)||RK(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||u.getAttribute("action");if(r=m?Fl(m,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Qx,i=e2(e.getAttribute("formenctype"))||e2(u.getAttribute("enctype"))||Zx,s=new FormData(u,e),!LK()){let{name:f,type:g,value:x}=e;if(g==="image"){let w=f?`${f}.`:"";s.append(`${w}x`,"0"),s.append(`${w}y`,"0")}else f&&s.append(f,x)}}else{if(S1(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qx,r=null,i=Zx,o=e}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function K_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function UK(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Fl(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function zK(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function VK(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function $K(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let o=await zK(s,n);return o.links?o.links():[]}return[]}));return WK(r.flat(1).filter(VK).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function dM(e,t,n,r,i,s){let o=(m,f)=>n[f]?m.route.id!==n[f].route.id:!0,u=(m,f)=>{var g;return n[f].pathname!==m.pathname||((g=n[f].route.path)==null?void 0:g.endsWith("*"))&&n[f].params["*"]!==m.params["*"]};return s==="assets"?t.filter((m,f)=>o(m,f)||u(m,f)):s==="data"?t.filter((m,f)=>{var x;let g=r.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(o(m,f)||u(m,f))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function HK(e,t,{includeHydrateFallback:n}={}){return qK(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function qK(e){return[...new Set(e)]}function YK(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function WK(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(YK(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function X6(){let e=N.useContext(Uh);return K_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function GK(){let e=N.useContext(N1);return K_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var X_=N.createContext(void 0);X_.displayName="FrameworkContext";function Q6(){let e=N.useContext(X_);return K_(e,"You must render this element inside a <HydratedRouter> element"),e}function KK(e,t){let n=N.useContext(X_),[r,i]=N.useState(!1),[s,o]=N.useState(!1),{onFocus:u,onBlur:m,onMouseEnter:f,onMouseLeave:g,onTouchStart:x}=t,w=N.useRef(null);N.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let C=M=>{M.forEach(D=>{o(D.isIntersecting)})},A=new IntersectionObserver(C,{threshold:.5});return w.current&&A.observe(w.current),()=>{A.disconnect()}}},[e]),N.useEffect(()=>{if(r){let C=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(C)}}},[r]);let _=()=>{i(!0)},T=()=>{i(!1),o(!1)};return n?e!=="intent"?[s,w,{}]:[s,w,{onFocus:sg(u,_),onBlur:sg(m,T),onMouseEnter:sg(f,_),onMouseLeave:sg(g,T),onTouchStart:sg(x,_)}]:[!1,w,{}]}function sg(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function XK({page:e,...t}){let{router:n}=X6(),r=N.useMemo(()=>z6(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?N.createElement(ZK,{page:e,matches:r,...t}):null}function QK(e){let{manifest:t,routeModules:n}=Q6(),[r,i]=N.useState([]);return N.useEffect(()=>{let s=!1;return $K(e,t,n).then(o=>{s||i(o)}),()=>{s=!0}},[e,t,n]),r}function ZK({page:e,matches:t,...n}){let r=rl(),{manifest:i,routeModules:s}=Q6(),{basename:o}=X6(),{loaderData:u,matches:m}=GK(),f=N.useMemo(()=>dM(e,t,m,i,r,"data"),[e,t,m,i,r]),g=N.useMemo(()=>dM(e,t,m,i,r,"assets"),[e,t,m,i,r]),x=N.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let T=new Set,C=!1;if(t.forEach(M=>{var R;let D=i.routes[M.route.id];!D||!D.hasLoader||(!f.some(z=>z.route.id===M.route.id)&&M.route.id in u&&((R=s[M.route.id])!=null&&R.shouldRevalidate)||D.hasClientLoader?C=!0:T.add(M.route.id))}),T.size===0)return[];let A=UK(e,o,"data");return C&&T.size>0&&A.searchParams.set("_routes",t.filter(M=>T.has(M.route.id)).map(M=>M.route.id).join(",")),[A.pathname+A.search]},[o,u,r,i,f,t,e,s]),w=N.useMemo(()=>HK(g,i),[g,i]),_=QK(g);return N.createElement(N.Fragment,null,x.map(T=>N.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),w.map(T=>N.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),_.map(({key:T,link:C})=>N.createElement("link",{key:T,...C})))}function JK(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Z6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z6&&(window.__reactRouterVersion="7.7.1")}catch{}function eX({basename:e,children:t,window:n}){let r=N.useRef();r.current==null&&(r.current=VG({window:n,v5Compat:!0}));let i=r.current,[s,o]=N.useState({action:i.action,location:i.location}),u=N.useCallback(m=>{N.startTransition(()=>o(m))},[o]);return N.useLayoutEffect(()=>i.listen(u),[i,u]),N.createElement(OK,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var J6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gt=N.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:u,target:m,to:f,preventScrollReset:g,viewTransition:x,...w},_){let{basename:T}=N.useContext(mo),C=typeof f=="string"&&J6.test(f),A,M=!1;if(typeof f=="string"&&C&&(A=f,Z6))try{let F=new URL(window.location.href),$=f.startsWith("//")?new URL(F.protocol+f):new URL(f),W=Fl($.pathname,T);$.origin===F.origin&&W!=null?f=W+$.search+$.hash:M=!0}catch{Ls(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=gK(f,{relative:i}),[R,z,k]=KK(r,w),I=aX(f,{replace:o,state:u,target:m,preventScrollReset:g,relative:i,viewTransition:x});function B(F){t&&t(F),F.defaultPrevented||I(F)}let V=N.createElement("a",{...w,...k,href:A||D,onClick:M||s?t:B,ref:JK(_,z),target:m,"data-discover":!C&&n==="render"?"true":void 0});return R&&!C?N.createElement(N.Fragment,null,V,N.createElement(XK,{page:D})):V});Gt.displayName="Link";var tX=N.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:u,children:m,...f},g){let x=j0(o,{relative:f.relative}),w=rl(),_=N.useContext(N1),{navigator:T,basename:C}=N.useContext(mo),A=_!=null&&cX(x)&&u===!0,M=T.encodeLocation?T.encodeLocation(x).pathname:x.pathname,D=w.pathname,R=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;n||(D=D.toLowerCase(),R=R?R.toLowerCase():null,M=M.toLowerCase()),R&&C&&(R=Fl(R,C)||R);const z=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let k=D===M||!i&&D.startsWith(M)&&D.charAt(z)==="/",I=R!=null&&(R===M||!i&&R.startsWith(M)&&R.charAt(M.length)==="/"),B={isActive:k,isPending:I,isTransitioning:A},V=k?t:void 0,F;typeof r=="function"?F=r(B):F=[r,k?"active":null,I?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let $=typeof s=="function"?s(B):s;return N.createElement(Gt,{...f,"aria-current":V,className:F,ref:g,style:$,to:o,viewTransition:u},typeof m=="function"?m(B):m)});tX.displayName="NavLink";var nX=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:o=Qx,action:u,onSubmit:m,relative:f,preventScrollReset:g,viewTransition:x,...w},_)=>{let T=oX(),C=lX(u,{relative:f}),A=o.toLowerCase()==="get"?"get":"post",M=typeof u=="string"&&J6.test(u),D=R=>{if(m&&m(R),R.defaultPrevented)return;R.preventDefault();let z=R.nativeEvent.submitter,k=(z==null?void 0:z.getAttribute("formmethod"))||o;T(z||R.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:i,state:s,relative:f,preventScrollReset:g,viewTransition:x})};return N.createElement("form",{ref:_,method:A,action:C,onSubmit:r?m:D,...w,"data-discover":!M&&e==="render"?"true":void 0})});nX.displayName="Form";function rX(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function e5(e){let t=N.useContext(Uh);return dr(t,rX(e)),t}function aX(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let u=go(),m=rl(),f=j0(e,{relative:s});return N.useCallback(g=>{if(kK(g,t)){g.preventDefault();let x=n!==void 0?n:Vg(m)===Vg(f);u(e,{replace:x,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[m,u,f,n,r,t,e,i,s,o])}function t5(e){Ls(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=N.useRef(GN(e)),n=N.useRef(!1),r=rl(),i=N.useMemo(()=>IK(r.search,n.current?null:t.current),[r.search]),s=go(),o=N.useCallback((u,m)=>{const f=GN(typeof u=="function"?u(new URLSearchParams(i)):u);n.current=!0,s("?"+f,m)},[s,i]);return[i,o]}var iX=0,sX=()=>`__${String(++iX)}__`;function oX(){let{router:e}=e5("useSubmit"),{basename:t}=N.useContext(mo),n=AK();return N.useCallback(async(r,i={})=>{let{action:s,method:o,encType:u,formData:m,body:f}=FK(r,t);if(i.navigate===!1){let g=i.fetcherKey||sX();await e.fetch(g,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:m,body:f,formMethod:i.method||o,formEncType:i.encType||u,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:m,body:f,formMethod:i.method||o,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function lX(e,{relative:t}={}){let{basename:n}=N.useContext(mo),r=N.useContext(nl);dr(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...j0(e||".",{relative:t})},o=rl();if(e==null){s.search=o.search;let u=new URLSearchParams(s.search),m=u.getAll("index");if(m.some(g=>g==="")){u.delete("index"),m.filter(x=>x).forEach(x=>u.append("index",x));let g=u.toString();s.search=g?`?${g}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Pl([n,s.pathname])),Vg(s)}function cX(e,{relative:t}={}){let n=N.useContext(q6);dr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=e5("useViewTransitionState"),i=j0(e,{relative:t});if(!n.isTransitioning)return!1;let s=Fl(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Fl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return fv(i.pathname,o)!=null||fv(i.pathname,s)!=null}const Q_=N.createContext({});function Z_(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const J_=typeof window<"u",n5=J_?N.useLayoutEffect:N.useEffect,_1=N.createContext(null);function eA(e,t){e.indexOf(t)===-1&&e.push(t)}function tA(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const zl=(e,t,n)=>n>t?t:n<e?e:n;let nA=()=>{};const Vl={},r5=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function a5(e){return typeof e=="object"&&e!==null}const i5=e=>/^0[^.\s]+$/u.test(e);function rA(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ps=e=>e,uX=(e,t)=>n=>t(e(n)),N0=(...e)=>e.reduce(uX),$g=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class aA{constructor(){this.subscriptions=[]}add(t){return eA(this.subscriptions,t),()=>tA(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $o=e=>e*1e3,Ho=e=>e/1e3;function s5(e,t){return t?e*(1e3/t):0}const o5=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,dX=1e-7,fX=12;function hX(e,t,n,r,i){let s,o,u=0;do o=t+(n-t)/2,s=o5(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>dX&&++u<fX);return o}function S0(e,t,n,r){if(e===t&&n===r)return Ps;const i=s=>hX(s,0,1,e,n);return s=>s===0||s===1?s:o5(i(s),t,r)}const l5=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,c5=e=>t=>1-e(1-t),u5=S0(.33,1.53,.69,.99),iA=c5(u5),d5=l5(iA),f5=e=>(e*=2)<1?.5*iA(e):.5*(2-Math.pow(2,-10*(e-1))),sA=e=>1-Math.sin(Math.acos(e)),h5=c5(sA),m5=l5(sA),mX=S0(.42,0,1,1),gX=S0(0,0,.58,1),g5=S0(.42,0,.58,1),pX=e=>Array.isArray(e)&&typeof e[0]!="number",p5=e=>Array.isArray(e)&&typeof e[0]=="number",xX={linear:Ps,easeIn:mX,easeInOut:g5,easeOut:gX,circIn:sA,circInOut:m5,circOut:h5,backIn:iA,backInOut:d5,backOut:u5,anticipate:f5},vX=e=>typeof e=="string",fM=e=>{if(p5(e)){nA(e.length===4);const[t,n,r,i]=e;return S0(t,n,r,i)}else if(vX(e))return xX[e];return e},bx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function yX(e,t){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function m(g){o.has(g)&&(f.schedule(g),e()),g(u)}const f={schedule:(g,x=!1,w=!1)=>{const T=w&&i?n:r;return x&&o.add(g),T.has(g)||T.add(g),g},cancel:g=>{r.delete(g),o.delete(g)},process:g=>{if(u=g,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(m),n.clear(),i=!1,s&&(s=!1,f.process(g))}};return f}const bX=40;function x5(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=bx.reduce((R,z)=>(R[z]=yX(s),R),{}),{setup:u,read:m,resolveKeyframes:f,preUpdate:g,update:x,preRender:w,render:_,postRender:T}=o,C=()=>{const R=Vl.useManualTiming?i.timestamp:performance.now();n=!1,Vl.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(R-i.timestamp,bX),1)),i.timestamp=R,i.isProcessing=!0,u.process(i),m.process(i),f.process(i),g.process(i),x.process(i),w.process(i),_.process(i),T.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(C))},A=()=>{n=!0,r=!0,i.isProcessing||e(C)};return{schedule:bx.reduce((R,z)=>{const k=o[z];return R[z]=(I,B=!1,V=!1)=>(n||A(),k.schedule(I,B,V)),R},{}),cancel:R=>{for(let z=0;z<bx.length;z++)o[bx[z]].cancel(R)},state:i,steps:o}}const{schedule:cr,cancel:Jc,state:Fa,steps:t2}=x5(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ps,!0);let Jx;function wX(){Jx=void 0}const Ii={now:()=>(Jx===void 0&&Ii.set(Fa.isProcessing||Vl.useManualTiming?Fa.timestamp:performance.now()),Jx),set:e=>{Jx=e,queueMicrotask(wX)}},v5=e=>t=>typeof t=="string"&&t.startsWith(e),oA=v5("--"),jX=v5("var(--"),lA=e=>jX(e)?NX.test(e.split("/*")[0].trim()):!1,NX=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$h={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Hg={...$h,transform:e=>zl(0,1,e)},wx={...$h,default:1},Dg=e=>Math.round(e*1e5)/1e5,cA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function SX(e){return e==null}const _X=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uA=(e,t)=>n=>!!(typeof n=="string"&&_X.test(n)&&n.startsWith(e)||t&&!SX(n)&&Object.prototype.hasOwnProperty.call(n,t)),y5=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,u]=r.match(cA);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},AX=e=>zl(0,255,e),n2={...$h,transform:e=>Math.round(AX(e))},cd={test:uA("rgb","red"),parse:y5("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+n2.transform(e)+", "+n2.transform(t)+", "+n2.transform(n)+", "+Dg(Hg.transform(r))+")"};function EX(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const KN={test:uA("#"),parse:EX,transform:cd.transform},_0=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Hc=_0("deg"),qo=_0("%"),Rt=_0("px"),CX=_0("vh"),TX=_0("vw"),hM={...qo,parse:e=>qo.parse(e)/100,transform:e=>qo.transform(e*100)},th={test:uA("hsl","hue"),parse:y5("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+qo.transform(Dg(t))+", "+qo.transform(Dg(n))+", "+Dg(Hg.transform(r))+")"},Zr={test:e=>cd.test(e)||KN.test(e)||th.test(e),parse:e=>cd.test(e)?cd.parse(e):th.test(e)?th.parse(e):KN.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?cd.transform(e):th.transform(e),getAnimatableNone:e=>{const t=Zr.parse(e);return t.alpha=0,Zr.transform(t)}},OX=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MX(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(cA))==null?void 0:t.length)||0)+(((n=e.match(OX))==null?void 0:n.length)||0)>0}const b5="number",w5="color",DX="var",RX="var(",mM="${}",PX=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qg(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const u=t.replace(PX,m=>(Zr.test(m)?(r.color.push(s),i.push(w5),n.push(Zr.parse(m))):m.startsWith(RX)?(r.var.push(s),i.push(DX),n.push(m)):(r.number.push(s),i.push(b5),n.push(parseFloat(m))),++s,mM)).split(mM);return{values:n,split:u,indexes:r,types:i}}function j5(e){return qg(e).values}function N5(e){const{split:t,types:n}=qg(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const u=n[o];u===b5?s+=Dg(i[o]):u===w5?s+=Zr.transform(i[o]):s+=i[o]}return s}}const kX=e=>typeof e=="number"?0:Zr.test(e)?Zr.getAnimatableNone(e):e;function IX(e){const t=j5(e);return N5(e)(t.map(kX))}const eu={test:MX,parse:j5,createTransformer:N5,getAnimatableNone:IX};function r2(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function LX({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const u=n<.5?n*(1+t):n+t-n*t,m=2*n-u;i=r2(m,u,e+1/3),s=r2(m,u,e),o=r2(m,u,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function hv(e,t){return n=>n>0?t:e}const br=(e,t,n)=>e+(t-e)*n,a2=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},BX=[KN,cd,th],FX=e=>BX.find(t=>t.test(e));function gM(e){const t=FX(e);if(!t)return!1;let n=t.parse(e);return t===th&&(n=LX(n)),n}const pM=(e,t)=>{const n=gM(e),r=gM(t);if(!n||!r)return hv(e,t);const i={...n};return s=>(i.red=a2(n.red,r.red,s),i.green=a2(n.green,r.green,s),i.blue=a2(n.blue,r.blue,s),i.alpha=br(n.alpha,r.alpha,s),cd.transform(i))},XN=new Set(["none","hidden"]);function UX(e,t){return XN.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function zX(e,t){return n=>br(e,t,n)}function dA(e){return typeof e=="number"?zX:typeof e=="string"?lA(e)?hv:Zr.test(e)?pM:HX:Array.isArray(e)?S5:typeof e=="object"?Zr.test(e)?pM:VX:hv}function S5(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>dA(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function VX(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=dA(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function $X(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],o=e.indexes[s][r[s]],u=e.values[o]??0;n[i]=u,r[s]++}return n}const HX=(e,t)=>{const n=eu.createTransformer(t),r=qg(e),i=qg(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?XN.has(e)&&!i.values.length||XN.has(t)&&!r.values.length?UX(e,t):N0(S5($X(r,i),i.values),n):hv(e,t)};function _5(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?br(e,t,n):dA(e)(e,t)}const qX=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>cr.update(t,n),stop:()=>Jc(t),now:()=>Fa.isProcessing?Fa.timestamp:Ii.now()}},A5=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},mv=2e4;function fA(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<mv;)t+=n,r=e.next(t);return t>=mv?1/0:t}function YX(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(fA(r),mv);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:Ho(i)}}const WX=5;function E5(e,t,n){const r=Math.max(t-WX,0);return s5(n-e(r),t-r)}const Mr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xM=.001;function GX({duration:e=Mr.duration,bounce:t=Mr.bounce,velocity:n=Mr.velocity,mass:r=Mr.mass}){let i,s,o=1-t;o=zl(Mr.minDamping,Mr.maxDamping,o),e=zl(Mr.minDuration,Mr.maxDuration,Ho(e)),o<1?(i=f=>{const g=f*o,x=g*e,w=g-n,_=QN(f,o),T=Math.exp(-x);return xM-w/_*T},s=f=>{const x=f*o*e,w=x*n+n,_=Math.pow(o,2)*Math.pow(f,2)*e,T=Math.exp(-x),C=QN(Math.pow(f,2),o);return(-i(f)+xM>0?-1:1)*((w-_)*T)/C}):(i=f=>{const g=Math.exp(-f*e),x=(f-n)*e+1;return-.001+g*x},s=f=>{const g=Math.exp(-f*e),x=(n-f)*(e*e);return g*x});const u=5/e,m=XX(i,s,u);if(e=$o(e),isNaN(m))return{stiffness:Mr.stiffness,damping:Mr.damping,duration:e};{const f=Math.pow(m,2)*r;return{stiffness:f,damping:o*2*Math.sqrt(r*f),duration:e}}}const KX=12;function XX(e,t,n){let r=n;for(let i=1;i<KX;i++)r=r-e(r)/t(r);return r}function QN(e,t){return e*Math.sqrt(1-t*t)}const QX=["duration","bounce"],ZX=["stiffness","damping","mass"];function vM(e,t){return t.some(n=>e[n]!==void 0)}function JX(e){let t={velocity:Mr.velocity,stiffness:Mr.stiffness,damping:Mr.damping,mass:Mr.mass,isResolvedFromDuration:!1,...e};if(!vM(e,ZX)&&vM(e,QX))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*zl(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Mr.mass,stiffness:i,damping:s}}else{const n=GX(e);t={...t,...n,mass:Mr.mass},t.isResolvedFromDuration=!0}return t}function gv(e=Mr.visualDuration,t=Mr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],u={done:!1,value:s},{stiffness:m,damping:f,mass:g,duration:x,velocity:w,isResolvedFromDuration:_}=JX({...n,velocity:-Ho(n.velocity||0)}),T=w||0,C=f/(2*Math.sqrt(m*g)),A=o-s,M=Ho(Math.sqrt(m/g)),D=Math.abs(A)<5;r||(r=D?Mr.restSpeed.granular:Mr.restSpeed.default),i||(i=D?Mr.restDelta.granular:Mr.restDelta.default);let R;if(C<1){const k=QN(M,C);R=I=>{const B=Math.exp(-C*M*I);return o-B*((T+C*M*A)/k*Math.sin(k*I)+A*Math.cos(k*I))}}else if(C===1)R=k=>o-Math.exp(-M*k)*(A+(T+M*A)*k);else{const k=M*Math.sqrt(C*C-1);R=I=>{const B=Math.exp(-C*M*I),V=Math.min(k*I,300);return o-B*((T+C*M*A)*Math.sinh(V)+k*A*Math.cosh(V))/k}}const z={calculatedDuration:_&&x||null,next:k=>{const I=R(k);if(_)u.done=k>=x;else{let B=k===0?T:0;C<1&&(B=k===0?$o(T):E5(R,k,I));const V=Math.abs(B)<=r,F=Math.abs(o-I)<=i;u.done=V&&F}return u.value=u.done?o:I,u},toString:()=>{const k=Math.min(fA(z),mv),I=A5(B=>z.next(k*B).value,k,30);return k+"ms "+I},toTransition:()=>{}};return z}gv.applyToOptions=e=>{const t=YX(e,100,gv);return e.ease=t.ease,e.duration=$o(t.duration),e.type="keyframes",e};function ZN({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:u,max:m,restDelta:f=.5,restSpeed:g}){const x=e[0],w={done:!1,value:x},_=V=>u!==void 0&&V<u||m!==void 0&&V>m,T=V=>u===void 0?m:m===void 0||Math.abs(u-V)<Math.abs(m-V)?u:m;let C=n*t;const A=x+C,M=o===void 0?A:o(A);M!==A&&(C=M-x);const D=V=>-C*Math.exp(-V/r),R=V=>M+D(V),z=V=>{const F=D(V),$=R(V);w.done=Math.abs(F)<=f,w.value=w.done?M:$};let k,I;const B=V=>{_(w.value)&&(k=V,I=gv({keyframes:[w.value,T(w.value)],velocity:E5(R,V,w.value),damping:i,stiffness:s,restDelta:f,restSpeed:g}))};return B(0),{calculatedDuration:null,next:V=>{let F=!1;return!I&&k===void 0&&(F=!0,z(V),B(V)),k!==void 0&&V>=k?I.next(V-k):(!F&&z(V),w)}}}function eQ(e,t,n){const r=[],i=n||Vl.mix||_5,s=e.length-1;for(let o=0;o<s;o++){let u=i(e[o],e[o+1]);if(t){const m=Array.isArray(t)?t[o]||Ps:t;u=N0(m,u)}r.push(u)}return r}function tQ(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(nA(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=eQ(t,r,i),m=u.length,f=g=>{if(o&&g<e[0])return t[0];let x=0;if(m>1)for(;x<e.length-2&&!(g<e[x+1]);x++);const w=$g(e[x],e[x+1],g);return u[x](w)};return n?g=>f(zl(e[0],e[s-1],g)):f}function nQ(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=$g(0,t,r);e.push(br(n,1,i))}}function rQ(e){const t=[0];return nQ(t,e.length-1),t}function aQ(e,t){return e.map(n=>n*t)}function iQ(e,t){return e.map(()=>t||g5).splice(0,e.length-1)}function Rg({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=pX(r)?r.map(fM):fM(r),s={done:!1,value:t[0]},o=aQ(n&&n.length===t.length?n:rQ(t),e),u=tQ(o,t,{ease:Array.isArray(i)?i:iQ(t,i)});return{calculatedDuration:e,next:m=>(s.value=u(m),s.done=m>=e,s)}}const sQ=e=>e!==null;function hA(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(sQ),u=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!u||r===void 0?s[u]:r}const oQ={decay:ZN,inertia:ZN,tween:Rg,keyframes:Rg,spring:gv};function C5(e){typeof e.type=="string"&&(e.type=oQ[e.type])}class mA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const lQ=e=>e/100;class gA extends mA{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Ii.now()&&this.tick(Ii.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;C5(t);const{type:n=Rg,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=t;let{keyframes:u}=t;const m=n||Rg;m!==Rg&&typeof u[0]!="number"&&(this.mixKeyframes=N0(lQ,_5(u[0],u[1])),u=[0,100]);const f=m({...t,keyframes:u});s==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...u].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=fA(f));const{calculatedDuration:g}=f;this.calculatedDuration=g,this.resolvedDuration=g+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:u,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:g,repeat:x,repeatType:w,repeatDelay:_,type:T,onUpdate:C,finalKeyframe:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const M=this.currentTime-f*(this.playbackSpeed>=0?1:-1),D=this.playbackSpeed>=0?M<0:M>i;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let R=this.currentTime,z=r;if(x){const V=Math.min(this.currentTime,i)/u;let F=Math.floor(V),$=V%1;!$&&V>=1&&($=1),$===1&&F--,F=Math.min(F,x+1),!!(F%2)&&(w==="reverse"?($=1-$,_&&($-=_/u)):w==="mirror"&&(z=o)),R=zl(0,1,$)*u}const k=D?{done:!1,value:g[0]}:z.next(R);s&&(k.value=s(k.value));let{done:I}=k;!D&&m!==null&&(I=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return B&&T!==ZN&&(k.value=hA(g,this.options,A,this.speed)),C&&C(k.value),B&&this.finish(),k}then(t,n){return this.finished.then(t,n)}get duration(){return Ho(this.calculatedDuration)}get time(){return Ho(this.currentTime)}set time(t){var n;t=$o(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ii.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ho(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=qX,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ii.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function cQ(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ud=e=>e*180/Math.PI,JN=e=>{const t=ud(Math.atan2(e[1],e[0]));return eS(t)},uQ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:JN,rotateZ:JN,skewX:e=>ud(Math.atan(e[1])),skewY:e=>ud(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},eS=e=>(e=e%360,e<0&&(e+=360),e),yM=JN,bM=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),wM=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),dQ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bM,scaleY:wM,scale:e=>(bM(e)+wM(e))/2,rotateX:e=>eS(ud(Math.atan2(e[6],e[5]))),rotateY:e=>eS(ud(Math.atan2(-e[2],e[0]))),rotateZ:yM,rotate:yM,skewX:e=>ud(Math.atan(e[4])),skewY:e=>ud(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function tS(e){return e.includes("scale")?1:0}function nS(e,t){if(!e||e==="none")return tS(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=dQ,i=n;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=uQ,i=u}if(!i)return tS(t);const s=r[t],o=i[1].split(",").map(hQ);return typeof s=="function"?s(o):o[s]}const fQ=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return nS(n,t)};function hQ(e){return parseFloat(e.trim())}const Hh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qh=new Set(Hh),jM=e=>e===$h||e===Rt,mQ=new Set(["x","y","z"]),gQ=Hh.filter(e=>!mQ.has(e));function pQ(e){const t=[];return gQ.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const xd={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>nS(t,"x"),y:(e,{transform:t})=>nS(t,"y")};xd.translateX=xd.x;xd.translateY=xd.y;const vd=new Set;let rS=!1,aS=!1,iS=!1;function T5(){if(aS){const e=Array.from(vd).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=pQ(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var u;(u=r.getValue(s))==null||u.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}aS=!1,rS=!1,vd.forEach(e=>e.complete(iS)),vd.clear()}function O5(){vd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(aS=!0)})}function xQ(){iS=!0,O5(),T5(),iS=!1}class pA{constructor(t,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(vd.add(this),rS||(rS=!0,cr.read(O5),cr.resolveKeyframes(T5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),o=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const u=r.readValue(n,o);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=o),i&&s===void 0&&i.set(t[0])}cQ(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),vd.delete(this)}cancel(){this.state==="scheduled"&&(vd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const vQ=e=>e.startsWith("--");function yQ(e,t,n){vQ(t)?e.style.setProperty(t,n):e.style[t]=n}const bQ=rA(()=>window.ScrollTimeline!==void 0),wQ={};function jQ(e,t){const n=rA(e);return()=>wQ[t]??n()}const M5=jQ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ng=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,NM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ng([0,.65,.55,1]),circOut:Ng([.55,0,1,.45]),backIn:Ng([.31,.01,.66,-.59]),backOut:Ng([.33,1.53,.69,.99])};function D5(e,t){if(e)return typeof e=="function"?M5()?A5(e,t):"ease-out":p5(e)?Ng(e):Array.isArray(e)?e.map(n=>D5(n,t)||NM.easeOut):NM[e]}function NQ(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:u="easeOut",times:m}={},f=void 0){const g={[t]:n};m&&(g.offset=m);const x=D5(u,i);Array.isArray(x)&&(g.easing=x);const w={delay:r,duration:i,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return f&&(w.pseudoElement=f),e.animate(g,w)}function R5(e){return typeof e=="function"&&"applyToOptions"in e}function SQ({type:e,...t}){return R5(e)&&M5()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class _Q extends mA{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:u,onComplete:m}=t;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=t,nA(typeof t.type!="string");const f=SQ(t);this.animation=NQ(n,r,i,f,s),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const g=hA(i,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(g):yQ(n,r,g),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Ho(Number(t))}get time(){return Ho(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=$o(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&bQ()?(this.animation.timeline=t,Ps):n(this)}}const P5={anticipate:f5,backInOut:d5,circInOut:m5};function AQ(e){return e in P5}function EQ(e){typeof e.ease=="string"&&AQ(e.ease)&&(e.ease=P5[e.ease])}const SM=10;class CQ extends _Q{constructor(t){EQ(t),C5(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const u=new gA({...o,autoplay:!1}),m=$o(this.finishedTime??this.time);n.setWithVelocity(u.sample(m-SM).value,u.sample(m).value,SM),u.stop()}}const _M=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(eu.test(e)||e==="0")&&!e.startsWith("url("));function TQ(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function OQ(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=_M(i,t),u=_M(s,t);return!o||!u?!1:TQ(e)||(n==="spring"||R5(n))&&r}function sS(e){e.duration=0,e.type}const MQ=new Set(["opacity","clipPath","filter","transform"]),DQ=rA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function RQ(e){var g;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=e;if(!(((g=t==null?void 0:t.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:f}=t.owner.getProps();return DQ()&&n&&MQ.has(n)&&(n!=="transform"||!f)&&!m&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const PQ=40;class kQ extends mA{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:u,name:m,motionValue:f,element:g,...x}){var T;super(),this.stop=()=>{var C,A;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(A=this.keyframeResolver)==null||A.cancel()},this.createdAt=Ii.now();const w={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:m,motionValue:f,element:g,...x},_=(g==null?void 0:g.KeyframeResolver)||pA;this.keyframeResolver=new _(u,(C,A,M)=>this.onKeyframesResolved(C,A,w,!M),m,f,g),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:o,velocity:u,delay:m,isHandoff:f,onUpdate:g}=r;this.resolvedAt=Ii.now(),OQ(t,s,o,u)||((Vl.instantAnimations||!m)&&(g==null||g(hA(t,r,n))),t[0]=t[t.length-1],sS(r),r.repeat=0);const w={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>PQ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},_=!f&&RQ(w)?new CQ({...w,element:w.motionValue.owner.current}):new gA(w);_.finished.then(()=>this.notifyFinished()).catch(Ps),this.pendingTimeline&&(this.stopTimeline=_.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=_}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),xQ()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const IQ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LQ(e){const t=IQ.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function k5(e,t,n=1){const[r,i]=LQ(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return r5(o)?parseFloat(o):o}return lA(i)?k5(i,t,n+1):i}function xA(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const I5=new Set(["width","height","top","left","right","bottom",...Hh]),BQ={test:e=>e==="auto",parse:e=>e},L5=e=>t=>t.test(e),B5=[$h,Rt,qo,Hc,TX,CX,BQ],AM=e=>B5.find(L5(e));function FQ(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||i5(e):!0}const UQ=new Set(["brightness","contrast","saturate","opacity"]);function zQ(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(cA)||[];if(!r)return e;const i=n.replace(r,"");let s=UQ.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const VQ=/\b([a-z-]*)\(.*?\)/gu,oS={...eu,getAnimatableNone:e=>{const t=e.match(VQ);return t?t.map(zQ).join(" "):e}},EM={...$h,transform:Math.round},$Q={rotate:Hc,rotateX:Hc,rotateY:Hc,rotateZ:Hc,scale:wx,scaleX:wx,scaleY:wx,scaleZ:wx,skew:Hc,skewX:Hc,skewY:Hc,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:Hg,originX:hM,originY:hM,originZ:Rt},vA={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,backgroundPositionX:Rt,backgroundPositionY:Rt,...$Q,zIndex:EM,fillOpacity:Hg,strokeOpacity:Hg,numOctaves:EM},HQ={...vA,color:Zr,backgroundColor:Zr,outlineColor:Zr,fill:Zr,stroke:Zr,borderColor:Zr,borderTopColor:Zr,borderRightColor:Zr,borderBottomColor:Zr,borderLeftColor:Zr,filter:oS,WebkitFilter:oS},F5=e=>HQ[e];function U5(e,t){let n=F5(e);return n!==oS&&(n=eu),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const qQ=new Set(["auto","none","0"]);function YQ(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!qQ.has(s)&&qg(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=U5(n,i)}class WQ extends pA{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let f=t[m];if(typeof f=="string"&&(f=f.trim(),lA(f))){const g=k5(f,n.current);g!==void 0&&(t[m]=g),m===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!I5.has(r)||t.length!==2)return;const[i,s]=t,o=AM(i),u=AM(s);if(o!==u)if(jM(o)&&jM(u))for(let m=0;m<t.length;m++){const f=t[m];typeof f=="string"&&(t[m]=parseFloat(f))}else xd[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||FQ(t[i]))&&r.push(i);r.length&&YQ(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xd[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var u;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=xd[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([m,f])=>{t.getValue(m).set(f)}),this.resolveNoneKeyframes()}}function GQ(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const z5=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function V5(e){return a5(e)&&"offsetHeight"in e}const CM=30,KQ=e=>!isNaN(parseFloat(e));class XQ{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Ii.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Ii.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=KQ(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new aA);const r=this.events[t].add(n);return t==="change"?()=>{r(),cr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ii.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>CM)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,CM);return s5(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yh(e,t){return new XQ(e,t)}const{schedule:yA}=x5(queueMicrotask,!1),ro={x:!1,y:!1};function $5(){return ro.x||ro.y}function QQ(e){return e==="x"||e==="y"?ro[e]?null:(ro[e]=!0,()=>{ro[e]=!1}):ro.x||ro.y?null:(ro.x=ro.y=!0,()=>{ro.x=ro.y=!1})}function H5(e,t){const n=GQ(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function TM(e){return!(e.pointerType==="touch"||$5())}function ZQ(e,t,n={}){const[r,i,s]=H5(e,n),o=u=>{if(!TM(u))return;const{target:m}=u,f=t(m,u);if(typeof f!="function"||!m)return;const g=x=>{TM(x)&&(f(x),m.removeEventListener("pointerleave",g))};m.addEventListener("pointerleave",g,i)};return r.forEach(u=>{u.addEventListener("pointerenter",o,i)}),s}const q5=(e,t)=>t?e===t?!0:q5(e,t.parentElement):!1,bA=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,JQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eZ(e){return JQ.has(e.tagName)||e.tabIndex!==-1}const ev=new WeakSet;function OM(e){return t=>{t.key==="Enter"&&e(t)}}function i2(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const tZ=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=OM(()=>{if(ev.has(n))return;i2(n,"down");const i=OM(()=>{i2(n,"up")}),s=()=>i2(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function MM(e){return bA(e)&&!$5()}function nZ(e,t,n={}){const[r,i,s]=H5(e,n),o=u=>{const m=u.currentTarget;if(!MM(u))return;ev.add(m);const f=t(m,u),g=(_,T)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",w),ev.has(m)&&ev.delete(m),MM(_)&&typeof f=="function"&&f(_,{success:T})},x=_=>{g(_,m===window||m===document||n.useGlobalTarget||q5(m,_.target))},w=_=>{g(_,!1)};window.addEventListener("pointerup",x,i),window.addEventListener("pointercancel",w,i)};return r.forEach(u=>{(n.useGlobalTarget?window:u).addEventListener("pointerdown",o,i),V5(u)&&(u.addEventListener("focus",f=>tZ(f,i)),!eZ(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),s}function Y5(e){return a5(e)&&"ownerSVGElement"in e}function rZ(e){return Y5(e)&&e.tagName==="svg"}const si=e=>!!(e&&e.getVelocity),aZ=[...B5,Zr,eu],iZ=e=>aZ.find(L5(e)),wA=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class sZ extends N.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=V5(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function oZ({children:e,isPresent:t,anchorX:n,root:r}){const i=N.useId(),s=N.useRef(null),o=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=N.useContext(wA);return N.useInsertionEffect(()=>{const{width:m,height:f,top:g,left:x,right:w}=o.current;if(t||!s.current||!m||!f)return;const _=n==="left"?`left: ${x}`:`right: ${w}`;s.current.dataset.motionPopId=i;const T=document.createElement("style");u&&(T.nonce=u);const C=r??document.head;return C.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${f}px !important;
            ${_}px !important;
            top: ${g}px !important;
          }
        `),()=>{C.contains(T)&&C.removeChild(T)}},[t]),a.jsx(sZ,{isPresent:t,childRef:s,sizeRef:o,children:N.cloneElement(e,{ref:s})})}const lZ=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:u,root:m})=>{const f=Z_(cZ),g=N.useId();let x=!0,w=N.useMemo(()=>(x=!1,{id:g,initial:t,isPresent:n,custom:i,onExitComplete:_=>{f.set(_,!0);for(const T of f.values())if(!T)return;r&&r()},register:_=>(f.set(_,!1),()=>f.delete(_))}),[n,f,r]);return s&&x&&(w={...w}),N.useMemo(()=>{f.forEach((_,T)=>f.set(T,!1))},[n]),N.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),o==="popLayout"&&(e=a.jsx(oZ,{isPresent:n,anchorX:u,root:m,children:e})),a.jsx(_1.Provider,{value:w,children:e})};function cZ(){return new Map}function W5(e=!0){const t=N.useContext(_1);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=N.useId();N.useEffect(()=>{if(e)return i(s)},[e]);const o=N.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const jx=e=>e.key||"";function DM(e){const t=[];return N.Children.forEach(e,n=>{N.isValidElement(n)&&t.push(n)}),t}const A1=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:u="left",root:m})=>{const[f,g]=W5(o),x=N.useMemo(()=>DM(e),[e]),w=o&&!f?[]:x.map(jx),_=N.useRef(!0),T=N.useRef(x),C=Z_(()=>new Map),[A,M]=N.useState(x),[D,R]=N.useState(x);n5(()=>{_.current=!1,T.current=x;for(let I=0;I<D.length;I++){const B=jx(D[I]);w.includes(B)?C.delete(B):C.get(B)!==!0&&C.set(B,!1)}},[D,w.length,w.join("-")]);const z=[];if(x!==A){let I=[...x];for(let B=0;B<D.length;B++){const V=D[B],F=jx(V);w.includes(F)||(I.splice(B,0,V),z.push(V))}return s==="wait"&&z.length&&(I=z),R(DM(I)),M(x),null}const{forceRender:k}=N.useContext(Q_);return a.jsx(a.Fragment,{children:D.map(I=>{const B=jx(I),V=o&&!f?!1:x===D||w.includes(B),F=()=>{if(C.has(B))C.set(B,!0);else return;let $=!0;C.forEach(W=>{W||($=!1)}),$&&(k==null||k(),R(T.current),o&&(g==null||g()),r&&r())};return a.jsx(lZ,{isPresent:V,initial:!_.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:m,onExitComplete:V?void 0:F,anchorX:u,children:I},B)})})},G5=N.createContext({strict:!1}),RM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bh={};for(const e in RM)bh[e]={isEnabled:t=>RM[e].some(n=>!!t[n])};function uZ(e){for(const t in e)bh[t]={...bh[t],...e[t]}}const dZ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function pv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||dZ.has(e)}let K5=e=>!pv(e);function fZ(e){typeof e=="function"&&(K5=t=>t.startsWith("on")?!pv(t):e(t))}try{fZ(require("@emotion/is-prop-valid").default)}catch{}function hZ(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(K5(i)||n===!0&&pv(i)||!t&&!pv(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const E1=N.createContext({});function C1(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Yg(e){return typeof e=="string"||Array.isArray(e)}const jA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],NA=["initial",...jA];function T1(e){return C1(e.animate)||NA.some(t=>Yg(e[t]))}function X5(e){return!!(T1(e)||e.variants)}function mZ(e,t){if(T1(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Yg(n)?n:void 0,animate:Yg(r)?r:void 0}}return e.inherit!==!1?t:{}}function gZ(e){const{initial:t,animate:n}=mZ(e,N.useContext(E1));return N.useMemo(()=>({initial:t,animate:n}),[PM(t),PM(n)])}function PM(e){return Array.isArray(e)?e.join(" "):e}const Wg={};function pZ(e){for(const t in e)Wg[t]=e[t],oA(t)&&(Wg[t].isCSSVariable=!0)}function Q5(e,{layout:t,layoutId:n}){return qh.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Wg[e]||e==="opacity")}const xZ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vZ=Hh.length;function yZ(e,t,n){let r="",i=!0;for(let s=0;s<vZ;s++){const o=Hh[s],u=e[o];if(u===void 0)continue;let m=!0;if(typeof u=="number"?m=u===(o.startsWith("scale")?1:0):m=parseFloat(u)===0,!m||n){const f=z5(u,vA[o]);if(!m){i=!1;const g=xZ[o]||o;r+=`${g}(${f}) `}n&&(t[o]=f)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function SA(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,u=!1;for(const m in t){const f=t[m];if(qh.has(m)){o=!0;continue}else if(oA(m)){i[m]=f;continue}else{const g=z5(f,vA[m]);m.startsWith("origin")?(u=!0,s[m]=g):r[m]=g}}if(t.transform||(o||n?r.transform=yZ(t,e.transform,n):r.transform&&(r.transform="none")),u){const{originX:m="50%",originY:f="50%",originZ:g=0}=s;r.transformOrigin=`${m} ${f} ${g}`}}const _A=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Z5(e,t,n){for(const r in t)!si(t[r])&&!Q5(r,n)&&(e[r]=t[r])}function bZ({transformTemplate:e},t){return N.useMemo(()=>{const n=_A();return SA(n,t,e),Object.assign({},n.vars,n.style)},[t])}function wZ(e,t){const n=e.style||{},r={};return Z5(r,n,e),Object.assign(r,bZ(e,t)),r}function jZ(e,t){const n={},r=wZ(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const NZ={offset:"stroke-dashoffset",array:"stroke-dasharray"},SZ={offset:"strokeDashoffset",array:"strokeDasharray"};function _Z(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?NZ:SZ;e[s.offset]=Rt.transform(-r);const o=Rt.transform(t),u=Rt.transform(n);e[s.array]=`${o} ${u}`}function J5(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...u},m,f,g){if(SA(e,u,f),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:w}=e;x.transform&&(w.transform=x.transform,delete x.transform),(w.transform||x.transformOrigin)&&(w.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),w.transform&&(w.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete x.transformBox),t!==void 0&&(x.x=t),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),i!==void 0&&_Z(x,i,s,o,!1)}const eL=()=>({..._A(),attrs:{}}),tL=e=>typeof e=="string"&&e.toLowerCase()==="svg";function AZ(e,t,n,r){const i=N.useMemo(()=>{const s=eL();return J5(s,t,tL(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Z5(s,e.style,e),i.style={...s,...i.style}}return i}const EZ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function AA(e){return typeof e!="string"||e.includes("-")?!1:!!(EZ.indexOf(e)>-1||/[A-Z]/u.test(e))}function CZ(e,t,n,{latestValues:r},i,s=!1){const u=(AA(e)?AZ:jZ)(t,r,i,e),m=hZ(t,typeof e=="string",s),f=e!==N.Fragment?{...m,...u,ref:n}:{},{children:g}=t,x=N.useMemo(()=>si(g)?g.get():g,[g]);return N.createElement(e,{...f,children:x})}function kM(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function EA(e,t,n,r){if(typeof t=="function"){const[i,s]=kM(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=kM(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function tv(e){return si(e)?e.get():e}function TZ({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:OZ(n,r,i,e),renderState:t()}}function OZ(e,t,n,r){const i={},s=r(e,{});for(const w in s)i[w]=tv(s[w]);let{initial:o,animate:u}=e;const m=T1(e),f=X5(e);t&&f&&!m&&e.inherit!==!1&&(o===void 0&&(o=t.initial),u===void 0&&(u=t.animate));let g=n?n.initial===!1:!1;g=g||o===!1;const x=g?u:o;if(x&&typeof x!="boolean"&&!C1(x)){const w=Array.isArray(x)?x:[x];for(let _=0;_<w.length;_++){const T=EA(e,w[_]);if(T){const{transitionEnd:C,transition:A,...M}=T;for(const D in M){let R=M[D];if(Array.isArray(R)){const z=g?R.length-1:0;R=R[z]}R!==null&&(i[D]=R)}for(const D in C)i[D]=C[D]}}}return i}const nL=e=>(t,n)=>{const r=N.useContext(E1),i=N.useContext(_1),s=()=>TZ(e,t,r,i);return n?s():Z_(s)};function CA(e,t,n){var s;const{style:r}=e,i={};for(const o in r)(si(r[o])||t.style&&si(t.style[o])||Q5(o,e)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const MZ=nL({scrapeMotionValuesFromProps:CA,createRenderState:_A});function rL(e,t,n){const r=CA(e,t,n);for(const i in e)if(si(e[i])||si(t[i])){const s=Hh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const DZ=nL({scrapeMotionValuesFromProps:rL,createRenderState:eL}),RZ=Symbol.for("motionComponentSymbol");function nh(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function PZ(e,t,n){return N.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):nh(n)&&(n.current=r))},[t])}const TA=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kZ="framerAppearId",aL="data-"+TA(kZ),iL=N.createContext({});function IZ(e,t,n,r,i){var C,A;const{visualElement:s}=N.useContext(E1),o=N.useContext(G5),u=N.useContext(_1),m=N.useContext(wA).reducedMotion,f=N.useRef(null);r=r||o.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:s,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:m}));const g=f.current,x=N.useContext(iL);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&LZ(f.current,n,i,x);const w=N.useRef(!1);N.useInsertionEffect(()=>{g&&w.current&&g.update(n,u)});const _=n[aL],T=N.useRef(!!_&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,_))&&((A=window.MotionHasOptimisedAnimation)==null?void 0:A.call(window,_)));return n5(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),T.current&&g.animationState&&g.animationState.animateChanges())}),N.useEffect(()=>{g&&(!T.current&&g.animationState&&g.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,_)}),T.current=!1),g.enteringChildren=void 0)}),g}function LZ(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:u,layoutScroll:m,layoutRoot:f,layoutCrossfade:g}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:sL(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||u&&nh(u),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:m,layoutRoot:f})}function sL(e){if(e)return e.options.allowProjection!==!1?e.projection:sL(e.parent)}function s2(e,{forwardMotionProps:t=!1}={},n,r){n&&uZ(n);const i=AA(e)?DZ:MZ;function s(u,m){let f;const g={...N.useContext(wA),...u,layoutId:BZ(u)},{isStatic:x}=g,w=gZ(u),_=i(u,x);if(!x&&J_){FZ();const T=UZ(g);f=T.MeasureLayout,w.visualElement=IZ(e,_,g,r,T.ProjectionNode)}return a.jsxs(E1.Provider,{value:w,children:[f&&w.visualElement?a.jsx(f,{visualElement:w.visualElement,...g}):null,CZ(e,u,PZ(_,w.visualElement,m),_,x,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=N.forwardRef(s);return o[RZ]=e,o}function BZ({layoutId:e}){const t=N.useContext(Q_).id;return t&&e!==void 0?t+"-"+e:e}function FZ(e,t){N.useContext(G5).strict}function UZ(e){const{drag:t,layout:n}=bh;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function zZ(e,t){if(typeof Proxy>"u")return s2;const n=new Map,r=(s,o)=>s2(s,o,e,t),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,s2(o,void 0,e,t)),n.get(o))})}function oL({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function VZ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function $Z(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function o2(e){return e===void 0||e===1}function lS({scale:e,scaleX:t,scaleY:n}){return!o2(e)||!o2(t)||!o2(n)}function rd(e){return lS(e)||lL(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function lL(e){return IM(e.x)||IM(e.y)}function IM(e){return e&&e!=="0%"}function xv(e,t,n){const r=e-n,i=t*r;return n+i}function LM(e,t,n,r,i){return i!==void 0&&(e=xv(e,i,r)),xv(e,n,r)+t}function cS(e,t=0,n=1,r,i){e.min=LM(e.min,t,n,r,i),e.max=LM(e.max,t,n,r,i)}function cL(e,{x:t,y:n}){cS(e.x,t.translate,t.scale,t.originPoint),cS(e.y,n.translate,n.scale,n.originPoint)}const BM=.999999999999,FM=1.0000000000001;function HZ(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let u=0;u<i;u++){s=n[u],o=s.projectionDelta;const{visualElement:m}=s.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ah(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,cL(e,o)),r&&rd(s.latestValues)&&ah(e,s.latestValues))}t.x<FM&&t.x>BM&&(t.x=1),t.y<FM&&t.y>BM&&(t.y=1)}function rh(e,t){e.min=e.min+t,e.max=e.max+t}function UM(e,t,n,r,i=.5){const s=br(e.min,e.max,i);cS(e,t,n,s,r)}function ah(e,t){UM(e.x,t.x,t.scaleX,t.scale,t.originX),UM(e.y,t.y,t.scaleY,t.scale,t.originY)}function uL(e,t){return oL($Z(e.getBoundingClientRect(),t))}function qZ(e,t,n){const r=uL(e,n),{scroll:i}=t;return i&&(rh(r.x,i.offset.x),rh(r.y,i.offset.y)),r}const zM=()=>({translate:0,scale:1,origin:0,originPoint:0}),ih=()=>({x:zM(),y:zM()}),VM=()=>({min:0,max:0}),zr=()=>({x:VM(),y:VM()}),uS={current:null},dL={current:!1};function YZ(){if(dL.current=!0,!!J_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>uS.current=e.matches;e.addEventListener("change",t),t()}else uS.current=!1}const WZ=new WeakMap;function GZ(e,t,n){for(const r in t){const i=t[r],s=n[r];if(si(i))e.addValue(r,i);else if(si(s))e.addValue(r,yh(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,yh(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const $M=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class KZ{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Ii.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,cr.render(this.render,!1,!0))};const{latestValues:m,renderState:f}=o;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=f,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.blockInitialAnimation=!!s,this.isControllingVariants=T1(n),this.isVariantNode=X5(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in x){const _=x[w];m[w]!==void 0&&si(_)&&_.set(m[w])}}mount(t){var n;this.current=t,WZ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),dL.current||YZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uS.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Jc(this.notifyUpdate),Jc(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=qh.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&cr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in bh){const n=bh[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<$M.length;r++){const i=$M[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=GZ(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=yh(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(r5(r)||i5(r))?r=parseFloat(r):!iZ(r)&&eu.test(n)&&(r=U5(t,n)),this.setBaseTarget(t,si(r)?r.get():r)),si(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=EA(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!si(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new aA),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){yA.render(this.render)}}class fL extends KZ{constructor(){super(...arguments),this.KeyframeResolver=WQ}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;si(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function hL(e,{style:t,vars:n},r,i){const s=e.style;let o;for(o in t)s[o]=t[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function XZ(e){return window.getComputedStyle(e)}class QZ extends fL{constructor(){super(...arguments),this.type="html",this.renderInstance=hL}readValueFromInstance(t,n){var r;if(qh.has(n))return(r=this.projection)!=null&&r.isProjecting?tS(n):fQ(t,n);{const i=XZ(t),s=(oA(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return uL(t,n)}build(t,n,r){SA(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return CA(t,n,r)}}const mL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ZZ(e,t,n,r){hL(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(mL.has(i)?i:TA(i),t.attrs[i])}class JZ extends fL{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(qh.has(n)){const r=F5(n);return r&&r.default||0}return n=mL.has(n)?n:TA(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return rL(t,n,r)}build(t,n,r){J5(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){ZZ(t,n,r,i)}mount(t){this.isSVGTag=tL(t.tagName),super.mount(t)}}const eJ=(e,t)=>AA(e)?new JZ(t):new QZ(t,{allowProjection:e!==N.Fragment});function ch(e,t,n){const r=e.getProps();return EA(r,t,n!==void 0?n:r.custom,e)}const dS=e=>Array.isArray(e);function tJ(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,yh(n))}function nJ(e){return dS(e)?e[e.length-1]||0:e}function rJ(e,t){const n=ch(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const u=nJ(s[o]);tJ(e,o,u)}}function aJ(e){return!!(si(e)&&e.add)}function fS(e,t){const n=e.getValue("willChange");if(aJ(n))return n.add(t);if(!n&&Vl.WillChange){const r=new Vl.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function gL(e){return e.props[aL]}const iJ=e=>e!==null;function sJ(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(iJ),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const oJ={type:"spring",stiffness:500,damping:25,restSpeed:10},lJ=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),cJ={type:"keyframes",duration:.8},uJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},dJ=(e,{keyframes:t})=>t.length>2?cJ:qh.has(e)?e.startsWith("scale")?lJ(t[1]):oJ:uJ;function fJ({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:u,from:m,elapsed:f,...g}){return!!Object.keys(g).length}const OA=(e,t,n,r={},i,s)=>o=>{const u=xA(r,e)||{},m=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-$o(m);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:w=>{t.set(w),u.onUpdate&&u.onUpdate(w)},onComplete:()=>{o(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:s?void 0:i};fJ(u)||Object.assign(g,dJ(e,g)),g.duration&&(g.duration=$o(g.duration)),g.repeatDelay&&(g.repeatDelay=$o(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(sS(g),g.delay===0&&(x=!0)),(Vl.instantAnimations||Vl.skipAnimations)&&(x=!0,sS(g),g.delay=0),g.allowFlatten=!u.type&&!u.ease,x&&!s&&t.get()!==void 0){const w=sJ(g.keyframes,u);if(w!==void 0){cr.update(()=>{g.onUpdate(w),g.onComplete()});return}}return u.isSync?new gA(g):new kQ(g)};function hJ({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function pL(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...u}=t;r&&(s=r);const m=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const g in u){const x=e.getValue(g,e.latestValues[g]??null),w=u[g];if(w===void 0||f&&hJ(f,g))continue;const _={delay:n,...xA(s||{},g)},T=x.get();if(T!==void 0&&!x.isAnimating&&!Array.isArray(w)&&w===T&&!_.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const M=gL(e);if(M){const D=window.MotionHandoffAnimation(M,g,cr);D!==null&&(_.startTime=D,C=!0)}}fS(e,g),x.start(OA(g,x,w,e.shouldReduceMotion&&I5.has(g)?{type:!1}:_,e,C));const A=x.animation;A&&m.push(A)}return o&&Promise.all(m).then(()=>{cr.update(()=>{o&&rJ(e,o)})}),m}function xL(e,t,n,r=0,i=1){const s=Array.from(e).sort((f,g)=>f.sortNodePosition(g)).indexOf(t),o=e.size,u=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:u-s*r}function hS(e,t,n={}){var m;const r=ch(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(pL(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:w}=i;return mJ(e,t,f,g,x,w,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[f,g]=u==="beforeChildren"?[s,o]:[o,s];return f().then(()=>g())}else return Promise.all([s(),o(n.delay)])}function mJ(e,t,n=0,r=0,i=0,s=1,o){const u=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),u.push(hS(m,t,{...o,delay:n+(typeof r=="function"?0:r)+xL(e.variantChildren,m,r,i,s)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(u)}function gJ(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>hS(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=hS(e,t,n);else{const i=typeof t=="function"?ch(e,t,n.custom):t;r=Promise.all(pL(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function vL(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const pJ=NA.length;function yL(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?yL(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<pJ;n++){const r=NA[n],i=e.props[r];(Yg(i)||i===!1)&&(t[r]=i)}return t}const xJ=[...jA].reverse(),vJ=jA.length;function yJ(e){return t=>Promise.all(t.map(({animation:n,options:r})=>gJ(e,n,r)))}function bJ(e){let t=yJ(e),n=HM(),r=!0;const i=m=>(f,g)=>{var w;const x=ch(e,g,m==="exit"?(w=e.presenceContext)==null?void 0:w.custom:void 0);if(x){const{transition:_,transitionEnd:T,...C}=x;f={...f,...C,...T}}return f};function s(m){t=m(e)}function o(m){const{props:f}=e,g=yL(e.parent)||{},x=[],w=new Set;let _={},T=1/0;for(let A=0;A<vJ;A++){const M=xJ[A],D=n[M],R=f[M]!==void 0?f[M]:g[M],z=Yg(R),k=M===m?D.isActive:null;k===!1&&(T=A);let I=R===g[M]&&R!==f[M]&&z;if(I&&r&&e.manuallyAnimateOnMount&&(I=!1),D.protectedKeys={..._},!D.isActive&&k===null||!R&&!D.prevProp||C1(R)||typeof R=="boolean")continue;const B=wJ(D.prevProp,R);let V=B||M===m&&D.isActive&&!I&&z||A>T&&z,F=!1;const $=Array.isArray(R)?R:[R];let W=$.reduce(i(M),{});k===!1&&(W={});const{prevResolvedValues:Y={}}=D,X={...Y,...W},ne=ee=>{V=!0,w.has(ee)&&(F=!0,w.delete(ee)),D.needsAnimating[ee]=!0;const K=e.getValue(ee);K&&(K.liveStyle=!1)};for(const ee in X){const K=W[ee],ue=Y[ee];if(_.hasOwnProperty(ee))continue;let re=!1;dS(K)&&dS(ue)?re=!vL(K,ue):re=K!==ue,re?K!=null?ne(ee):w.add(ee):K!==void 0&&w.has(ee)?ne(ee):D.protectedKeys[ee]=!0}D.prevProp=R,D.prevResolvedValues=W,D.isActive&&(_={..._,...W}),r&&e.blockInitialAnimation&&(V=!1);const J=I&&B;V&&(!J||F)&&x.push(...$.map(ee=>{const K={type:M};if(typeof ee=="string"&&r&&!J&&e.manuallyAnimateOnMount&&e.parent){const{parent:ue}=e,re=ch(ue,ee);if(ue.enteringChildren&&re){const{delayChildren:de}=re.transition||{};K.delay=xL(ue.enteringChildren,e,de)}}return{animation:ee,options:K}}))}if(w.size){const A={};if(typeof f.initial!="boolean"){const M=ch(e,Array.isArray(f.initial)?f.initial[0]:f.initial);M&&M.transition&&(A.transition=M.transition)}w.forEach(M=>{const D=e.getBaseTarget(M),R=e.getValue(M);R&&(R.liveStyle=!0),A[M]=D??null}),x.push({animation:A})}let C=!!x.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(C=!1),r=!1,C?t(x):Promise.resolve()}function u(m,f){var x;if(n[m].isActive===f)return Promise.resolve();(x=e.variantChildren)==null||x.forEach(w=>{var _;return(_=w.animationState)==null?void 0:_.setActive(m,f)}),n[m].isActive=f;const g=o(m);for(const w in n)n[w].protectedKeys={};return g}return{animateChanges:o,setActive:u,setAnimateFunction:s,getState:()=>n,reset:()=>{n=HM(),r=!0}}}function wJ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!vL(t,e):!1}function ed(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HM(){return{animate:ed(!0),whileInView:ed(),whileHover:ed(),whileTap:ed(),whileDrag:ed(),whileFocus:ed(),exit:ed()}}class pu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class jJ extends pu{constructor(t){super(t),t.animationState||(t.animationState=bJ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();C1(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let NJ=0;class SJ extends pu{constructor(){super(...arguments),this.id=NJ++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const _J={animation:{Feature:jJ},exit:{Feature:SJ}};function Gg(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function A0(e){return{point:{x:e.pageX,y:e.pageY}}}const AJ=e=>t=>bA(t)&&e(t,A0(t));function Pg(e,t,n,r){return Gg(e,t,AJ(n),r)}const bL=1e-4,EJ=1-bL,CJ=1+bL,wL=.01,TJ=0-wL,OJ=0+wL;function ji(e){return e.max-e.min}function MJ(e,t,n){return Math.abs(e-t)<=n}function qM(e,t,n,r=.5){e.origin=r,e.originPoint=br(t.min,t.max,e.origin),e.scale=ji(n)/ji(t),e.translate=br(n.min,n.max,e.origin)-e.originPoint,(e.scale>=EJ&&e.scale<=CJ||isNaN(e.scale))&&(e.scale=1),(e.translate>=TJ&&e.translate<=OJ||isNaN(e.translate))&&(e.translate=0)}function kg(e,t,n,r){qM(e.x,t.x,n.x,r?r.originX:void 0),qM(e.y,t.y,n.y,r?r.originY:void 0)}function YM(e,t,n){e.min=n.min+t.min,e.max=e.min+ji(t)}function DJ(e,t,n){YM(e.x,t.x,n.x),YM(e.y,t.y,n.y)}function WM(e,t,n){e.min=t.min-n.min,e.max=e.min+ji(t)}function Ig(e,t,n){WM(e.x,t.x,n.x),WM(e.y,t.y,n.y)}function Ms(e){return[e("x"),e("y")]}const jL=({current:e})=>e?e.ownerDocument.defaultView:null,GM=(e,t)=>Math.abs(e-t);function RJ(e,t){const n=GM(e.x,t.x),r=GM(e.y,t.y);return Math.sqrt(n**2+r**2)}class NL{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=c2(this.lastMoveEventInfo,this.history),_=this.startEvent!==null,T=RJ(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!_&&!T)return;const{point:C}=w,{timestamp:A}=Fa;this.history.push({...C,timestamp:A});const{onStart:M,onMove:D}=this.handlers;_||(M&&M(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,w)},this.handlePointerMove=(w,_)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=l2(_,this.transformPagePoint),cr.update(this.updatePoint,!0)},this.handlePointerUp=(w,_)=>{this.end();const{onEnd:T,onSessionEnd:C,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=c2(w.type==="pointercancel"?this.lastMoveEventInfo:l2(_,this.transformPagePoint),this.history);this.startEvent&&T&&T(w,M),C&&C(w,M)},!bA(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const u=A0(t),m=l2(u,this.transformPagePoint),{point:f}=m,{timestamp:g}=Fa;this.history=[{...f,timestamp:g}];const{onSessionStart:x}=n;x&&x(t,c2(m,this.history)),this.removeListeners=N0(Pg(this.contextWindow,"pointermove",this.handlePointerMove),Pg(this.contextWindow,"pointerup",this.handlePointerUp),Pg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Jc(this.updatePoint)}}function l2(e,t){return t?{point:t(e.point)}:e}function KM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function c2({point:e},t){return{point:e,delta:KM(e,SL(t)),offset:KM(e,PJ(t)),velocity:kJ(t,.1)}}function PJ(e){return e[0]}function SL(e){return e[e.length-1]}function kJ(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=SL(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>$o(t)));)n--;if(!r)return{x:0,y:0};const s=Ho(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function IJ(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?br(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?br(n,e,r.max):Math.min(e,n)),e}function XM(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function LJ(e,{top:t,left:n,bottom:r,right:i}){return{x:XM(e.x,n,i),y:XM(e.y,t,r)}}function QM(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function BJ(e,t){return{x:QM(e.x,t.x),y:QM(e.y,t.y)}}function FJ(e,t){let n=.5;const r=ji(e),i=ji(t);return i>r?n=$g(t.min,t.max-r,e.min):r>i&&(n=$g(e.min,e.max-i,t.min)),zl(0,1,n)}function UJ(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const mS=.35;function zJ(e=mS){return e===!1?e=0:e===!0&&(e=mS),{x:ZM(e,"left","right"),y:ZM(e,"top","bottom")}}function ZM(e,t,n){return{min:JM(e,t),max:JM(e,n)}}function JM(e,t){return typeof e=="number"?e:e[t]||0}const VJ=new WeakMap;class $J{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=x=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(A0(x).point)},o=(x,w)=>{const{drag:_,dragPropagation:T,onDragStart:C}=this.getProps();if(_&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QQ(_),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ms(M=>{let D=this.getAxisMotionValue(M).get()||0;if(qo.test(D)){const{projection:R}=this.visualElement;if(R&&R.layout){const z=R.layout.layoutBox[M];z&&(D=ji(z)*(parseFloat(D)/100))}}this.originPoint[M]=D}),C&&cr.postRender(()=>C(x,w)),fS(this.visualElement,"transform");const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},u=(x,w)=>{this.latestPointerEvent=x,this.latestPanInfo=w;const{dragPropagation:_,dragDirectionLock:T,onDirectionLock:C,onDrag:A}=this.getProps();if(!_&&!this.openDragLock)return;const{offset:M}=w;if(T&&this.currentDirection===null){this.currentDirection=HJ(M),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",w.point,M),this.updateAxis("y",w.point,M),this.visualElement.render(),A&&A(x,w)},m=(x,w)=>{this.latestPointerEvent=x,this.latestPanInfo=w,this.stop(x,w),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Ms(x=>{var w;return this.getAnimationState(x)==="paused"&&((w=this.getAxisMotionValue(x).animation)==null?void 0:w.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new NL(t,{onSessionStart:s,onStart:o,onMove:u,onSessionEnd:m,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:r,contextWindow:jL(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:u}=this.getProps();u&&cr.postRender(()=>u(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Nx(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=IJ(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&nh(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=LJ(r.layoutBox,t):this.constraints=!1,this.elastic=zJ(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ms(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=UJ(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!nh(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=qZ(r,i.root,this.visualElement.getTransformPagePoint());let o=BJ(i.layout.layoutBox,s);if(n){const u=n(VZ(o));this.hasMutatedConstraints=!!u,u&&(o=oL(u))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),m=this.constraints||{},f=Ms(g=>{if(!Nx(g,n,this.currentDirection))return;let x=m&&m[g]||{};o&&(x={min:0,max:0});const w=i?200:1e6,_=i?40:1e7,T={type:"inertia",velocity:r?t[g]:0,bounceStiffness:w,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...s,...x};return this.startAxisValueAnimation(g,T)});return Promise.all(f).then(u)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return fS(this.visualElement,t),r.start(OA(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ms(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ms(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ms(n=>{const{drag:r}=this.getProps();if(!Nx(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:u}=i.layout.layoutBox[n];s.set(t[n]-br(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!nh(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ms(o=>{const u=this.getAxisMotionValue(o);if(u&&this.constraints!==!1){const m=u.get();i[o]=FJ({min:m,max:m},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ms(o=>{if(!Nx(o,t,null))return;const u=this.getAxisMotionValue(o),{min:m,max:f}=this.constraints[o];u.set(br(m,f,i[o]))})}addListeners(){if(!this.visualElement.current)return;VJ.set(this.visualElement,this);const t=this.visualElement.current,n=Pg(t,"pointerdown",m=>{const{drag:f,dragListener:g=!0}=this.getProps();f&&g&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();nh(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),cr.read(r);const o=Gg(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ms(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=m[g].translate,x.set(x.get()+m[g].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=mS,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:u}}}function Nx(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function HJ(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class qJ extends pu{constructor(t){super(t),this.removeGroupControls=Ps,this.removeListeners=Ps,this.controls=new $J(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ps}unmount(){this.removeGroupControls(),this.removeListeners()}}const eD=e=>(t,n)=>{e&&cr.postRender(()=>e(t,n))};class YJ extends pu{constructor(){super(...arguments),this.removePointerDownListener=Ps}onPointerDown(t){this.session=new NL(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:jL(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:eD(t),onStart:eD(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&cr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Pg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nv={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tD(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const og={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Rt.test(e))e=parseFloat(e);else return e;const n=tD(e,t.target.x),r=tD(e,t.target.y);return`${n}% ${r}%`}},WJ={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=eu.parse(e);if(i.length>5)return r;const s=eu.createTransformer(e),o=typeof i[0]!="number"?1:0,u=n.x.scale*t.x,m=n.y.scale*t.y;i[0+o]/=u,i[1+o]/=m;const f=br(u,m,.5);return typeof i[2+o]=="number"&&(i[2+o]/=f),typeof i[3+o]=="number"&&(i[3+o]/=f),s(i)}};let u2=!1;class GJ extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;pZ(KJ),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),u2&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),nv.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,u2=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||cr.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),yA.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;u2=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function _L(e){const[t,n]=W5(),r=N.useContext(Q_);return a.jsx(GJ,{...e,layoutGroup:r,switchLayoutGroup:N.useContext(iL),isPresent:t,safeToRemove:n})}const KJ={borderRadius:{...og,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:og,borderTopRightRadius:og,borderBottomLeftRadius:og,borderBottomRightRadius:og,boxShadow:WJ};function XJ(e,t,n){const r=si(e)?e:yh(e);return r.start(OA("",r,t,n)),r.animation}const QJ=(e,t)=>e.depth-t.depth;class ZJ{constructor(){this.children=[],this.isDirty=!1}add(t){eA(this.children,t),this.isDirty=!0}remove(t){tA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(QJ),this.isDirty=!1,this.children.forEach(t)}}function JJ(e,t){const n=Ii.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Jc(r),e(s-t))};return cr.setup(r,!0),()=>Jc(r)}const AL=["TopLeft","TopRight","BottomLeft","BottomRight"],eee=AL.length,nD=e=>typeof e=="string"?parseFloat(e):e,rD=e=>typeof e=="number"||Rt.test(e);function tee(e,t,n,r,i,s){i?(e.opacity=br(0,n.opacity??1,nee(r)),e.opacityExit=br(t.opacity??1,0,ree(r))):s&&(e.opacity=br(t.opacity??1,n.opacity??1,r));for(let o=0;o<eee;o++){const u=`border${AL[o]}Radius`;let m=aD(t,u),f=aD(n,u);if(m===void 0&&f===void 0)continue;m||(m=0),f||(f=0),m===0||f===0||rD(m)===rD(f)?(e[u]=Math.max(br(nD(m),nD(f),r),0),(qo.test(f)||qo.test(m))&&(e[u]+="%")):e[u]=f}(t.rotate||n.rotate)&&(e.rotate=br(t.rotate||0,n.rotate||0,r))}function aD(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const nee=EL(0,.5,h5),ree=EL(.5,.95,Ps);function EL(e,t,n){return r=>r<e?0:r>t?1:n($g(e,t,r))}function iD(e,t){e.min=t.min,e.max=t.max}function Es(e,t){iD(e.x,t.x),iD(e.y,t.y)}function sD(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function oD(e,t,n,r,i){return e-=t,e=xv(e,1/n,r),i!==void 0&&(e=xv(e,1/i,r)),e}function aee(e,t=0,n=1,r=.5,i,s=e,o=e){if(qo.test(t)&&(t=parseFloat(t),t=br(o.min,o.max,t/100)-o.min),typeof t!="number")return;let u=br(s.min,s.max,r);e===s&&(u-=t),e.min=oD(e.min,t,n,u,i),e.max=oD(e.max,t,n,u,i)}function lD(e,t,[n,r,i],s,o){aee(e,t[n],t[r],t[i],t.scale,s,o)}const iee=["x","scaleX","originX"],see=["y","scaleY","originY"];function cD(e,t,n,r){lD(e.x,t,iee,n?n.x:void 0,r?r.x:void 0),lD(e.y,t,see,n?n.y:void 0,r?r.y:void 0)}function uD(e){return e.translate===0&&e.scale===1}function CL(e){return uD(e.x)&&uD(e.y)}function dD(e,t){return e.min===t.min&&e.max===t.max}function oee(e,t){return dD(e.x,t.x)&&dD(e.y,t.y)}function fD(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function TL(e,t){return fD(e.x,t.x)&&fD(e.y,t.y)}function hD(e){return ji(e.x)/ji(e.y)}function mD(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class lee{constructor(){this.members=[]}add(t){eA(this.members,t),t.scheduleRender()}remove(t){if(tA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cee(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:f,rotate:g,rotateX:x,rotateY:w,skewX:_,skewY:T}=n;f&&(r=`perspective(${f}px) ${r}`),g&&(r+=`rotate(${g}deg) `),x&&(r+=`rotateX(${x}deg) `),w&&(r+=`rotateY(${w}deg) `),_&&(r+=`skewX(${_}deg) `),T&&(r+=`skewY(${T}deg) `)}const u=e.x.scale*t.x,m=e.y.scale*t.y;return(u!==1||m!==1)&&(r+=`scale(${u}, ${m})`),r||"none"}const d2=["","X","Y","Z"],uee=1e3;let dee=0;function f2(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function OL(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=gL(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",cr,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&OL(r)}function ML({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},u=t==null?void 0:t()){this.id=dee++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mee),this.nodes.forEach(vee),this.nodes.forEach(yee),this.nodes.forEach(gee)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new ZJ)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new aA),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const m=this.eventHandlers.get(o);m&&m.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Y5(o)&&!rZ(o),this.instance=o;const{layoutId:u,layout:m,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||u)&&(this.isLayoutDirty=!0),e){let g,x=0;const w=()=>this.root.updateBlockedByResize=!1;cr.read(()=>{x=window.innerWidth}),e(o,()=>{const _=window.innerWidth;_!==x&&(x=_,this.root.updateBlockedByResize=!0,g&&g(),g=JJ(w,250),nv.hasAnimatedSinceResize&&(nv.hasAnimatedSinceResize=!1,this.nodes.forEach(xD)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeLayoutChanged:w,layout:_})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||f.getDefaultTransition()||See,{onLayoutAnimationStart:C,onLayoutAnimationComplete:A}=f.getProps(),M=!this.targetLayout||!TL(this.targetLayout,_),D=!x&&w;if(this.options.layoutRoot||this.resumeFrom||D||x&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...xA(T,"layout"),onPlay:C,onComplete:A};(f.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(g,D)}else x||xD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=_})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Jc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(bee),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OL(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:u,layout:m}=this.options;if(u===void 0&&!m)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(pD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(xee),this.nodes.forEach(fee),this.nodes.forEach(hee)):this.nodes.forEach(pD),this.clearAllSnapshots();const u=Ii.now();Fa.delta=zl(0,1e3/60,u-Fa.timestamp),Fa.timestamp=u,Fa.isProcessing=!0,t2.update.process(Fa),t2.preRender.process(Fa),t2.render.process(Fa),Fa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pee),this.sharedNodes.forEach(wee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,cr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){cr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ji(this.snapshot.measuredBox.x)&&!ji(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!CL(this.projectionDelta),m=this.getTransformTemplate(),f=m?m(this.latestValues,""):void 0,g=f!==this.prevTransformTemplateValue;o&&this.instance&&(u||rd(this.latestValues)||g)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let m=this.removeElementScroll(u);return o&&(m=this.removeTransform(m)),_ee(m),{animationId:this.root.animationId,measuredBox:u,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:o}=this.options;if(!o)return zr();const u=o.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(Aee))){const{scroll:g}=this.root;g&&(rh(u.x,g.offset.x),rh(u.y,g.offset.y))}return u}removeElementScroll(o){var m;const u=zr();if(Es(u,o),(m=this.scroll)!=null&&m.wasRoot)return u;for(let f=0;f<this.path.length;f++){const g=this.path[f],{scroll:x,options:w}=g;g!==this.root&&x&&w.layoutScroll&&(x.wasRoot&&Es(u,o),rh(u.x,x.offset.x),rh(u.y,x.offset.y))}return u}applyTransform(o,u=!1){const m=zr();Es(m,o);for(let f=0;f<this.path.length;f++){const g=this.path[f];!u&&g.options.layoutScroll&&g.scroll&&g!==g.root&&ah(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),rd(g.latestValues)&&ah(m,g.latestValues)}return rd(this.latestValues)&&ah(m,this.latestValues),m}removeTransform(o){const u=zr();Es(u,o);for(let m=0;m<this.path.length;m++){const f=this.path[m];if(!f.instance||!rd(f.latestValues))continue;lS(f.latestValues)&&f.updateSnapshot();const g=zr(),x=f.measurePageBox();Es(g,x),cD(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,g)}return rd(this.latestValues)&&cD(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var w;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==u;if(!(o||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!(!this.layout||!(g||x))){if(this.resolvedRelativeTargetAt=Fa.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zr(),this.relativeTargetOrigin=zr(),Ig(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),Es(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=zr(),this.targetWithTransforms=zr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DJ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Es(this.target,this.layout.layoutBox),cL(this.target,this.targetDelta)):Es(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zr(),this.relativeTargetOrigin=zr(),Ig(this.relativeTargetOrigin,this.target,_.target),Es(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||lS(this.parent.latestValues)||lL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let m=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(m=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Fa.timestamp&&(m=!1),m)return;const{layout:f,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||g))return;Es(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,w=this.treeScale.y;HZ(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=zr());const{target:_}=o;if(!_){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sD(this.prevProjectionDelta.x,this.projectionDelta.x),sD(this.prevProjectionDelta.y,this.projectionDelta.y)),kg(this.projectionDelta,this.layoutCorrected,_,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==w||!mD(this.projectionDelta.x,this.prevProjectionDelta.x)||!mD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),o){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ih(),this.projectionDelta=ih(),this.projectionDeltaWithTransform=ih()}setAnimationOrigin(o,u=!1){const m=this.snapshot,f=m?m.latestValues:{},g={...this.latestValues},x=ih();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const w=zr(),_=m?m.source:void 0,T=this.layout?this.layout.source:void 0,C=_!==T,A=this.getStack(),M=!A||A.members.length<=1,D=!!(C&&!M&&this.options.crossfade===!0&&!this.path.some(Nee));this.animationProgress=0;let R;this.mixTargetDelta=z=>{const k=z/1e3;vD(x.x,o.x,k),vD(x.y,o.y,k),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ig(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),jee(this.relativeTarget,this.relativeTargetOrigin,w,k),R&&oee(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=zr()),Es(R,this.relativeTarget)),C&&(this.animationValues=g,tee(g,f,this.latestValues,k,D,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var u,m,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Jc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=cr.update(()=>{nv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yh(0)),this.currentAnimation=XJ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),o.onUpdate&&o.onUpdate(g)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uee),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:m,layout:f,latestValues:g}=o;if(!(!u||!m||!f)){if(this!==o&&this.layout&&f&&DL(this.options.animationType,this.layout.layoutBox,f.layoutBox)){m=this.target||zr();const x=ji(this.layout.layoutBox.x);m.x.min=o.target.x.min,m.x.max=m.x.min+x;const w=ji(this.layout.layoutBox.y);m.y.min=o.target.y.min,m.y.max=m.y.min+w}Es(u,m),ah(u,g),kg(this.projectionDeltaWithTransform,this.layoutCorrected,u,g)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new lee),this.sharedNodes.get(o).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var u;const{layoutId:o}=this.options;return o?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:o}=this.options;return o?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:m}={}){const f=this.getStack();f&&f.promote(this,m),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:m}=o;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(u=!0),!u)return;const f={};m.z&&f2("z",o,f,this.animationValues);for(let g=0;g<d2.length;g++)f2(`rotate${d2[g]}`,o,f,this.animationValues),f2(`skew${d2[g]}`,o,f,this.animationValues);o.render();for(const g in f)o.setStaticValue(g,f[g]),this.animationValues&&(this.animationValues[g]=f[g]);o.scheduleRender()}applyProjectionStyles(o,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=tv(u==null?void 0:u.pointerEvents)||"",o.transform=m?m(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=tv(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!rd(this.latestValues)&&(o.transform=m?m({},""):"none",this.hasProjected=!1);return}o.visibility="";const g=f.animationValues||f.latestValues;this.applyTransformsToTarget();let x=cee(this.projectionDeltaWithTransform,this.treeScale,g);m&&(x=m(g,x)),o.transform=x;const{x:w,y:_}=this.projectionDelta;o.transformOrigin=`${w.origin*100}% ${_.origin*100}% 0`,f.animationValues?o.opacity=f===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:o.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const T in Wg){if(g[T]===void 0)continue;const{correct:C,applyTo:A,isCSSVariable:M}=Wg[T],D=x==="none"?g[T]:C(g[T],f);if(A){const R=A.length;for(let z=0;z<R;z++)o[A[z]]=D}else M?this.options.visualElement.renderState.vars[T]=D:o[T]=D}this.options.layoutId&&(o.pointerEvents=f===this?tv(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var u;return(u=o.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(gD),this.root.sharedNodes.clear()}}}function fee(e){e.updateLayout()}function hee(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=t.source!==e.layout.source;s==="size"?Ms(x=>{const w=o?t.measuredBox[x]:t.layoutBox[x],_=ji(w);w.min=r[x].min,w.max=w.min+_}):DL(s,t.layoutBox,r)&&Ms(x=>{const w=o?t.measuredBox[x]:t.layoutBox[x],_=ji(r[x]);w.max=w.min+_,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[x].max=e.relativeTarget[x].min+_)});const u=ih();kg(u,r,t.layoutBox);const m=ih();o?kg(m,e.applyTransform(i,!0),t.measuredBox):kg(m,r,t.layoutBox);const f=!CL(u);let g=!1;if(!e.resumeFrom){const x=e.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:w,layout:_}=x;if(w&&_){const T=zr();Ig(T,t.layoutBox,w.layoutBox);const C=zr();Ig(C,r,_.layoutBox),TL(T,C)||(g=!0),x.options.layoutRoot&&(e.relativeTarget=C,e.relativeTargetOrigin=T,e.relativeParent=x)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:g})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function mee(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gee(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pee(e){e.clearSnapshot()}function gD(e){e.clearMeasurements()}function pD(e){e.isLayoutDirty=!1}function xee(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function xD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function vee(e){e.resolveTargetDelta()}function yee(e){e.calcProjection()}function bee(e){e.resetSkewAndRotation()}function wee(e){e.removeLeadSnapshot()}function vD(e,t,n){e.translate=br(t.translate,0,n),e.scale=br(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function yD(e,t,n,r){e.min=br(t.min,n.min,r),e.max=br(t.max,n.max,r)}function jee(e,t,n,r){yD(e.x,t.x,n.x,r),yD(e.y,t.y,n.y,r)}function Nee(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const See={duration:.45,ease:[.4,0,.1,1]},bD=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),wD=bD("applewebkit/")&&!bD("chrome/")?Math.round:Ps;function jD(e){e.min=wD(e.min),e.max=wD(e.max)}function _ee(e){jD(e.x),jD(e.y)}function DL(e,t,n){return e==="position"||e==="preserve-aspect"&&!MJ(hD(t),hD(n),.2)}function Aee(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Eee=ML({attachResizeListener:(e,t)=>Gg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),h2={current:void 0},RL=ML({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!h2.current){const e=new Eee({});e.mount(window),e.setOptions({layoutScroll:!0}),h2.current=e}return h2.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Cee={pan:{Feature:YJ},drag:{Feature:qJ,ProjectionNode:RL,MeasureLayout:_L}};function ND(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&cr.postRender(()=>s(t,A0(t)))}class Tee extends pu{mount(){const{current:t}=this.node;t&&(this.unmount=ZQ(t,(n,r)=>(ND(this.node,r,"Start"),i=>ND(this.node,i,"End"))))}unmount(){}}class Oee extends pu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=N0(Gg(this.node.current,"focus",()=>this.onFocus()),Gg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function SD(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&cr.postRender(()=>s(t,A0(t)))}class Mee extends pu{mount(){const{current:t}=this.node;t&&(this.unmount=nZ(t,(n,r)=>(SD(this.node,r,"Start"),(i,{success:s})=>SD(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gS=new WeakMap,m2=new WeakMap,Dee=e=>{const t=gS.get(e.target);t&&t(e)},Ree=e=>{e.forEach(Dee)};function Pee({root:e,...t}){const n=e||document;m2.has(n)||m2.set(n,{});const r=m2.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Ree,{root:e,...t})),r[i]}function kee(e,t,n){const r=Pee(t);return gS.set(e,n),r.observe(e),()=>{gS.delete(e),r.unobserve(e)}}const Iee={some:0,all:1};class Lee extends pu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Iee[i]},u=m=>{const{isIntersecting:f}=m;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),w=f?g:x;w&&w(m)};return kee(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Bee(t,n))&&this.startObserver()}unmount(){}}function Bee({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Fee={inView:{Feature:Lee},tap:{Feature:Mee},focus:{Feature:Oee},hover:{Feature:Tee}},Uee={layout:{ProjectionNode:RL,MeasureLayout:_L}},zee={..._J,...Fee,...Cee,...Uee},We=zZ(zee,eJ);function _D(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function O1(...e){return t=>{let n=!1;const r=e.map(i=>{const s=_D(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():_D(e[i],null)}}}}function Zt(...e){return N.useCallback(O1(...e),e)}function tu(e){const t=Vee(e),n=N.forwardRef((r,i)=>{const{children:s,...o}=r,u=N.Children.toArray(s),m=u.find(Hee);if(m){const f=m.props.children,g=u.map(x=>x===m?N.Children.count(f)>1?N.Children.only(null):N.isValidElement(f)?f.props.children:null:x);return a.jsx(t,{...o,ref:i,children:N.isValidElement(f)?N.cloneElement(f,void 0,g):null})}return a.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var PL=tu("Slot");function Vee(e){const t=N.forwardRef((n,r)=>{const{children:i,...s}=n;if(N.isValidElement(i)){const o=Yee(i),u=qee(s,i.props);return i.type!==N.Fragment&&(u.ref=r?O1(r,o):o),N.cloneElement(i,u)}return N.Children.count(i)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $ee=Symbol("radix.slottable");function Hee(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$ee}function qee(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...u)=>{const m=s(...u);return i(...u),m}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Yee(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function kL(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=kL(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ln(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=kL(e))&&(r&&(r+=" "),r+=t);return r}const AD=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,ED=ln,MA=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return ED(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(f=>{const g=n==null?void 0:n[f],x=s==null?void 0:s[f];if(g===null)return null;const w=AD(g)||AD(x);return i[f][w]}),u=n&&Object.entries(n).reduce((f,g)=>{let[x,w]=g;return w===void 0||(f[x]=w),f},{}),m=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,g)=>{let{class:x,className:w,..._}=g;return Object.entries(_).every(T=>{let[C,A]=T;return Array.isArray(A)?A.includes({...s,...u}[C]):{...s,...u}[C]===A})?[...f,x,w]:f},[]);return ED(e,o,m,n==null?void 0:n.class,n==null?void 0:n.className)},DA="-",Wee=e=>{const t=Kee(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const u=o.split(DA);return u[0]===""&&u.length!==1&&u.shift(),IL(u,t)||Gee(o)},getConflictingClassGroupIds:(o,u)=>{const m=n[o]||[];return u&&r[o]?[...m,...r[o]]:m}}},IL=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?IL(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(DA);return(o=t.validators.find(({validator:u})=>u(s)))==null?void 0:o.classGroupId},CD=/^\[(.+)\]$/,Gee=e=>{if(CD.test(e)){const t=CD.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Kee=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)pS(n[i],r,i,t);return r},pS=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:TD(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(Xee(i)){pS(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{pS(o,TD(t,s),n,r)})})},TD=(e,t)=>{let n=e;return t.split(DA).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Xee=e=>e.isThemeGetter,Qee=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},xS="!",vS=":",Zee=vS.length,Jee=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const s=[];let o=0,u=0,m=0,f;for(let T=0;T<i.length;T++){let C=i[T];if(o===0&&u===0){if(C===vS){s.push(i.slice(m,T)),m=T+Zee;continue}if(C==="/"){f=T;continue}}C==="["?o++:C==="]"?o--:C==="("?u++:C===")"&&u--}const g=s.length===0?i:i.substring(m),x=ete(g),w=x!==g,_=f&&f>m?f-m:void 0;return{modifiers:s,hasImportantModifier:w,baseClassName:x,maybePostfixModifierPosition:_}};if(t){const i=t+vS,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},ete=e=>e.endsWith(xS)?e.substring(0,e.length-1):e.startsWith(xS)?e.substring(1):e,tte=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||t[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},nte=e=>({cache:Qee(e.cacheSize),parseClassName:Jee(e),sortModifiers:tte(e),...Wee(e)}),rte=/\s+/,ate=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,o=[],u=e.trim().split(rte);let m="";for(let f=u.length-1;f>=0;f-=1){const g=u[f],{isExternal:x,modifiers:w,hasImportantModifier:_,baseClassName:T,maybePostfixModifierPosition:C}=n(g);if(x){m=g+(m.length>0?" "+m:m);continue}let A=!!C,M=r(A?T.substring(0,C):T);if(!M){if(!A){m=g+(m.length>0?" "+m:m);continue}if(M=r(T),!M){m=g+(m.length>0?" "+m:m);continue}A=!1}const D=s(w).join(":"),R=_?D+xS:D,z=R+M;if(o.includes(z))continue;o.push(z);const k=i(M,A);for(let I=0;I<k.length;++I){const B=k[I];o.push(R+B)}m=g+(m.length>0?" "+m:m)}return m};function ite(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=LL(t))&&(r&&(r+=" "),r+=n);return r}const LL=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=LL(e[r]))&&(n&&(n+=" "),n+=t);return n};function ste(e,...t){let n,r,i,s=o;function o(m){const f=t.reduce((g,x)=>x(g),e());return n=nte(f),r=n.cache.get,i=n.cache.set,s=u,u(m)}function u(m){const f=r(m);if(f)return f;const g=ate(m,n);return i(m,g),g}return function(){return s(ite.apply(null,arguments))}}const da=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},BL=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,FL=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ote=/^\d+\/\d+$/,lte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ute=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$f=e=>ote.test(e),Qt=e=>!!e&&!Number.isNaN(Number(e)),Ic=e=>!!e&&Number.isInteger(Number(e)),g2=e=>e.endsWith("%")&&Qt(e.slice(0,-1)),_l=e=>lte.test(e),hte=()=>!0,mte=e=>cte.test(e)&&!ute.test(e),UL=()=>!1,gte=e=>dte.test(e),pte=e=>fte.test(e),xte=e=>!gt(e)&&!pt(e),vte=e=>Yh(e,$L,UL),gt=e=>BL.test(e),td=e=>Yh(e,HL,mte),p2=e=>Yh(e,Nte,Qt),OD=e=>Yh(e,zL,UL),yte=e=>Yh(e,VL,pte),Sx=e=>Yh(e,qL,gte),pt=e=>FL.test(e),lg=e=>Wh(e,HL),bte=e=>Wh(e,Ste),MD=e=>Wh(e,zL),wte=e=>Wh(e,$L),jte=e=>Wh(e,VL),_x=e=>Wh(e,qL,!0),Yh=(e,t,n)=>{const r=BL.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Wh=(e,t,n=!1)=>{const r=FL.exec(e);return r?r[1]?t(r[1]):n:!1},zL=e=>e==="position"||e==="percentage",VL=e=>e==="image"||e==="url",$L=e=>e==="length"||e==="size"||e==="bg-size",HL=e=>e==="length",Nte=e=>e==="number",Ste=e=>e==="family-name",qL=e=>e==="shadow",_te=()=>{const e=da("color"),t=da("font"),n=da("text"),r=da("font-weight"),i=da("tracking"),s=da("leading"),o=da("breakpoint"),u=da("container"),m=da("spacing"),f=da("radius"),g=da("shadow"),x=da("inset-shadow"),w=da("text-shadow"),_=da("drop-shadow"),T=da("blur"),C=da("perspective"),A=da("aspect"),M=da("ease"),D=da("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...z(),pt,gt],I=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto","contain","none"],V=()=>[pt,gt,m],F=()=>[$f,"full","auto",...V()],$=()=>[Ic,"none","subgrid",pt,gt],W=()=>["auto",{span:["full",Ic,pt,gt]},Ic,pt,gt],Y=()=>[Ic,"auto",pt,gt],X=()=>["auto","min","max","fr",pt,gt],ne=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],H=()=>["auto",...V()],ee=()=>[$f,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...V()],K=()=>[e,pt,gt],ue=()=>[...z(),MD,OD,{position:[pt,gt]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],de=()=>["auto","cover","contain",wte,vte,{size:[pt,gt]}],xe=()=>[g2,lg,td],Se=()=>["","none","full",f,pt,gt],ye=()=>["",Qt,lg,td],Le=()=>["solid","dashed","dotted","double"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[Qt,g2,MD,OD],le=()=>["","none",T,pt,gt],he=()=>["none",Qt,pt,gt],Ee=()=>["none",Qt,pt,gt],je=()=>[Qt,pt,gt],be=()=>[$f,"full",...V()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[_l],breakpoint:[_l],color:[hte],container:[_l],"drop-shadow":[_l],ease:["in","out","in-out"],font:[xte],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[_l],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[_l],shadow:[_l],spacing:["px",Qt],text:[_l],"text-shadow":[_l],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",$f,gt,pt,A]}],container:["container"],columns:[{columns:[Qt,gt,pt,u]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:F()}],"inset-x":[{"inset-x":F()}],"inset-y":[{"inset-y":F()}],start:[{start:F()}],end:[{end:F()}],top:[{top:F()}],right:[{right:F()}],bottom:[{bottom:F()}],left:[{left:F()}],visibility:["visible","invisible","collapse"],z:[{z:[Ic,"auto",pt,gt]}],basis:[{basis:[$f,"full","auto",u,...V()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Qt,$f,"auto","initial","none",gt]}],grow:[{grow:["",Qt,pt,gt]}],shrink:[{shrink:["",Qt,pt,gt]}],order:[{order:[Ic,"first","last","none",pt,gt]}],"grid-cols":[{"grid-cols":$()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":$()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":X()}],"auto-rows":[{"auto-rows":X()}],gap:[{gap:V()}],"gap-x":[{"gap-x":V()}],"gap-y":[{"gap-y":V()}],"justify-content":[{justify:[...ne(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...ne()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":ne()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:V()}],px:[{px:V()}],py:[{py:V()}],ps:[{ps:V()}],pe:[{pe:V()}],pt:[{pt:V()}],pr:[{pr:V()}],pb:[{pb:V()}],pl:[{pl:V()}],m:[{m:H()}],mx:[{mx:H()}],my:[{my:H()}],ms:[{ms:H()}],me:[{me:H()}],mt:[{mt:H()}],mr:[{mr:H()}],mb:[{mb:H()}],ml:[{ml:H()}],"space-x":[{"space-x":V()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":V()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[u,"screen",...ee()]}],"min-w":[{"min-w":[u,"screen","none",...ee()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[o]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",n,lg,td]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,pt,p2]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",g2,gt]}],"font-family":[{font:[bte,gt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,pt,gt]}],"line-clamp":[{"line-clamp":[Qt,"none",pt,p2]}],leading:[{leading:[s,...V()]}],"list-image":[{"list-image":["none",pt,gt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pt,gt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Le(),"wavy"]}],"text-decoration-thickness":[{decoration:[Qt,"from-font","auto",pt,td]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[Qt,"auto",pt,gt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pt,gt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pt,gt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ue()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:de()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ic,pt,gt],radial:["",pt,gt],conic:[Ic,pt,gt]},jte,yte]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:xe()}],"gradient-via-pos":[{via:xe()}],"gradient-to-pos":[{to:xe()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:Se()}],"rounded-s":[{"rounded-s":Se()}],"rounded-e":[{"rounded-e":Se()}],"rounded-t":[{"rounded-t":Se()}],"rounded-r":[{"rounded-r":Se()}],"rounded-b":[{"rounded-b":Se()}],"rounded-l":[{"rounded-l":Se()}],"rounded-ss":[{"rounded-ss":Se()}],"rounded-se":[{"rounded-se":Se()}],"rounded-ee":[{"rounded-ee":Se()}],"rounded-es":[{"rounded-es":Se()}],"rounded-tl":[{"rounded-tl":Se()}],"rounded-tr":[{"rounded-tr":Se()}],"rounded-br":[{"rounded-br":Se()}],"rounded-bl":[{"rounded-bl":Se()}],"border-w":[{border:ye()}],"border-w-x":[{"border-x":ye()}],"border-w-y":[{"border-y":ye()}],"border-w-s":[{"border-s":ye()}],"border-w-e":[{"border-e":ye()}],"border-w-t":[{"border-t":ye()}],"border-w-r":[{"border-r":ye()}],"border-w-b":[{"border-b":ye()}],"border-w-l":[{"border-l":ye()}],"divide-x":[{"divide-x":ye()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ye()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Le(),"hidden","none"]}],"divide-style":[{divide:[...Le(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...Le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Qt,pt,gt]}],"outline-w":[{outline:["",Qt,lg,td]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",g,_x,Sx]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",x,_x,Sx]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:ye()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[Qt,td]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":ye()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",w,_x,Sx]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[Qt,pt,gt]}],"mix-blend":[{"mix-blend":[...ie(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ie()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Qt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[pt,gt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":z()}],"mask-image-conic-pos":[{"mask-conic":[Qt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ue()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:de()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",pt,gt]}],filter:[{filter:["","none",pt,gt]}],blur:[{blur:le()}],brightness:[{brightness:[Qt,pt,gt]}],contrast:[{contrast:[Qt,pt,gt]}],"drop-shadow":[{"drop-shadow":["","none",_,_x,Sx]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",Qt,pt,gt]}],"hue-rotate":[{"hue-rotate":[Qt,pt,gt]}],invert:[{invert:["",Qt,pt,gt]}],saturate:[{saturate:[Qt,pt,gt]}],sepia:[{sepia:["",Qt,pt,gt]}],"backdrop-filter":[{"backdrop-filter":["","none",pt,gt]}],"backdrop-blur":[{"backdrop-blur":le()}],"backdrop-brightness":[{"backdrop-brightness":[Qt,pt,gt]}],"backdrop-contrast":[{"backdrop-contrast":[Qt,pt,gt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Qt,pt,gt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Qt,pt,gt]}],"backdrop-invert":[{"backdrop-invert":["",Qt,pt,gt]}],"backdrop-opacity":[{"backdrop-opacity":[Qt,pt,gt]}],"backdrop-saturate":[{"backdrop-saturate":[Qt,pt,gt]}],"backdrop-sepia":[{"backdrop-sepia":["",Qt,pt,gt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":V()}],"border-spacing-x":[{"border-spacing-x":V()}],"border-spacing-y":[{"border-spacing-y":V()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pt,gt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Qt,"initial",pt,gt]}],ease:[{ease:["linear","initial",M,pt,gt]}],delay:[{delay:[Qt,pt,gt]}],animate:[{animate:["none",D,pt,gt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[C,pt,gt]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:he()}],"rotate-x":[{"rotate-x":he()}],"rotate-y":[{"rotate-y":he()}],"rotate-z":[{"rotate-z":he()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:je()}],"skew-x":[{"skew-x":je()}],"skew-y":[{"skew-y":je()}],transform:[{transform:[pt,gt,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:be()}],"translate-x":[{"translate-x":be()}],"translate-y":[{"translate-y":be()}],"translate-z":[{"translate-z":be()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pt,gt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pt,gt]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[Qt,lg,td,p2]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Ate=ste(_te);function At(...e){return Ate(ln(e))}const Ete=MA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Ne({className:e,variant:t,size:n,asChild:r=!1,...i}){const s=r?PL:"button";return a.jsx(s,{"data-slot":"button",className:At(Ete({variant:t,size:n,className:e})),...i})}function me({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:At("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function Re({className:e,...t}){return a.jsx("div",{"data-slot":"card-header",className:At("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Pe({className:e,...t}){return a.jsx("div",{"data-slot":"card-title",className:At("leading-none font-semibold",e),...t})}function it({className:e,...t}){return a.jsx("div",{"data-slot":"card-description",className:At("text-muted-foreground text-sm",e),...t})}function ge({className:e,...t}){return a.jsx("div",{"data-slot":"card-content",className:At("px-6",e),...t})}/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tte=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),DD=e=>{const t=Tte(e);return t.charAt(0).toUpperCase()+t.slice(1)},YL=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Ote=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...u},m)=>N.createElement("svg",{ref:m,...Mte,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:YL("lucide",i),...!s&&!Ote(u)&&{"aria-hidden":"true"},...u},[...o.map(([f,g])=>N.createElement(f,g)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(e,t)=>{const n=N.forwardRef(({className:r,...i},s)=>N.createElement(Dte,{ref:s,iconNode:t,className:YL(`lucide-${Cte(DD(e))}`,`lucide-${e}`,r),...i}));return n.displayName=DD(e),n};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],RA=rt("activity",Rte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]],kte=rt("arrow-down-wide-narrow",Pte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],E0=rt("arrow-left",Ite);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Lg=rt("arrow-right",Lte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Fte=rt("arrow-up-down",Bte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],zte=rt("arrow-up-narrow-wide",Ute);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$te=rt("award",Vte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],wh=rt("bell",Hte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],RD=rt("building-2",qte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Wte=rt("calendar-days",Yte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ta=rt("calendar",Gte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]],yS=rt("camera-off",Kte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],uh=rt("camera",Xte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],oi=rt("car",Qte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],M1=rt("chart-column",Zte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],ene=rt("check-check",Jte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Kg=rt("check",tne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],WL=rt("chevron-down",nne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ane=rt("chevron-right",rne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],sne=rt("chevron-up",ine);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vv=rt("circle-alert",one);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rr=rt("circle-check-big",lne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],une=rt("circle-check",cne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],PD=rt("circle-question-mark",dne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],nu=rt("circle-x",fne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mne=rt("clock-3",hne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zn=rt("clock",gne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pne=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],PA=rt("copy",pne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ea=rt("credit-card",xne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vne=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Sg=rt("crown",vne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yne=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],wr=rt("dollar-sign",yne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bne=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_i=rt("download",bne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wne=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],GL=rt("external-link",wne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jne=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],di=rt("eye-off",jne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hn=rt("eye",Nne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],D1=rt("file-text",Sne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Gh=rt("funnel",_ne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],kA=rt("globe",Ane);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Xg=rt("history",Ene);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],yv=rt("info",Cne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],One=rt("layers",Tne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Dne=rt("layout-dashboard",Mne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Yo=rt("loader-circle",Rne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pne=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kne=rt("log-out",Pne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],R1=rt("mail",Ine);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Xo=rt("map-pin",Lne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Fne=rt("maximize",Bne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],KL=rt("megaphone",Une);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],kD=rt("menu",zne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vne=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],jh=rt("message-circle",Vne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],rv=rt("message-square",$ne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=[["path",{d:"M5 12h14",key:"1ays0h"}]],XL=rt("minus",Hne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],ID=rt("monitor",qne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],bS=rt("moon",Yne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wne=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],LD=rt("navigation",Wne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],wS=rt("phone",Gne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],cs=rt("plus",Kne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],jS=rt("printer",Xne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],nr=rt("qr-code",Qne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zne=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],av=rt("receipt",Zne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_d=rt("refresh-cw",Jne);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],QL=rt("save",ere);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],zs=rt("search",tre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],IA=rt("send",nre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ru=rt("settings",rre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],NS=rt("share-2",are);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ire=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Kc=rt("shield-check",ire);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],li=rt("shield",sre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],BD=rt("shopping-cart",ore);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Bg=rt("smartphone",lre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],LA=rt("sparkles",cre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ZL=rt("square-pen",ure);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Qg=rt("star",dre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],au=rt("store",fre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],SS=rt("sun",hre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Kh=rt("target",mre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Oa=rt("ticket",gre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],xre=rt("timer",pre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],bv=rt("trash-2",vre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yre=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],$l=rt("trending-down",yre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Wn=rt("trending-up",bre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jr=rt("triangle-alert",wre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_S=rt("user-check",jre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],BA=rt("user-plus",Nre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],_re=rt("user-x",Sre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],iu=rt("user",Are);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ca=rt("users",Ere);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],su=rt("wallet",Cre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xh=rt("x",Tre);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],P1=rt("zap",Ore),Mre=[{icon:su,title:"Digital Wallet",description:"Secure digital wallet with instant payments, balance management, and real-time transaction tracking."},{icon:nr,title:"QR Payments",description:"Lightning-fast QR code payments for transport, events, and merchant transactions."},{icon:Oa,title:"Event Tickets",description:"Buy, manage, and validate event tickets with blockchain-secured authenticity."},{icon:li,title:"Bank-Grade Security",description:"End-to-end encryption, multi-factor authentication, and fraud prevention."},{icon:Wn,title:"Analytics Dashboard",description:"Comprehensive insights into spending patterns, earnings, and financial health."},{icon:P1,title:"Instant Transfers",description:"Real-time money transfers with zero fees between Tickets users."}],Dre=[{icon:Ca,value:"50,000+",label:"Active Users",growth:"+25% this month"},{icon:Ea,value:"$2.5M+",label:"Transaction Volume",growth:"+40% this quarter"},{icon:Xo,value:"12+",label:"Cities Covered",growth:"Expanding rapidly"},{icon:li,value:"99.99%",label:"Uptime",growth:"Enterprise-grade"}],Rre=[{name:"Ahmed Al-Rashid",role:"Business Owner",content:"Tickets transformed how I handle payments. The QR system is incredibly efficient for my restaurant.",avatar:""},{name:"Sarah Hassan",role:"University Student",content:"Perfect for buying event tickets and managing my daily transport expenses. Love the analytics!",avatar:""},{name:"Omar Farouk",role:"Driver",content:"The driver platform is amazing. I can track my earnings in real-time and get paid instantly.",avatar:""}];function Pre(){const{t:e,language:t,setLanguage:n}=$t();return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-pulse"})]}),a.jsx("header",{className:"relative border-b border-white/10 bg-black/20 backdrop-blur-xl",children:a.jsxs("div",{className:"container mx-auto flex h-20 items-center justify-between px-4",children:[a.jsxs(We.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-10 w-10"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-lg blur opacity-50"})]}),a.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Tickets"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(Ne,{variant:"ghost",size:"sm",onClick:()=>n(t==="en"?"ar":"en"),className:"text-white/70 hover:text-white hover:bg-white/10",children:[a.jsx(kA,{className:"h-4 w-4 mr-2"}),t==="en"?"":"English"]}),a.jsx(Gt,{to:"/login",children:a.jsx(Ne,{variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:"Sign In"})}),a.jsx(Gt,{to:"/register",children:a.jsx(Ne,{size:"sm",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 border-0",children:"Get Started"})})]})]})}),a.jsx("section",{className:"relative py-32",children:a.jsx("div",{className:"container mx-auto px-4 text-center",children:a.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-blue-500/20 to-purple-500/20 backdrop-blur-sm rounded-full px-4 py-2 border border-white/10",children:[a.jsx(LA,{className:"h-4 w-4 text-yellow-400"}),a.jsx("span",{className:"text-sm text-white/80",children:"The Future of Digital Payments"})]})}),a.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-8 leading-tight",children:[a.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent",children:"Digital Payments"}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Reimagined"})]}),a.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-3xl mx-auto leading-relaxed",children:"Experience the next generation of digital payments with our comprehensive platform for wallets, QR payments, event tickets, and merchant solutions. Built for the modern economy."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center mb-16",children:[a.jsx(Gt,{to:"/register",children:a.jsxs(Ne,{size:"lg",className:"group bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-8 py-4 text-lg border-0",children:["Start Your Journey",a.jsx(Lg,{className:"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1"})]})}),a.jsx(Gt,{to:"/login",children:a.jsx(Ne,{variant:"outline",size:"lg",className:"border-white/20 text-white hover:bg-white/10 px-8 py-4 text-lg",children:"Watch Demo"})})]}),a.jsx(We.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:1,delay:.3},className:"relative mx-auto max-w-4xl",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-3xl blur-xl"}),a.jsx("div",{className:"relative bg-black/40 backdrop-blur-xl rounded-3xl p-8 border border-white/10",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-blue-600/20 rounded-xl p-6 border border-blue-400/20",children:[a.jsx(su,{className:"h-12 w-12 text-blue-400 mb-4"}),a.jsx("h3",{className:"text-white font-semibold mb-2",children:"Digital Wallet"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Secure & instant"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/20 rounded-xl p-6 border border-purple-400/20",children:[a.jsx(nr,{className:"h-12 w-12 text-purple-400 mb-4"}),a.jsx("h3",{className:"text-white font-semibold mb-2",children:"QR Payments"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Lightning fast"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-indigo-500/20 to-indigo-600/20 rounded-xl p-6 border border-indigo-400/20",children:[a.jsx(Oa,{className:"h-12 w-12 text-indigo-400 mb-4"}),a.jsx("h3",{className:"text-white font-semibold mb-2",children:"Event Tickets"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Blockchain secured"})]})]})})]})})]})})}),a.jsx("section",{className:"relative py-20 border-y border-white/10 bg-black/20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:Dre.map((r,i)=>a.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:i*.1},className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-white/10",children:a.jsx(r.icon,{className:"h-8 w-8 text-blue-400"})}),a.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:r.value}),a.jsx("div",{className:"text-gray-300 font-medium mb-1",children:r.label}),a.jsx("div",{className:"text-xs text-green-400",children:r.growth})]},r.label))})})}),a.jsx("section",{className:"relative py-32",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("div",{className:"text-center mb-20",children:a.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:a.jsx("span",{className:"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Everything You Need"})}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"A comprehensive platform designed for individuals, businesses, and enterprises."})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:Mre.map((r,i)=>a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:i*.1},children:a.jsxs(me,{className:"h-full bg-black/40 backdrop-blur-xl border-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105",children:[a.jsxs(Re,{children:[a.jsx("div",{className:"mb-4 flex h-14 w-14 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-white/10",children:a.jsx(r.icon,{className:"h-7 w-7 text-blue-400"})}),a.jsx(Pe,{className:"text-xl text-white",children:r.title})]}),a.jsx(ge,{children:a.jsx(it,{className:"text-gray-400 leading-relaxed",children:r.description})})]})},r.title))})]})}),a.jsx("section",{className:"relative py-32 bg-black/20",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-20",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:a.jsx("span",{className:"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Loved by Users"})}),a.jsx("p",{className:"text-xl text-gray-400",children:"Join thousands of satisfied users across the region"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Rre.map((r,i)=>a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:i*.2},children:a.jsx(me,{className:"h-full bg-black/40 backdrop-blur-xl border-white/10",children:a.jsxs(ge,{className:"p-6",children:[a.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((s,o)=>a.jsx(Qg,{className:"h-4 w-4 text-yellow-400 fill-current"},o))}),a.jsxs("p",{className:"text-gray-300 mb-6 italic",children:['"',r.content,'"']}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-2xl",children:r.avatar}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-semibold",children:r.name}),a.jsx("div",{className:"text-gray-400 text-sm",children:r.role})]})]})]})})},r.name))})]})}),a.jsx("section",{className:"relative py-32",children:a.jsx("div",{className:"container mx-auto px-4 text-center",children:a.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-3xl blur-xl"}),a.jsxs("div",{className:"relative bg-black/40 backdrop-blur-xl rounded-3xl p-16 border border-white/10",children:[a.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:[a.jsx("span",{className:"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Ready to Transform"}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Your Payments?"})]}),a.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Join the digital payment revolution. Get started in minutes and experience the future of finance."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[a.jsx(Gt,{to:"/register",children:a.jsxs(Ne,{size:"lg",className:"group bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-8 py-4 text-lg border-0",children:["Get Started Now",a.jsx(Lg,{className:"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1"})]})}),a.jsx(Gt,{to:"/login",children:a.jsx(Ne,{variant:"outline",size:"lg",className:"border-white/20 text-white hover:bg-white/10 px-8 py-4 text-lg",children:"Talk to Sales"})})]})]})]})})}),a.jsx("footer",{className:"relative border-t border-white/10 bg-black/40 py-16",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-12",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-8 w-8"}),a.jsx("h3",{className:"text-xl font-bold text-white",children:"Tickets"})]}),a.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:"The next generation digital payment platform, designed for the modern economy."}),a.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[a.jsx(Rr,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:"SOC 2 Type II Certified"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Product"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:"Digital Wallet"}),a.jsx("li",{children:"QR Payments"}),a.jsx("li",{children:"Event Tickets"}),a.jsx("li",{children:"Analytics"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:"About Us"}),a.jsx("li",{children:"Careers"}),a.jsx("li",{children:"Contact"}),a.jsx("li",{children:"Support"})]})]})]}),a.jsx("div",{className:"border-t border-white/10 pt-8 text-center",children:a.jsx("p",{className:"text-gray-400",children:" 2024 Tickets. All rights reserved. | Built with  for the future of payments."})})]})})]})}function vt({className:e,type:t,...n}){return a.jsx("input",{type:t,"data-slot":"input",className:At("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var kre=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],St=kre.reduce((e,t)=>{const n=tu(`Primitive.${t}`),r=N.forwardRef((i,s)=>{const{asChild:o,...u}=i,m=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(m,{...u,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function JL(e,t){e&&Bd.flushSync(()=>e.dispatchEvent(t))}var Ire="Label",eB=N.forwardRef((e,t)=>a.jsx(St.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));eB.displayName=Ire;var Lre=eB;function $e({className:e,...t}){return a.jsx(Lre,{"data-slot":"label",className:At("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}const Bre=MA("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ci({className:e,variant:t,...n}){return a.jsx("div",{"data-slot":"alert",role:"alert",className:At(Bre({variant:t}),e),...n})}function ui({className:e,...t}){return a.jsx("div",{"data-slot":"alert-description",className:At("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function Fre(e,t){const n=N.createContext(t),r=s=>{const{children:o,...u}=s,m=N.useMemo(()=>u,Object.values(u));return a.jsx(n.Provider,{value:m,children:o})};r.displayName=e+"Provider";function i(s){const o=N.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function Vi(e,t=[]){let n=[];function r(s,o){const u=N.createContext(o),m=n.length;n=[...n,o];const f=x=>{var M;const{scope:w,children:_,...T}=x,C=((M=w==null?void 0:w[e])==null?void 0:M[m])||u,A=N.useMemo(()=>T,Object.values(T));return a.jsx(C.Provider,{value:A,children:_})};f.displayName=s+"Provider";function g(x,w){var C;const _=((C=w==null?void 0:w[e])==null?void 0:C[m])||u,T=N.useContext(_);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${x}\` must be used within \`${s}\``)}return[f,g]}const i=()=>{const s=n.map(o=>N.createContext(o));return function(u){const m=(u==null?void 0:u[e])||s;return N.useMemo(()=>({[`__scope${e}`]:{...u,[e]:m}}),[u,m])}};return i.scopeName=e,[r,Ure(i,...t)]}function Ure(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((u,{useScope:m,scopeName:f})=>{const x=m(s)[`__scope${f}`];return{...u,...x}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function lt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var ra=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},zre=h6[" useInsertionEffect ".trim().toString()]||ra;function Hl({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,o]=Vre({defaultProp:t,onChange:n}),u=e!==void 0,m=u?e:i;{const g=N.useRef(e!==void 0);N.useEffect(()=>{const x=g.current;x!==u&&console.warn(`${r} is changing from ${x?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const f=N.useCallback(g=>{var x;if(u){const w=$re(g)?g(e):g;w!==e&&((x=o.current)==null||x.call(o,w))}else s(g)},[u,e,s,o]);return[m,f]}function Vre({defaultProp:e,onChange:t}){const[n,r]=N.useState(e),i=N.useRef(n),s=N.useRef(t);return zre(()=>{s.current=t},[t]),N.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function $re(e){return typeof e=="function"}function FA(e){const t=N.useRef({value:e,previous:e});return N.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function UA(e){const[t,n]=N.useState(void 0);return ra(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,u;if("borderBoxSize"in s){const m=s.borderBoxSize,f=Array.isArray(m)?m[0]:m;o=f.inlineSize,u=f.blockSize}else o=e.offsetWidth,u=e.offsetHeight;n({width:o,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}function Hre(e,t){return N.useReducer((n,r)=>t[n][r]??n,e)}var mi=e=>{const{present:t,children:n}=e,r=qre(t),i=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),s=Zt(r.ref,Yre(i));return typeof n=="function"||r.isPresent?N.cloneElement(i,{ref:s}):null};mi.displayName="Presence";function qre(e){const[t,n]=N.useState(),r=N.useRef(null),i=N.useRef(e),s=N.useRef("none"),o=e?"mounted":"unmounted",[u,m]=Hre(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const f=Ax(r.current);s.current=u==="mounted"?f:"none"},[u]),ra(()=>{const f=r.current,g=i.current;if(g!==e){const w=s.current,_=Ax(f);e?m("MOUNT"):_==="none"||(f==null?void 0:f.display)==="none"?m("UNMOUNT"):m(g&&w!==_?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,m]),ra(()=>{if(t){let f;const g=t.ownerDocument.defaultView??window,x=_=>{const C=Ax(r.current).includes(_.animationName);if(_.target===t&&C&&(m("ANIMATION_END"),!i.current)){const A=t.style.animationFillMode;t.style.animationFillMode="forwards",f=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=A)})}},w=_=>{_.target===t&&(s.current=Ax(r.current))};return t.addEventListener("animationstart",w),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{g.clearTimeout(f),t.removeEventListener("animationstart",w),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:N.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function Ax(e){return(e==null?void 0:e.animationName)||"none"}function Yre(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var k1="Checkbox",[Wre,JCe]=Vi(k1),[Gre,zA]=Wre(k1);function Kre(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:s,form:o,name:u,onCheckedChange:m,required:f,value:g="on",internal_do_not_use_render:x}=e,[w,_]=Hl({prop:n,defaultProp:i??!1,onChange:m,caller:k1}),[T,C]=N.useState(null),[A,M]=N.useState(null),D=N.useRef(!1),R=T?!!o||!!T.closest("form"):!0,z={checked:w,disabled:s,setChecked:_,control:T,setControl:C,name:u,form:o,value:g,hasConsumerStoppedPropagationRef:D,required:f,defaultChecked:Xc(i)?!1:i,isFormControl:R,bubbleInput:A,setBubbleInput:M};return a.jsx(Gre,{scope:t,...z,children:Xre(x)?x(z):r})}var tB="CheckboxTrigger",nB=N.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:s,value:o,disabled:u,checked:m,required:f,setControl:g,setChecked:x,hasConsumerStoppedPropagationRef:w,isFormControl:_,bubbleInput:T}=zA(tB,e),C=Zt(i,g),A=N.useRef(m);return N.useEffect(()=>{const M=s==null?void 0:s.form;if(M){const D=()=>x(A.current);return M.addEventListener("reset",D),()=>M.removeEventListener("reset",D)}},[s,x]),a.jsx(St.button,{type:"button",role:"checkbox","aria-checked":Xc(m)?"mixed":m,"aria-required":f,"data-state":lB(m),"data-disabled":u?"":void 0,disabled:u,value:o,...r,ref:C,onKeyDown:lt(t,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:lt(n,M=>{x(D=>Xc(D)?!0:!D),T&&_&&(w.current=M.isPropagationStopped(),w.current||M.stopPropagation())})})});nB.displayName=tB;var rB=N.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:u,value:m,onCheckedChange:f,form:g,...x}=e;return a.jsx(Kre,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:u,required:o,onCheckedChange:f,name:r,form:g,value:m,internal_do_not_use_render:({isFormControl:w})=>a.jsxs(a.Fragment,{children:[a.jsx(nB,{...x,ref:t,__scopeCheckbox:n}),w&&a.jsx(oB,{__scopeCheckbox:n})]})})});rB.displayName=k1;var aB="CheckboxIndicator",iB=N.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,s=zA(aB,n);return a.jsx(mi,{present:r||Xc(s.checked)||s.checked===!0,children:a.jsx(St.span,{"data-state":lB(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});iB.displayName=aB;var sB="CheckboxBubbleInput",oB=N.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:u,disabled:m,name:f,value:g,form:x,bubbleInput:w,setBubbleInput:_}=zA(sB,e),T=Zt(n,_),C=FA(s),A=UA(r);N.useEffect(()=>{const D=w;if(!D)return;const R=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(R,"checked").set,I=!i.current;if(C!==s&&k){const B=new Event("click",{bubbles:I});D.indeterminate=Xc(s),k.call(D,Xc(s)?!1:s),D.dispatchEvent(B)}},[w,C,s,i]);const M=N.useRef(Xc(s)?!1:s);return a.jsx(St.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??M.current,required:u,disabled:m,name:f,value:g,form:x,...t,tabIndex:-1,ref:T,style:{...t.style,...A,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});oB.displayName=sB;function Xre(e){return typeof e=="function"}function Xc(e){return e==="indeterminate"}function lB(e){return Xc(e)?"indeterminate":e?"checked":"unchecked"}function ou({className:e,...t}){return a.jsx(rB,{"data-slot":"checkbox",className:At("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(iB,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(Kg,{className:"size-3.5"})})})}function Qre(){const[e,t]=N.useState({email:"",password:""}),[n,r]=N.useState(!1),[i,s]=N.useState(!1),[o,u]=N.useState(""),[m,f]=N.useState(!1),{signIn:g}=Wt(),{t:x}=$t(),w=go(),_=async C=>{C.preventDefault(),u(""),f(!0);try{const{error:A}=await g(e.email,e.password,i);A?u(A.message):w("/")}catch{u("An unexpected error occurred")}finally{f(!1)}},T=(C,A)=>{t(M=>({...M,[C]:A}))};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"})]}),a.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs(Gt,{to:"/",className:"inline-flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[a.jsx(E0,{className:"h-4 w-4"}),x("registration.backToHome")]}),a.jsxs(We.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"flex items-center justify-center gap-3 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-12 w-12"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-lg blur opacity-50"})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Tickets"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx(LA,{className:"h-4 w-4 text-yellow-400"}),a.jsx("span",{className:"text-white/70 text-sm",children:x("login.welcomeBack")})]})]}),a.jsxs(me,{className:"bg-black/40 backdrop-blur-xl border-white/10 shadow-2xl",children:[a.jsxs(Re,{className:"text-center pb-2",children:[a.jsx(Pe,{className:"text-2xl font-bold text-white",children:x("auth.signIn")}),a.jsx(it,{className:"text-gray-400",children:x("auth.accessDescription")})]}),a.jsxs(ge,{className:"space-y-6",children:[a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[o&&a.jsx(ci,{variant:"destructive",className:"bg-red-500/10 border-red-500/20",children:a.jsx(ui,{className:"text-red-400",children:o})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"email",className:"text-white",children:x("auth.email")}),a.jsx(vt,{id:"email",type:"email",value:e.email,onChange:C=>T("email",C.target.value),placeholder:x("auth.emailPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"password",className:"text-white",children:x("auth.password")}),a.jsxs("div",{className:"relative",children:[a.jsx(vt,{id:"password",type:n?"text":"password",value:e.password,onChange:C=>T("password",C.target.value),placeholder:x("auth.enterPasswordPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20 pr-12"}),a.jsx(Ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent text-gray-400 hover:text-white",onClick:()=>r(!n),children:n?a.jsx(di,{className:"h-4 w-4"}):a.jsx(Hn,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ou,{id:"rememberMe",checked:i,onCheckedChange:C=>s(C),className:"border-white/20 data-[state=checked]:bg-blue-500 data-[state=checked]:border-blue-500"}),a.jsx($e,{htmlFor:"rememberMe",className:"text-gray-400 text-sm cursor-pointer",children:x("auth.rememberMe")})]}),a.jsx(Gt,{to:"/forgot-password",className:"text-blue-400 hover:text-blue-300 transition-colors",children:x("auth.forgotPassword")})]}),a.jsx(We.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:a.jsxs(Ne,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 border-0 text-white py-6 text-lg font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",disabled:m,children:[m&&a.jsx(Yo,{className:"mr-2 h-5 w-5 animate-spin"}),x("auth.signIn")]})})]}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-sm text-gray-400",children:[x("auth.dontHaveAccount")," ",a.jsx(Gt,{to:"/register",className:"text-blue-400 hover:text-blue-300 transition-colors font-semibold",children:x("auth.signUpHere")})]})})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{children:x("login.secure")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),a.jsx("span",{children:x("login.encrypted")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),a.jsx("span",{children:x("login.private")})]})]})})]})]})}function AS(e,[t,n]){return Math.min(n,Math.max(t,e))}function VA(e){const t=e+"CollectionProvider",[n,r]=Vi(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=C=>{const{scope:A,children:M}=C,D=at.useRef(null),R=at.useRef(new Map).current;return a.jsx(i,{scope:A,itemMap:R,collectionRef:D,children:M})};o.displayName=t;const u=e+"CollectionSlot",m=tu(u),f=at.forwardRef((C,A)=>{const{scope:M,children:D}=C,R=s(u,M),z=Zt(A,R.collectionRef);return a.jsx(m,{ref:z,children:D})});f.displayName=u;const g=e+"CollectionItemSlot",x="data-radix-collection-item",w=tu(g),_=at.forwardRef((C,A)=>{const{scope:M,children:D,...R}=C,z=at.useRef(null),k=Zt(A,z),I=s(g,M);return at.useEffect(()=>(I.itemMap.set(z,{ref:z,...R}),()=>void I.itemMap.delete(z))),a.jsx(w,{[x]:"",ref:k,children:D})});_.displayName=g;function T(C){const A=s(e+"CollectionConsumer",C);return at.useCallback(()=>{const D=A.collectionRef.current;if(!D)return[];const R=Array.from(D.querySelectorAll(`[${x}]`));return Array.from(A.itemMap.values()).sort((I,B)=>R.indexOf(I.ref.current)-R.indexOf(B.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:o,Slot:f,ItemSlot:_},T,r]}var Zre=N.createContext(void 0);function C0(e){const t=N.useContext(Zre);return e||t||"ltr"}function Sa(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Jre(e,t=globalThis==null?void 0:globalThis.document){const n=Sa(e);N.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var eae="DismissableLayer",ES="dismissableLayer.update",tae="dismissableLayer.pointerDownOutside",nae="dismissableLayer.focusOutside",FD,cB=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),T0=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:u,...m}=e,f=N.useContext(cB),[g,x]=N.useState(null),w=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=N.useState({}),T=Zt(t,B=>x(B)),C=Array.from(f.layers),[A]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),M=C.indexOf(A),D=g?C.indexOf(g):-1,R=f.layersWithOutsidePointerEventsDisabled.size>0,z=D>=M,k=iae(B=>{const V=B.target,F=[...f.branches].some($=>$.contains(V));!z||F||(i==null||i(B),o==null||o(B),B.defaultPrevented||u==null||u())},w),I=sae(B=>{const V=B.target;[...f.branches].some($=>$.contains(V))||(s==null||s(B),o==null||o(B),B.defaultPrevented||u==null||u())},w);return Jre(B=>{D===f.layers.size-1&&(r==null||r(B),!B.defaultPrevented&&u&&(B.preventDefault(),u()))},w),N.useEffect(()=>{if(g)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(FD=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),UD(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=FD)}},[g,w,n,f]),N.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),UD())},[g,f]),N.useEffect(()=>{const B=()=>_({});return document.addEventListener(ES,B),()=>document.removeEventListener(ES,B)},[]),a.jsx(St.div,{...m,ref:T,style:{pointerEvents:R?z?"auto":"none":void 0,...e.style},onFocusCapture:lt(e.onFocusCapture,I.onFocusCapture),onBlurCapture:lt(e.onBlurCapture,I.onBlurCapture),onPointerDownCapture:lt(e.onPointerDownCapture,k.onPointerDownCapture)})});T0.displayName=eae;var rae="DismissableLayerBranch",aae=N.forwardRef((e,t)=>{const n=N.useContext(cB),r=N.useRef(null),i=Zt(t,r);return N.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),a.jsx(St.div,{...e,ref:i})});aae.displayName=rae;function iae(e,t=globalThis==null?void 0:globalThis.document){const n=Sa(e),r=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const s=u=>{if(u.target&&!r.current){let m=function(){uB(tae,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=m,t.addEventListener("click",i.current,{once:!0})):m()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function sae(e,t=globalThis==null?void 0:globalThis.document){const n=Sa(e),r=N.useRef(!1);return N.useEffect(()=>{const i=s=>{s.target&&!r.current&&uB(nae,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function UD(){const e=new CustomEvent(ES);document.dispatchEvent(e)}function uB(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?JL(i,s):i.dispatchEvent(s)}var x2=0;function I1(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??zD()),document.body.insertAdjacentElement("beforeend",e[1]??zD()),x2++,()=>{x2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),x2--}},[])}function zD(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var v2="focusScope.autoFocusOnMount",y2="focusScope.autoFocusOnUnmount",VD={bubbles:!1,cancelable:!0},oae="FocusScope",O0=N.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[u,m]=N.useState(null),f=Sa(i),g=Sa(s),x=N.useRef(null),w=Zt(t,C=>m(C)),_=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let C=function(R){if(_.paused||!u)return;const z=R.target;u.contains(z)?x.current=z:qc(x.current,{select:!0})},A=function(R){if(_.paused||!u)return;const z=R.relatedTarget;z!==null&&(u.contains(z)||qc(x.current,{select:!0}))},M=function(R){if(document.activeElement===document.body)for(const k of R)k.removedNodes.length>0&&qc(u)};document.addEventListener("focusin",C),document.addEventListener("focusout",A);const D=new MutationObserver(M);return u&&D.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",C),document.removeEventListener("focusout",A),D.disconnect()}}},[r,u,_.paused]),N.useEffect(()=>{if(u){HD.add(_);const C=document.activeElement;if(!u.contains(C)){const M=new CustomEvent(v2,VD);u.addEventListener(v2,f),u.dispatchEvent(M),M.defaultPrevented||(lae(hae(dB(u)),{select:!0}),document.activeElement===C&&qc(u))}return()=>{u.removeEventListener(v2,f),setTimeout(()=>{const M=new CustomEvent(y2,VD);u.addEventListener(y2,g),u.dispatchEvent(M),M.defaultPrevented||qc(C??document.body,{select:!0}),u.removeEventListener(y2,g),HD.remove(_)},0)}}},[u,f,g,_]);const T=N.useCallback(C=>{if(!n&&!r||_.paused)return;const A=C.key==="Tab"&&!C.altKey&&!C.ctrlKey&&!C.metaKey,M=document.activeElement;if(A&&M){const D=C.currentTarget,[R,z]=cae(D);R&&z?!C.shiftKey&&M===z?(C.preventDefault(),n&&qc(R,{select:!0})):C.shiftKey&&M===R&&(C.preventDefault(),n&&qc(z,{select:!0})):M===D&&C.preventDefault()}},[n,r,_.paused]);return a.jsx(St.div,{tabIndex:-1,...o,ref:w,onKeyDown:T})});O0.displayName=oae;function lae(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(qc(r,{select:t}),document.activeElement!==n)return}function cae(e){const t=dB(e),n=$D(t,e),r=$D(t.reverse(),e);return[n,r]}function dB(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function $D(e,t){for(const n of e)if(!uae(n,{upTo:t}))return n}function uae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function dae(e){return e instanceof HTMLInputElement&&"select"in e}function qc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&dae(e)&&t&&e.select()}}var HD=fae();function fae(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=qD(e,t),e.unshift(t)},remove(t){var n;e=qD(e,t),(n=e[0])==null||n.resume()}}}function qD(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function hae(e){return e.filter(t=>t.tagName!=="A")}var mae=h6[" useId ".trim().toString()]||(()=>{}),gae=0;function uo(e){const[t,n]=N.useState(mae());return ra(()=>{n(r=>r??String(gae++))},[e]),e||(t?`radix-${t}`:"")}const pae=["top","right","bottom","left"],lu=Math.min,as=Math.max,wv=Math.round,Ex=Math.floor,Wo=e=>({x:e,y:e}),xae={left:"right",right:"left",bottom:"top",top:"bottom"},vae={start:"end",end:"start"};function CS(e,t,n){return as(e,lu(t,n))}function ql(e,t){return typeof e=="function"?e(t):e}function Yl(e){return e.split("-")[0]}function Qh(e){return e.split("-")[1]}function $A(e){return e==="x"?"y":"x"}function HA(e){return e==="y"?"height":"width"}function kl(e){return["top","bottom"].includes(Yl(e))?"y":"x"}function qA(e){return $A(kl(e))}function yae(e,t,n){n===void 0&&(n=!1);const r=Qh(e),i=qA(e),s=HA(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=jv(o)),[o,jv(o)]}function bae(e){const t=jv(e);return[TS(e),t,TS(t)]}function TS(e){return e.replace(/start|end/g,t=>vae[t])}function wae(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:o;default:return[]}}function jae(e,t,n,r){const i=Qh(e);let s=wae(Yl(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(TS)))),s}function jv(e){return e.replace(/left|right|bottom|top/g,t=>xae[t])}function Nae(e){return{top:0,right:0,bottom:0,left:0,...e}}function fB(e){return typeof e!="number"?Nae(e):{top:e,right:e,bottom:e,left:e}}function Nv(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function YD(e,t,n){let{reference:r,floating:i}=e;const s=kl(t),o=qA(t),u=HA(o),m=Yl(t),f=s==="y",g=r.x+r.width/2-i.width/2,x=r.y+r.height/2-i.height/2,w=r[u]/2-i[u]/2;let _;switch(m){case"top":_={x:g,y:r.y-i.height};break;case"bottom":_={x:g,y:r.y+r.height};break;case"right":_={x:r.x+r.width,y:x};break;case"left":_={x:r.x-i.width,y:x};break;default:_={x:r.x,y:r.y}}switch(Qh(t)){case"start":_[o]-=w*(n&&f?-1:1);break;case"end":_[o]+=w*(n&&f?-1:1);break}return _}const Sae=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,u=s.filter(Boolean),m=await(o.isRTL==null?void 0:o.isRTL(t));let f=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:g,y:x}=YD(f,r,m),w=r,_={},T=0;for(let C=0;C<u.length;C++){const{name:A,fn:M}=u[C],{x:D,y:R,data:z,reset:k}=await M({x:g,y:x,initialPlacement:r,placement:w,strategy:i,middlewareData:_,rects:f,platform:o,elements:{reference:e,floating:t}});g=D??g,x=R??x,_={..._,[A]:{..._[A],...z}},k&&T<=50&&(T++,typeof k=="object"&&(k.placement&&(w=k.placement),k.rects&&(f=k.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):k.rects),{x:g,y:x}=YD(f,w,m)),C=-1)}return{x:g,y:x,placement:w,strategy:i,middlewareData:_}};async function Zg(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:u,strategy:m}=e,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:x="floating",altBoundary:w=!1,padding:_=0}=ql(t,e),T=fB(_),A=u[w?x==="floating"?"reference":"floating":x],M=Nv(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(A)))==null||n?A:A.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:f,rootBoundary:g,strategy:m})),D=x==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),z=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},k=Nv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:D,offsetParent:R,strategy:m}):D);return{top:(M.top-k.top+T.top)/z.y,bottom:(k.bottom-M.bottom+T.bottom)/z.y,left:(M.left-k.left+T.left)/z.x,right:(k.right-M.right+T.right)/z.x}}const _ae=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:u,middlewareData:m}=t,{element:f,padding:g=0}=ql(e,t)||{};if(f==null)return{};const x=fB(g),w={x:n,y:r},_=qA(i),T=HA(_),C=await o.getDimensions(f),A=_==="y",M=A?"top":"left",D=A?"bottom":"right",R=A?"clientHeight":"clientWidth",z=s.reference[T]+s.reference[_]-w[_]-s.floating[T],k=w[_]-s.reference[_],I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(f));let B=I?I[R]:0;(!B||!await(o.isElement==null?void 0:o.isElement(I)))&&(B=u.floating[R]||s.floating[T]);const V=z/2-k/2,F=B/2-C[T]/2-1,$=lu(x[M],F),W=lu(x[D],F),Y=$,X=B-C[T]-W,ne=B/2-C[T]/2+V,J=CS(Y,ne,X),H=!m.arrow&&Qh(i)!=null&&ne!==J&&s.reference[T]/2-(ne<Y?$:W)-C[T]/2<0,ee=H?ne<Y?ne-Y:ne-X:0;return{[_]:w[_]+ee,data:{[_]:J,centerOffset:ne-J-ee,...H&&{alignmentOffset:ee}},reset:H}}}),Aae=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:u,platform:m,elements:f}=t,{mainAxis:g=!0,crossAxis:x=!0,fallbackPlacements:w,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:C=!0,...A}=ql(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const M=Yl(i),D=kl(u),R=Yl(u)===u,z=await(m.isRTL==null?void 0:m.isRTL(f.floating)),k=w||(R||!C?[jv(u)]:bae(u)),I=T!=="none";!w&&I&&k.push(...jae(u,C,T,z));const B=[u,...k],V=await Zg(t,A),F=[];let $=((r=s.flip)==null?void 0:r.overflows)||[];if(g&&F.push(V[M]),x){const J=yae(i,o,z);F.push(V[J[0]],V[J[1]])}if($=[...$,{placement:i,overflows:F}],!F.every(J=>J<=0)){var W,Y;const J=(((W=s.flip)==null?void 0:W.index)||0)+1,H=B[J];if(H){var X;const K=x==="alignment"?D!==kl(H):!1,ue=((X=$[0])==null?void 0:X.overflows[0])>0;if(!K||ue)return{data:{index:J,overflows:$},reset:{placement:H}}}let ee=(Y=$.filter(K=>K.overflows[0]<=0).sort((K,ue)=>K.overflows[1]-ue.overflows[1])[0])==null?void 0:Y.placement;if(!ee)switch(_){case"bestFit":{var ne;const K=(ne=$.filter(ue=>{if(I){const re=kl(ue.placement);return re===D||re==="y"}return!0}).map(ue=>[ue.placement,ue.overflows.filter(re=>re>0).reduce((re,de)=>re+de,0)]).sort((ue,re)=>ue[1]-re[1])[0])==null?void 0:ne[0];K&&(ee=K);break}case"initialPlacement":ee=u;break}if(i!==ee)return{reset:{placement:ee}}}return{}}}};function WD(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function GD(e){return pae.some(t=>e[t]>=0)}const Eae=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=ql(e,t);switch(r){case"referenceHidden":{const s=await Zg(t,{...i,elementContext:"reference"}),o=WD(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:GD(o)}}}case"escaped":{const s=await Zg(t,{...i,altBoundary:!0}),o=WD(s,n.floating);return{data:{escapedOffsets:o,escaped:GD(o)}}}default:return{}}}}};async function Cae(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Yl(n),u=Qh(n),m=kl(n)==="y",f=["left","top"].includes(o)?-1:1,g=s&&m?-1:1,x=ql(t,e);let{mainAxis:w,crossAxis:_,alignmentAxis:T}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return u&&typeof T=="number"&&(_=u==="end"?T*-1:T),m?{x:_*g,y:w*f}:{x:w*f,y:_*g}}const Tae=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:u}=t,m=await Cae(t,e);return o===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:i+m.x,y:s+m.y,data:{...m,placement:o}}}}},Oae=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:u={fn:A=>{let{x:M,y:D}=A;return{x:M,y:D}}},...m}=ql(e,t),f={x:n,y:r},g=await Zg(t,m),x=kl(Yl(i)),w=$A(x);let _=f[w],T=f[x];if(s){const A=w==="y"?"top":"left",M=w==="y"?"bottom":"right",D=_+g[A],R=_-g[M];_=CS(D,_,R)}if(o){const A=x==="y"?"top":"left",M=x==="y"?"bottom":"right",D=T+g[A],R=T-g[M];T=CS(D,T,R)}const C=u.fn({...t,[w]:_,[x]:T});return{...C,data:{x:C.x-n,y:C.y-r,enabled:{[w]:s,[x]:o}}}}}},Mae=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:u=0,mainAxis:m=!0,crossAxis:f=!0}=ql(e,t),g={x:n,y:r},x=kl(i),w=$A(x);let _=g[w],T=g[x];const C=ql(u,t),A=typeof C=="number"?{mainAxis:C,crossAxis:0}:{mainAxis:0,crossAxis:0,...C};if(m){const R=w==="y"?"height":"width",z=s.reference[w]-s.floating[R]+A.mainAxis,k=s.reference[w]+s.reference[R]-A.mainAxis;_<z?_=z:_>k&&(_=k)}if(f){var M,D;const R=w==="y"?"width":"height",z=["top","left"].includes(Yl(i)),k=s.reference[x]-s.floating[R]+(z&&((M=o.offset)==null?void 0:M[x])||0)+(z?0:A.crossAxis),I=s.reference[x]+s.reference[R]+(z?0:((D=o.offset)==null?void 0:D[x])||0)-(z?A.crossAxis:0);T<k?T=k:T>I&&(T=I)}return{[w]:_,[x]:T}}}},Dae=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:o,elements:u}=t,{apply:m=()=>{},...f}=ql(e,t),g=await Zg(t,f),x=Yl(i),w=Qh(i),_=kl(i)==="y",{width:T,height:C}=s.floating;let A,M;x==="top"||x==="bottom"?(A=x,M=w===(await(o.isRTL==null?void 0:o.isRTL(u.floating))?"start":"end")?"left":"right"):(M=x,A=w==="end"?"top":"bottom");const D=C-g.top-g.bottom,R=T-g.left-g.right,z=lu(C-g[A],D),k=lu(T-g[M],R),I=!t.middlewareData.shift;let B=z,V=k;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(V=R),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(B=D),I&&!w){const $=as(g.left,0),W=as(g.right,0),Y=as(g.top,0),X=as(g.bottom,0);_?V=T-2*($!==0||W!==0?$+W:as(g.left,g.right)):B=C-2*(Y!==0||X!==0?Y+X:as(g.top,g.bottom))}await m({...t,availableWidth:V,availableHeight:B});const F=await o.getDimensions(u.floating);return T!==F.width||C!==F.height?{reset:{rects:!0}}:{}}}};function L1(){return typeof window<"u"}function Zh(e){return hB(e)?(e.nodeName||"").toLowerCase():"#document"}function us(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function al(e){var t;return(t=(hB(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function hB(e){return L1()?e instanceof Node||e instanceof us(e).Node:!1}function fo(e){return L1()?e instanceof Element||e instanceof us(e).Element:!1}function Qo(e){return L1()?e instanceof HTMLElement||e instanceof us(e).HTMLElement:!1}function KD(e){return!L1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof us(e).ShadowRoot}function M0(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ho(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Rae(e){return["table","td","th"].includes(Zh(e))}function B1(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function YA(e){const t=WA(),n=fo(e)?ho(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Pae(e){let t=cu(e);for(;Qo(t)&&!Nh(t);){if(YA(t))return t;if(B1(t))return null;t=cu(t)}return null}function WA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Nh(e){return["html","body","#document"].includes(Zh(e))}function ho(e){return us(e).getComputedStyle(e)}function F1(e){return fo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function cu(e){if(Zh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||KD(e)&&e.host||al(e);return KD(t)?t.host:t}function mB(e){const t=cu(e);return Nh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Qo(t)&&M0(t)?t:mB(t)}function Jg(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=mB(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=us(i);if(s){const u=OS(o);return t.concat(o,o.visualViewport||[],M0(i)?i:[],u&&n?Jg(u):[])}return t.concat(i,Jg(i,[],n))}function OS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function gB(e){const t=ho(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Qo(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,u=wv(n)!==s||wv(r)!==o;return u&&(n=s,r=o),{width:n,height:r,$:u}}function GA(e){return fo(e)?e:e.contextElement}function dh(e){const t=GA(e);if(!Qo(t))return Wo(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=gB(t);let o=(s?wv(n.width):n.width)/r,u=(s?wv(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!u||!Number.isFinite(u))&&(u=1),{x:o,y:u}}const kae=Wo(0);function pB(e){const t=us(e);return!WA()||!t.visualViewport?kae:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Iae(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==us(e)?!1:t}function Ad(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=GA(e);let o=Wo(1);t&&(r?fo(r)&&(o=dh(r)):o=dh(e));const u=Iae(s,n,r)?pB(s):Wo(0);let m=(i.left+u.x)/o.x,f=(i.top+u.y)/o.y,g=i.width/o.x,x=i.height/o.y;if(s){const w=us(s),_=r&&fo(r)?us(r):r;let T=w,C=OS(T);for(;C&&r&&_!==T;){const A=dh(C),M=C.getBoundingClientRect(),D=ho(C),R=M.left+(C.clientLeft+parseFloat(D.paddingLeft))*A.x,z=M.top+(C.clientTop+parseFloat(D.paddingTop))*A.y;m*=A.x,f*=A.y,g*=A.x,x*=A.y,m+=R,f+=z,T=us(C),C=OS(T)}}return Nv({width:g,height:x,x:m,y:f})}function KA(e,t){const n=F1(e).scrollLeft;return t?t.left+n:Ad(al(e)).left+n}function xB(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:KA(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function Lae(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=al(r),u=t?B1(t.floating):!1;if(r===o||u&&s)return n;let m={scrollLeft:0,scrollTop:0},f=Wo(1);const g=Wo(0),x=Qo(r);if((x||!x&&!s)&&((Zh(r)!=="body"||M0(o))&&(m=F1(r)),Qo(r))){const _=Ad(r);f=dh(r),g.x=_.x+r.clientLeft,g.y=_.y+r.clientTop}const w=o&&!x&&!s?xB(o,m,!0):Wo(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-m.scrollLeft*f.x+g.x+w.x,y:n.y*f.y-m.scrollTop*f.y+g.y+w.y}}function Bae(e){return Array.from(e.getClientRects())}function Fae(e){const t=al(e),n=F1(e),r=e.ownerDocument.body,i=as(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=as(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+KA(e);const u=-n.scrollTop;return ho(r).direction==="rtl"&&(o+=as(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:u}}function Uae(e,t){const n=us(e),r=al(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,u=0,m=0;if(i){s=i.width,o=i.height;const f=WA();(!f||f&&t==="fixed")&&(u=i.offsetLeft,m=i.offsetTop)}return{width:s,height:o,x:u,y:m}}function zae(e,t){const n=Ad(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Qo(e)?dh(e):Wo(1),o=e.clientWidth*s.x,u=e.clientHeight*s.y,m=i*s.x,f=r*s.y;return{width:o,height:u,x:m,y:f}}function XD(e,t,n){let r;if(t==="viewport")r=Uae(e,n);else if(t==="document")r=Fae(al(e));else if(fo(t))r=zae(t,n);else{const i=pB(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Nv(r)}function vB(e,t){const n=cu(e);return n===t||!fo(n)||Nh(n)?!1:ho(n).position==="fixed"||vB(n,t)}function Vae(e,t){const n=t.get(e);if(n)return n;let r=Jg(e,[],!1).filter(u=>fo(u)&&Zh(u)!=="body"),i=null;const s=ho(e).position==="fixed";let o=s?cu(e):e;for(;fo(o)&&!Nh(o);){const u=ho(o),m=YA(o);!m&&u.position==="fixed"&&(i=null),(s?!m&&!i:!m&&u.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||M0(o)&&!m&&vB(e,o))?r=r.filter(g=>g!==o):i=u,o=cu(o)}return t.set(e,r),r}function $ae(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?B1(t)?[]:Vae(t,this._c):[].concat(n),r],u=o[0],m=o.reduce((f,g)=>{const x=XD(t,g,i);return f.top=as(x.top,f.top),f.right=lu(x.right,f.right),f.bottom=lu(x.bottom,f.bottom),f.left=as(x.left,f.left),f},XD(t,u,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function Hae(e){const{width:t,height:n}=gB(e);return{width:t,height:n}}function qae(e,t,n){const r=Qo(t),i=al(t),s=n==="fixed",o=Ad(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const m=Wo(0);function f(){m.x=KA(i)}if(r||!r&&!s)if((Zh(t)!=="body"||M0(i))&&(u=F1(t)),r){const _=Ad(t,!0,s,t);m.x=_.x+t.clientLeft,m.y=_.y+t.clientTop}else i&&f();s&&!r&&i&&f();const g=i&&!r&&!s?xB(i,u):Wo(0),x=o.left+u.scrollLeft-m.x-g.x,w=o.top+u.scrollTop-m.y-g.y;return{x,y:w,width:o.width,height:o.height}}function b2(e){return ho(e).position==="static"}function QD(e,t){if(!Qo(e)||ho(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return al(e)===n&&(n=n.ownerDocument.body),n}function yB(e,t){const n=us(e);if(B1(e))return n;if(!Qo(e)){let i=cu(e);for(;i&&!Nh(i);){if(fo(i)&&!b2(i))return i;i=cu(i)}return n}let r=QD(e,t);for(;r&&Rae(r)&&b2(r);)r=QD(r,t);return r&&Nh(r)&&b2(r)&&!YA(r)?n:r||Pae(e)||n}const Yae=async function(e){const t=this.getOffsetParent||yB,n=this.getDimensions,r=await n(e.floating);return{reference:qae(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Wae(e){return ho(e).direction==="rtl"}const Gae={convertOffsetParentRelativeRectToViewportRelativeRect:Lae,getDocumentElement:al,getClippingRect:$ae,getOffsetParent:yB,getElementRects:Yae,getClientRects:Bae,getDimensions:Hae,getScale:dh,isElement:fo,isRTL:Wae};function bB(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Kae(e,t){let n=null,r;const i=al(e);function s(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function o(u,m){u===void 0&&(u=!1),m===void 0&&(m=1),s();const f=e.getBoundingClientRect(),{left:g,top:x,width:w,height:_}=f;if(u||t(),!w||!_)return;const T=Ex(x),C=Ex(i.clientWidth-(g+w)),A=Ex(i.clientHeight-(x+_)),M=Ex(g),R={rootMargin:-T+"px "+-C+"px "+-A+"px "+-M+"px",threshold:as(0,lu(1,m))||1};let z=!0;function k(I){const B=I[0].intersectionRatio;if(B!==m){if(!z)return o();B?o(!1,B):r=setTimeout(()=>{o(!1,1e-7)},1e3)}B===1&&!bB(f,e.getBoundingClientRect())&&o(),z=!1}try{n=new IntersectionObserver(k,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,R)}n.observe(e)}return o(!0),s}function Xae(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,f=GA(e),g=i||s?[...f?Jg(f):[],...Jg(t)]:[];g.forEach(M=>{i&&M.addEventListener("scroll",n,{passive:!0}),s&&M.addEventListener("resize",n)});const x=f&&u?Kae(f,n):null;let w=-1,_=null;o&&(_=new ResizeObserver(M=>{let[D]=M;D&&D.target===f&&_&&(_.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var R;(R=_)==null||R.observe(t)})),n()}),f&&!m&&_.observe(f),_.observe(t));let T,C=m?Ad(e):null;m&&A();function A(){const M=Ad(e);C&&!bB(C,M)&&n(),C=M,T=requestAnimationFrame(A)}return n(),()=>{var M;g.forEach(D=>{i&&D.removeEventListener("scroll",n),s&&D.removeEventListener("resize",n)}),x==null||x(),(M=_)==null||M.disconnect(),_=null,m&&cancelAnimationFrame(T)}}const Qae=Tae,Zae=Oae,Jae=Aae,eie=Dae,tie=Eae,ZD=_ae,nie=Mae,rie=(e,t,n)=>{const r=new Map,i={platform:Gae,...n},s={...i.platform,_c:r};return Sae(e,t,{...i,platform:s})};var iv=typeof document<"u"?N.useLayoutEffect:N.useEffect;function Sv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Sv(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!Sv(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function wB(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function JD(e,t){const n=wB(e);return Math.round(t*n)/n}function w2(e){const t=N.useRef(e);return iv(()=>{t.current=e}),t}function aie(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:u=!0,whileElementsMounted:m,open:f}=e,[g,x]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[w,_]=N.useState(r);Sv(w,r)||_(r);const[T,C]=N.useState(null),[A,M]=N.useState(null),D=N.useCallback(K=>{K!==I.current&&(I.current=K,C(K))},[]),R=N.useCallback(K=>{K!==B.current&&(B.current=K,M(K))},[]),z=s||T,k=o||A,I=N.useRef(null),B=N.useRef(null),V=N.useRef(g),F=m!=null,$=w2(m),W=w2(i),Y=w2(f),X=N.useCallback(()=>{if(!I.current||!B.current)return;const K={placement:t,strategy:n,middleware:w};W.current&&(K.platform=W.current),rie(I.current,B.current,K).then(ue=>{const re={...ue,isPositioned:Y.current!==!1};ne.current&&!Sv(V.current,re)&&(V.current=re,Bd.flushSync(()=>{x(re)}))})},[w,t,n,W,Y]);iv(()=>{f===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,x(K=>({...K,isPositioned:!1})))},[f]);const ne=N.useRef(!1);iv(()=>(ne.current=!0,()=>{ne.current=!1}),[]),iv(()=>{if(z&&(I.current=z),k&&(B.current=k),z&&k){if($.current)return $.current(z,k,X);X()}},[z,k,X,$,F]);const J=N.useMemo(()=>({reference:I,floating:B,setReference:D,setFloating:R}),[D,R]),H=N.useMemo(()=>({reference:z,floating:k}),[z,k]),ee=N.useMemo(()=>{const K={position:n,left:0,top:0};if(!H.floating)return K;const ue=JD(H.floating,g.x),re=JD(H.floating,g.y);return u?{...K,transform:"translate("+ue+"px, "+re+"px)",...wB(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ue,top:re}},[n,u,H.floating,g.x,g.y]);return N.useMemo(()=>({...g,update:X,refs:J,elements:H,floatingStyles:ee}),[g,X,J,H,ee])}const iie=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?ZD({element:r.current,padding:i}).fn(n):{}:r?ZD({element:r,padding:i}).fn(n):{}}}},sie=(e,t)=>({...Qae(e),options:[e,t]}),oie=(e,t)=>({...Zae(e),options:[e,t]}),lie=(e,t)=>({...nie(e),options:[e,t]}),cie=(e,t)=>({...Jae(e),options:[e,t]}),uie=(e,t)=>({...eie(e),options:[e,t]}),die=(e,t)=>({...tie(e),options:[e,t]}),fie=(e,t)=>({...iie(e),options:[e,t]});var hie="Arrow",jB=N.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return a.jsx(St.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});jB.displayName=hie;var mie=jB,XA="Popper",[NB,Jh]=Vi(XA),[gie,SB]=NB(XA),_B=e=>{const{__scopePopper:t,children:n}=e,[r,i]=N.useState(null);return a.jsx(gie,{scope:t,anchor:r,onAnchorChange:i,children:n})};_B.displayName=XA;var AB="PopperAnchor",EB=N.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=SB(AB,n),o=N.useRef(null),u=Zt(t,o);return N.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(St.div,{...i,ref:u})});EB.displayName=AB;var QA="PopperContent",[pie,xie]=NB(QA),CB=N.forwardRef((e,t)=>{var ce,le,he,Ee,je,be;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:u=0,avoidCollisions:m=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:x="partial",hideWhenDetached:w=!1,updatePositionStrategy:_="optimized",onPlaced:T,...C}=e,A=SB(QA,n),[M,D]=N.useState(null),R=Zt(t,Ke=>D(Ke)),[z,k]=N.useState(null),I=UA(z),B=(I==null?void 0:I.width)??0,V=(I==null?void 0:I.height)??0,F=r+(s!=="center"?"-"+s:""),$=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},W=Array.isArray(f)?f:[f],Y=W.length>0,X={padding:$,boundary:W.filter(yie),altBoundary:Y},{refs:ne,floatingStyles:J,placement:H,isPositioned:ee,middlewareData:K}=aie({strategy:"fixed",placement:F,whileElementsMounted:(...Ke)=>Xae(...Ke,{animationFrame:_==="always"}),elements:{reference:A.anchor},middleware:[sie({mainAxis:i+V,alignmentAxis:o}),m&&oie({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?lie():void 0,...X}),m&&cie({...X}),uie({...X,apply:({elements:Ke,rects:ze,availableWidth:Qe,availableHeight:ht})=>{const{width:Je,height:bt}=ze.reference,st=Ke.floating.style;st.setProperty("--radix-popper-available-width",`${Qe}px`),st.setProperty("--radix-popper-available-height",`${ht}px`),st.setProperty("--radix-popper-anchor-width",`${Je}px`),st.setProperty("--radix-popper-anchor-height",`${bt}px`)}}),z&&fie({element:z,padding:u}),bie({arrowWidth:B,arrowHeight:V}),w&&die({strategy:"referenceHidden",...X})]}),[ue,re]=MB(H),de=Sa(T);ra(()=>{ee&&(de==null||de())},[ee,de]);const xe=(ce=K.arrow)==null?void 0:ce.x,Se=(le=K.arrow)==null?void 0:le.y,ye=((he=K.arrow)==null?void 0:he.centerOffset)!==0,[Le,ie]=N.useState();return ra(()=>{M&&ie(window.getComputedStyle(M).zIndex)},[M]),a.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:ee?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[(Ee=K.transformOrigin)==null?void 0:Ee.x,(je=K.transformOrigin)==null?void 0:je.y].join(" "),...((be=K.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(pie,{scope:n,placedSide:ue,onArrowChange:k,arrowX:xe,arrowY:Se,shouldHideArrow:ye,children:a.jsx(St.div,{"data-side":ue,"data-align":re,...C,ref:R,style:{...C.style,animation:ee?void 0:"none"}})})})});CB.displayName=QA;var TB="PopperArrow",vie={top:"bottom",right:"left",bottom:"top",left:"right"},OB=N.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=xie(TB,r),o=vie[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(mie,{...i,ref:n,style:{...i.style,display:"block"}})})});OB.displayName=TB;function yie(e){return e!==null}var bie=e=>({name:"transformOrigin",options:e,fn(t){var A,M,D;const{placement:n,rects:r,middlewareData:i}=t,o=((A=i.arrow)==null?void 0:A.centerOffset)!==0,u=o?0:e.arrowWidth,m=o?0:e.arrowHeight,[f,g]=MB(n),x={start:"0%",center:"50%",end:"100%"}[g],w=(((M=i.arrow)==null?void 0:M.x)??0)+u/2,_=(((D=i.arrow)==null?void 0:D.y)??0)+m/2;let T="",C="";return f==="bottom"?(T=o?x:`${w}px`,C=`${-m}px`):f==="top"?(T=o?x:`${w}px`,C=`${r.floating.height+m}px`):f==="right"?(T=`${-m}px`,C=o?x:`${_}px`):f==="left"&&(T=`${r.floating.width+m}px`,C=o?x:`${_}px`),{data:{x:T,y:C}}}});function MB(e){const[t,n="center"]=e.split("-");return[t,n]}var ZA=_B,U1=EB,JA=CB,eE=OB,wie="Portal",D0=N.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[i,s]=N.useState(!1);ra(()=>s(!0),[]);const o=n||i&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return o?L6.createPortal(a.jsx(St.div,{...r,ref:t}),o):null});D0.displayName=wie;var DB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),jie="VisuallyHidden",Nie=N.forwardRef((e,t)=>a.jsx(St.span,{...e,ref:t,style:{...DB,...e.style}}));Nie.displayName=jie;var Sie=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Hf=new WeakMap,Cx=new WeakMap,Tx={},j2=0,RB=function(e){return e&&(e.host||RB(e.parentNode))},_ie=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=RB(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Aie=function(e,t,n,r){var i=_ie(t,Array.isArray(e)?e:[e]);Tx[n]||(Tx[n]=new WeakMap);var s=Tx[n],o=[],u=new Set,m=new Set(i),f=function(x){!x||u.has(x)||(u.add(x),f(x.parentNode))};i.forEach(f);var g=function(x){!x||m.has(x)||Array.prototype.forEach.call(x.children,function(w){if(u.has(w))g(w);else try{var _=w.getAttribute(r),T=_!==null&&_!=="false",C=(Hf.get(w)||0)+1,A=(s.get(w)||0)+1;Hf.set(w,C),s.set(w,A),o.push(w),C===1&&T&&Cx.set(w,!0),A===1&&w.setAttribute(n,"true"),T||w.setAttribute(r,"true")}catch(M){console.error("aria-hidden: cannot operate on ",w,M)}})};return g(t),u.clear(),j2++,function(){o.forEach(function(x){var w=Hf.get(x)-1,_=s.get(x)-1;Hf.set(x,w),s.set(x,_),w||(Cx.has(x)||x.removeAttribute(r),Cx.delete(x)),_||x.removeAttribute(n)}),j2--,j2||(Hf=new WeakMap,Hf=new WeakMap,Cx=new WeakMap,Tx={})}},z1=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=Sie(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Aie(r,i,n,"aria-hidden")):function(){return null}},Bo=function(){return Bo=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Bo.apply(this,arguments)};function PB(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Eie(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var sv="right-scroll-bar-position",ov="width-before-scroll-bar",Cie="with-scroll-bars-hidden",Tie="--removed-body-scroll-bar-size";function N2(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Oie(e,t){var n=N.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var Mie=typeof window<"u"?N.useLayoutEffect:N.useEffect,eR=new WeakMap;function Die(e,t){var n=Oie(null,function(r){return e.forEach(function(i){return N2(i,r)})});return Mie(function(){var r=eR.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(u){s.has(u)||N2(u,null)}),s.forEach(function(u){i.has(u)||N2(u,o)})}eR.set(n,e)},[e]),n}function Rie(e){return e}function Pie(e,t){t===void 0&&(t=Rie);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(u){return u!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(u){return s(u)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var u=n;n=[],u.forEach(s),o=n}var m=function(){var g=o;o=[],g.forEach(s)},f=function(){return Promise.resolve().then(m)};f(),n={push:function(g){o.push(g),f()},filter:function(g){return o=o.filter(g),n}}}};return i}function kie(e){e===void 0&&(e={});var t=Pie(null);return t.options=Bo({async:!0,ssr:!1},e),t}var kB=function(e){var t=e.sideCar,n=PB(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,Bo({},n))};kB.isSideCarExport=!0;function Iie(e,t){return e.useMedium(t),kB}var IB=kie(),S2=function(){},V1=N.forwardRef(function(e,t){var n=N.useRef(null),r=N.useState({onScrollCapture:S2,onWheelCapture:S2,onTouchMoveCapture:S2}),i=r[0],s=r[1],o=e.forwardProps,u=e.children,m=e.className,f=e.removeScrollBar,g=e.enabled,x=e.shards,w=e.sideCar,_=e.noRelative,T=e.noIsolation,C=e.inert,A=e.allowPinchZoom,M=e.as,D=M===void 0?"div":M,R=e.gapMode,z=PB(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=w,I=Die([n,t]),B=Bo(Bo({},z),i);return N.createElement(N.Fragment,null,g&&N.createElement(k,{sideCar:IB,removeScrollBar:f,shards:x,noRelative:_,noIsolation:T,inert:C,setCallbacks:s,allowPinchZoom:!!A,lockRef:n,gapMode:R}),o?N.cloneElement(N.Children.only(u),Bo(Bo({},B),{ref:I})):N.createElement(D,Bo({},B,{className:m,ref:I}),u))});V1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};V1.classNames={fullWidth:ov,zeroRight:sv};var Lie=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Bie(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Lie();return t&&e.setAttribute("nonce",t),e}function Fie(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Uie(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var zie=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Bie())&&(Fie(t,n),Uie(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Vie=function(){var e=zie();return function(t,n){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},LB=function(){var e=Vie(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},$ie={left:0,top:0,right:0,gap:0},_2=function(e){return parseInt(e||"",10)||0},Hie=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[_2(n),_2(r),_2(i)]},qie=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $ie;var t=Hie(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Yie=LB(),fh="data-scroll-locked",Wie=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(Cie,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(fh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sv,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(ov,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(sv," .").concat(sv,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ov," .").concat(ov,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(fh,`] {
    `).concat(Tie,": ").concat(u,`px;
  }
`)},tR=function(){var e=parseInt(document.body.getAttribute(fh)||"0",10);return isFinite(e)?e:0},Gie=function(){N.useEffect(function(){return document.body.setAttribute(fh,(tR()+1).toString()),function(){var e=tR()-1;e<=0?document.body.removeAttribute(fh):document.body.setAttribute(fh,e.toString())}},[])},Kie=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;Gie();var s=N.useMemo(function(){return qie(i)},[i]);return N.createElement(Yie,{styles:Wie(s,!t,i,n?"":"!important")})},MS=!1;if(typeof window<"u")try{var Ox=Object.defineProperty({},"passive",{get:function(){return MS=!0,!0}});window.addEventListener("test",Ox,Ox),window.removeEventListener("test",Ox,Ox)}catch{MS=!1}var qf=MS?{passive:!1}:!1,Xie=function(e){return e.tagName==="TEXTAREA"},BB=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Xie(e)&&n[t]==="visible")},Qie=function(e){return BB(e,"overflowY")},Zie=function(e){return BB(e,"overflowX")},nR=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=FB(e,r);if(i){var s=UB(e,r),o=s[1],u=s[2];if(o>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Jie=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ese=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},FB=function(e,t){return e==="v"?Qie(t):Zie(t)},UB=function(e,t){return e==="v"?Jie(t):ese(t)},tse=function(e,t){return e==="h"&&t==="rtl"?-1:1},nse=function(e,t,n,r,i){var s=tse(e,window.getComputedStyle(t).direction),o=s*r,u=n.target,m=t.contains(u),f=!1,g=o>0,x=0,w=0;do{var _=UB(e,u),T=_[0],C=_[1],A=_[2],M=C-A-s*T;(T||M)&&FB(e,u)&&(x+=M,w+=T),u=u.parentNode.host||u.parentNode}while(!m&&u!==document.body||m&&(t.contains(u)||t===u));return(g&&Math.abs(x)<1||!g&&Math.abs(w)<1)&&(f=!0),f},Mx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rR=function(e){return[e.deltaX,e.deltaY]},aR=function(e){return e&&"current"in e?e.current:e},rse=function(e,t){return e[0]===t[0]&&e[1]===t[1]},ase=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ise=0,Yf=[];function sse(e){var t=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),i=N.useState(ise++)[0],s=N.useState(LB)[0],o=N.useRef(e);N.useEffect(function(){o.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var C=Eie([e.lockRef.current],(e.shards||[]).map(aR),!0).filter(Boolean);return C.forEach(function(A){return A.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),C.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var u=N.useCallback(function(C,A){if("touches"in C&&C.touches.length===2||C.type==="wheel"&&C.ctrlKey)return!o.current.allowPinchZoom;var M=Mx(C),D=n.current,R="deltaX"in C?C.deltaX:D[0]-M[0],z="deltaY"in C?C.deltaY:D[1]-M[1],k,I=C.target,B=Math.abs(R)>Math.abs(z)?"h":"v";if("touches"in C&&B==="h"&&I.type==="range")return!1;var V=nR(B,I);if(!V)return!0;if(V?k=B:(k=B==="v"?"h":"v",V=nR(B,I)),!V)return!1;if(!r.current&&"changedTouches"in C&&(R||z)&&(r.current=k),!k)return!0;var F=r.current||k;return nse(F,A,C,F==="h"?R:z)},[]),m=N.useCallback(function(C){var A=C;if(!(!Yf.length||Yf[Yf.length-1]!==s)){var M="deltaY"in A?rR(A):Mx(A),D=t.current.filter(function(k){return k.name===A.type&&(k.target===A.target||A.target===k.shadowParent)&&rse(k.delta,M)})[0];if(D&&D.should){A.cancelable&&A.preventDefault();return}if(!D){var R=(o.current.shards||[]).map(aR).filter(Boolean).filter(function(k){return k.contains(A.target)}),z=R.length>0?u(A,R[0]):!o.current.noIsolation;z&&A.cancelable&&A.preventDefault()}}},[]),f=N.useCallback(function(C,A,M,D){var R={name:C,delta:A,target:M,should:D,shadowParent:ose(M)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(z){return z!==R})},1)},[]),g=N.useCallback(function(C){n.current=Mx(C),r.current=void 0},[]),x=N.useCallback(function(C){f(C.type,rR(C),C.target,u(C,e.lockRef.current))},[]),w=N.useCallback(function(C){f(C.type,Mx(C),C.target,u(C,e.lockRef.current))},[]);N.useEffect(function(){return Yf.push(s),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:w}),document.addEventListener("wheel",m,qf),document.addEventListener("touchmove",m,qf),document.addEventListener("touchstart",g,qf),function(){Yf=Yf.filter(function(C){return C!==s}),document.removeEventListener("wheel",m,qf),document.removeEventListener("touchmove",m,qf),document.removeEventListener("touchstart",g,qf)}},[]);var _=e.removeScrollBar,T=e.inert;return N.createElement(N.Fragment,null,T?N.createElement(s,{styles:ase(i)}):null,_?N.createElement(Kie,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function ose(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const lse=Iie(IB,sse);var R0=N.forwardRef(function(e,t){return N.createElement(V1,Bo({},e,{ref:t,sideCar:lse}))});R0.classNames=V1.classNames;var cse=[" ","Enter","ArrowUp","ArrowDown"],use=[" ","Enter"],Ed="Select",[$1,H1,dse]=VA(Ed),[em,eTe]=Vi(Ed,[dse,Jh]),q1=Jh(),[fse,xu]=em(Ed),[hse,mse]=em(Ed),zB=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:u,onValueChange:m,dir:f,name:g,autoComplete:x,disabled:w,required:_,form:T}=e,C=q1(t),[A,M]=N.useState(null),[D,R]=N.useState(null),[z,k]=N.useState(!1),I=C0(f),[B,V]=Hl({prop:r,defaultProp:i??!1,onChange:s,caller:Ed}),[F,$]=Hl({prop:o,defaultProp:u,onChange:m,caller:Ed}),W=N.useRef(null),Y=A?T||!!A.closest("form"):!0,[X,ne]=N.useState(new Set),J=Array.from(X).map(H=>H.props.value).join(";");return a.jsx(ZA,{...C,children:a.jsxs(fse,{required:_,scope:t,trigger:A,onTriggerChange:M,valueNode:D,onValueNodeChange:R,valueNodeHasChildren:z,onValueNodeHasChildrenChange:k,contentId:uo(),value:F,onValueChange:$,open:B,onOpenChange:V,dir:I,triggerPointerDownPosRef:W,disabled:w,children:[a.jsx($1.Provider,{scope:t,children:a.jsx(hse,{scope:e.__scopeSelect,onNativeOptionAdd:N.useCallback(H=>{ne(ee=>new Set(ee).add(H))},[]),onNativeOptionRemove:N.useCallback(H=>{ne(ee=>{const K=new Set(ee);return K.delete(H),K})},[]),children:n})}),Y?a.jsxs(c7,{"aria-hidden":!0,required:_,tabIndex:-1,name:g,autoComplete:x,value:F,onChange:H=>$(H.target.value),disabled:w,form:T,children:[F===void 0?a.jsx("option",{value:""}):null,Array.from(X)]},J):null]})})};zB.displayName=Ed;var VB="SelectTrigger",$B=N.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=q1(n),o=xu(VB,n),u=o.disabled||r,m=Zt(t,o.onTriggerChange),f=H1(n),g=N.useRef("touch"),[x,w,_]=d7(C=>{const A=f().filter(R=>!R.disabled),M=A.find(R=>R.value===o.value),D=f7(A,C,M);D!==void 0&&o.onValueChange(D.value)}),T=C=>{u||(o.onOpenChange(!0),_()),C&&(o.triggerPointerDownPosRef.current={x:Math.round(C.pageX),y:Math.round(C.pageY)})};return a.jsx(U1,{asChild:!0,...s,children:a.jsx(St.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":u7(o.value)?"":void 0,...i,ref:m,onClick:lt(i.onClick,C=>{C.currentTarget.focus(),g.current!=="mouse"&&T(C)}),onPointerDown:lt(i.onPointerDown,C=>{g.current=C.pointerType;const A=C.target;A.hasPointerCapture(C.pointerId)&&A.releasePointerCapture(C.pointerId),C.button===0&&C.ctrlKey===!1&&C.pointerType==="mouse"&&(T(C),C.preventDefault())}),onKeyDown:lt(i.onKeyDown,C=>{const A=x.current!=="";!(C.ctrlKey||C.altKey||C.metaKey)&&C.key.length===1&&w(C.key),!(A&&C.key===" ")&&cse.includes(C.key)&&(T(),C.preventDefault())})})})});$B.displayName=VB;var HB="SelectValue",qB=N.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...u}=e,m=xu(HB,n),{onValueNodeHasChildrenChange:f}=m,g=s!==void 0,x=Zt(t,m.onValueNodeChange);return ra(()=>{f(g)},[f,g]),a.jsx(St.span,{...u,ref:x,style:{pointerEvents:"none"},children:u7(m.value)?a.jsx(a.Fragment,{children:o}):s})});qB.displayName=HB;var gse="SelectIcon",YB=N.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return a.jsx(St.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});YB.displayName=gse;var pse="SelectPortal",WB=e=>a.jsx(D0,{asChild:!0,...e});WB.displayName=pse;var Cd="SelectContent",GB=N.forwardRef((e,t)=>{const n=xu(Cd,e.__scopeSelect),[r,i]=N.useState();if(ra(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Bd.createPortal(a.jsx(KB,{scope:e.__scopeSelect,children:a.jsx($1.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),s):null}return a.jsx(XB,{...e,ref:t})});GB.displayName=Cd;var ao=10,[KB,vu]=em(Cd),xse="SelectContentImpl",vse=tu("SelectContent.RemoveScroll"),XB=N.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:u,sideOffset:m,align:f,alignOffset:g,arrowPadding:x,collisionBoundary:w,collisionPadding:_,sticky:T,hideWhenDetached:C,avoidCollisions:A,...M}=e,D=xu(Cd,n),[R,z]=N.useState(null),[k,I]=N.useState(null),B=Zt(t,ce=>z(ce)),[V,F]=N.useState(null),[$,W]=N.useState(null),Y=H1(n),[X,ne]=N.useState(!1),J=N.useRef(!1);N.useEffect(()=>{if(R)return z1(R)},[R]),I1();const H=N.useCallback(ce=>{const[le,...he]=Y().map(be=>be.ref.current),[Ee]=he.slice(-1),je=document.activeElement;for(const be of ce)if(be===je||(be==null||be.scrollIntoView({block:"nearest"}),be===le&&k&&(k.scrollTop=0),be===Ee&&k&&(k.scrollTop=k.scrollHeight),be==null||be.focus(),document.activeElement!==je))return},[Y,k]),ee=N.useCallback(()=>H([V,R]),[H,V,R]);N.useEffect(()=>{X&&ee()},[X,ee]);const{onOpenChange:K,triggerPointerDownPosRef:ue}=D;N.useEffect(()=>{if(R){let ce={x:0,y:0};const le=Ee=>{var je,be;ce={x:Math.abs(Math.round(Ee.pageX)-(((je=ue.current)==null?void 0:je.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((be=ue.current)==null?void 0:be.y)??0))}},he=Ee=>{ce.x<=10&&ce.y<=10?Ee.preventDefault():R.contains(Ee.target)||K(!1),document.removeEventListener("pointermove",le),ue.current=null};return ue.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",he,{capture:!0})}}},[R,K,ue]),N.useEffect(()=>{const ce=()=>K(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[K]);const[re,de]=d7(ce=>{const le=Y().filter(je=>!je.disabled),he=le.find(je=>je.ref.current===document.activeElement),Ee=f7(le,ce,he);Ee&&setTimeout(()=>Ee.ref.current.focus())}),xe=N.useCallback((ce,le,he)=>{const Ee=!J.current&&!he;(D.value!==void 0&&D.value===le||Ee)&&(F(ce),Ee&&(J.current=!0))},[D.value]),Se=N.useCallback(()=>R==null?void 0:R.focus(),[R]),ye=N.useCallback((ce,le,he)=>{const Ee=!J.current&&!he;(D.value!==void 0&&D.value===le||Ee)&&W(ce)},[D.value]),Le=r==="popper"?DS:QB,ie=Le===DS?{side:u,sideOffset:m,align:f,alignOffset:g,arrowPadding:x,collisionBoundary:w,collisionPadding:_,sticky:T,hideWhenDetached:C,avoidCollisions:A}:{};return a.jsx(KB,{scope:n,content:R,viewport:k,onViewportChange:I,itemRefCallback:xe,selectedItem:V,onItemLeave:Se,itemTextRefCallback:ye,focusSelectedItem:ee,selectedItemText:$,position:r,isPositioned:X,searchRef:re,children:a.jsx(R0,{as:vse,allowPinchZoom:!0,children:a.jsx(O0,{asChild:!0,trapped:D.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:lt(i,ce=>{var le;(le=D.trigger)==null||le.focus({preventScroll:!0}),ce.preventDefault()}),children:a.jsx(T0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:a.jsx(Le,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:ce=>ce.preventDefault(),...M,...ie,onPlaced:()=>ne(!0),ref:B,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:lt(M.onKeyDown,ce=>{const le=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!le&&ce.key.length===1&&de(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Ee=Y().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const je=ce.target,be=Ee.indexOf(je);Ee=Ee.slice(be+1)}setTimeout(()=>H(Ee)),ce.preventDefault()}})})})})})})});XB.displayName=xse;var yse="SelectItemAlignedPosition",QB=N.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=xu(Cd,n),o=vu(Cd,n),[u,m]=N.useState(null),[f,g]=N.useState(null),x=Zt(t,B=>g(B)),w=H1(n),_=N.useRef(!1),T=N.useRef(!0),{viewport:C,selectedItem:A,selectedItemText:M,focusSelectedItem:D}=o,R=N.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&f&&C&&A&&M){const B=s.trigger.getBoundingClientRect(),V=f.getBoundingClientRect(),F=s.valueNode.getBoundingClientRect(),$=M.getBoundingClientRect();if(s.dir!=="rtl"){const je=$.left-V.left,be=F.left-je,Ke=B.left-be,ze=B.width+Ke,Qe=Math.max(ze,V.width),ht=window.innerWidth-ao,Je=AS(be,[ao,Math.max(ao,ht-Qe)]);u.style.minWidth=ze+"px",u.style.left=Je+"px"}else{const je=V.right-$.right,be=window.innerWidth-F.right-je,Ke=window.innerWidth-B.right-be,ze=B.width+Ke,Qe=Math.max(ze,V.width),ht=window.innerWidth-ao,Je=AS(be,[ao,Math.max(ao,ht-Qe)]);u.style.minWidth=ze+"px",u.style.right=Je+"px"}const W=w(),Y=window.innerHeight-ao*2,X=C.scrollHeight,ne=window.getComputedStyle(f),J=parseInt(ne.borderTopWidth,10),H=parseInt(ne.paddingTop,10),ee=parseInt(ne.borderBottomWidth,10),K=parseInt(ne.paddingBottom,10),ue=J+H+X+K+ee,re=Math.min(A.offsetHeight*5,ue),de=window.getComputedStyle(C),xe=parseInt(de.paddingTop,10),Se=parseInt(de.paddingBottom,10),ye=B.top+B.height/2-ao,Le=Y-ye,ie=A.offsetHeight/2,ce=A.offsetTop+ie,le=J+H+ce,he=ue-le;if(le<=ye){const je=W.length>0&&A===W[W.length-1].ref.current;u.style.bottom="0px";const be=f.clientHeight-C.offsetTop-C.offsetHeight,Ke=Math.max(Le,ie+(je?Se:0)+be+ee),ze=le+Ke;u.style.height=ze+"px"}else{const je=W.length>0&&A===W[0].ref.current;u.style.top="0px";const Ke=Math.max(ye,J+C.offsetTop+(je?xe:0)+ie)+he;u.style.height=Ke+"px",C.scrollTop=le-ye+C.offsetTop}u.style.margin=`${ao}px 0`,u.style.minHeight=re+"px",u.style.maxHeight=Y+"px",r==null||r(),requestAnimationFrame(()=>_.current=!0)}},[w,s.trigger,s.valueNode,u,f,C,A,M,s.dir,r]);ra(()=>R(),[R]);const[z,k]=N.useState();ra(()=>{f&&k(window.getComputedStyle(f).zIndex)},[f]);const I=N.useCallback(B=>{B&&T.current===!0&&(R(),D==null||D(),T.current=!1)},[R,D]);return a.jsx(wse,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:_,onScrollButtonChange:I,children:a.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:a.jsx(St.div,{...i,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});QB.displayName=yse;var bse="SelectPopperPosition",DS=N.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ao,...s}=e,o=q1(n);return a.jsx(JA,{...o,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});DS.displayName=bse;var[wse,tE]=em(Cd,{}),RS="SelectViewport",ZB=N.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=vu(RS,n),o=tE(RS,n),u=Zt(t,s.onViewportChange),m=N.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx($1.Slot,{scope:n,children:a.jsx(St.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:lt(i.onScroll,f=>{const g=f.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:w}=o;if(w!=null&&w.current&&x){const _=Math.abs(m.current-g.scrollTop);if(_>0){const T=window.innerHeight-ao*2,C=parseFloat(x.style.minHeight),A=parseFloat(x.style.height),M=Math.max(C,A);if(M<T){const D=M+_,R=Math.min(T,D),z=D-R;x.style.height=R+"px",x.style.bottom==="0px"&&(g.scrollTop=z>0?z:0,x.style.justifyContent="flex-end")}}}m.current=g.scrollTop})})})]})});ZB.displayName=RS;var JB="SelectGroup",[jse,Nse]=em(JB),Sse=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=uo();return a.jsx(jse,{scope:n,id:i,children:a.jsx(St.div,{role:"group","aria-labelledby":i,...r,ref:t})})});Sse.displayName=JB;var e7="SelectLabel",_se=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Nse(e7,n);return a.jsx(St.div,{id:i.id,...r,ref:t})});_se.displayName=e7;var _v="SelectItem",[Ase,t7]=em(_v),n7=N.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=e,u=xu(_v,n),m=vu(_v,n),f=u.value===r,[g,x]=N.useState(s??""),[w,_]=N.useState(!1),T=Zt(t,D=>{var R;return(R=m.itemRefCallback)==null?void 0:R.call(m,D,r,i)}),C=uo(),A=N.useRef("touch"),M=()=>{i||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Ase,{scope:n,value:r,disabled:i,textId:C,isSelected:f,onItemTextChange:N.useCallback(D=>{x(R=>R||((D==null?void 0:D.textContent)??"").trim())},[]),children:a.jsx($1.ItemSlot,{scope:n,value:r,disabled:i,textValue:g,children:a.jsx(St.div,{role:"option","aria-labelledby":C,"data-highlighted":w?"":void 0,"aria-selected":f&&w,"data-state":f?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:T,onFocus:lt(o.onFocus,()=>_(!0)),onBlur:lt(o.onBlur,()=>_(!1)),onClick:lt(o.onClick,()=>{A.current!=="mouse"&&M()}),onPointerUp:lt(o.onPointerUp,()=>{A.current==="mouse"&&M()}),onPointerDown:lt(o.onPointerDown,D=>{A.current=D.pointerType}),onPointerMove:lt(o.onPointerMove,D=>{var R;A.current=D.pointerType,i?(R=m.onItemLeave)==null||R.call(m):A.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:lt(o.onPointerLeave,D=>{var R;D.currentTarget===document.activeElement&&((R=m.onItemLeave)==null||R.call(m))}),onKeyDown:lt(o.onKeyDown,D=>{var z;((z=m.searchRef)==null?void 0:z.current)!==""&&D.key===" "||(use.includes(D.key)&&M(),D.key===" "&&D.preventDefault())})})})})});n7.displayName=_v;var _g="SelectItemText",r7=N.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,o=xu(_g,n),u=vu(_g,n),m=t7(_g,n),f=mse(_g,n),[g,x]=N.useState(null),w=Zt(t,M=>x(M),m.onItemTextChange,M=>{var D;return(D=u.itemTextRefCallback)==null?void 0:D.call(u,M,m.value,m.disabled)}),_=g==null?void 0:g.textContent,T=N.useMemo(()=>a.jsx("option",{value:m.value,disabled:m.disabled,children:_},m.value),[m.disabled,m.value,_]),{onNativeOptionAdd:C,onNativeOptionRemove:A}=f;return ra(()=>(C(T),()=>A(T)),[C,A,T]),a.jsxs(a.Fragment,{children:[a.jsx(St.span,{id:m.textId,...s,ref:w}),m.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Bd.createPortal(s.children,o.valueNode):null]})});r7.displayName=_g;var a7="SelectItemIndicator",i7=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return t7(a7,n).isSelected?a.jsx(St.span,{"aria-hidden":!0,...r,ref:t}):null});i7.displayName=a7;var PS="SelectScrollUpButton",s7=N.forwardRef((e,t)=>{const n=vu(PS,e.__scopeSelect),r=tE(PS,e.__scopeSelect),[i,s]=N.useState(!1),o=Zt(t,r.onScrollButtonChange);return ra(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=m.scrollTop>0;s(f)};const m=n.viewport;return u(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?a.jsx(l7,{...e,ref:o,onAutoScroll:()=>{const{viewport:u,selectedItem:m}=n;u&&m&&(u.scrollTop=u.scrollTop-m.offsetHeight)}}):null});s7.displayName=PS;var kS="SelectScrollDownButton",o7=N.forwardRef((e,t)=>{const n=vu(kS,e.__scopeSelect),r=tE(kS,e.__scopeSelect),[i,s]=N.useState(!1),o=Zt(t,r.onScrollButtonChange);return ra(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=m.scrollHeight-m.clientHeight,g=Math.ceil(m.scrollTop)<f;s(g)};const m=n.viewport;return u(),m.addEventListener("scroll",u),()=>m.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),i?a.jsx(l7,{...e,ref:o,onAutoScroll:()=>{const{viewport:u,selectedItem:m}=n;u&&m&&(u.scrollTop=u.scrollTop+m.offsetHeight)}}):null});o7.displayName=kS;var l7=N.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=vu("SelectScrollButton",n),o=N.useRef(null),u=H1(n),m=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>m(),[m]),ra(()=>{var g;const f=u().find(x=>x.ref.current===document.activeElement);(g=f==null?void 0:f.ref.current)==null||g.scrollIntoView({block:"nearest"})},[u]),a.jsx(St.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:lt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:lt(i.onPointerMove,()=>{var f;(f=s.onItemLeave)==null||f.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:lt(i.onPointerLeave,()=>{m()})})}),Ese="SelectSeparator",Cse=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(St.div,{"aria-hidden":!0,...r,ref:t})});Cse.displayName=Ese;var IS="SelectArrow",Tse=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=q1(n),s=xu(IS,n),o=vu(IS,n);return s.open&&o.position==="popper"?a.jsx(eE,{...i,...r,ref:t}):null});Tse.displayName=IS;var Ose="SelectBubbleInput",c7=N.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=N.useRef(null),s=Zt(r,i),o=FA(t);return N.useEffect(()=>{const u=i.current;if(!u)return;const m=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(m,"value").set;if(o!==t&&g){const x=new Event("change",{bubbles:!0});g.call(u,t),u.dispatchEvent(x)}},[o,t]),a.jsx(St.select,{...n,style:{...DB,...n.style},ref:s,defaultValue:t})});c7.displayName=Ose;function u7(e){return e===""||e===void 0}function d7(e){const t=Sa(e),n=N.useRef(""),r=N.useRef(0),i=N.useCallback(o=>{const u=n.current+o;t(u),function m(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>m(""),1e3))}(u)},[t]),s=N.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function f7(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=Mse(e,Math.max(s,0));i.length===1&&(o=o.filter(f=>f!==n));const m=o.find(f=>f.textValue.toLowerCase().startsWith(i.toLowerCase()));return m!==n?m:void 0}function Mse(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Dse=zB,Rse=$B,Pse=qB,kse=YB,Ise=WB,Lse=GB,Bse=ZB,Fse=n7,Use=r7,zse=i7,Vse=s7,$se=o7;function It({...e}){return a.jsx(Dse,{"data-slot":"select",...e})}function zt({...e}){return a.jsx(Pse,{"data-slot":"select-value",...e})}function Lt({className:e,size:t="default",children:n,...r}){return a.jsxs(Rse,{"data-slot":"select-trigger","data-size":t,className:At("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,a.jsx(kse,{asChild:!0,children:a.jsx(WL,{className:"size-4 opacity-50"})})]})}function Bt({className:e,children:t,position:n="popper",...r}){return a.jsx(Ise,{children:a.jsxs(Lse,{"data-slot":"select-content",className:At("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(Hse,{}),a.jsx(Bse,{className:At("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),a.jsx(qse,{})]})})}function Oe({className:e,children:t,...n}){return a.jsxs(Fse,{"data-slot":"select-item",className:At("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(zse,{children:a.jsx(Kg,{className:"size-4"})})}),a.jsx(Use,{children:t})]})}function Hse({className:e,...t}){return a.jsx(Vse,{"data-slot":"select-scroll-up-button",className:At("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(sne,{className:"size-4"})})}function qse({className:e,...t}){return a.jsx($se,{"data-slot":"select-scroll-down-button",className:At("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(WL,{className:"size-4"})})}const Yse=e=>({passenger:[e("features.digitalWallet"),e("features.qrPayments"),e("features.eventTickets"),e("features.transactionHistory")],driver:[e("features.driverDashboard"),e("features.earningsTracking"),e("features.qrGeneration"),e("features.tripManagement")],merchant:[e("features.businessDashboard"),e("features.paymentProcessing"),e("features.analyticsInsights"),e("features.customerManagement")],event_admin:[e("features.eventCreation"),e("features.ticketManagement"),e("features.attendeeAnalytics"),e("features.revenueTracking")]});function Wse(){const[e,t]=N.useState({email:"",password:"",confirmPassword:"",fullName:"",phoneNumber:"",userRole:"passenger"}),[n,r]=N.useState(!1),[i,s]=N.useState(!1),[o,u]=N.useState(""),[m,f]=N.useState(!1),{signUp:g}=Wt(),{t:x}=$t(),w=go(),_=async M=>{if(M.preventDefault(),u(""),e.password!==e.confirmPassword){u("Passwords do not match");return}if(e.password.length<6){u("Password must be at least 6 characters");return}f(!0);try{const{error:D}=await g(e.email,e.password,{full_name:e.fullName,phone_number:e.phoneNumber,user_role:e.userRole});D?u(D.message):w(`/otp-verification?type=email_verification&email=${encodeURIComponent(e.email)}`)}catch{u("An unexpected error occurred")}finally{f(!1)}},T=(M,D)=>{t(R=>({...R,[M]:D}))},A=Yse(x)[e.userRole]||[];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-pulse"})]}),a.jsxs("div",{className:"w-full max-w-4xl relative",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs(Gt,{to:"/",className:"inline-flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[a.jsx(E0,{className:"h-4 w-4"}),x("registration.backToHome")]}),a.jsxs(We.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"flex items-center justify-center gap-3 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-12 w-12"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-lg blur opacity-50"})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Tickets"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx(BA,{className:"h-4 w-4 text-green-400"}),a.jsx("span",{className:"text-white/70 text-sm",children:x("registration.joinRevolution")})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx(We.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:a.jsxs(me,{className:"bg-black/40 backdrop-blur-xl border-white/10 shadow-2xl",children:[a.jsxs(Re,{className:"text-center",children:[a.jsx(Pe,{className:"text-2xl font-bold text-white",children:x("auth.register")}),a.jsx(it,{className:"text-gray-400",children:x("auth.getStartedDescription")})]}),a.jsxs(ge,{className:"space-y-6",children:[a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[o&&a.jsx(ci,{variant:"destructive",className:"bg-red-500/10 border-red-500/20",children:a.jsx(ui,{className:"text-red-400",children:o})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"userRole",className:"text-white",children:x("auth.accountType")}),a.jsxs(It,{value:e.userRole,onValueChange:M=>T("userRole",M),children:[a.jsx(Lt,{className:"bg-white/5 border-white/10 text-white focus:border-blue-400/50 focus:ring-blue-400/20",children:a.jsx(zt,{})}),a.jsxs(Bt,{className:"bg-slate-900 border-white/10",children:[a.jsx(Oe,{value:"passenger",className:"text-white hover:bg-white/10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),x("auth.passenger")]})}),a.jsx(Oe,{value:"driver",className:"text-white hover:bg-white/10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),x("auth.driver")]})}),a.jsx(Oe,{value:"merchant",className:"text-white hover:bg-white/10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),x("auth.merchant")]})}),a.jsx(Oe,{value:"event_admin",className:"text-white hover:bg-white/10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),x("auth.eventAdmin")]})})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"fullName",className:"text-white",children:x("auth.fullName")}),a.jsx(vt,{id:"fullName",type:"text",value:e.fullName,onChange:M=>T("fullName",M.target.value),placeholder:x("auth.fullNamePlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"email",className:"text-white",children:x("auth.email")}),a.jsx(vt,{id:"email",type:"email",value:e.email,onChange:M=>T("email",M.target.value),placeholder:x("auth.emailPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs($e,{htmlFor:"phoneNumber",className:"text-white",children:[x("auth.phoneNumber")," (",x("common.optional"),")"]}),a.jsx(vt,{id:"phoneNumber",type:"tel",value:e.phoneNumber,onChange:M=>T("phoneNumber",M.target.value),placeholder:x("auth.phoneNumberPlaceholder"),className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"password",className:"text-white",children:x("auth.password")}),a.jsxs("div",{className:"relative",children:[a.jsx(vt,{id:"password",type:n?"text":"password",value:e.password,onChange:M=>T("password",M.target.value),placeholder:x("auth.createPasswordPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20 pr-12"}),a.jsx(Ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent text-gray-400 hover:text-white",onClick:()=>r(!n),children:n?a.jsx(di,{className:"h-4 w-4"}):a.jsx(Hn,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"confirmPassword",className:"text-white",children:x("auth.confirmPassword")}),a.jsxs("div",{className:"relative",children:[a.jsx(vt,{id:"confirmPassword",type:i?"text":"password",value:e.confirmPassword,onChange:M=>T("confirmPassword",M.target.value),placeholder:x("auth.confirmPasswordPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20 pr-12"}),a.jsx(Ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent text-gray-400 hover:text-white",onClick:()=>s(!i),children:i?a.jsx(di,{className:"h-4 w-4"}):a.jsx(Hn,{className:"h-4 w-4"})})]})]}),a.jsxs(Ne,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 border-0 text-white py-6 text-lg font-semibold",disabled:m,children:[m&&a.jsx(Yo,{className:"mr-2 h-5 w-5 animate-spin"}),x("auth.register")]})]}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-sm text-gray-400",children:[x("auth.alreadyHaveAccount")," ",a.jsx(Gt,{to:"/login",className:"text-blue-400 hover:text-blue-300 transition-colors font-semibold",children:x("auth.signInHere")})]})})]})]})}),a.jsxs(We.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"space-y-6",children:[a.jsxs(me,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:[a.jsx(Re,{children:a.jsxs(Pe,{className:"text-white flex items-center gap-2",children:[a.jsx(LA,{className:"h-5 w-5 text-yellow-400"}),e.userRole==="passenger"&&x("registration.personalAccountFeatures"),e.userRole==="driver"&&x("registration.driverAccountFeatures"),e.userRole==="merchant"&&x("registration.businessAccountFeatures"),e.userRole==="event_admin"&&x("registration.eventOrganizerFeatures")]})}),a.jsx(ge,{children:a.jsx("ul",{className:"space-y-3",children:A.map((M,D)=>a.jsxs(We.li,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:D*.1},className:"flex items-center gap-3 text-gray-300",children:[a.jsx(Rr,{className:"h-4 w-4 text-green-400 flex-shrink-0"}),M]},M))})})]}),a.jsx(me,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:a.jsxs(ge,{className:"p-6",children:[a.jsx("h3",{className:"text-white font-semibold mb-4",children:x("registration.whyChooseTickets")}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{children:x("registration.bankGradeSecurity")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),a.jsx("span",{children:x("registration.instantTransactions")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),a.jsx("span",{children:x("registration.customerSupport")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),a.jsx("span",{children:x("registration.lowFees")})]})]})]})})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{children:x("registration.soc2Certified")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),a.jsx("span",{children:x("registration.iso27001")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),a.jsx("span",{children:x("registration.pciCompliant")})]})]})})]})]})}function Gse(){const[e,t]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(""),[o,u]=N.useState(!1),{t:m}=$t(),f=go(),g=async x=>{x.preventDefault(),s(""),r(""),u(!0);try{const{error:w}=await qe.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});w?s(w.message):f(`/otp-verification?type=password_reset&email=${encodeURIComponent(e)}`)}catch{s("An unexpected error occurred")}finally{u(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 p-4",children:a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md",children:a.jsxs(me,{children:[a.jsxs(Re,{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-white",children:a.jsx(Oa,{className:"h-6 w-6"})}),a.jsx("h1",{className:"text-2xl font-bold text-primary",children:m("app.name")})]}),a.jsx(Pe,{className:"text-2xl font-bold",children:"Reset Password"}),a.jsx(it,{children:"Enter your email address and we'll send you a link to reset your password"})]}),a.jsxs(ge,{children:[a.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i&&a.jsx(ci,{variant:"destructive",children:a.jsx(ui,{children:i})}),n&&a.jsx(ci,{children:a.jsx(ui,{children:n})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"email",children:m("auth.email")}),a.jsx(vt,{id:"email",type:"email",value:e,onChange:x=>t(x.target.value),placeholder:"your@email.com",required:!0})]}),a.jsxs(Ne,{type:"submit",className:"w-full",disabled:o,children:[o&&a.jsx(Yo,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Reset Email"]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(Gt,{to:"/login",className:"inline-flex items-center text-sm text-primary hover:underline",children:[a.jsx(E0,{className:"mr-1 h-4 w-4"}),"Back to Login"]})})]})]})})})}var Kse=Object.defineProperty,Xse=Object.defineProperties,Qse=Object.getOwnPropertyDescriptors,Av=Object.getOwnPropertySymbols,h7=Object.prototype.hasOwnProperty,m7=Object.prototype.propertyIsEnumerable,iR=(e,t,n)=>t in e?Kse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Zse=(e,t)=>{for(var n in t||(t={}))h7.call(t,n)&&iR(e,n,t[n]);if(Av)for(var n of Av(t))m7.call(t,n)&&iR(e,n,t[n]);return e},Jse=(e,t)=>Xse(e,Qse(t)),eoe=(e,t)=>{var n={};for(var r in e)h7.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Av)for(var r of Av(e))t.indexOf(r)<0&&m7.call(e,r)&&(n[r]=e[r]);return n};function toe(e){let t=setTimeout(e,0),n=setTimeout(e,10),r=setTimeout(e,50);return[t,n,r]}function noe(e){let t=N.useRef();return N.useEffect(()=>{t.current=e}),t.current}var roe=18,g7=40,aoe=`${g7}px`,ioe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function soe({containerRef:e,inputRef:t,pushPasswordManagerStrategy:n,isFocused:r}){let[i,s]=N.useState(!1),[o,u]=N.useState(!1),[m,f]=N.useState(!1),g=N.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&i&&o,[i,o,n]),x=N.useCallback(()=>{let w=e.current,_=t.current;if(!w||!_||m||n==="none")return;let T=w,C=T.getBoundingClientRect().left+T.offsetWidth,A=T.getBoundingClientRect().top+T.offsetHeight/2,M=C-roe,D=A;document.querySelectorAll(ioe).length===0&&document.elementFromPoint(M,D)===w||(s(!0),f(!0))},[e,t,m,n]);return N.useEffect(()=>{let w=e.current;if(!w||n==="none")return;function _(){let C=window.innerWidth-w.getBoundingClientRect().right;u(C>=g7)}_();let T=setInterval(_,1e3);return()=>{clearInterval(T)}},[e,n]),N.useEffect(()=>{let w=r||document.activeElement===t.current;if(n==="none"||!w)return;let _=setTimeout(x,0),T=setTimeout(x,2e3),C=setTimeout(x,5e3),A=setTimeout(()=>{f(!0)},6e3);return()=>{clearTimeout(_),clearTimeout(T),clearTimeout(C),clearTimeout(A)}},[t,r,n,x]),{hasPWMBadge:i,willPushPWMBadge:g,PWM_BADGE_SPACE_WIDTH:aoe}}var p7=N.createContext({}),x7=N.forwardRef((e,t)=>{var n=e,{value:r,onChange:i,maxLength:s,textAlign:o="left",pattern:u,placeholder:m,inputMode:f="numeric",onComplete:g,pushPasswordManagerStrategy:x="increase-width",pasteTransformer:w,containerClassName:_,noScriptCSSFallback:T=ooe,render:C,children:A}=n,M=eoe(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),D,R,z,k,I;let[B,V]=N.useState(typeof M.defaultValue=="string"?M.defaultValue:""),F=r??B,$=noe(F),W=N.useCallback(ze=>{i==null||i(ze),V(ze)},[i]),Y=N.useMemo(()=>u?typeof u=="string"?new RegExp(u):u:null,[u]),X=N.useRef(null),ne=N.useRef(null),J=N.useRef({value:F,onChange:W,isIOS:typeof window<"u"&&((R=(D=window==null?void 0:window.CSS)==null?void 0:D.supports)==null?void 0:R.call(D,"-webkit-touch-callout","none"))}),H=N.useRef({prev:[(z=X.current)==null?void 0:z.selectionStart,(k=X.current)==null?void 0:k.selectionEnd,(I=X.current)==null?void 0:I.selectionDirection]});N.useImperativeHandle(t,()=>X.current,[]),N.useEffect(()=>{let ze=X.current,Qe=ne.current;if(!ze||!Qe)return;J.current.value!==ze.value&&J.current.onChange(ze.value),H.current.prev=[ze.selectionStart,ze.selectionEnd,ze.selectionDirection];function ht(){if(document.activeElement!==ze){xe(null),ye(null);return}let st=ze.selectionStart,hr=ze.selectionEnd,ct=ze.selectionDirection,xn=ze.maxLength,Wr=ze.value,mr=H.current.prev,Wa=-1,Nn=-1,Gn;if(Wr.length!==0&&st!==null&&hr!==null){let qs=st===hr,xs=st===Wr.length&&Wr.length<xn;if(qs&&!xs){let cn=st;if(cn===0)Wa=0,Nn=1,Gn="forward";else if(cn===xn)Wa=cn-1,Nn=cn,Gn="backward";else if(xn>1&&Wr.length>1){let nt=0;if(mr[0]!==null&&mr[1]!==null){Gn=cn<mr[1]?"backward":"forward";let vn=mr[0]===mr[1]&&mr[0]<xn;Gn==="backward"&&!vn&&(nt=-1)}Wa=nt+cn,Nn=nt+cn+1}}Wa!==-1&&Nn!==-1&&Wa!==Nn&&X.current.setSelectionRange(Wa,Nn,Gn)}let gr=Wa!==-1?Wa:st,sn=Nn!==-1?Nn:hr,$i=Gn??ct;xe(gr),ye(sn),H.current.prev=[gr,sn,$i]}if(document.addEventListener("selectionchange",ht,{capture:!0}),ht(),document.activeElement===ze&&re(!0),!document.getElementById("input-otp-style")){let st=document.createElement("style");if(st.id="input-otp-style",document.head.appendChild(st),st.sheet){let hr="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";cg(st.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),cg(st.sheet,`[data-input-otp]:autofill { ${hr} }`),cg(st.sheet,`[data-input-otp]:-webkit-autofill { ${hr} }`),cg(st.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),cg(st.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let Je=()=>{Qe&&Qe.style.setProperty("--root-height",`${ze.clientHeight}px`)};Je();let bt=new ResizeObserver(Je);return bt.observe(ze),()=>{document.removeEventListener("selectionchange",ht,{capture:!0}),bt.disconnect()}},[]);let[ee,K]=N.useState(!1),[ue,re]=N.useState(!1),[de,xe]=N.useState(null),[Se,ye]=N.useState(null);N.useEffect(()=>{toe(()=>{var ze,Qe,ht,Je;(ze=X.current)==null||ze.dispatchEvent(new Event("input"));let bt=(Qe=X.current)==null?void 0:Qe.selectionStart,st=(ht=X.current)==null?void 0:ht.selectionEnd,hr=(Je=X.current)==null?void 0:Je.selectionDirection;bt!==null&&st!==null&&(xe(bt),ye(st),H.current.prev=[bt,st,hr])})},[F,ue]),N.useEffect(()=>{$!==void 0&&F!==$&&$.length<s&&F.length===s&&(g==null||g(F))},[s,g,$,F]);let Le=soe({containerRef:ne,inputRef:X,pushPasswordManagerStrategy:x,isFocused:ue}),ie=N.useCallback(ze=>{let Qe=ze.currentTarget.value.slice(0,s);if(Qe.length>0&&Y&&!Y.test(Qe)){ze.preventDefault();return}typeof $=="string"&&Qe.length<$.length&&document.dispatchEvent(new Event("selectionchange")),W(Qe)},[s,W,$,Y]),ce=N.useCallback(()=>{var ze;if(X.current){let Qe=Math.min(X.current.value.length,s-1),ht=X.current.value.length;(ze=X.current)==null||ze.setSelectionRange(Qe,ht),xe(Qe),ye(ht)}re(!0)},[s]),le=N.useCallback(ze=>{var Qe,ht;let Je=X.current;if(!w&&(!J.current.isIOS||!ze.clipboardData||!Je))return;let bt=ze.clipboardData.getData("text/plain"),st=w?w(bt):bt;ze.preventDefault();let hr=(Qe=X.current)==null?void 0:Qe.selectionStart,ct=(ht=X.current)==null?void 0:ht.selectionEnd,xn=(hr!==ct?F.slice(0,hr)+st+F.slice(ct):F.slice(0,hr)+st+F.slice(hr)).slice(0,s);if(xn.length>0&&Y&&!Y.test(xn))return;Je.value=xn,W(xn);let Wr=Math.min(xn.length,s-1),mr=xn.length;Je.setSelectionRange(Wr,mr),xe(Wr),ye(mr)},[s,W,Y,F]),he=N.useMemo(()=>({position:"relative",cursor:M.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[M.disabled]),Ee=N.useMemo(()=>({position:"absolute",inset:0,width:Le.willPushPWMBadge?`calc(100% + ${Le.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:Le.willPushPWMBadge?`inset(0 ${Le.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[Le.PWM_BADGE_SPACE_WIDTH,Le.willPushPWMBadge,o]),je=N.useMemo(()=>N.createElement("input",Jse(Zse({autoComplete:M.autoComplete||"one-time-code"},M),{"data-input-otp":!0,"data-input-otp-placeholder-shown":F.length===0||void 0,"data-input-otp-mss":de,"data-input-otp-mse":Se,inputMode:f,pattern:Y==null?void 0:Y.source,"aria-placeholder":m,style:Ee,maxLength:s,value:F,ref:X,onPaste:ze=>{var Qe;le(ze),(Qe=M.onPaste)==null||Qe.call(M,ze)},onChange:ie,onMouseOver:ze=>{var Qe;K(!0),(Qe=M.onMouseOver)==null||Qe.call(M,ze)},onMouseLeave:ze=>{var Qe;K(!1),(Qe=M.onMouseLeave)==null||Qe.call(M,ze)},onFocus:ze=>{var Qe;ce(),(Qe=M.onFocus)==null||Qe.call(M,ze)},onBlur:ze=>{var Qe;re(!1),(Qe=M.onBlur)==null||Qe.call(M,ze)}})),[ie,ce,le,f,Ee,s,Se,de,M,Y==null?void 0:Y.source,F]),be=N.useMemo(()=>({slots:Array.from({length:s}).map((ze,Qe)=>{var ht;let Je=ue&&de!==null&&Se!==null&&(de===Se&&Qe===de||Qe>=de&&Qe<Se),bt=F[Qe]!==void 0?F[Qe]:null,st=F[0]!==void 0?null:(ht=m==null?void 0:m[Qe])!=null?ht:null;return{char:bt,placeholderChar:st,isActive:Je,hasFakeCaret:Je&&bt===null}}),isFocused:ue,isHovering:!M.disabled&&ee}),[ue,ee,s,Se,de,M.disabled,F]),Ke=N.useMemo(()=>C?C(be):N.createElement(p7.Provider,{value:be},A),[A,be,C]);return N.createElement(N.Fragment,null,T!==null&&N.createElement("noscript",null,N.createElement("style",null,T)),N.createElement("div",{ref:ne,"data-input-otp-container":!0,style:he,className:_},Ke,N.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},je)))});x7.displayName="Input";function cg(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var ooe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;function loe({className:e,containerClassName:t,...n}){return a.jsx(x7,{"data-slot":"input-otp",containerClassName:At("flex items-center gap-2 has-disabled:opacity-50",t),className:At("disabled:cursor-not-allowed",e),...n})}function coe({className:e,...t}){return a.jsx("div",{"data-slot":"input-otp-group",className:At("flex items-center",e),...t})}function Wf({index:e,className:t,...n}){const r=N.useContext(p7),{char:i,hasFakeCaret:s,isActive:o}=(r==null?void 0:r.slots[e])??{};return a.jsxs("div",{"data-slot":"input-otp-slot","data-active":o,className:At("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",t),...n,children:[i,s&&a.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"animate-caret-blink bg-foreground h-4 w-px duration-1000"})})]})}function uoe(){const[e,t]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(!1),[o,u]=N.useState(!1),[m,f]=N.useState(""),[g,x]=N.useState(60),[w,_]=N.useState(!1),[T]=t5(),C=go(),{t:A}=$t(),{user:M}=Wt(),D=T.get("type")||"email_verification",R=T.get("email")||(M==null?void 0:M.email)||"",z=T.get("phone")||"";N.useEffect(()=>{if(g>0){const $=setTimeout(()=>x(g-1),1e3);return()=>clearTimeout($)}else _(!0)},[g]);const I=(()=>{switch(D){case"email_verification":return{title:"Verify Your Email",description:`We've sent a 6-digit verification code to ${R}. Please enter it below to verify your email address.`,icon:a.jsx(R1,{className:"h-6 w-6"}),successMessage:"Email verified successfully!",resendText:"Resend verification email"};case"password_reset":return{title:"Reset Your Password",description:`We've sent a 6-digit code to ${R}. Enter it below to reset your password.`,icon:a.jsx(Kc,{className:"h-6 w-6"}),successMessage:"Code verified! You can now reset your password.",resendText:"Resend reset code"};case"phone_verification":return{title:"Verify Your Phone",description:`We've sent a 6-digit verification code to ${z}. Please enter it below.`,icon:a.jsx(Kc,{className:"h-6 w-6"}),successMessage:"Phone number verified successfully!",resendText:"Resend SMS code"};default:return{title:"Verify Code",description:"Please enter the verification code sent to you.",icon:a.jsx(Kc,{className:"h-6 w-6"}),successMessage:"Code verified successfully!",resendText:"Resend code"}}})(),B=async()=>{if(e.length!==6){r("Please enter a 6-digit code");return}r(""),s(!0);try{switch(D){case"email_verification":const{error:$}=await qe.auth.verifyOtp({email:R,token:e,type:"signup"});$?r($.message):(f(I.successMessage),setTimeout(()=>C("/"),2e3));break;case"password_reset":const{error:W}=await qe.auth.verifyOtp({email:R,token:e,type:"recovery"});W?r(W.message):(f(I.successMessage),setTimeout(()=>C(`/reset-password?token=${e}&email=${R}`),2e3));break;case"phone_verification":const{error:Y}=await qe.auth.verifyOtp({phone:z,token:e,type:"sms"});Y?r(Y.message):(f(I.successMessage),setTimeout(()=>C("/"),2e3));break;default:r("Invalid verification type")}}catch{r("An unexpected error occurred. Please try again.")}finally{s(!1)}},V=async()=>{u(!0),r(""),f("");try{switch(D){case"email_verification":const{error:$}=await qe.auth.resend({type:"signup",email:R});$?r($.message):(f("Verification email sent again!"),x(60),_(!1));break;case"password_reset":const{error:W}=await qe.auth.resetPasswordForEmail(R,{redirectTo:`${window.location.origin}/otp-verification?type=password_reset&email=${R}`});W?r(W.message):(f("Reset code sent again!"),x(60),_(!1));break;case"phone_verification":f("SMS code sent again!"),x(60),_(!1);break}}catch{r("Failed to resend code. Please try again.")}finally{u(!1)}},F=$=>{t($),r(""),$.length===6&&setTimeout(B,500)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"})]}),a.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs(Gt,{to:"/login",className:"inline-flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[a.jsx(E0,{className:"h-4 w-4"}),"Back to Login"]}),a.jsxs(We.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"flex items-center justify-center gap-3 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-12 w-12"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-lg blur opacity-50"})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Tickets"})]})]}),a.jsxs(me,{className:"bg-black/40 backdrop-blur-xl border-white/10 shadow-2xl",children:[a.jsxs(Re,{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-white/10",children:I.icon})}),a.jsx(Pe,{className:"text-2xl font-bold text-white",children:I.title}),a.jsx(it,{className:"text-center text-gray-400 leading-relaxed",children:I.description})]}),a.jsxs(ge,{className:"space-y-6",children:[n&&a.jsx(ci,{variant:"destructive",className:"bg-red-500/10 border-red-500/20",children:a.jsx(ui,{className:"text-red-400",children:n})}),m&&a.jsxs(ci,{className:"bg-green-500/10 border-green-500/20",children:[a.jsx(Rr,{className:"h-4 w-4 text-green-400"}),a.jsx(ui,{className:"text-green-400",children:m})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx($e,{className:"text-center block text-white",children:"Enter 6-digit verification code"}),a.jsx("div",{className:"flex justify-center",children:a.jsx(loe,{maxLength:6,value:e,onChange:F,className:"gap-3",children:a.jsxs(coe,{children:[a.jsx(Wf,{index:0,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),a.jsx(Wf,{index:1,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),a.jsx(Wf,{index:2,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),a.jsx(Wf,{index:3,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),a.jsx(Wf,{index:4,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),a.jsx(Wf,{index:5,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"})]})})})]}),a.jsxs(Ne,{onClick:B,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 border-0 text-white py-6 text-lg font-semibold",disabled:i||e.length!==6,children:[i&&a.jsx(Yo,{className:"mr-2 h-5 w-5 animate-spin"}),"Verify Code"]}),a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Didn't receive the code?"}),w?a.jsxs(Ne,{variant:"ghost",onClick:V,disabled:o,className:"text-blue-400 hover:text-blue-300 hover:bg-blue-400/10",children:[o?a.jsx(Yo,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(_d,{className:"mr-2 h-4 w-4"}),I.resendText]}):a.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-400",children:[a.jsx(zn,{className:"h-4 w-4"}),a.jsxs("span",{children:["Resend available in ",g,"s"]})]})]})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{children:"Secure Verification"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),a.jsx("span",{children:"Encrypted"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),a.jsx("span",{children:"Protected"})]})]})})]})]})}function doe(){const[e,t]=N.useState({password:"",confirmPassword:""}),[n,r]=N.useState(!1),[i,s]=N.useState(!1),[o,u]=N.useState(""),[m,f]=N.useState(!1),[g,x]=N.useState(""),[w]=t5(),_=go(),{t:T}=$t(),C=w.get("token");w.get("email"),N.useEffect(()=>{C||_("/forgot-password")},[C,_]);const A=async D=>{if(D.preventDefault(),u(""),x(""),e.password!==e.confirmPassword){u("Passwords do not match");return}if(e.password.length<6){u("Password must be at least 6 characters");return}if(!C){u("Invalid reset token");return}f(!0);try{const{error:R}=await qe.auth.updateUser({password:e.password});R?u(R.message):(x("Password updated successfully! Redirecting to login..."),setTimeout(()=>_("/login"),3e3))}catch{u("An unexpected error occurred")}finally{f(!1)}},M=(D,R)=>{t(z=>({...z,[D]:R})),u("")};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"})]}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md",children:a.jsxs(me,{children:[a.jsxs(Re,{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-white",children:a.jsx(Oa,{className:"h-6 w-6"})}),a.jsx("h1",{className:"text-2xl font-bold text-primary",children:T("app.name")})]}),a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary",children:a.jsx(Kc,{className:"h-6 w-6"})})}),a.jsx(Pe,{className:"text-2xl font-bold",children:"Reset Your Password"}),a.jsx(it,{children:"Enter your new password below"})]}),a.jsxs(ge,{children:[a.jsxs("form",{onSubmit:A,className:"space-y-4",children:[o&&a.jsx(ci,{variant:"destructive",children:a.jsx(ui,{children:o})}),g&&a.jsx(ci,{children:a.jsx(ui,{className:"text-green-600",children:g})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"password",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(vt,{id:"password",type:n?"text":"password",value:e.password,onChange:D=>M("password",D.target.value),placeholder:"Enter new password",required:!0,minLength:6}),a.jsx(Ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!n),children:n?a.jsx(di,{className:"h-4 w-4"}):a.jsx(Hn,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Password must be at least 6 characters long"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"confirmPassword",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(vt,{id:"confirmPassword",type:i?"text":"password",value:e.confirmPassword,onChange:D=>M("confirmPassword",D.target.value),placeholder:"Confirm new password",required:!0}),a.jsx(Ne,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!i),children:i?a.jsx(di,{className:"h-4 w-4"}):a.jsx(Hn,{className:"h-4 w-4"})})]})]}),a.jsxs(Ne,{type:"submit",className:"w-full",disabled:m,children:[m&&a.jsx(Yo,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Password"]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(Gt,{to:"/login",className:"inline-flex items-center text-sm text-primary hover:underline",children:[a.jsx(E0,{className:"mr-1 h-4 w-4"}),"Back to Login"]})})]})]})})]})}var A2={exports:{}},E2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sR;function foe(){if(sR)return E2;sR=1;var e=Lh();function t(x,w){return x===w&&(x!==0||1/x===1/w)||x!==x&&w!==w}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function u(x,w){var _=w(),T=r({inst:{value:_,getSnapshot:w}}),C=T[0].inst,A=T[1];return s(function(){C.value=_,C.getSnapshot=w,m(C)&&A({inst:C})},[x,_,w]),i(function(){return m(C)&&A({inst:C}),x(function(){m(C)&&A({inst:C})})},[x]),o(_),_}function m(x){var w=x.getSnapshot;x=x.value;try{var _=w();return!n(x,_)}catch{return!0}}function f(x,w){return w()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return E2.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,E2}var oR;function v7(){return oR||(oR=1,A2.exports=foe()),A2.exports}var hoe=v7();function moe(){return hoe.useSyncExternalStore(goe,()=>!0,()=>!1)}function goe(){return()=>{}}var nE="Avatar",[poe,tTe]=Vi(nE),[xoe,y7]=poe(nE),b7=N.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,s]=N.useState("idle");return a.jsx(xoe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx(St.span,{...r,ref:t})})});b7.displayName=nE;var w7="AvatarImage",j7=N.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=e,o=y7(w7,n),u=voe(r,s),m=Sa(f=>{i(f),o.onImageLoadingStatusChange(f)});return ra(()=>{u!=="idle"&&m(u)},[u,m]),u==="loaded"?a.jsx(St.img,{...s,ref:t,src:r}):null});j7.displayName=w7;var N7="AvatarFallback",S7=N.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,s=y7(N7,n),[o,u]=N.useState(r===void 0);return N.useEffect(()=>{if(r!==void 0){const m=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(m)}},[r]),o&&s.imageLoadingStatus!=="loaded"?a.jsx(St.span,{...i,ref:t}):null});S7.displayName=N7;function lR(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function voe(e,{referrerPolicy:t,crossOrigin:n}){const r=moe(),i=N.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,u]=N.useState(()=>lR(s,e));return ra(()=>{u(lR(s,e))},[s,e]),ra(()=>{const m=x=>()=>{u(x)};if(!s)return;const f=m("loaded"),g=m("error");return s.addEventListener("load",f),s.addEventListener("error",g),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",f),s.removeEventListener("error",g)}},[s,n,t]),o}var yoe=b7,boe=j7,woe=S7;function e0({className:e,...t}){return a.jsx(yoe,{"data-slot":"avatar",className:At("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function t0({className:e,...t}){return a.jsx(boe,{"data-slot":"avatar-image",className:At("aspect-square size-full",e),...t})}function n0({className:e,...t}){return a.jsx(woe,{"data-slot":"avatar-fallback",className:At("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const joe=MA("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function et({className:e,variant:t,asChild:n=!1,...r}){const i=n?PL:"span";return a.jsx(i,{"data-slot":"badge",className:At(joe({variant:t}),e),...r})}var Noe="Separator",cR="horizontal",Soe=["horizontal","vertical"],_7=N.forwardRef((e,t)=>{const{decorative:n,orientation:r=cR,...i}=e,s=_oe(r)?r:cR,u=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(St.div,{"data-orientation":s,...u,...i,ref:t})});_7.displayName=Noe;function _oe(e){return Soe.includes(e)}var Aoe=_7;function Bi({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return a.jsx(Aoe,{"data-slot":"separator-root",decorative:n,orientation:t,className:At("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}var C2="rovingFocusGroup.onEntryFocus",Eoe={bubbles:!1,cancelable:!0},P0="RovingFocusGroup",[LS,A7,Coe]=VA(P0),[Toe,Y1]=Vi(P0,[Coe]),[Ooe,Moe]=Toe(P0),E7=N.forwardRef((e,t)=>a.jsx(LS.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(LS.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Doe,{...e,ref:t})})}));E7.displayName=P0;var Doe=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:m,onEntryFocus:f,preventScrollOnEntryFocus:g=!1,...x}=e,w=N.useRef(null),_=Zt(t,w),T=C0(s),[C,A]=Hl({prop:o,defaultProp:u??null,onChange:m,caller:P0}),[M,D]=N.useState(!1),R=Sa(f),z=A7(n),k=N.useRef(!1),[I,B]=N.useState(0);return N.useEffect(()=>{const V=w.current;if(V)return V.addEventListener(C2,R),()=>V.removeEventListener(C2,R)},[R]),a.jsx(Ooe,{scope:n,orientation:r,dir:T,loop:i,currentTabStopId:C,onItemFocus:N.useCallback(V=>A(V),[A]),onItemShiftTab:N.useCallback(()=>D(!0),[]),onFocusableItemAdd:N.useCallback(()=>B(V=>V+1),[]),onFocusableItemRemove:N.useCallback(()=>B(V=>V-1),[]),children:a.jsx(St.div,{tabIndex:M||I===0?-1:0,"data-orientation":r,...x,ref:_,style:{outline:"none",...e.style},onMouseDown:lt(e.onMouseDown,()=>{k.current=!0}),onFocus:lt(e.onFocus,V=>{const F=!k.current;if(V.target===V.currentTarget&&F&&!M){const $=new CustomEvent(C2,Eoe);if(V.currentTarget.dispatchEvent($),!$.defaultPrevented){const W=z().filter(H=>H.focusable),Y=W.find(H=>H.active),X=W.find(H=>H.id===C),J=[Y,X,...W].filter(Boolean).map(H=>H.ref.current);O7(J,g)}}k.current=!1}),onBlur:lt(e.onBlur,()=>D(!1))})})}),C7="RovingFocusGroupItem",T7=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...u}=e,m=uo(),f=s||m,g=Moe(C7,n),x=g.currentTabStopId===f,w=A7(n),{onFocusableItemAdd:_,onFocusableItemRemove:T,currentTabStopId:C}=g;return N.useEffect(()=>{if(r)return _(),()=>T()},[r,_,T]),a.jsx(LS.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:a.jsx(St.span,{tabIndex:x?0:-1,"data-orientation":g.orientation,...u,ref:t,onMouseDown:lt(e.onMouseDown,A=>{r?g.onItemFocus(f):A.preventDefault()}),onFocus:lt(e.onFocus,()=>g.onItemFocus(f)),onKeyDown:lt(e.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){g.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const M=koe(A,g.orientation,g.dir);if(M!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let R=w().filter(z=>z.focusable).map(z=>z.ref.current);if(M==="last")R.reverse();else if(M==="prev"||M==="next"){M==="prev"&&R.reverse();const z=R.indexOf(A.currentTarget);R=g.loop?Ioe(R,z+1):R.slice(z+1)}setTimeout(()=>O7(R))}}),children:typeof o=="function"?o({isCurrentTabStop:x,hasTabStop:C!=null}):o})})});T7.displayName=C7;var Roe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Poe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function koe(e,t,n){const r=Poe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Roe[r]}function O7(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function Ioe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var M7=E7,D7=T7,BS=["Enter"," "],Loe=["ArrowDown","PageUp","Home"],R7=["ArrowUp","PageDown","End"],Boe=[...Loe,...R7],Foe={ltr:[...BS,"ArrowRight"],rtl:[...BS,"ArrowLeft"]},Uoe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},k0="Menu",[r0,zoe,Voe]=VA(k0),[Fd,P7]=Vi(k0,[Voe,Jh,Y1]),W1=Jh(),k7=Y1(),[$oe,Ud]=Fd(k0),[Hoe,I0]=Fd(k0),I7=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=e,u=W1(t),[m,f]=N.useState(null),g=N.useRef(!1),x=Sa(s),w=C0(i);return N.useEffect(()=>{const _=()=>{g.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>g.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),a.jsx(ZA,{...u,children:a.jsx($oe,{scope:t,open:n,onOpenChange:x,content:m,onContentChange:f,children:a.jsx(Hoe,{scope:t,onClose:N.useCallback(()=>x(!1),[x]),isUsingKeyboardRef:g,dir:w,modal:o,children:r})})})};I7.displayName=k0;var qoe="MenuAnchor",rE=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=W1(n);return a.jsx(U1,{...i,...r,ref:t})});rE.displayName=qoe;var aE="MenuPortal",[Yoe,L7]=Fd(aE,{forceMount:void 0}),B7=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=Ud(aE,t);return a.jsx(Yoe,{scope:t,forceMount:n,children:a.jsx(mi,{present:n||s.open,children:a.jsx(D0,{asChild:!0,container:i,children:r})})})};B7.displayName=aE;var ks="MenuContent",[Woe,iE]=Fd(ks),F7=N.forwardRef((e,t)=>{const n=L7(ks,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=Ud(ks,e.__scopeMenu),o=I0(ks,e.__scopeMenu);return a.jsx(r0.Provider,{scope:e.__scopeMenu,children:a.jsx(mi,{present:r||s.open,children:a.jsx(r0.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(Goe,{...i,ref:t}):a.jsx(Koe,{...i,ref:t})})})})}),Goe=N.forwardRef((e,t)=>{const n=Ud(ks,e.__scopeMenu),r=N.useRef(null),i=Zt(t,r);return N.useEffect(()=>{const s=r.current;if(s)return z1(s)},[]),a.jsx(sE,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:lt(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Koe=N.forwardRef((e,t)=>{const n=Ud(ks,e.__scopeMenu);return a.jsx(sE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Xoe=tu("MenuContent.ScrollLock"),sE=N.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:u,onEntryFocus:m,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:w,onDismiss:_,disableOutsideScroll:T,...C}=e,A=Ud(ks,n),M=I0(ks,n),D=W1(n),R=k7(n),z=zoe(n),[k,I]=N.useState(null),B=N.useRef(null),V=Zt(t,B,A.onContentChange),F=N.useRef(0),$=N.useRef(""),W=N.useRef(0),Y=N.useRef(null),X=N.useRef("right"),ne=N.useRef(0),J=T?R0:N.Fragment,H=T?{as:Xoe,allowPinchZoom:!0}:void 0,ee=ue=>{var ce,le;const re=$.current+ue,de=z().filter(he=>!he.disabled),xe=document.activeElement,Se=(ce=de.find(he=>he.ref.current===xe))==null?void 0:ce.textValue,ye=de.map(he=>he.textValue),Le=lle(ye,re,Se),ie=(le=de.find(he=>he.textValue===Le))==null?void 0:le.ref.current;(function he(Ee){$.current=Ee,window.clearTimeout(F.current),Ee!==""&&(F.current=window.setTimeout(()=>he(""),1e3))})(re),ie&&setTimeout(()=>ie.focus())};N.useEffect(()=>()=>window.clearTimeout(F.current),[]),I1();const K=N.useCallback(ue=>{var de,xe;return X.current===((de=Y.current)==null?void 0:de.side)&&ule(ue,(xe=Y.current)==null?void 0:xe.area)},[]);return a.jsx(Woe,{scope:n,searchRef:$,onItemEnter:N.useCallback(ue=>{K(ue)&&ue.preventDefault()},[K]),onItemLeave:N.useCallback(ue=>{var re;K(ue)||((re=B.current)==null||re.focus(),I(null))},[K]),onTriggerLeave:N.useCallback(ue=>{K(ue)&&ue.preventDefault()},[K]),pointerGraceTimerRef:W,onPointerGraceIntentChange:N.useCallback(ue=>{Y.current=ue},[]),children:a.jsx(J,{...H,children:a.jsx(O0,{asChild:!0,trapped:i,onMountAutoFocus:lt(s,ue=>{var re;ue.preventDefault(),(re=B.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(T0,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:x,onInteractOutside:w,onDismiss:_,children:a.jsx(M7,{asChild:!0,...R,dir:M.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:I,onEntryFocus:lt(m,ue=>{M.isUsingKeyboardRef.current||ue.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(JA,{role:"menu","aria-orientation":"vertical","data-state":t9(A.open),"data-radix-menu-content":"",dir:M.dir,...D,...C,ref:V,style:{outline:"none",...C.style},onKeyDown:lt(C.onKeyDown,ue=>{const de=ue.target.closest("[data-radix-menu-content]")===ue.currentTarget,xe=ue.ctrlKey||ue.altKey||ue.metaKey,Se=ue.key.length===1;de&&(ue.key==="Tab"&&ue.preventDefault(),!xe&&Se&&ee(ue.key));const ye=B.current;if(ue.target!==ye||!Boe.includes(ue.key))return;ue.preventDefault();const ie=z().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);R7.includes(ue.key)&&ie.reverse(),sle(ie)}),onBlur:lt(e.onBlur,ue=>{ue.currentTarget.contains(ue.target)||(window.clearTimeout(F.current),$.current="")}),onPointerMove:lt(e.onPointerMove,a0(ue=>{const re=ue.target,de=ne.current!==ue.clientX;if(ue.currentTarget.contains(re)&&de){const xe=ue.clientX>ne.current?"right":"left";X.current=xe,ne.current=ue.clientX}}))})})})})})})});F7.displayName=ks;var Qoe="MenuGroup",oE=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(St.div,{role:"group",...r,ref:t})});oE.displayName=Qoe;var Zoe="MenuLabel",U7=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(St.div,{...r,ref:t})});U7.displayName=Zoe;var Ev="MenuItem",uR="menu.itemSelect",G1=N.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=N.useRef(null),o=I0(Ev,e.__scopeMenu),u=iE(Ev,e.__scopeMenu),m=Zt(t,s),f=N.useRef(!1),g=()=>{const x=s.current;if(!n&&x){const w=new CustomEvent(uR,{bubbles:!0,cancelable:!0});x.addEventListener(uR,_=>r==null?void 0:r(_),{once:!0}),JL(x,w),w.defaultPrevented?f.current=!1:o.onClose()}};return a.jsx(z7,{...i,ref:m,disabled:n,onClick:lt(e.onClick,g),onPointerDown:x=>{var w;(w=e.onPointerDown)==null||w.call(e,x),f.current=!0},onPointerUp:lt(e.onPointerUp,x=>{var w;f.current||(w=x.currentTarget)==null||w.click()}),onKeyDown:lt(e.onKeyDown,x=>{const w=u.searchRef.current!=="";n||w&&x.key===" "||BS.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})})});G1.displayName=Ev;var z7=N.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,o=iE(Ev,n),u=k7(n),m=N.useRef(null),f=Zt(t,m),[g,x]=N.useState(!1),[w,_]=N.useState("");return N.useEffect(()=>{const T=m.current;T&&_((T.textContent??"").trim())},[s.children]),a.jsx(r0.ItemSlot,{scope:n,disabled:r,textValue:i??w,children:a.jsx(D7,{asChild:!0,...u,focusable:!r,children:a.jsx(St.div,{role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:f,onPointerMove:lt(e.onPointerMove,a0(T=>{r?o.onItemLeave(T):(o.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:lt(e.onPointerLeave,a0(T=>o.onItemLeave(T))),onFocus:lt(e.onFocus,()=>x(!0)),onBlur:lt(e.onBlur,()=>x(!1))})})})}),Joe="MenuCheckboxItem",V7=N.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return a.jsx(W7,{scope:e.__scopeMenu,checked:n,children:a.jsx(G1,{role:"menuitemcheckbox","aria-checked":Cv(n)?"mixed":n,...i,ref:t,"data-state":cE(n),onSelect:lt(i.onSelect,()=>r==null?void 0:r(Cv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});V7.displayName=Joe;var $7="MenuRadioGroup",[ele,tle]=Fd($7,{value:void 0,onValueChange:()=>{}}),H7=N.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=Sa(r);return a.jsx(ele,{scope:e.__scopeMenu,value:n,onValueChange:s,children:a.jsx(oE,{...i,ref:t})})});H7.displayName=$7;var q7="MenuRadioItem",Y7=N.forwardRef((e,t)=>{const{value:n,...r}=e,i=tle(q7,e.__scopeMenu),s=n===i.value;return a.jsx(W7,{scope:e.__scopeMenu,checked:s,children:a.jsx(G1,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":cE(s),onSelect:lt(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});Y7.displayName=q7;var lE="MenuItemIndicator",[W7,nle]=Fd(lE,{checked:!1}),G7=N.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=nle(lE,n);return a.jsx(mi,{present:r||Cv(s.checked)||s.checked===!0,children:a.jsx(St.span,{...i,ref:t,"data-state":cE(s.checked)})})});G7.displayName=lE;var rle="MenuSeparator",K7=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(St.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});K7.displayName=rle;var ale="MenuArrow",X7=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=W1(n);return a.jsx(eE,{...i,...r,ref:t})});X7.displayName=ale;var ile="MenuSub",[nTe,Q7]=Fd(ile),Ag="MenuSubTrigger",Z7=N.forwardRef((e,t)=>{const n=Ud(Ag,e.__scopeMenu),r=I0(Ag,e.__scopeMenu),i=Q7(Ag,e.__scopeMenu),s=iE(Ag,e.__scopeMenu),o=N.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:m}=s,f={__scopeMenu:e.__scopeMenu},g=N.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return N.useEffect(()=>g,[g]),N.useEffect(()=>{const x=u.current;return()=>{window.clearTimeout(x),m(null)}},[u,m]),a.jsx(rE,{asChild:!0,...f,children:a.jsx(z7,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":t9(n.open),...e,ref:O1(t,i.onTriggerChange),onClick:x=>{var w;(w=e.onClick)==null||w.call(e,x),!(e.disabled||x.defaultPrevented)&&(x.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:lt(e.onPointerMove,a0(x=>{s.onItemEnter(x),!x.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),g()},100))})),onPointerLeave:lt(e.onPointerLeave,a0(x=>{var _,T;g();const w=(_=n.content)==null?void 0:_.getBoundingClientRect();if(w){const C=(T=n.content)==null?void 0:T.dataset.side,A=C==="right",M=A?-5:5,D=w[A?"left":"right"],R=w[A?"right":"left"];s.onPointerGraceIntentChange({area:[{x:x.clientX+M,y:x.clientY},{x:D,y:w.top},{x:R,y:w.top},{x:R,y:w.bottom},{x:D,y:w.bottom}],side:C}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(x),x.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:lt(e.onKeyDown,x=>{var _;const w=s.searchRef.current!=="";e.disabled||w&&x.key===" "||Foe[r.dir].includes(x.key)&&(n.onOpenChange(!0),(_=n.content)==null||_.focus(),x.preventDefault())})})})});Z7.displayName=Ag;var J7="MenuSubContent",e9=N.forwardRef((e,t)=>{const n=L7(ks,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=Ud(ks,e.__scopeMenu),o=I0(ks,e.__scopeMenu),u=Q7(J7,e.__scopeMenu),m=N.useRef(null),f=Zt(t,m);return a.jsx(r0.Provider,{scope:e.__scopeMenu,children:a.jsx(mi,{present:r||s.open,children:a.jsx(r0.Slot,{scope:e.__scopeMenu,children:a.jsx(sE,{id:u.contentId,"aria-labelledby":u.triggerId,...i,ref:f,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:g=>{var x;o.isUsingKeyboardRef.current&&((x=m.current)==null||x.focus()),g.preventDefault()},onCloseAutoFocus:g=>g.preventDefault(),onFocusOutside:lt(e.onFocusOutside,g=>{g.target!==u.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:lt(e.onEscapeKeyDown,g=>{o.onClose(),g.preventDefault()}),onKeyDown:lt(e.onKeyDown,g=>{var _;const x=g.currentTarget.contains(g.target),w=Uoe[o.dir].includes(g.key);x&&w&&(s.onOpenChange(!1),(_=u.trigger)==null||_.focus(),g.preventDefault())})})})})})});e9.displayName=J7;function t9(e){return e?"open":"closed"}function Cv(e){return e==="indeterminate"}function cE(e){return Cv(e)?"indeterminate":e?"checked":"unchecked"}function sle(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function ole(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function lle(e,t,n){const i=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=ole(e,Math.max(s,0));i.length===1&&(o=o.filter(f=>f!==n));const m=o.find(f=>f.toLowerCase().startsWith(i.toLowerCase()));return m!==n?m:void 0}function cle(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const u=t[s],m=t[o],f=u.x,g=u.y,x=m.x,w=m.y;g>r!=w>r&&n<(x-f)*(r-g)/(w-g)+f&&(i=!i)}return i}function ule(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return cle(n,t)}function a0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var dle=I7,fle=rE,hle=B7,mle=F7,gle=oE,ple=U7,xle=G1,vle=V7,yle=H7,ble=Y7,wle=G7,jle=K7,Nle=X7,Sle=Z7,_le=e9,K1="DropdownMenu",[Ale,rTe]=Vi(K1,[P7]),Ai=P7(),[Ele,n9]=Ale(K1),r9=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:u=!0}=e,m=Ai(t),f=N.useRef(null),[g,x]=Hl({prop:i,defaultProp:s??!1,onChange:o,caller:K1});return a.jsx(Ele,{scope:t,triggerId:uo(),triggerRef:f,contentId:uo(),open:g,onOpenChange:x,onOpenToggle:N.useCallback(()=>x(w=>!w),[x]),modal:u,children:a.jsx(dle,{...m,open:g,onOpenChange:x,dir:r,modal:u,children:n})})};r9.displayName=K1;var a9="DropdownMenuTrigger",i9=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=n9(a9,n),o=Ai(n);return a.jsx(fle,{asChild:!0,...o,children:a.jsx(St.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:O1(t,s.triggerRef),onPointerDown:lt(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(s.onOpenToggle(),s.open||u.preventDefault())}),onKeyDown:lt(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&s.onOpenToggle(),u.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});i9.displayName=a9;var Cle="DropdownMenuPortal",s9=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Ai(t);return a.jsx(hle,{...r,...n})};s9.displayName=Cle;var o9="DropdownMenuContent",l9=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=n9(o9,n),s=Ai(n),o=N.useRef(!1);return a.jsx(mle,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:lt(e.onCloseAutoFocus,u=>{var m;o.current||(m=i.triggerRef.current)==null||m.focus(),o.current=!1,u.preventDefault()}),onInteractOutside:lt(e.onInteractOutside,u=>{const m=u.detail.originalEvent,f=m.button===0&&m.ctrlKey===!0,g=m.button===2||f;(!i.modal||g)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});l9.displayName=o9;var Tle="DropdownMenuGroup",Ole=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Ai(n);return a.jsx(gle,{...i,...r,ref:t})});Ole.displayName=Tle;var Mle="DropdownMenuLabel",c9=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Ai(n);return a.jsx(ple,{...i,...r,ref:t})});c9.displayName=Mle;var Dle="DropdownMenuItem",u9=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Ai(n);return a.jsx(xle,{...i,...r,ref:t})});u9.displayName=Dle;var Rle="DropdownMenuCheckboxItem",Ple=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Ai(n);return a.jsx(vle,{...i,...r,ref:t})});Ple.displayName=Rle;var kle="DropdownMenuRadioGroup",Ile=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Ai(n);return a.jsx(yle,{...i,...r,ref:t})});Ile.displayName=kle;var Lle="DropdownMenuRadioItem",Ble=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Ai(n);return a.jsx(ble,{...i,...r,ref:t})});Ble.displayName=Lle;var Fle="DropdownMenuItemIndicator",Ule=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Ai(n);return a.jsx(wle,{...i,...r,ref:t})});Ule.displayName=Fle;var zle="DropdownMenuSeparator",d9=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Ai(n);return a.jsx(jle,{...i,...r,ref:t})});d9.displayName=zle;var Vle="DropdownMenuArrow",$le=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Ai(n);return a.jsx(Nle,{...i,...r,ref:t})});$le.displayName=Vle;var Hle="DropdownMenuSubTrigger",qle=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Ai(n);return a.jsx(Sle,{...i,...r,ref:t})});qle.displayName=Hle;var Yle="DropdownMenuSubContent",Wle=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Ai(n);return a.jsx(_le,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Wle.displayName=Yle;var Gle=r9,Kle=i9,Xle=s9,Qle=l9,Zle=c9,Jle=u9,ece=d9;function f9({...e}){return a.jsx(Gle,{"data-slot":"dropdown-menu",...e})}function h9({...e}){return a.jsx(Kle,{"data-slot":"dropdown-menu-trigger",...e})}function m9({className:e,sideOffset:t=4,...n}){return a.jsx(Xle,{children:a.jsx(Qle,{"data-slot":"dropdown-menu-content",sideOffset:t,className:At("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function hh({className:e,inset:t,variant:n="default",...r}){return a.jsx(Jle,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:At("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function tce({className:e,inset:t,...n}){return a.jsx(Zle,{"data-slot":"dropdown-menu-label","data-inset":t,className:At("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function dR({className:e,...t}){return a.jsx(ece,{"data-slot":"dropdown-menu-separator",className:At("bg-border -mx-1 my-1 h-px",e),...t})}var X1="Dialog",[g9,aTe]=Vi(X1),[nce,po]=g9(X1),p9=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,u=N.useRef(null),m=N.useRef(null),[f,g]=Hl({prop:r,defaultProp:i??!1,onChange:s,caller:X1});return a.jsx(nce,{scope:t,triggerRef:u,contentRef:m,contentId:uo(),titleId:uo(),descriptionId:uo(),open:f,onOpenChange:g,onOpenToggle:N.useCallback(()=>g(x=>!x),[g]),modal:o,children:n})};p9.displayName=X1;var x9="DialogTrigger",v9=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=po(x9,n),s=Zt(t,i.triggerRef);return a.jsx(St.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":fE(i.open),...r,ref:s,onClick:lt(e.onClick,i.onOpenToggle)})});v9.displayName=x9;var uE="DialogPortal",[rce,y9]=g9(uE,{forceMount:void 0}),b9=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=po(uE,t);return a.jsx(rce,{scope:t,forceMount:n,children:N.Children.map(r,o=>a.jsx(mi,{present:n||s.open,children:a.jsx(D0,{asChild:!0,container:i,children:o})}))})};b9.displayName=uE;var Tv="DialogOverlay",w9=N.forwardRef((e,t)=>{const n=y9(Tv,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=po(Tv,e.__scopeDialog);return s.modal?a.jsx(mi,{present:r||s.open,children:a.jsx(ice,{...i,ref:t})}):null});w9.displayName=Tv;var ace=tu("DialogOverlay.RemoveScroll"),ice=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=po(Tv,n);return a.jsx(R0,{as:ace,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(St.div,{"data-state":fE(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Td="DialogContent",j9=N.forwardRef((e,t)=>{const n=y9(Td,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=po(Td,e.__scopeDialog);return a.jsx(mi,{present:r||s.open,children:s.modal?a.jsx(sce,{...i,ref:t}):a.jsx(oce,{...i,ref:t})})});j9.displayName=Td;var sce=N.forwardRef((e,t)=>{const n=po(Td,e.__scopeDialog),r=N.useRef(null),i=Zt(t,n.contentRef,r);return N.useEffect(()=>{const s=r.current;if(s)return z1(s)},[]),a.jsx(N9,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:lt(e.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:lt(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,u=o.button===0&&o.ctrlKey===!0;(o.button===2||u)&&s.preventDefault()}),onFocusOutside:lt(e.onFocusOutside,s=>s.preventDefault())})}),oce=N.forwardRef((e,t)=>{const n=po(Td,e.__scopeDialog),r=N.useRef(!1),i=N.useRef(!1);return a.jsx(N9,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,u;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var m,f;(m=e.onInteractOutside)==null||m.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((f=n.triggerRef.current)==null?void 0:f.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),N9=N.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=e,u=po(Td,n),m=N.useRef(null),f=Zt(t,m);return I1(),a.jsxs(a.Fragment,{children:[a.jsx(O0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(T0,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":fE(u.open),...o,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(lce,{titleId:u.titleId}),a.jsx(uce,{contentRef:m,descriptionId:u.descriptionId})]})]})}),dE="DialogTitle",S9=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=po(dE,n);return a.jsx(St.h2,{id:i.titleId,...r,ref:t})});S9.displayName=dE;var _9="DialogDescription",A9=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=po(_9,n);return a.jsx(St.p,{id:i.descriptionId,...r,ref:t})});A9.displayName=_9;var E9="DialogClose",C9=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=po(E9,n);return a.jsx(St.button,{type:"button",...r,ref:t,onClick:lt(e.onClick,()=>i.onOpenChange(!1))})});C9.displayName=E9;function fE(e){return e?"open":"closed"}var T9="DialogTitleWarning",[iTe,O9]=Fre(T9,{contentName:Td,titleName:dE,docsSlug:"dialog"}),lce=({titleId:e})=>{const t=O9(T9),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},cce="DialogDescriptionWarning",uce=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${O9(cce).contentName}}.`;return N.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},M9=p9,D9=v9,R9=b9,P9=w9,k9=j9,dce=S9,fce=A9,I9=C9;function hce({...e}){return a.jsx(M9,{"data-slot":"sheet",...e})}function mce({...e}){return a.jsx(D9,{"data-slot":"sheet-trigger",...e})}function gce({...e}){return a.jsx(R9,{"data-slot":"sheet-portal",...e})}function pce({className:e,...t}){return a.jsx(P9,{"data-slot":"sheet-overlay",className:At("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function xce({className:e,children:t,side:n="right",...r}){return a.jsxs(gce,{children:[a.jsx(pce,{}),a.jsxs(k9,{"data-slot":"sheet-content",className:At("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,a.jsxs(I9,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[a.jsx(Xh,{className:"size-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function vce(){const{theme:e,setTheme:t}=fG(),n=()=>{switch(e){case"light":return a.jsx(SS,{className:"h-4 w-4"});case"dark":return a.jsx(bS,{className:"h-4 w-4"});default:return a.jsx(ID,{className:"h-4 w-4"})}};return a.jsxs(f9,{children:[a.jsx(h9,{asChild:!0,children:a.jsxs(Ne,{variant:"ghost",size:"sm",className:"w-9 px-0",children:[n(),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),a.jsxs(m9,{align:"end",children:[a.jsxs(hh,{onClick:()=>t("light"),className:"cursor-pointer",children:[a.jsx(SS,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Light"})]}),a.jsxs(hh,{onClick:()=>t("dark"),className:"cursor-pointer",children:[a.jsx(bS,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Dark"})]}),a.jsxs(hh,{onClick:()=>t("system"),className:"cursor-pointer",children:[a.jsx(ID,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"System"})]})]})]})}function yce(e,t){return N.useReducer((n,r)=>t[n][r]??n,e)}var hE="ScrollArea",[L9,sTe]=Vi(hE),[bce,Vs]=L9(hE),B9=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=e,[u,m]=N.useState(null),[f,g]=N.useState(null),[x,w]=N.useState(null),[_,T]=N.useState(null),[C,A]=N.useState(null),[M,D]=N.useState(0),[R,z]=N.useState(0),[k,I]=N.useState(!1),[B,V]=N.useState(!1),F=Zt(t,W=>m(W)),$=C0(i);return a.jsx(bce,{scope:n,type:r,dir:$,scrollHideDelay:s,scrollArea:u,viewport:f,onViewportChange:g,content:x,onContentChange:w,scrollbarX:_,onScrollbarXChange:T,scrollbarXEnabled:k,onScrollbarXEnabledChange:I,scrollbarY:C,onScrollbarYChange:A,scrollbarYEnabled:B,onScrollbarYEnabledChange:V,onCornerWidthChange:D,onCornerHeightChange:z,children:a.jsx(St.div,{dir:$,...o,ref:F,style:{position:"relative","--radix-scroll-area-corner-width":M+"px","--radix-scroll-area-corner-height":R+"px",...e.style}})})});B9.displayName=hE;var F9="ScrollAreaViewport",U9=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=e,o=Vs(F9,n),u=N.useRef(null),m=Zt(t,u,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),a.jsx(St.div,{"data-radix-scroll-area-viewport":"",...s,ref:m,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});U9.displayName=F9;var il="ScrollAreaScrollbar",z9=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Vs(il,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,u=e.orientation==="horizontal";return N.useEffect(()=>(u?s(!0):o(!0),()=>{u?s(!1):o(!1)}),[u,s,o]),i.type==="hover"?a.jsx(wce,{...r,ref:t,forceMount:n}):i.type==="scroll"?a.jsx(jce,{...r,ref:t,forceMount:n}):i.type==="auto"?a.jsx(V9,{...r,ref:t,forceMount:n}):i.type==="always"?a.jsx(mE,{...r,ref:t}):null});z9.displayName=il;var wce=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Vs(il,e.__scopeScrollArea),[s,o]=N.useState(!1);return N.useEffect(()=>{const u=i.scrollArea;let m=0;if(u){const f=()=>{window.clearTimeout(m),o(!0)},g=()=>{m=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return u.addEventListener("pointerenter",f),u.addEventListener("pointerleave",g),()=>{window.clearTimeout(m),u.removeEventListener("pointerenter",f),u.removeEventListener("pointerleave",g)}}},[i.scrollArea,i.scrollHideDelay]),a.jsx(mi,{present:n||s,children:a.jsx(V9,{"data-state":s?"visible":"hidden",...r,ref:t})})}),jce=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Vs(il,e.__scopeScrollArea),s=e.orientation==="horizontal",o=Z1(()=>m("SCROLL_END"),100),[u,m]=yce("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return N.useEffect(()=>{if(u==="idle"){const f=window.setTimeout(()=>m("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(f)}},[u,i.scrollHideDelay,m]),N.useEffect(()=>{const f=i.viewport,g=s?"scrollLeft":"scrollTop";if(f){let x=f[g];const w=()=>{const _=f[g];x!==_&&(m("SCROLL"),o()),x=_};return f.addEventListener("scroll",w),()=>f.removeEventListener("scroll",w)}},[i.viewport,s,m,o]),a.jsx(mi,{present:n||u!=="hidden",children:a.jsx(mE,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:lt(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:lt(e.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),V9=N.forwardRef((e,t)=>{const n=Vs(il,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,o]=N.useState(!1),u=e.orientation==="horizontal",m=Z1(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;o(u?f:g)}},10);return Sh(n.viewport,m),Sh(n.content,m),a.jsx(mi,{present:r||s,children:a.jsx(mE,{"data-state":s?"visible":"hidden",...i,ref:t})})}),mE=N.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Vs(il,e.__scopeScrollArea),s=N.useRef(null),o=N.useRef(0),[u,m]=N.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=W9(u.viewport,u.content),g={...r,sizes:u,onSizesChange:m,hasThumb:f>0&&f<1,onThumbChange:w=>s.current=w,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:w=>o.current=w};function x(w,_){return Cce(w,o.current,u,_)}return n==="horizontal"?a.jsx(Nce,{...g,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const w=i.viewport.scrollLeft,_=fR(w,u,i.dir);s.current.style.transform=`translate3d(${_}px, 0, 0)`}},onWheelScroll:w=>{i.viewport&&(i.viewport.scrollLeft=w)},onDragScroll:w=>{i.viewport&&(i.viewport.scrollLeft=x(w,i.dir))}}):n==="vertical"?a.jsx(Sce,{...g,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const w=i.viewport.scrollTop,_=fR(w,u);s.current.style.transform=`translate3d(0, ${_}px, 0)`}},onWheelScroll:w=>{i.viewport&&(i.viewport.scrollTop=w)},onDragScroll:w=>{i.viewport&&(i.viewport.scrollTop=x(w))}}):null}),Nce=N.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=Vs(il,e.__scopeScrollArea),[o,u]=N.useState(),m=N.useRef(null),f=Zt(t,m,s.onScrollbarXChange);return N.useEffect(()=>{m.current&&u(getComputedStyle(m.current))},[m]),a.jsx(H9,{"data-orientation":"horizontal",...i,ref:f,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Q1(n)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.x),onDragScroll:g=>e.onDragScroll(g.x),onWheelScroll:(g,x)=>{if(s.viewport){const w=s.viewport.scrollLeft+g.deltaX;e.onWheelScroll(w),K9(w,x)&&g.preventDefault()}},onResize:()=>{m.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:m.current.clientWidth,paddingStart:Mv(o.paddingLeft),paddingEnd:Mv(o.paddingRight)}})}})}),Sce=N.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=Vs(il,e.__scopeScrollArea),[o,u]=N.useState(),m=N.useRef(null),f=Zt(t,m,s.onScrollbarYChange);return N.useEffect(()=>{m.current&&u(getComputedStyle(m.current))},[m]),a.jsx(H9,{"data-orientation":"vertical",...i,ref:f,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Q1(n)+"px",...e.style},onThumbPointerDown:g=>e.onThumbPointerDown(g.y),onDragScroll:g=>e.onDragScroll(g.y),onWheelScroll:(g,x)=>{if(s.viewport){const w=s.viewport.scrollTop+g.deltaY;e.onWheelScroll(w),K9(w,x)&&g.preventDefault()}},onResize:()=>{m.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:m.current.clientHeight,paddingStart:Mv(o.paddingTop),paddingEnd:Mv(o.paddingBottom)}})}})}),[_ce,$9]=L9(il),H9=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:u,onThumbPositionChange:m,onDragScroll:f,onWheelScroll:g,onResize:x,...w}=e,_=Vs(il,n),[T,C]=N.useState(null),A=Zt(t,F=>C(F)),M=N.useRef(null),D=N.useRef(""),R=_.viewport,z=r.content-r.viewport,k=Sa(g),I=Sa(m),B=Z1(x,10);function V(F){if(M.current){const $=F.clientX-M.current.left,W=F.clientY-M.current.top;f({x:$,y:W})}}return N.useEffect(()=>{const F=$=>{const W=$.target;(T==null?void 0:T.contains(W))&&k($,z)};return document.addEventListener("wheel",F,{passive:!1}),()=>document.removeEventListener("wheel",F,{passive:!1})},[R,T,z,k]),N.useEffect(I,[r,I]),Sh(T,B),Sh(_.content,B),a.jsx(_ce,{scope:n,scrollbar:T,hasThumb:i,onThumbChange:Sa(s),onThumbPointerUp:Sa(o),onThumbPositionChange:I,onThumbPointerDown:Sa(u),children:a.jsx(St.div,{...w,ref:A,style:{position:"absolute",...w.style},onPointerDown:lt(e.onPointerDown,F=>{F.button===0&&(F.target.setPointerCapture(F.pointerId),M.current=T.getBoundingClientRect(),D.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",_.viewport&&(_.viewport.style.scrollBehavior="auto"),V(F))}),onPointerMove:lt(e.onPointerMove,V),onPointerUp:lt(e.onPointerUp,F=>{const $=F.target;$.hasPointerCapture(F.pointerId)&&$.releasePointerCapture(F.pointerId),document.body.style.webkitUserSelect=D.current,_.viewport&&(_.viewport.style.scrollBehavior=""),M.current=null})})})}),Ov="ScrollAreaThumb",q9=N.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=$9(Ov,e.__scopeScrollArea);return a.jsx(mi,{present:n||i.hasThumb,children:a.jsx(Ace,{ref:t,...r})})}),Ace=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=Vs(Ov,n),o=$9(Ov,n),{onThumbPositionChange:u}=o,m=Zt(t,x=>o.onThumbChange(x)),f=N.useRef(void 0),g=Z1(()=>{f.current&&(f.current(),f.current=void 0)},100);return N.useEffect(()=>{const x=s.viewport;if(x){const w=()=>{if(g(),!f.current){const _=Tce(x,u);f.current=_,u()}};return u(),x.addEventListener("scroll",w),()=>x.removeEventListener("scroll",w)}},[s.viewport,g,u]),a.jsx(St.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:m,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:lt(e.onPointerDownCapture,x=>{const _=x.target.getBoundingClientRect(),T=x.clientX-_.left,C=x.clientY-_.top;o.onThumbPointerDown({x:T,y:C})}),onPointerUp:lt(e.onPointerUp,o.onThumbPointerUp)})});q9.displayName=Ov;var gE="ScrollAreaCorner",Y9=N.forwardRef((e,t)=>{const n=Vs(gE,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(Ece,{...e,ref:t}):null});Y9.displayName=gE;var Ece=N.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Vs(gE,n),[s,o]=N.useState(0),[u,m]=N.useState(0),f=!!(s&&u);return Sh(i.scrollbarX,()=>{var x;const g=((x=i.scrollbarX)==null?void 0:x.offsetHeight)||0;i.onCornerHeightChange(g),m(g)}),Sh(i.scrollbarY,()=>{var x;const g=((x=i.scrollbarY)==null?void 0:x.offsetWidth)||0;i.onCornerWidthChange(g),o(g)}),f?a.jsx(St.div,{...r,ref:t,style:{width:s,height:u,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Mv(e){return e?parseInt(e,10):0}function W9(e,t){const n=e/t;return isNaN(n)?0:n}function Q1(e){const t=W9(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Cce(e,t,n,r="ltr"){const i=Q1(n),s=i/2,o=t||s,u=i-o,m=n.scrollbar.paddingStart+o,f=n.scrollbar.size-n.scrollbar.paddingEnd-u,g=n.content-n.viewport,x=r==="ltr"?[0,g]:[g*-1,0];return G9([m,f],x)(e)}function fR(e,t,n="ltr"){const r=Q1(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,o=t.content-t.viewport,u=s-r,m=n==="ltr"?[0,o]:[o*-1,0],f=AS(e,m);return G9([0,o],[0,u])(f)}function G9(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function K9(e,t){return e>0&&e<t}var Tce=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},o=n.left!==s.left,u=n.top!==s.top;(o||u)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Z1(e,t){const n=Sa(e),r=N.useRef(0);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),N.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Sh(e,t){const n=Sa(t);ra(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var Oce=B9,Mce=U9,Dce=Y9;function Od({className:e,children:t,...n}){return a.jsxs(Oce,{"data-slot":"scroll-area",className:At("relative",e),...n,children:[a.jsx(Mce,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),a.jsx(Rce,{}),a.jsx(Dce,{})]})}function Rce({className:e,orientation:t="vertical",...n}){return a.jsx(z9,{"data-slot":"scroll-area-scrollbar",orientation:t,className:At("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:a.jsx(q9,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}var J1="Popover",[X9,oTe]=Vi(J1,[Jh]),L0=Jh(),[Pce,yu]=X9(J1),Q9=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=e,u=L0(t),m=N.useRef(null),[f,g]=N.useState(!1),[x,w]=Hl({prop:r,defaultProp:i??!1,onChange:s,caller:J1});return a.jsx(ZA,{...u,children:a.jsx(Pce,{scope:t,contentId:uo(),triggerRef:m,open:x,onOpenChange:w,onOpenToggle:N.useCallback(()=>w(_=>!_),[w]),hasCustomAnchor:f,onCustomAnchorAdd:N.useCallback(()=>g(!0),[]),onCustomAnchorRemove:N.useCallback(()=>g(!1),[]),modal:o,children:n})})};Q9.displayName=J1;var Z9="PopoverAnchor",kce=N.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=yu(Z9,n),s=L0(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:u}=i;return N.useEffect(()=>(o(),()=>u()),[o,u]),a.jsx(U1,{...s,...r,ref:t})});kce.displayName=Z9;var J9="PopoverTrigger",eF=N.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=yu(J9,n),s=L0(n),o=Zt(t,i.triggerRef),u=a.jsx(St.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":iF(i.open),...r,ref:o,onClick:lt(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?u:a.jsx(U1,{asChild:!0,...s,children:u})});eF.displayName=J9;var pE="PopoverPortal",[Ice,Lce]=X9(pE,{forceMount:void 0}),tF=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,s=yu(pE,t);return a.jsx(Ice,{scope:t,forceMount:n,children:a.jsx(mi,{present:n||s.open,children:a.jsx(D0,{asChild:!0,container:i,children:r})})})};tF.displayName=pE;var _h="PopoverContent",nF=N.forwardRef((e,t)=>{const n=Lce(_h,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,s=yu(_h,e.__scopePopover);return a.jsx(mi,{present:r||s.open,children:s.modal?a.jsx(Fce,{...i,ref:t}):a.jsx(Uce,{...i,ref:t})})});nF.displayName=_h;var Bce=tu("PopoverContent.RemoveScroll"),Fce=N.forwardRef((e,t)=>{const n=yu(_h,e.__scopePopover),r=N.useRef(null),i=Zt(t,r),s=N.useRef(!1);return N.useEffect(()=>{const o=r.current;if(o)return z1(o)},[]),a.jsx(R0,{as:Bce,allowPinchZoom:!0,children:a.jsx(rF,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:lt(e.onCloseAutoFocus,o=>{var u;o.preventDefault(),s.current||(u=n.triggerRef.current)==null||u.focus()}),onPointerDownOutside:lt(e.onPointerDownOutside,o=>{const u=o.detail.originalEvent,m=u.button===0&&u.ctrlKey===!0,f=u.button===2||m;s.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:lt(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Uce=N.forwardRef((e,t)=>{const n=yu(_h,e.__scopePopover),r=N.useRef(!1),i=N.useRef(!1);return a.jsx(rF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,u;(o=e.onCloseAutoFocus)==null||o.call(e,s),s.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var m,f;(m=e.onInteractOutside)==null||m.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((f=n.triggerRef.current)==null?void 0:f.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),rF=N.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:g,...x}=e,w=yu(_h,n),_=L0(n);return I1(),a.jsx(O0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(T0,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:g,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:f,onDismiss:()=>w.onOpenChange(!1),children:a.jsx(JA,{"data-state":iF(w.open),role:"dialog",id:w.contentId,..._,...x,ref:t,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),aF="PopoverClose",zce=N.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=yu(aF,n);return a.jsx(St.button,{type:"button",...r,ref:t,onClick:lt(e.onClick,()=>i.onOpenChange(!1))})});zce.displayName=aF;var Vce="PopoverArrow",$ce=N.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=L0(n);return a.jsx(eE,{...i,...r,ref:t})});$ce.displayName=Vce;function iF(e){return e?"open":"closed"}var Hce=Q9,qce=eF,Yce=tF,Wce=nF;function Gce({...e}){return a.jsx(Hce,{"data-slot":"popover",...e})}function Kce({...e}){return a.jsx(qce,{"data-slot":"popover-trigger",...e})}function Xce({className:e,align:t="center",sideOffset:n=4,...r}){return a.jsx(Yce,{children:a.jsx(Wce,{"data-slot":"popover-content",align:t,sideOffset:n,className:At("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}const sF=6048e5,Qce=864e5,oF=6e4,lF=36e5,Dx=43200,hR=1440,mR=Symbol.for("constructDateFrom");function fi(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&mR in e?e[mR](t):e instanceof Date?new e.constructor(t):new Date(t)}function Nr(e,t){return fi(t||e,e)}function cF(e,t,n){const r=Nr(e,n==null?void 0:n.in);return isNaN(t)?fi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Zce(e,t,n){const r=Nr(e,n==null?void 0:n.in);if(isNaN(t))return fi(e,NaN);if(!t)return r;const i=r.getDate(),s=fi(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const o=s.getDate();return i>=o?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}let Jce={};function B0(){return Jce}function i0(e,t){var u,m,f,g;const n=B0(),r=(t==null?void 0:t.weekStartsOn)??((m=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((g=(f=n.locale)==null?void 0:f.options)==null?void 0:g.weekStartsOn)??0,i=Nr(e,t==null?void 0:t.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Dv(e,t){return i0(e,{...t,weekStartsOn:1})}function uF(e,t){const n=Nr(e,t==null?void 0:t.in),r=n.getFullYear(),i=fi(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Dv(i),o=fi(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const u=Dv(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function Rv(e){const t=Nr(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function tm(e,...t){const n=fi.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function Pv(e,t){const n=Nr(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function eue(e,t,n){const[r,i]=tm(n==null?void 0:n.in,e,t),s=Pv(r),o=Pv(i),u=+s-Rv(s),m=+o-Rv(o);return Math.round((u-m)/Qce)}function tue(e,t){const n=uF(e,t),r=fi(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Dv(r)}function lv(e,t){const n=+Nr(e)-+Nr(t);return n<0?-1:n>0?1:n}function dF(e){return fi(e,Date.now())}function nue(e,t,n){const[r,i]=tm(n==null?void 0:n.in,e,t);return+Pv(r)==+Pv(i)}function rue(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function aue(e){return!(!rue(e)&&typeof e!="number"||isNaN(+Nr(e)))}function iue(e,t,n){const[r,i]=tm(n==null?void 0:n.in,e,t),s=r.getFullYear()-i.getFullYear(),o=r.getMonth()-i.getMonth();return s*12+o}function sue(e){return t=>{const r=(e?Math[e]:Math.trunc)(t);return r===0?0:r}}function oue(e,t){return+Nr(e)-+Nr(t)}function lue(e,t){const n=Nr(e,t==null?void 0:t.in);return n.setHours(23,59,59,999),n}function ey(e,t){const n=Nr(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function cue(e,t){const n=Nr(e,t==null?void 0:t.in);return+lue(n,t)==+ey(n,t)}function uue(e,t,n){const[r,i,s]=tm(n==null?void 0:n.in,e,e,t),o=lv(i,s),u=Math.abs(iue(i,s));if(u<1)return 0;i.getMonth()===1&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*u);let m=lv(i,s)===-o;cue(r)&&u===1&&lv(r,s)===1&&(m=!1);const f=o*(u-+m);return f===0?0:f}function due(e,t,n){const r=oue(e,t)/1e3;return sue(n==null?void 0:n.roundingMethod)(r)}function fF(e,t){const[n,r]=tm(e,t.start,t.end);return{start:n,end:r}}function fue(e,t){const{start:n,end:r}=fF(t==null?void 0:t.in,e);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0);let u=1;const m=[];for(;+o<=s;)m.push(fi(n,o)),o.setDate(o.getDate()+u),o.setHours(0,0,0,0);return i?m.reverse():m}function hue(e,t){const{start:n,end:r}=fF(t==null?void 0:t.in,e);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0),o.setDate(1);let u=1;const m=[];for(;+o<=s;)m.push(fi(n,o)),o.setMonth(o.getMonth()+u);return i?m.reverse():m}function xE(e,t){const n=Nr(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function mue(e,t){const n=Nr(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const gue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pue=(e,t,n)=>{let r;const i=gue[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function mh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const xue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bue={date:mh({formats:xue,defaultWidth:"full"}),time:mh({formats:vue,defaultWidth:"full"}),dateTime:mh({formats:yue,defaultWidth:"full"})},wue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jue=(e,t,n,r)=>wue[e];function Fo(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,u=n!=null&&n.width?String(n.width):o;i=e.formattingValues[u]||e.formattingValues[o]}else{const o=e.defaultWidth,u=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[u]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const Nue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Sue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_ue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Aue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Eue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Cue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Tue=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Oue={ordinalNumber:Tue,era:Fo({values:Nue,defaultWidth:"wide"}),quarter:Fo({values:Sue,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fo({values:_ue,defaultWidth:"wide"}),day:Fo({values:Aue,defaultWidth:"wide"}),dayPeriod:Fo({values:Eue,defaultWidth:"wide",formattingValues:Cue,defaultFormattingWidth:"wide"})};function Uo(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(u)?Due(u,x=>x.test(o)):Mue(u,x=>x.test(o));let f;f=e.valueCallback?e.valueCallback(m):m,f=n.valueCallback?n.valueCallback(f):f;const g=t.slice(o.length);return{value:f,rest:g}}}function Mue(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Due(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function hF(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const u=t.slice(i.length);return{value:o,rest:u}}}const Rue=/^(\d+)(th|st|nd|rd)?/i,Pue=/\d+/i,kue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Iue={any:[/^b/i,/^(a|c)/i]},Lue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bue={any:[/1/i,/2/i,/3/i,/4/i]},Fue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Uue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Vue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$ue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Hue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},que={ordinalNumber:hF({matchPattern:Rue,parsePattern:Pue,valueCallback:e=>parseInt(e,10)}),era:Uo({matchPatterns:kue,defaultMatchWidth:"wide",parsePatterns:Iue,defaultParseWidth:"any"}),quarter:Uo({matchPatterns:Lue,defaultMatchWidth:"wide",parsePatterns:Bue,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Uo({matchPatterns:Fue,defaultMatchWidth:"wide",parsePatterns:Uue,defaultParseWidth:"any"}),day:Uo({matchPatterns:zue,defaultMatchWidth:"wide",parsePatterns:Vue,defaultParseWidth:"any"}),dayPeriod:Uo({matchPatterns:$ue,defaultMatchWidth:"any",parsePatterns:Hue,defaultParseWidth:"any"})},mF={code:"en-US",formatDistance:pue,formatLong:bue,formatRelative:jue,localize:Oue,match:que,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Yue(e,t){const n=Nr(e,t==null?void 0:t.in);return eue(n,mue(n))+1}function Wue(e,t){const n=Nr(e,t==null?void 0:t.in),r=+Dv(n)-+tue(n);return Math.round(r/sF)+1}function gF(e,t){var g,x,w,_;const n=Nr(e,t==null?void 0:t.in),r=n.getFullYear(),i=B0(),s=(t==null?void 0:t.firstWeekContainsDate)??((x=(g=t==null?void 0:t.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??i.firstWeekContainsDate??((_=(w=i.locale)==null?void 0:w.options)==null?void 0:_.firstWeekContainsDate)??1,o=fi((t==null?void 0:t.in)||e,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const u=i0(o,t),m=fi((t==null?void 0:t.in)||e,0);m.setFullYear(r,0,s),m.setHours(0,0,0,0);const f=i0(m,t);return+n>=+u?r+1:+n>=+f?r:r-1}function Gue(e,t){var u,m,f,g;const n=B0(),r=(t==null?void 0:t.firstWeekContainsDate)??((m=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(f=n.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,i=gF(e,t),s=fi((t==null?void 0:t.in)||e,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),i0(s,t)}function Kue(e,t){const n=Nr(e,t==null?void 0:t.in),r=+i0(n,t)-+Gue(n,t);return Math.round(r/sF)+1}function Pn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Lc={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Pn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Pn(n+1,2)},d(e,t){return Pn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Pn(e.getHours()%12||12,t.length)},H(e,t){return Pn(e.getHours(),t.length)},m(e,t){return Pn(e.getMinutes(),t.length)},s(e,t){return Pn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Pn(i,t.length)}},Gf={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},gR={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Lc.y(e,t)},Y:function(e,t,n,r){const i=gF(e,r),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return Pn(o,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):Pn(s,t.length)},R:function(e,t){const n=uF(e);return Pn(n,t.length)},u:function(e,t){const n=e.getFullYear();return Pn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Pn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Pn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Lc.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Pn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=Kue(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Pn(i,t.length)},I:function(e,t,n){const r=Wue(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Pn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Lc.d(e,t)},D:function(e,t,n){const r=Yue(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Pn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Pn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Pn(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Pn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Gf.noon:r===0?i=Gf.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Gf.evening:r>=12?i=Gf.afternoon:r>=4?i=Gf.morning:i=Gf.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Lc.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Lc.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Pn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Pn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Lc.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Lc.s(e,t)},S:function(e,t){return Lc.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return xR(r);case"XXXX":case"XX":return ad(r);case"XXXXX":case"XXX":default:return ad(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return xR(r);case"xxxx":case"xx":return ad(r);case"xxxxx":case"xxx":default:return ad(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+pR(r,":");case"OOOO":default:return"GMT"+ad(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+pR(r,":");case"zzzz":default:return"GMT"+ad(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return Pn(r,t.length)},T:function(e,t,n){return Pn(+e,t.length)}};function pR(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+t+Pn(s,2)}function xR(e,t){return e%60===0?(e>0?"-":"+")+Pn(Math.abs(e)/60,2):ad(e,t)}function ad(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Pn(Math.trunc(r/60),2),s=Pn(r%60,2);return n+i+t+s}const vR=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},pF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Xue=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return vR(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",vR(r,t)).replace("{{time}}",pF(i,t))},Que={p:pF,P:Xue},Zue=/^D+$/,Jue=/^Y+$/,ede=["D","DD","YY","YYYY"];function tde(e){return Zue.test(e)}function nde(e){return Jue.test(e)}function rde(e,t,n){const r=ade(e,t,n);if(console.warn(r),ede.includes(e))throw new RangeError(r)}function ade(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ide=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ode=/^'([^]*?)'?$/,lde=/''/g,cde=/[a-zA-Z]/;function lr(e,t,n){var g,x,w,_,T,C,A,M;const r=B0(),i=(n==null?void 0:n.locale)??r.locale??mF,s=(n==null?void 0:n.firstWeekContainsDate)??((x=(g=n==null?void 0:n.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??r.firstWeekContainsDate??((_=(w=r.locale)==null?void 0:w.options)==null?void 0:_.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((C=(T=n==null?void 0:n.locale)==null?void 0:T.options)==null?void 0:C.weekStartsOn)??r.weekStartsOn??((M=(A=r.locale)==null?void 0:A.options)==null?void 0:M.weekStartsOn)??0,u=Nr(e,n==null?void 0:n.in);if(!aue(u))throw new RangeError("Invalid time value");let m=t.match(sde).map(D=>{const R=D[0];if(R==="p"||R==="P"){const z=Que[R];return z(D,i.formatLong)}return D}).join("").match(ide).map(D=>{if(D==="''")return{isToken:!1,value:"'"};const R=D[0];if(R==="'")return{isToken:!1,value:ude(D)};if(gR[R])return{isToken:!0,value:D};if(R.match(cde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:D}});i.localize.preprocessor&&(m=i.localize.preprocessor(u,m));const f={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return m.map(D=>{if(!D.isToken)return D.value;const R=D.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&nde(R)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&tde(R))&&rde(R,t,String(e));const z=gR[R[0]];return z(u,R,i.localize,f)}).join("")}function ude(e){const t=e.match(ode);return t?t[1].replace(lde,"'"):e}function dde(e,t,n){const r=B0(),i=(n==null?void 0:n.locale)??r.locale??mF,s=2520,o=lv(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const u=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o}),[m,f]=tm(n==null?void 0:n.in,...o>0?[t,e]:[e,t]),g=due(f,m),x=(Rv(f)-Rv(m))/1e3,w=Math.round((g-x)/60);let _;if(w<2)return n!=null&&n.includeSeconds?g<5?i.formatDistance("lessThanXSeconds",5,u):g<10?i.formatDistance("lessThanXSeconds",10,u):g<20?i.formatDistance("lessThanXSeconds",20,u):g<40?i.formatDistance("halfAMinute",0,u):g<60?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",1,u):w===0?i.formatDistance("lessThanXMinutes",1,u):i.formatDistance("xMinutes",w,u);if(w<45)return i.formatDistance("xMinutes",w,u);if(w<90)return i.formatDistance("aboutXHours",1,u);if(w<hR){const T=Math.round(w/60);return i.formatDistance("aboutXHours",T,u)}else{if(w<s)return i.formatDistance("xDays",1,u);if(w<Dx){const T=Math.round(w/hR);return i.formatDistance("xDays",T,u)}else if(w<Dx*2)return _=Math.round(w/Dx),i.formatDistance("aboutXMonths",_,u)}if(_=uue(f,m),_<12){const T=Math.round(w/Dx);return i.formatDistance("xMonths",T,u)}else{const T=_%12,C=Math.trunc(_/12);return T<3?i.formatDistance("aboutXYears",C,u):T<9?i.formatDistance("overXYears",C,u):i.formatDistance("almostXYears",C+1,u)}}function Ah(e,t){return dde(e,dF(e),t)}function kv(e,t){return nue(fi(e,e),dF(e))}function zo(e,t,n){return cF(e,-t,n)}function Jr(e,t){const n=()=>fi(t==null?void 0:t.in,NaN),i=gde(e);let s;if(i.date){const f=pde(i.date,2);s=xde(f.restDateString,f.year)}if(!s||isNaN(+s))return n();const o=+s;let u=0,m;if(i.time&&(u=vde(i.time),isNaN(u)))return n();if(i.timezone){if(m=yde(i.timezone),isNaN(m))return n()}else{const f=new Date(o+u),g=Nr(0,t==null?void 0:t.in);return g.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),g.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),g}return Nr(o+u+m,t==null?void 0:t.in)}const Rx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},fde=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,hde=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,mde=/^([+-])(\d{2})(?::?(\d{2}))?$/;function gde(e){const t={},n=e.split(Rx.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Rx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Rx.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=Rx.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function pde(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function xde(e,t){if(t===null)return new Date(NaN);const n=e.match(fde);if(!n)return new Date(NaN);const r=!!n[4],i=ug(n[1]),s=ug(n[2])-1,o=ug(n[3]),u=ug(n[4]),m=ug(n[5])-1;if(r)return Sde(t,u,m)?bde(t,u,m):new Date(NaN);{const f=new Date(0);return!jde(t,s,o)||!Nde(t,i)?new Date(NaN):(f.setUTCFullYear(t,s,Math.max(i,o)),f)}}function ug(e){return e?parseInt(e):1}function vde(e){const t=e.match(hde);if(!t)return NaN;const n=T2(t[1]),r=T2(t[2]),i=T2(t[3]);return _de(n,r,i)?n*lF+r*oF+i*1e3:NaN}function T2(e){return e&&parseFloat(e.replace(",","."))||0}function yde(e){if(e==="Z")return 0;const t=e.match(mde);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Ade(r,i)?n*(r*lF+i*oF):NaN}function bde(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,s=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const wde=[31,null,31,30,31,30,31,31,30,31,30,31];function xF(e){return e%400===0||e%4===0&&e%100!==0}function jde(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(wde[t]||(xF(e)?29:28))}function Nde(e,t){return t>=1&&t<=(xF(e)?366:365)}function Sde(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function _de(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Ade(e,t){return t>=0&&t<=59}function O2(e,t,n){return Zce(e,-t,n)}const Ede=()=>{const{notifications:e,unreadCount:t,markAsRead:n,markAllAsRead:r,deleteNotification:i}=$_(),{language:s}=$t(),o=go(),[u,m]=N.useState(!1),f=e.slice(0,10),g=A=>{switch(A){case"success":return"";case"warning":return"";case"error":return"";case"ticket":return"";case"payment":return"";case"refund":return"";case"event":return"";case"system":return"";default:return""}},x=A=>{if(A.priority==="urgent")return"text-red-600 bg-red-50 border-red-200";if(A.priority==="high")return"text-orange-600 bg-orange-50 border-orange-200";switch(A.type){case"success":return"text-green-600 bg-green-50 border-green-200";case"warning":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"error":return"text-red-600 bg-red-50 border-red-200";default:return"text-blue-600 bg-blue-50 border-blue-200"}},w=A=>{A.is_read||n(A.id),A.action_url&&(o(A.action_url),m(!1))},_=()=>{r()},C={en:{notifications:"Notifications",markAllRead:"Mark all as read",noNotifications:"No notifications",noNotificationsDesc:"You're all caught up!",viewAll:"View all notifications",delete:"Delete",just_now:"just now"},ar:{notifications:"",markAllRead:"  ",noNotifications:"  ",noNotificationsDesc:"  !",viewAll:"  ",delete:"",just_now:""}}[s];return a.jsxs(Gce,{open:u,onOpenChange:m,children:[a.jsx(Kce,{asChild:!0,children:a.jsxs(Ne,{variant:"ghost",size:"sm",className:"relative p-2 hover:bg-gray-100 dark:hover:bg-gray-800",children:[a.jsx(wh,{className:"h-5 w-5"}),a.jsx(A1,{children:t>0&&a.jsx(We.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},className:"absolute -top-1 -right-1",children:a.jsx(et,{variant:"destructive",className:"h-5 w-5 p-0 flex items-center justify-center text-xs",children:t>99?"99+":t})})})]})}),a.jsx(Xce,{className:"w-80 p-0 shadow-lg border",align:"end",sideOffset:5,children:a.jsxs(me,{className:"border-0 shadow-none",children:[a.jsx(Re,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Pe,{className:"text-lg font-semibold",children:C.notifications}),t>0&&a.jsx(Ne,{variant:"ghost",size:"sm",onClick:_,className:"text-xs text-muted-foreground hover:text-foreground",children:C.markAllRead})]})}),a.jsxs(ge,{className:"p-0",children:[f.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[a.jsx(wh,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"font-semibold text-muted-foreground",children:C.noNotifications}),a.jsx("p",{className:"text-sm text-muted-foreground",children:C.noNotificationsDesc})]}):a.jsx(Od,{className:"h-80",children:a.jsx("div",{className:"space-y-1",children:f.map((A,M)=>a.jsxs("div",{children:[a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.05},className:`p-3 cursor-pointer transition-colors border-l-4 ${A.is_read?"border-l-gray-200 hover:bg-gray-50 dark:hover:bg-gray-800":x(A)}`,onClick:()=>w(A),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"text-lg flex-shrink-0 mt-0.5",children:g(A.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx("h4",{className:`text-sm font-medium leading-tight ${A.is_read?"text-muted-foreground":"text-foreground"}`,children:A.title}),a.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[A.action_url&&a.jsx(GL,{className:"h-3 w-3 text-muted-foreground"}),a.jsx(Ne,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 hover:text-red-600",onClick:D=>{D.stopPropagation(),i(A.id)},children:a.jsx(bv,{className:"h-3 w-3"})})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:A.message}),a.jsxs("div",{className:"flex items-center justify-between mt-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:Ah(new Date(A.created_at),{addSuffix:!0}).replace("about ","")}),!A.is_read&&a.jsx(et,{variant:"secondary",className:"h-5 px-2 text-xs",children:"New"})]})]})]})}),M<f.length-1&&a.jsx(Bi,{className:"mx-3"})]},A.id))})}),f.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(Bi,{}),a.jsx("div",{className:"p-3",children:a.jsx(Ne,{variant:"ghost",className:"w-full text-sm",onClick:()=>{o("/notifications"),m(!1)},children:C.viewAll})})]})]})]})})]})},Cde=[{label:"nav.dashboard",href:"",icon:Dne,roles:["passenger","driver","merchant","event_admin","admin"]},{label:"nav.wallet",href:"wallet",icon:su,roles:["passenger","driver","merchant","event_admin"]},{label:"nav.scanner",href:"scanner",icon:nr,roles:["passenger"]},{label:"nav.transactions",href:"transactions",icon:Xg,roles:["passenger","driver","merchant","event_admin","admin"]},{label:"nav.events",href:"events",icon:Ta,roles:["passenger","event_admin"]},{label:"nav.tickets",href:"tickets",icon:Oa,roles:["passenger"]},{label:"nav.earnings",href:"earnings",icon:Wn,roles:["driver"]},{label:"nav.trips",href:"trips",icon:oi,roles:["driver"]},{label:"nav.verification",href:"verification",icon:li,roles:["driver"]},{label:"nav.qrcode",href:"qr-generator",icon:nr,roles:["driver","merchant"]},{label:"nav.business",href:"business",icon:au,roles:["merchant"]},{label:"nav.management",href:"management",icon:Ta,roles:["event_admin"]},{label:"nav.withdrawal",href:"withdrawal",icon:Ea,roles:["merchant","event_admin"]},{label:"nav.analytics",href:"analytics",icon:M1,roles:["admin"]},{label:"nav.users",href:"users",icon:Ca,roles:["admin"]},{label:"nav.disputes",href:"disputes",icon:li,roles:["admin"]},{label:"nav.verificationReview",href:"verification-review",icon:li,roles:["admin"]},{label:"nav.notifications",href:"notifications",icon:wh,roles:["passenger","driver","merchant","event_admin","admin"]},{label:"nav.chat",href:"chat",icon:jh,roles:["passenger","driver","merchant","event_admin"]},{label:"nav.chatManagement",href:"chat-management",icon:jh,roles:["admin"]},{label:"nav.broadcast",href:"broadcast",icon:KL,roles:["admin"]}];function F0({children:e,userType:t}){var A;const[n,r]=N.useState(!1),{profile:i,signOut:s}=Wt(),{t:o,language:u,setLanguage:m,isRTL:f}=$t(),g=rl(),x=go(),w=Cde.filter(M=>M.roles.includes(t)),_=async()=>{await s(),x("/login")},T=M=>{switch(M){case"passenger":return"bg-blue-500";case"driver":return"bg-green-500";case"merchant":return"bg-purple-500";case"event_admin":return"bg-orange-500";case"admin":return"bg-red-500";default:return"bg-gray-500"}},C=()=>{var M;return a.jsxs("div",{className:"flex h-full flex-col",children:[a.jsxs("div",{className:"flex h-16 items-center gap-2 border-b px-6",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-white",children:a.jsx(Oa,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-xl font-bold text-primary",children:o("app.name")})]}),a.jsx("div",{className:"border-b p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(e0,{className:"h-10 w-10",children:[a.jsx(t0,{src:i==null?void 0:i.avatar_url,alt:i==null?void 0:i.full_name}),a.jsx(n0,{children:(M=i==null?void 0:i.full_name)==null?void 0:M.split(" ").map(D=>D[0]).join("").toUpperCase()})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:i==null?void 0:i.full_name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(et,{variant:"secondary",className:`text-xs text-white ${T(t)}`,children:o(`auth.${t}`)}),(i==null?void 0:i.is_verified)&&a.jsx(P1,{className:"h-3 w-3 text-yellow-500"})]})]})]})}),a.jsx("nav",{className:"flex-1 space-y-1 px-3 py-4",children:w.map(D=>{const R=g.pathname===`/${t}/${D.href}`||D.href===""&&g.pathname===`/${t}`;return a.jsxs(Gt,{to:`/${t}/${D.href}`,className:`flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ${R?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"}`,onClick:()=>r(!1),children:[a.jsx(D.icon,{className:"h-5 w-5"}),a.jsx("span",{className:"flex-1",children:o(D.label)}),D.badge&&a.jsx(et,{variant:"secondary",className:"text-xs",children:D.badge}),a.jsx(ane,{className:"h-4 w-4"})]},D.href)})}),a.jsx(Bi,{}),a.jsxs("div",{className:"space-y-1 p-3",children:[a.jsxs(Gt,{to:`/${t}/profile`,className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-muted-foreground transition-colors hover:bg-accent hover:text-accent-foreground",onClick:()=>r(!1),children:[a.jsx(iu,{className:"h-5 w-5"}),a.jsx("span",{children:o("nav.profile")})]}),a.jsxs(Gt,{to:`/${t}/settings`,className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-muted-foreground transition-colors hover:bg-accent hover:text-accent-foreground",onClick:()=>r(!1),children:[a.jsx(ru,{className:"h-5 w-5"}),a.jsx("span",{children:o("nav.settings")})]})]})]})};return a.jsxs("div",{className:`flex h-screen bg-background ${f?"rtl":"ltr"}`,children:[a.jsx("aside",{className:"hidden lg:flex lg:flex-col lg:w-72 lg:border-r",children:a.jsx(C,{})}),a.jsxs(hce,{open:n,onOpenChange:r,children:[a.jsx(mce,{asChild:!0,className:"lg:hidden",children:a.jsx(Ne,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50",children:a.jsx(kD,{className:"h-5 w-5"})})}),a.jsx(xce,{side:f?"right":"left",className:"w-72 p-0",children:a.jsx(C,{})})]}),a.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[a.jsxs("header",{className:"flex h-16 items-center justify-between border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 px-4 lg:px-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsx(Ne,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>r(!0),children:a.jsx(kD,{className:"h-5 w-5"})})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ne,{variant:"ghost",size:"sm",onClick:()=>m(u==="en"?"ar":"en"),children:[a.jsx(kA,{className:"h-4 w-4 mr-2"}),u==="en"?"":"English"]}),a.jsx(vce,{}),a.jsx(Ede,{}),a.jsxs(f9,{children:[a.jsx(h9,{asChild:!0,children:a.jsx(Ne,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:a.jsxs(e0,{className:"h-8 w-8",children:[a.jsx(t0,{src:i==null?void 0:i.avatar_url,alt:i==null?void 0:i.full_name}),a.jsx(n0,{children:(A=i==null?void 0:i.full_name)==null?void 0:A.split(" ").map(M=>M[0]).join("").toUpperCase()})]})})}),a.jsxs(m9,{className:"w-56",align:"end",forceMount:!0,children:[a.jsx(tce,{className:"font-normal",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium",children:i==null?void 0:i.full_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:i==null?void 0:i.email})]})}),a.jsx(dR,{}),a.jsx(hh,{asChild:!0,children:a.jsxs(Gt,{to:`/${t}/profile`,children:[a.jsx(iu,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:o("nav.profile")})]})}),a.jsx(hh,{asChild:!0,children:a.jsxs(Gt,{to:`/${t}/settings`,children:[a.jsx(ru,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:o("nav.settings")})]})}),a.jsx(dR,{}),a.jsxs(hh,{onClick:_,children:[a.jsx(kne,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:o("auth.logout")})]})]})]})]})]}),a.jsx("main",{className:"flex-1 overflow-auto",children:a.jsx(A1,{mode:"wait",children:a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"h-full",children:e},g.pathname)})})]})]})}function Tde(){var z;const[e,t]=N.useState(null),[n,r]=N.useState([]),[i,s]=N.useState([]),[o,u]=N.useState([]),[m,f]=N.useState(!0),[g,x]=N.useState(!0),{profile:w}=Wt(),{t:_,isRTL:T}=$t();N.useEffect(()=>{w&&C()},[w]);const C=async()=>{try{const{data:k}=await qe.from("wallets").select("*").eq("user_id",w==null?void 0:w.id).single();k&&t(k);const{data:I}=await qe.from("transactions").select(`
          *,
          from_profile:profiles!transactions_from_user_id_fkey(full_name),
          to_profile:profiles!transactions_to_user_id_fkey(full_name)
        `).or(`from_user_id.eq.${w==null?void 0:w.id},to_user_id.eq.${w==null?void 0:w.id}`).order("created_at",{ascending:!1}).limit(5);if(I){const F=I.map($=>{var W,Y;return{...$,from_user_name:(W=$.from_profile)==null?void 0:W.full_name,to_user_name:(Y=$.to_profile)==null?void 0:Y.full_name}});r(F)}const{data:B}=await qe.from("events").select("*").eq("is_active",!0).gte("start_date",new Date().toISOString()).order("start_date",{ascending:!0}).limit(3);B&&s(B);const{data:V}=await qe.from("user_tickets").select("*").eq("user_id",w==null?void 0:w.id).eq("status","active").order("purchased_at",{ascending:!1}).limit(3);V&&u(V)}catch(k){console.error("Error fetching dashboard data:",k)}finally{x(!1)}},A=k=>new Intl.NumberFormat(T?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(k),M=k=>new Date(k).toLocaleDateString(T?"ar-SY":"en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=(k,I)=>k==="recharge"?a.jsx(cs,{className:"h-4 w-4 text-green-600"}):I?a.jsx($l,{className:"h-4 w-4 text-red-600"}):a.jsx(Wn,{className:"h-4 w-4 text-green-600"}),R=()=>a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Gt,{to:"/passenger/scanner",children:a.jsx(me,{className:"cursor-pointer transition-all hover:shadow-md hover:scale-105",children:a.jsxs(ge,{className:"flex flex-col items-center justify-center p-6",children:[a.jsx("div",{className:"rounded-full bg-primary/10 p-3 mb-3",children:a.jsx(nr,{className:"h-6 w-6 text-primary"})}),a.jsx("h3",{className:"font-medium text-center",children:_("scanner.title")}),a.jsx("p",{className:"text-xs text-muted-foreground text-center mt-1",children:"Pay with QR code"})]})})}),a.jsx(Gt,{to:"/passenger/wallet",children:a.jsx(me,{className:"cursor-pointer transition-all hover:shadow-md hover:scale-105",children:a.jsxs(ge,{className:"flex flex-col items-center justify-center p-6",children:[a.jsx("div",{className:"rounded-full bg-green-500/10 p-3 mb-3",children:a.jsx(cs,{className:"h-6 w-6 text-green-600"})}),a.jsx("h3",{className:"font-medium text-center",children:_("wallet.recharge")}),a.jsx("p",{className:"text-xs text-muted-foreground text-center mt-1",children:"Add money to wallet"})]})})})]});return g?a.jsx("div",{className:"flex h-full items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:_("common.loading")})]})}):a.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold",children:[_("app.welcome"),", ",(z=w==null?void 0:w.full_name)==null?void 0:z.split(" ")[0],"!"]}),a.jsx("p",{className:"text-muted-foreground",children:new Date().toLocaleDateString(T?"ar-SY":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),a.jsx(et,{variant:"outline",className:"hidden sm:flex",children:_("auth.passenger")})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsx(me,{className:"bg-gradient-to-r from-primary via-primary/90 to-primary/80 text-white",children:a.jsxs(ge,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(su,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:_("wallet.title")})]}),a.jsx(Ne,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",onClick:()=>f(!m),children:m?a.jsx(di,{className:"h-4 w-4"}):a.jsx(Hn,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm opacity-90",children:_("wallet.balance")}),a.jsx("p",{className:"text-3xl font-bold",children:m?A((e==null?void 0:e.balance)||0):""}),(e==null?void 0:e.is_frozen)&&a.jsx(et,{variant:"destructive",className:"mt-2",children:"Account Frozen"})]}),a.jsxs("div",{className:"flex gap-2 mt-6",children:[a.jsx(Gt,{to:"/passenger/wallet",className:"flex-1",children:a.jsxs(Ne,{variant:"secondary",className:"w-full",children:[a.jsx(cs,{className:"h-4 w-4 mr-2"}),_("wallet.recharge")]})}),a.jsx(Gt,{to:"/passenger/transactions",className:"flex-1",children:a.jsxs(Ne,{variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10",children:[a.jsx(Wn,{className:"h-4 w-4 mr-2"}),"History"]})})]})]})})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsx(R,{})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[a.jsx(Pe,{className:"text-lg",children:_("transactions.recent")}),a.jsx(Gt,{to:"/passenger/transactions",children:a.jsxs(Ne,{variant:"ghost",size:"sm",children:["View All",a.jsx(Lg,{className:"h-4 w-4 ml-1"})]})})]}),a.jsx(ge,{className:"space-y-4",children:n.length>0?n.map(k=>{const I=k.from_user_id===(w==null?void 0:w.id),B=I?k.to_user_name:k.from_user_name;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[D(k.transaction_type,I),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:k.description||`${I?"Payment to":"Payment from"} ${B}`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:M(k.created_at)})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-medium text-sm ${I?"text-red-600":"text-green-600"}`,children:[I?"-":"+",A(k.amount)]}),a.jsx(et,{variant:k.status==="completed"?"default":"secondary",className:"text-xs",children:k.status})]})]},k.id)}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Ea,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No transactions yet"})]})})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[a.jsx(Pe,{className:"text-lg",children:_("events.upcoming")}),a.jsx(Gt,{to:"/passenger/events",children:a.jsxs(Ne,{variant:"ghost",size:"sm",children:["View All",a.jsx(Lg,{className:"h-4 w-4 ml-1"})]})})]}),a.jsx(ge,{className:"space-y-4",children:i.length>0?i.map(k=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center",children:a.jsx(Ta,{className:"h-6 w-6 text-primary"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:k.title}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx(zn,{className:"h-3 w-3"}),a.jsx("span",{children:M(k.start_date)})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx(Xo,{className:"h-3 w-3"}),a.jsx("span",{className:"truncate",children:k.location})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium text-sm",children:A(k.price||0)}),a.jsx(Gt,{to:"/passenger/events",children:a.jsx(Ne,{size:"sm",variant:"outline",className:"mt-1",children:"Buy"})})]})]},k.id)):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Ta,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No upcoming events"})]})})]})})]}),o.length>0&&a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[a.jsx(Pe,{className:"text-lg",children:_("nav.tickets")}),a.jsx(Gt,{to:"/passenger/tickets",children:a.jsxs(Ne,{variant:"ghost",size:"sm",children:["View All",a.jsx(Lg,{className:"h-4 w-4 ml-1"})]})})]}),a.jsx(ge,{children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(k=>{var I;return a.jsxs("div",{className:"p-4 rounded-lg border bg-gradient-to-br from-blue-50 to-purple-50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Oa,{className:"h-4 w-4 text-primary"}),a.jsxs("span",{className:"text-sm font-medium",children:["#",k.ticket_number.slice(-6)]})]}),a.jsx("h4",{className:"font-medium text-sm mb-1",children:(I=k.event_details_snapshot)==null?void 0:I.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:M(k.purchased_at)}),a.jsx(et,{variant:"secondary",className:"mt-2 text-xs",children:k.status})]},k.id)})})})]})})]})}function za({...e}){return a.jsx(M9,{"data-slot":"dialog",...e})}function bu({...e}){return a.jsx(D9,{"data-slot":"dialog-trigger",...e})}function Ode({...e}){return a.jsx(R9,{"data-slot":"dialog-portal",...e})}function Mde({className:e,...t}){return a.jsx(P9,{"data-slot":"dialog-overlay",className:At("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Va({className:e,children:t,...n}){return a.jsxs(Ode,{"data-slot":"dialog-portal",children:[a.jsx(Mde,{}),a.jsxs(k9,{"data-slot":"dialog-content",className:At("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,a.jsxs(I9,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(Xh,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function $a({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-header",className:At("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Dde({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-footer",className:At("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function Ha({className:e,...t}){return a.jsx(dce,{"data-slot":"dialog-title",className:At("text-lg leading-none font-semibold",e),...t})}function Fi({className:e,...t}){return a.jsx(fce,{"data-slot":"dialog-description",className:At("text-muted-foreground text-sm",e),...t})}const Px=[{id:"mtn_cash",name:"MTN Cash",icon:Bg,description:"Pay using MTN Cash mobile wallet",minAmount:1e3,maxAmount:5e5,fees:0,available:!0},{id:"syriatel_cash",name:"Syriatel Cash",icon:Bg,description:"Pay using Syriatel Cash mobile wallet",minAmount:1e3,maxAmount:5e5,fees:0,available:!0},{id:"sham_cash",name:"ShamCash",icon:Bg,description:"Pay using ShamCash mobile wallet",minAmount:1e3,maxAmount:3e5,fees:0,available:!0},{id:"fatora",name:"Fatora",icon:Ea,description:"Pay using Fatora payment gateway",minAmount:500,maxAmount:1e6,fees:25,available:!0},{id:"stripe",name:"Credit Card",icon:Ea,description:"International credit/debit cards via Stripe",minAmount:1e3,maxAmount:2e6,fees:50,available:!1}];function Rde(){const[e,t]=N.useState(null),[n,r]=N.useState([]),[i,s]=N.useState(!1),[o,u]=N.useState(""),[m,f]=N.useState(""),[g,x]=N.useState(!0),[w,_]=N.useState(!0),[T,C]=N.useState(!1),{profile:A}=Wt(),{t:M,isRTL:D}=$t();N.useEffect(()=>{A&&(R(),z())},[A]);const R=async()=>{try{const{data:$,error:W}=await qe.from("wallets").select("*").eq("user_id",A==null?void 0:A.id).single();if(W)throw W;t($)}catch($){console.error("Error fetching wallet data:",$),Me.error("Failed to load wallet data")}finally{_(!1)}},z=async()=>{try{const{data:$,error:W}=await qe.from("transactions").select("*").or(`from_user_id.eq.${A==null?void 0:A.id},to_user_id.eq.${A==null?void 0:A.id}`).in("transaction_type",["recharge","withdrawal"]).order("created_at",{ascending:!1}).limit(10);if(W)throw W;r($||[])}catch($){console.error("Error fetching transactions:",$)}},k=async()=>{if(!o||!m)return;const $=parseFloat(m),W=Px.find(Y=>Y.id===o);if(W){if($<W.minAmount||$>W.maxAmount){Me.error(`Amount must be between ${I(W.minAmount)} and ${I(W.maxAmount)}`);return}C(!0);try{await new Promise(ne=>setTimeout(ne,2e3));const{data:Y,error:X}=await qe.rpc("handle_recharge",{p_user_id:A==null?void 0:A.id,p_amount:$,p_provider_type:W.name});if(X)throw X;if(Y&&Y.length>0){const ne=Y[0];ne.error_message?Me.error(ne.error_message):(Me.success(M("wallet.rechargeSuccess")),s(!1),f(""),u(""),R(),z())}}catch(Y){console.error("Error processing recharge:",Y),Me.error("Failed to process recharge")}finally{C(!1)}}},I=$=>new Intl.NumberFormat(D?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format($),B=$=>new Date($).toLocaleDateString(D?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),V=($,W)=>W==="pending"?a.jsx(zn,{className:"h-4 w-4 text-yellow-500"}):W==="failed"?a.jsx(Xh,{className:"h-4 w-4 text-red-500"}):$==="recharge"?a.jsx(Wn,{className:"h-4 w-4 text-green-500"}):a.jsx($l,{className:"h-4 w-4 text-red-500"}),F=$=>{switch($){case"completed":return a.jsx(et,{className:"bg-green-500 text-white",children:M("transactions.completed")});case"pending":return a.jsx(et,{variant:"secondary",children:M("transactions.pending")});case"failed":return a.jsx(et,{variant:"destructive",children:M("transactions.failed")});default:return a.jsx(et,{variant:"outline",children:$})}};return w?a.jsx("div",{className:"flex h-full items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:M("common.loading")})]})}):a.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[a.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:M("wallet.title")}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your digital wallet and transactions"})]}),a.jsxs(za,{open:i,onOpenChange:s,children:[a.jsx(bu,{asChild:!0,children:a.jsxs(Ne,{className:"gap-2",children:[a.jsx(cs,{className:"h-4 w-4"}),M("wallet.recharge")]})}),a.jsxs(Va,{className:"sm:max-w-md",children:[a.jsxs($a,{children:[a.jsx(Ha,{children:M("wallet.recharge")}),a.jsx(Fi,{children:"Add money to your wallet using various payment methods"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"amount",children:M("wallet.rechargeAmount")}),a.jsx(vt,{id:"amount",type:"number",placeholder:"Enter amount",value:m,onChange:$=>f($.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:M("wallet.paymentMethod")}),a.jsxs(It,{value:o,onValueChange:u,children:[a.jsx(Lt,{children:a.jsx(zt,{placeholder:"Select payment method"})}),a.jsx(Bt,{children:Px.map($=>a.jsx(Oe,{value:$.id,disabled:!$.available,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($.icon,{className:"h-4 w-4"}),a.jsx("span",{children:$.name}),!$.available&&a.jsx(et,{variant:"secondary",className:"text-xs",children:"Soon"})]})},$.id))})]})]}),o&&a.jsx(me,{children:a.jsx(ge,{className:"p-4",children:(()=>{const $=Px.find(W=>W.id===o);return $?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:$.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:$.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Min: ",I($.minAmount)]}),a.jsxs("span",{children:["Max: ",I($.maxAmount)]})]}),$.fees>0&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Processing fee: ",I($.fees)]})]}):null})()})}),a.jsx(Ne,{onClick:k,disabled:!o||!m||T,className:"w-full",children:T?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-transparent border-t-current"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(cs,{className:"mr-2 h-4 w-4"}),"Recharge ",m&&I(parseFloat(m))]})})]})]})]})]}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsx("div",{className:"relative overflow-hidden",children:a.jsxs(me,{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white border-0 shadow-2xl",children:[a.jsxs(ge,{className:"p-8 relative z-10",children:[a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white rounded-full transform translate-x-16 -translate-y-16"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white rounded-full transform -translate-x-12 translate-y-12"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 w-16 h-16 bg-white rounded-full transform -translate-x-8 -translate-y-8"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:a.jsx(su,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:M("wallet.balance")}),a.jsx("p",{className:"text-sm opacity-75",children:"Main Wallet"})]})]}),a.jsx(Ne,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 rounded-xl transition-all duration-200",onClick:()=>x(!g),children:g?a.jsx(di,{className:"h-5 w-5"}):a.jsx(Hn,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(We.p,{className:"text-5xl font-bold tracking-tight",initial:{scale:.9},animate:{scale:1},transition:{duration:.3},children:g?I((e==null?void 0:e.balance)||0):""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm opacity-75",children:(e==null?void 0:e.currency)||"SYP"}),a.jsx("div",{className:"h-1 w-1 bg-white/50 rounded-full"}),a.jsx("span",{className:"text-sm opacity-75",children:"Syrian Pound"})]})]}),(e==null?void 0:e.is_frozen)&&a.jsx(We.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-red-500/20 border border-red-500/30 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(li,{className:"h-4 w-4 text-red-400"}),a.jsx("span",{className:"text-sm text-red-200",children:"Your wallet is currently frozen. Contact support for assistance."})]})}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/20",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full bg-green-400 animate-pulse"}),a.jsx("span",{className:"text-sm font-medium",children:"Active"})]}),a.jsxs("span",{className:"text-xs opacity-75",children:["Updated ",B((e==null?void 0:e.updated_at)||"")]})]})]})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/20 via-blue-600/20 to-purple-600/20 animate-pulse"})]})})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[a.jsx(We.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:a.jsx(me,{className:"cursor-pointer hover:shadow-lg transition-all duration-200 bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 hover:border-green-300",onClick:()=>s(!0),children:a.jsxs(ge,{className:"p-6 text-center space-y-2",children:[a.jsx("div",{className:"p-3 bg-green-500 text-white rounded-xl w-fit mx-auto",children:a.jsx(cs,{className:"h-6 w-6"})}),a.jsx("h4",{className:"font-semibold text-green-700",children:"Add Money"}),a.jsx("p",{className:"text-xs text-green-600",children:"Top up your wallet"})]})})}),a.jsx(We.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:a.jsx(me,{className:"cursor-not-allowed bg-gray-50 border-gray-200 opacity-50",children:a.jsxs(ge,{className:"p-6 text-center space-y-2",children:[a.jsx("div",{className:"p-3 bg-gray-400 text-white rounded-xl w-fit mx-auto",children:a.jsx($l,{className:"h-6 w-6"})}),a.jsx("h4",{className:"font-semibold text-gray-600",children:"Withdraw"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Coming soon"})]})})}),a.jsx(We.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:a.jsx(me,{className:"cursor-not-allowed bg-gray-50 border-gray-200 opacity-50",children:a.jsxs(ge,{className:"p-6 text-center space-y-2",children:[a.jsx("div",{className:"p-3 bg-gray-400 text-white rounded-xl w-fit mx-auto",children:a.jsx(P1,{className:"h-6 w-6"})}),a.jsx("h4",{className:"font-semibold text-gray-600",children:"Auto-reload"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Coming soon"})]})})}),a.jsx(We.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:a.jsx(me,{className:"cursor-not-allowed bg-gray-50 border-gray-200 opacity-50",children:a.jsxs(ge,{className:"p-6 text-center space-y-2",children:[a.jsx("div",{className:"p-3 bg-gray-400 text-white rounded-xl w-fit mx-auto",children:a.jsx(li,{className:"h-6 w-6"})}),a.jsx("h4",{className:"font-semibold text-gray-600",children:"Security"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Coming soon"})]})})})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Xg,{className:"h-5 w-5"}),M("transactions.recent")]}),a.jsx(it,{children:"Recent wallet recharges and withdrawals"})]}),a.jsx(ge,{children:n.length>0?a.jsx("div",{className:"space-y-4",children:n.map($=>a.jsxs("div",{className:"flex items-center justify-between py-3 border-b last:border-b-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[V($.transaction_type,$.status),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:$.description||`${$.transaction_type} transaction`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:B($.created_at)})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-medium text-sm ${$.transaction_type==="recharge"?"text-green-600":"text-red-600"}`,children:[$.transaction_type==="recharge"?"+":"-",I($.amount)]}),F($.status)]})]},$.id))}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Ea,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No wallet transactions yet"}),a.jsx("p",{className:"text-sm",children:"Recharge your wallet to get started"})]})})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:"Available Payment Methods"}),a.jsx(it,{children:"Various ways to add money to your wallet"})]}),a.jsx(ge,{children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Px.map($=>a.jsx(me,{className:$.available?"":"opacity-50",children:a.jsxs(ge,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx($.icon,{className:"h-5 w-5 text-primary"}),a.jsx("span",{className:"font-medium",children:$.name}),!$.available&&a.jsx(et,{variant:"secondary",className:"text-xs",children:"Soon"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:$.description}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.jsxs("p",{children:["Min: ",I($.minAmount)]}),a.jsxs("p",{children:["Max: ",I($.maxAmount)]}),$.fees>0&&a.jsxs("p",{children:["Fee: ",I($.fees)]})]})]})},$.id))})})]})})]})}var ty="Tabs",[Pde,lTe]=Vi(ty,[Y1]),vF=Y1(),[kde,vE]=Pde(ty),yF=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:u,activationMode:m="automatic",...f}=e,g=C0(u),[x,w]=Hl({prop:r,onChange:i,defaultProp:s??"",caller:ty});return a.jsx(kde,{scope:n,baseId:uo(),value:x,onValueChange:w,orientation:o,dir:g,activationMode:m,children:a.jsx(St.div,{dir:g,"data-orientation":o,...f,ref:t})})});yF.displayName=ty;var bF="TabsList",wF=N.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=vE(bF,n),o=vF(n);return a.jsx(M7,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:a.jsx(St.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});wF.displayName=bF;var jF="TabsTrigger",NF=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,o=vE(jF,n),u=vF(n),m=AF(o.baseId,r),f=EF(o.baseId,r),g=r===o.value;return a.jsx(D7,{asChild:!0,...u,focusable:!i,active:g,children:a.jsx(St.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":f,"data-state":g?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...s,ref:t,onMouseDown:lt(e.onMouseDown,x=>{!i&&x.button===0&&x.ctrlKey===!1?o.onValueChange(r):x.preventDefault()}),onKeyDown:lt(e.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&o.onValueChange(r)}),onFocus:lt(e.onFocus,()=>{const x=o.activationMode!=="manual";!g&&!i&&x&&o.onValueChange(r)})})})});NF.displayName=jF;var SF="TabsContent",_F=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=e,u=vE(SF,n),m=AF(u.baseId,r),f=EF(u.baseId,r),g=r===u.value,x=N.useRef(g);return N.useEffect(()=>{const w=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(w)},[]),a.jsx(mi,{present:i||g,children:({present:w})=>a.jsx(St.div,{"data-state":g?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!w,id:f,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:w&&s})})});_F.displayName=SF;function AF(e,t){return`${e}-trigger-${t}`}function EF(e,t){return`${e}-content-${t}`}var Ide=yF,Lde=wF,Bde=NF,Fde=_F;function ms({className:e,...t}){return a.jsx(Ide,{"data-slot":"tabs",className:At("flex flex-col gap-2",e),...t})}function gs({className:e,...t}){return a.jsx(Lde,{"data-slot":"tabs-list",className:At("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Ct({className:e,...t}){return a.jsx(Bde,{"data-slot":"tabs-trigger",className:At("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Mt({className:e,...t}){return a.jsx(Fde,{"data-slot":"tabs-content",className:At("flex-1 outline-none",e),...t})}var dt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(dt||(dt={}));var yR=new Map([[dt.QR_CODE,"QR_CODE"],[dt.AZTEC,"AZTEC"],[dt.CODABAR,"CODABAR"],[dt.CODE_39,"CODE_39"],[dt.CODE_93,"CODE_93"],[dt.CODE_128,"CODE_128"],[dt.DATA_MATRIX,"DATA_MATRIX"],[dt.MAXICODE,"MAXICODE"],[dt.ITF,"ITF"],[dt.EAN_13,"EAN_13"],[dt.EAN_8,"EAN_8"],[dt.PDF_417,"PDF_417"],[dt.RSS_14,"RSS_14"],[dt.RSS_EXPANDED,"RSS_EXPANDED"],[dt.UPC_A,"UPC_A"],[dt.UPC_E,"UPC_E"],[dt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),bR;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(bR||(bR={}));function Ude(e){return Object.values(dt).includes(e)}var uu;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(uu||(uu={}));var so=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[uu.SCAN_TYPE_CAMERA,uu.SCAN_TYPE_FILE],e}(),CF=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!yR.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,yR.get(t))},e}(),wR=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),FS;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(FS||(FS={}));var TF=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:FS.UNKWOWN_ERROR}},e}(),OF=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Lo(e){return typeof e>"u"||e===null}function zde(e,t,n){return e>n?n:e<t?t:e}var sh=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),kn=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),jR=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),MF=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),o=Object.keys(t),u=0,m=o;u<m.length;u++){var f=m[u];if(s.has(f))return n.logError("".concat(f," is not supported videoConstaints."),!0),!1}return!0},e}(),Eg={exports:{}},Vde=Eg.exports,NR;function $de(){return NR||(NR=1,function(e,t){(function(n,r){r(t)})(Vde,function(n){function r(Q){return Q==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Q,c){Q.__proto__=c}||function(Q,c){for(var h in c)c.hasOwnProperty(h)&&(Q[h]=c[h])};function s(Q,c){i(Q,c);function h(){this.constructor=Q}Q.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}function o(Q,c){var h=Object.setPrototypeOf;h?h(Q,c):Q.__proto__=c}function u(Q,c){c===void 0&&(c=Q.constructor);var h=Error.captureStackTrace;h&&h(Q,c)}var m=function(Q){s(c,Q);function c(h){var p=this.constructor,y=Q.call(this,h)||this;return Object.defineProperty(y,"name",{value:p.name,enumerable:!1}),o(y,p.prototype),u(y),y}return c}(Error);class f extends m{constructor(c=void 0){super(c),this.message=c}getKind(){return this.constructor.kind}}f.kind="Exception";class g extends f{}g.kind="ArgumentException";class x extends f{}x.kind="IllegalArgumentException";class w{constructor(c){if(this.binarizer=c,c===null)throw new x("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(c,h){return this.binarizer.getBlackRow(c,h)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(c,h,p,y){const b=this.binarizer.getLuminanceSource().crop(c,h,p,y);return new w(this.binarizer.createBinarizer(b))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new w(this.binarizer.createBinarizer(c))}rotateCounterClockwise45(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new w(this.binarizer.createBinarizer(c))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class _ extends f{static getChecksumInstance(){return new _}}_.kind="ChecksumException";class T{constructor(c){this.source=c}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class C{static arraycopy(c,h,p,y,b){for(;b--;)p[y++]=c[h++]}static currentTimeMillis(){return Date.now()}}class A extends f{}A.kind="IndexOutOfBoundsException";class M extends A{constructor(c=void 0,h=void 0){super(h),this.index=c,this.message=h}}M.kind="ArrayIndexOutOfBoundsException";class D{static fill(c,h){for(let p=0,y=c.length;p<y;p++)c[p]=h}static fillWithin(c,h,p,y){D.rangeCheck(c.length,h,p);for(let b=h;b<p;b++)c[b]=y}static rangeCheck(c,h,p){if(h>p)throw new x("fromIndex("+h+") > toIndex("+p+")");if(h<0)throw new M(h);if(p>c)throw new M(p)}static asList(...c){return c}static create(c,h,p){return Array.from({length:c}).map(b=>Array.from({length:h}).fill(p))}static createInt32Array(c,h,p){return Array.from({length:c}).map(b=>Int32Array.from({length:h}).fill(p))}static equals(c,h){if(!c||!h||!c.length||!h.length||c.length!==h.length)return!1;for(let p=0,y=c.length;p<y;p++)if(c[p]!==h[p])return!1;return!0}static hashCode(c){if(c===null)return 0;let h=1;for(const p of c)h=31*h+p;return h}static fillUint8Array(c,h){for(let p=0;p!==c.length;p++)c[p]=h}static copyOf(c,h){return c.slice(0,h)}static copyOfUint8Array(c,h){if(c.length<=h){const p=new Uint8Array(h);return p.set(c),p}return c.slice(0,h)}static copyOfRange(c,h,p){const y=p-h,b=new Int32Array(y);return C.arraycopy(c,h,b,0,y),b}static binarySearch(c,h,p){p===void 0&&(p=D.numberComparator);let y=0,b=c.length-1;for(;y<=b;){const S=b+y>>1,E=p(h,c[S]);if(E>0)y=S+1;else if(E<0)b=S-1;else return S}return-y-1}static numberComparator(c,h){return c-h}}class R{static numberOfTrailingZeros(c){let h;if(c===0)return 32;let p=31;return h=c<<16,h!==0&&(p-=16,c=h),h=c<<8,h!==0&&(p-=8,c=h),h=c<<4,h!==0&&(p-=4,c=h),h=c<<2,h!==0&&(p-=2,c=h),p-(c<<1>>>31)}static numberOfLeadingZeros(c){if(c===0)return 32;let h=1;return c>>>16||(h+=16,c<<=16),c>>>24||(h+=8,c<<=8),c>>>28||(h+=4,c<<=4),c>>>30||(h+=2,c<<=2),h-=c>>>31,h}static toHexString(c){return c.toString(16)}static toBinaryString(c){return String(parseInt(String(c),2))}static bitCount(c){return c=c-(c>>>1&1431655765),c=(c&858993459)+(c>>>2&858993459),c=c+(c>>>4)&252645135,c=c+(c>>>8),c=c+(c>>>16),c&63}static truncDivision(c,h){return Math.trunc(c/h)}static parseInt(c,h=void 0){return parseInt(c,h)}}R.MIN_VALUE_32_BITS=-2147483648,R.MAX_VALUE=Number.MAX_SAFE_INTEGER;class z{constructor(c,h){c===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=c,h==null?this.bits=z.makeArray(c):this.bits=h)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(c){if(c>this.bits.length*32){const h=z.makeArray(c);C.arraycopy(this.bits,0,h,0,this.bits.length),this.bits=h}}get(c){return(this.bits[Math.floor(c/32)]&1<<(c&31))!==0}set(c){this.bits[Math.floor(c/32)]|=1<<(c&31)}flip(c){this.bits[Math.floor(c/32)]^=1<<(c&31)}getNextSet(c){const h=this.size;if(c>=h)return h;const p=this.bits;let y=Math.floor(c/32),b=p[y];b&=~((1<<(c&31))-1);const S=p.length;for(;b===0;){if(++y===S)return h;b=p[y]}const E=y*32+R.numberOfTrailingZeros(b);return E>h?h:E}getNextUnset(c){const h=this.size;if(c>=h)return h;const p=this.bits;let y=Math.floor(c/32),b=~p[y];b&=~((1<<(c&31))-1);const S=p.length;for(;b===0;){if(++y===S)return h;b=~p[y]}const E=y*32+R.numberOfTrailingZeros(b);return E>h?h:E}setBulk(c,h){this.bits[Math.floor(c/32)]=h}setRange(c,h){if(h<c||c<0||h>this.size)throw new x;if(h===c)return;h--;const p=Math.floor(c/32),y=Math.floor(h/32),b=this.bits;for(let S=p;S<=y;S++){const E=S>p?0:c&31,U=(2<<(S<y?31:h&31))-(1<<E);b[S]|=U}}clear(){const c=this.bits.length,h=this.bits;for(let p=0;p<c;p++)h[p]=0}isRange(c,h,p){if(h<c||c<0||h>this.size)throw new x;if(h===c)return!0;h--;const y=Math.floor(c/32),b=Math.floor(h/32),S=this.bits;for(let E=y;E<=b;E++){const P=E>y?0:c&31,q=(2<<(E<b?31:h&31))-(1<<P)&4294967295;if((S[E]&q)!==(p?q:0))return!1}return!0}appendBit(c){this.ensureCapacity(this.size+1),c&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(c,h){if(h<0||h>32)throw new x("Num bits must be between 0 and 32");this.ensureCapacity(this.size+h);for(let p=h;p>0;p--)this.appendBit((c>>p-1&1)===1)}appendBitArray(c){const h=c.size;this.ensureCapacity(this.size+h);for(let p=0;p<h;p++)this.appendBit(c.get(p))}xor(c){if(this.size!==c.size)throw new x("Sizes don't match");const h=this.bits;for(let p=0,y=h.length;p<y;p++)h[p]^=c.bits[p]}toBytes(c,h,p,y){for(let b=0;b<y;b++){let S=0;for(let E=0;E<8;E++)this.get(c)&&(S|=1<<7-E),c++;h[p+b]=S}}getBitArray(){return this.bits}reverse(){const c=new Int32Array(this.bits.length),h=Math.floor((this.size-1)/32),p=h+1,y=this.bits;for(let b=0;b<p;b++){let S=y[b];S=S>>1&1431655765|(S&1431655765)<<1,S=S>>2&858993459|(S&858993459)<<2,S=S>>4&252645135|(S&252645135)<<4,S=S>>8&16711935|(S&16711935)<<8,S=S>>16&65535|(S&65535)<<16,c[h-b]=S}if(this.size!==p*32){const b=p*32-this.size;let S=c[0]>>>b;for(let E=1;E<p;E++){const P=c[E];S|=P<<32-b,c[E-1]=S,S=P>>>b}c[p-1]=S}this.bits=c}static makeArray(c){return new Int32Array(Math.floor((c+31)/32))}equals(c){if(!(c instanceof z))return!1;const h=c;return this.size===h.size&&D.equals(this.bits,h.bits)}hashCode(){return 31*this.size+D.hashCode(this.bits)}toString(){let c="";for(let h=0,p=this.size;h<p;h++)(h&7)===0&&(c+=" "),c+=this.get(h)?"X":".";return c}clone(){return new z(this.size,this.bits.slice())}}var k;(function(Q){Q[Q.OTHER=0]="OTHER",Q[Q.PURE_BARCODE=1]="PURE_BARCODE",Q[Q.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",Q[Q.TRY_HARDER=3]="TRY_HARDER",Q[Q.CHARACTER_SET=4]="CHARACTER_SET",Q[Q.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",Q[Q.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",Q[Q.ASSUME_GS1=7]="ASSUME_GS1",Q[Q.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",Q[Q.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",Q[Q.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(k||(k={}));var I=k;class B extends f{static getFormatInstance(){return new B}}B.kind="FormatException";var V;(function(Q){Q[Q.Cp437=0]="Cp437",Q[Q.ISO8859_1=1]="ISO8859_1",Q[Q.ISO8859_2=2]="ISO8859_2",Q[Q.ISO8859_3=3]="ISO8859_3",Q[Q.ISO8859_4=4]="ISO8859_4",Q[Q.ISO8859_5=5]="ISO8859_5",Q[Q.ISO8859_6=6]="ISO8859_6",Q[Q.ISO8859_7=7]="ISO8859_7",Q[Q.ISO8859_8=8]="ISO8859_8",Q[Q.ISO8859_9=9]="ISO8859_9",Q[Q.ISO8859_10=10]="ISO8859_10",Q[Q.ISO8859_11=11]="ISO8859_11",Q[Q.ISO8859_13=12]="ISO8859_13",Q[Q.ISO8859_14=13]="ISO8859_14",Q[Q.ISO8859_15=14]="ISO8859_15",Q[Q.ISO8859_16=15]="ISO8859_16",Q[Q.SJIS=16]="SJIS",Q[Q.Cp1250=17]="Cp1250",Q[Q.Cp1251=18]="Cp1251",Q[Q.Cp1252=19]="Cp1252",Q[Q.Cp1256=20]="Cp1256",Q[Q.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",Q[Q.UTF8=22]="UTF8",Q[Q.ASCII=23]="ASCII",Q[Q.Big5=24]="Big5",Q[Q.GB18030=25]="GB18030",Q[Q.EUC_KR=26]="EUC_KR"})(V||(V={}));class F{constructor(c,h,p,...y){this.valueIdentifier=c,this.name=p,typeof h=="number"?this.values=Int32Array.from([h]):this.values=h,this.otherEncodingNames=y,F.VALUE_IDENTIFIER_TO_ECI.set(c,this),F.NAME_TO_ECI.set(p,this);const b=this.values;for(let S=0,E=b.length;S!==E;S++){const P=b[S];F.VALUES_TO_ECI.set(P,this)}for(const S of y)F.NAME_TO_ECI.set(S,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(c){if(c<0||c>=900)throw new B("incorect value");const h=F.VALUES_TO_ECI.get(c);if(h===void 0)throw new B("incorect value");return h}static getCharacterSetECIByName(c){const h=F.NAME_TO_ECI.get(c);if(h===void 0)throw new B("incorect value");return h}equals(c){if(!(c instanceof F))return!1;const h=c;return this.getName()===h.getName()}}F.VALUE_IDENTIFIER_TO_ECI=new Map,F.VALUES_TO_ECI=new Map,F.NAME_TO_ECI=new Map,F.Cp437=new F(V.Cp437,Int32Array.from([0,2]),"Cp437"),F.ISO8859_1=new F(V.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),F.ISO8859_2=new F(V.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),F.ISO8859_3=new F(V.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),F.ISO8859_4=new F(V.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),F.ISO8859_5=new F(V.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),F.ISO8859_6=new F(V.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),F.ISO8859_7=new F(V.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),F.ISO8859_8=new F(V.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),F.ISO8859_9=new F(V.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),F.ISO8859_10=new F(V.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),F.ISO8859_11=new F(V.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),F.ISO8859_13=new F(V.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),F.ISO8859_14=new F(V.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),F.ISO8859_15=new F(V.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),F.ISO8859_16=new F(V.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),F.SJIS=new F(V.SJIS,20,"SJIS","Shift_JIS"),F.Cp1250=new F(V.Cp1250,21,"Cp1250","windows-1250"),F.Cp1251=new F(V.Cp1251,22,"Cp1251","windows-1251"),F.Cp1252=new F(V.Cp1252,23,"Cp1252","windows-1252"),F.Cp1256=new F(V.Cp1256,24,"Cp1256","windows-1256"),F.UnicodeBigUnmarked=new F(V.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),F.UTF8=new F(V.UTF8,26,"UTF8","UTF-8"),F.ASCII=new F(V.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),F.Big5=new F(V.Big5,28,"Big5"),F.GB18030=new F(V.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),F.EUC_KR=new F(V.EUC_KR,30,"EUC_KR","EUC-KR");class $ extends f{}$.kind="UnsupportedOperationException";class W{static decode(c,h){const p=this.encodingName(h);return this.customDecoder?this.customDecoder(c,p):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(p)?this.decodeFallback(c,p):new TextDecoder(p).decode(c)}static shouldDecodeOnFallback(c){return!W.isBrowser()&&c==="ISO-8859-1"}static encode(c,h){const p=this.encodingName(h);return this.customEncoder?this.customEncoder(c,p):typeof TextEncoder>"u"?this.encodeFallback(c):new TextEncoder().encode(c)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(c){return typeof c=="string"?c:c.getName()}static encodingCharacterSet(c){return c instanceof F?c:F.getCharacterSetECIByName(c)}static decodeFallback(c,h){const p=this.encodingCharacterSet(h);if(W.isDecodeFallbackSupported(p)){let y="";for(let b=0,S=c.length;b<S;b++){let E=c[b].toString(16);E.length<2&&(E="0"+E),y+="%"+E}return decodeURIComponent(y)}if(p.equals(F.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(c.buffer));throw new $(`Encoding ${this.encodingName(h)} not supported by fallback.`)}static isDecodeFallbackSupported(c){return c.equals(F.UTF8)||c.equals(F.ISO8859_1)||c.equals(F.ASCII)}static encodeFallback(c){const p=btoa(unescape(encodeURIComponent(c))).split(""),y=[];for(let b=0;b<p.length;b++)y.push(p[b].charCodeAt(0));return new Uint8Array(y)}}class Y{static castAsNonUtf8Char(c,h=null){const p=h?h.getName():this.ISO88591;return W.decode(new Uint8Array([c]),p)}static guessEncoding(c,h){if(h!=null&&h.get(I.CHARACTER_SET)!==void 0)return h.get(I.CHARACTER_SET).toString();const p=c.length;let y=!0,b=!0,S=!0,E=0,P=0,U=0,q=0,Z=0,te=0,oe=0,pe=0,ve=0,Ae=0,Ie=0;const Ze=c.length>3&&c[0]===239&&c[1]===187&&c[2]===191;for(let tt=0;tt<p&&(y||b||S);tt++){const Xe=c[tt]&255;S&&(E>0?(Xe&128)===0?S=!1:E--:(Xe&128)!==0&&((Xe&64)===0?S=!1:(E++,(Xe&32)===0?P++:(E++,(Xe&16)===0?U++:(E++,(Xe&8)===0?q++:S=!1))))),y&&(Xe>127&&Xe<160?y=!1:Xe>159&&(Xe<192||Xe===215||Xe===247)&&Ie++),b&&(Z>0?Xe<64||Xe===127||Xe>252?b=!1:Z--:Xe===128||Xe===160||Xe>239?b=!1:Xe>160&&Xe<224?(te++,pe=0,oe++,oe>ve&&(ve=oe)):Xe>127?(Z++,oe=0,pe++,pe>Ae&&(Ae=pe)):(oe=0,pe=0))}return S&&E>0&&(S=!1),b&&Z>0&&(b=!1),S&&(Ze||P+U+q>0)?Y.UTF8:b&&(Y.ASSUME_SHIFT_JIS||ve>=3||Ae>=3)?Y.SHIFT_JIS:y&&b?ve===2&&te===2||Ie*10>=p?Y.SHIFT_JIS:Y.ISO88591:y?Y.ISO88591:b?Y.SHIFT_JIS:S?Y.UTF8:Y.PLATFORM_DEFAULT_ENCODING}static format(c,...h){let p=-1;function y(S,E,P,U,q,Z){if(S==="%%")return"%";if(h[++p]===void 0)return;S=U?parseInt(U.substr(1)):void 0;let te=q?parseInt(q.substr(1)):void 0,oe;switch(Z){case"s":oe=h[p];break;case"c":oe=h[p][0];break;case"f":oe=parseFloat(h[p]).toFixed(S);break;case"p":oe=parseFloat(h[p]).toPrecision(S);break;case"e":oe=parseFloat(h[p]).toExponential(S);break;case"x":oe=parseInt(h[p]).toString(te||16);break;case"d":oe=parseFloat(parseInt(h[p],te||10).toPrecision(S)).toFixed(0);break}oe=typeof oe=="object"?JSON.stringify(oe):(+oe).toString(te);let pe=parseInt(P),ve=P&&P[0]+""=="0"?"0":" ";for(;oe.length<pe;)oe=E!==void 0?oe+ve:ve+oe;return oe}let b=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return c.replace(b,y)}static getBytes(c,h){return W.encode(c,h)}static getCharCode(c,h=0){return c.charCodeAt(h)}static getCharAt(c){return String.fromCharCode(c)}}Y.SHIFT_JIS=F.SJIS.getName(),Y.GB2312="GB2312",Y.ISO88591=F.ISO8859_1.getName(),Y.EUC_JP="EUC_JP",Y.UTF8=F.UTF8.getName(),Y.PLATFORM_DEFAULT_ENCODING=Y.UTF8,Y.ASSUME_SHIFT_JIS=!1;class X{constructor(c=""){this.value=c}enableDecoding(c){return this.encoding=c,this}append(c){return typeof c=="string"?this.value+=c.toString():this.encoding?this.value+=Y.castAsNonUtf8Char(c,this.encoding):this.value+=String.fromCharCode(c),this}appendChars(c,h,p){for(let y=h;h<h+p;y++)this.append(c[y]);return this}length(){return this.value.length}charAt(c){return this.value.charAt(c)}deleteCharAt(c){this.value=this.value.substr(0,c)+this.value.substring(c+1)}setCharAt(c,h){this.value=this.value.substr(0,c)+h+this.value.substr(c+1)}substring(c,h){return this.value.substring(c,h)}setLengthToZero(){this.value=""}toString(){return this.value}insert(c,h){this.value=this.value.substr(0,c)+h+this.value.substr(c+h.length)}}class ne{constructor(c,h,p,y){if(this.width=c,this.height=h,this.rowSize=p,this.bits=y,h==null&&(h=c),this.height=h,c<1||h<1)throw new x("Both dimensions must be greater than 0");p==null&&(p=Math.floor((c+31)/32)),this.rowSize=p,y==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(c){const h=c.length,p=c[0].length,y=new ne(p,h);for(let b=0;b<h;b++){const S=c[b];for(let E=0;E<p;E++)S[E]&&y.set(E,b)}return y}static parseFromString(c,h,p){if(c===null)throw new x("stringRepresentation cannot be null");const y=new Array(c.length);let b=0,S=0,E=-1,P=0,U=0;for(;U<c.length;)if(c.charAt(U)===`
`||c.charAt(U)==="\r"){if(b>S){if(E===-1)E=b-S;else if(b-S!==E)throw new x("row lengths do not match");S=b,P++}U++}else if(c.substring(U,U+h.length)===h)U+=h.length,y[b]=!0,b++;else if(c.substring(U,U+p.length)===p)U+=p.length,y[b]=!1,b++;else throw new x("illegal character encountered: "+c.substring(U));if(b>S){if(E===-1)E=b-S;else if(b-S!==E)throw new x("row lengths do not match");P++}const q=new ne(E,P);for(let Z=0;Z<b;Z++)y[Z]&&q.set(Math.floor(Z%E),Math.floor(Z/E));return q}get(c,h){const p=h*this.rowSize+Math.floor(c/32);return(this.bits[p]>>>(c&31)&1)!==0}set(c,h){const p=h*this.rowSize+Math.floor(c/32);this.bits[p]|=1<<(c&31)&4294967295}unset(c,h){const p=h*this.rowSize+Math.floor(c/32);this.bits[p]&=~(1<<(c&31)&4294967295)}flip(c,h){const p=h*this.rowSize+Math.floor(c/32);this.bits[p]^=1<<(c&31)&4294967295}xor(c){if(this.width!==c.getWidth()||this.height!==c.getHeight()||this.rowSize!==c.getRowSize())throw new x("input matrix dimensions do not match");const h=new z(Math.floor(this.width/32)+1),p=this.rowSize,y=this.bits;for(let b=0,S=this.height;b<S;b++){const E=b*p,P=c.getRow(b,h).getBitArray();for(let U=0;U<p;U++)y[E+U]^=P[U]}}clear(){const c=this.bits,h=c.length;for(let p=0;p<h;p++)c[p]=0}setRegion(c,h,p,y){if(h<0||c<0)throw new x("Left and top must be nonnegative");if(y<1||p<1)throw new x("Height and width must be at least 1");const b=c+p,S=h+y;if(S>this.height||b>this.width)throw new x("The region must fit inside the matrix");const E=this.rowSize,P=this.bits;for(let U=h;U<S;U++){const q=U*E;for(let Z=c;Z<b;Z++)P[q+Math.floor(Z/32)]|=1<<(Z&31)&4294967295}}getRow(c,h){h==null||h.getSize()<this.width?h=new z(this.width):h.clear();const p=this.rowSize,y=this.bits,b=c*p;for(let S=0;S<p;S++)h.setBulk(S*32,y[b+S]);return h}setRow(c,h){C.arraycopy(h.getBitArray(),0,this.bits,c*this.rowSize,this.rowSize)}rotate180(){const c=this.getWidth(),h=this.getHeight();let p=new z(c),y=new z(c);for(let b=0,S=Math.floor((h+1)/2);b<S;b++)p=this.getRow(b,p),y=this.getRow(h-1-b,y),p.reverse(),y.reverse(),this.setRow(b,y),this.setRow(h-1-b,p)}getEnclosingRectangle(){const c=this.width,h=this.height,p=this.rowSize,y=this.bits;let b=c,S=h,E=-1,P=-1;for(let U=0;U<h;U++)for(let q=0;q<p;q++){const Z=y[U*p+q];if(Z!==0){if(U<S&&(S=U),U>P&&(P=U),q*32<b){let te=0;for(;(Z<<31-te&4294967295)===0;)te++;q*32+te<b&&(b=q*32+te)}if(q*32+31>E){let te=31;for(;!(Z>>>te);)te--;q*32+te>E&&(E=q*32+te)}}}return E<b||P<S?null:Int32Array.from([b,S,E-b+1,P-S+1])}getTopLeftOnBit(){const c=this.rowSize,h=this.bits;let p=0;for(;p<h.length&&h[p]===0;)p++;if(p===h.length)return null;const y=p/c;let b=p%c*32;const S=h[p];let E=0;for(;(S<<31-E&4294967295)===0;)E++;return b+=E,Int32Array.from([b,y])}getBottomRightOnBit(){const c=this.rowSize,h=this.bits;let p=h.length-1;for(;p>=0&&h[p]===0;)p--;if(p<0)return null;const y=Math.floor(p/c);let b=Math.floor(p%c)*32;const S=h[p];let E=31;for(;!(S>>>E);)E--;return b+=E,Int32Array.from([b,y])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(c){if(!(c instanceof ne))return!1;const h=c;return this.width===h.width&&this.height===h.height&&this.rowSize===h.rowSize&&D.equals(this.bits,h.bits)}hashCode(){let c=this.width;return c=31*c+this.width,c=31*c+this.height,c=31*c+this.rowSize,c=31*c+D.hashCode(this.bits),c}toString(c="X ",h="  ",p=`
`){return this.buildToString(c,h,p)}buildToString(c,h,p){let y=new X;for(let b=0,S=this.height;b<S;b++){for(let E=0,P=this.width;E<P;E++)y.append(this.get(E,b)?c:h);y.append(p)}return y.toString()}clone(){return new ne(this.width,this.height,this.rowSize,this.bits.slice())}}class J extends f{static getNotFoundInstance(){return new J}}J.kind="NotFoundException";class H extends T{constructor(c){super(c),this.luminances=H.EMPTY,this.buckets=new Int32Array(H.LUMINANCE_BUCKETS)}getBlackRow(c,h){const p=this.getLuminanceSource(),y=p.getWidth();h==null||h.getSize()<y?h=new z(y):h.clear(),this.initArrays(y);const b=p.getRow(c,this.luminances),S=this.buckets;for(let P=0;P<y;P++)S[(b[P]&255)>>H.LUMINANCE_SHIFT]++;const E=H.estimateBlackPoint(S);if(y<3)for(let P=0;P<y;P++)(b[P]&255)<E&&h.set(P);else{let P=b[0]&255,U=b[1]&255;for(let q=1;q<y-1;q++){const Z=b[q+1]&255;(U*4-P-Z)/2<E&&h.set(q),P=U,U=Z}}return h}getBlackMatrix(){const c=this.getLuminanceSource(),h=c.getWidth(),p=c.getHeight(),y=new ne(h,p);this.initArrays(h);const b=this.buckets;for(let P=1;P<5;P++){const U=Math.floor(p*P/5),q=c.getRow(U,this.luminances),Z=Math.floor(h*4/5);for(let te=Math.floor(h/5);te<Z;te++){const oe=q[te]&255;b[oe>>H.LUMINANCE_SHIFT]++}}const S=H.estimateBlackPoint(b),E=c.getMatrix();for(let P=0;P<p;P++){const U=P*h;for(let q=0;q<h;q++)(E[U+q]&255)<S&&y.set(q,P)}return y}createBinarizer(c){return new H(c)}initArrays(c){this.luminances.length<c&&(this.luminances=new Uint8ClampedArray(c));const h=this.buckets;for(let p=0;p<H.LUMINANCE_BUCKETS;p++)h[p]=0}static estimateBlackPoint(c){const h=c.length;let p=0,y=0,b=0;for(let q=0;q<h;q++)c[q]>b&&(y=q,b=c[q]),c[q]>p&&(p=c[q]);let S=0,E=0;for(let q=0;q<h;q++){const Z=q-y,te=c[q]*Z*Z;te>E&&(S=q,E=te)}if(y>S){const q=y;y=S,S=q}if(S-y<=h/16)throw new J;let P=S-1,U=-1;for(let q=S-1;q>y;q--){const Z=q-y,te=Z*Z*(S-q)*(p-c[q]);te>U&&(P=q,U=te)}return P<<H.LUMINANCE_SHIFT}}H.LUMINANCE_BITS=5,H.LUMINANCE_SHIFT=8-H.LUMINANCE_BITS,H.LUMINANCE_BUCKETS=1<<H.LUMINANCE_BITS,H.EMPTY=Uint8ClampedArray.from([0]);class ee extends H{constructor(c){super(c),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const c=this.getLuminanceSource(),h=c.getWidth(),p=c.getHeight();if(h>=ee.MINIMUM_DIMENSION&&p>=ee.MINIMUM_DIMENSION){const y=c.getMatrix();let b=h>>ee.BLOCK_SIZE_POWER;(h&ee.BLOCK_SIZE_MASK)!==0&&b++;let S=p>>ee.BLOCK_SIZE_POWER;(p&ee.BLOCK_SIZE_MASK)!==0&&S++;const E=ee.calculateBlackPoints(y,b,S,h,p),P=new ne(h,p);ee.calculateThresholdForBlock(y,b,S,h,p,E,P),this.matrix=P}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(c){return new ee(c)}static calculateThresholdForBlock(c,h,p,y,b,S,E){const P=b-ee.BLOCK_SIZE,U=y-ee.BLOCK_SIZE;for(let q=0;q<p;q++){let Z=q<<ee.BLOCK_SIZE_POWER;Z>P&&(Z=P);const te=ee.cap(q,2,p-3);for(let oe=0;oe<h;oe++){let pe=oe<<ee.BLOCK_SIZE_POWER;pe>U&&(pe=U);const ve=ee.cap(oe,2,h-3);let Ae=0;for(let Ze=-2;Ze<=2;Ze++){const tt=S[te+Ze];Ae+=tt[ve-2]+tt[ve-1]+tt[ve]+tt[ve+1]+tt[ve+2]}const Ie=Ae/25;ee.thresholdBlock(c,pe,Z,Ie,y,E)}}}static cap(c,h,p){return c<h?h:c>p?p:c}static thresholdBlock(c,h,p,y,b,S){for(let E=0,P=p*b+h;E<ee.BLOCK_SIZE;E++,P+=b)for(let U=0;U<ee.BLOCK_SIZE;U++)(c[P+U]&255)<=y&&S.set(h+U,p+E)}static calculateBlackPoints(c,h,p,y,b){const S=b-ee.BLOCK_SIZE,E=y-ee.BLOCK_SIZE,P=new Array(p);for(let U=0;U<p;U++){P[U]=new Int32Array(h);let q=U<<ee.BLOCK_SIZE_POWER;q>S&&(q=S);for(let Z=0;Z<h;Z++){let te=Z<<ee.BLOCK_SIZE_POWER;te>E&&(te=E);let oe=0,pe=255,ve=0;for(let Ie=0,Ze=q*y+te;Ie<ee.BLOCK_SIZE;Ie++,Ze+=y){for(let tt=0;tt<ee.BLOCK_SIZE;tt++){const Xe=c[Ze+tt]&255;oe+=Xe,Xe<pe&&(pe=Xe),Xe>ve&&(ve=Xe)}if(ve-pe>ee.MIN_DYNAMIC_RANGE)for(Ie++,Ze+=y;Ie<ee.BLOCK_SIZE;Ie++,Ze+=y)for(let tt=0;tt<ee.BLOCK_SIZE;tt++)oe+=c[Ze+tt]&255}let Ae=oe>>ee.BLOCK_SIZE_POWER*2;if(ve-pe<=ee.MIN_DYNAMIC_RANGE&&(Ae=pe/2,U>0&&Z>0)){const Ie=(P[U-1][Z]+2*P[U][Z-1]+P[U-1][Z-1])/4;pe<Ie&&(Ae=Ie)}P[U][Z]=Ae}}return P}}ee.BLOCK_SIZE_POWER=3,ee.BLOCK_SIZE=1<<ee.BLOCK_SIZE_POWER,ee.BLOCK_SIZE_MASK=ee.BLOCK_SIZE-1,ee.MINIMUM_DIMENSION=ee.BLOCK_SIZE*5,ee.MIN_DYNAMIC_RANGE=24;class K{constructor(c,h){this.width=c,this.height=h}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(c,h,p,y){throw new $("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new $("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new $("This luminance source does not support rotation by 45 degrees.")}toString(){const c=new Uint8ClampedArray(this.width);let h=new X;for(let p=0;p<this.height;p++){const y=this.getRow(p,c);for(let b=0;b<this.width;b++){const S=y[b]&255;let E;S<64?E="#":S<128?E="+":S<192?E=".":E=" ",h.append(E)}h.append(`
`)}return h.toString()}}class ue extends K{constructor(c){super(c.getWidth(),c.getHeight()),this.delegate=c}getRow(c,h){const p=this.delegate.getRow(c,h),y=this.getWidth();for(let b=0;b<y;b++)p[b]=255-(p[b]&255);return p}getMatrix(){const c=this.delegate.getMatrix(),h=this.getWidth()*this.getHeight(),p=new Uint8ClampedArray(h);for(let y=0;y<h;y++)p[y]=255-(c[y]&255);return p}isCropSupported(){return this.delegate.isCropSupported()}crop(c,h,p,y){return new ue(this.delegate.crop(c,h,p,y))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ue(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ue(this.delegate.rotateCounterClockwise45())}}class re extends K{constructor(c){super(c.width,c.height),this.canvas=c,this.tempCanvasElement=null,this.buffer=re.makeBufferFromCanvasImageData(c)}static makeBufferFromCanvasImageData(c){const h=c.getContext("2d").getImageData(0,0,c.width,c.height);return re.toGrayscaleBuffer(h.data,c.width,c.height)}static toGrayscaleBuffer(c,h,p){const y=new Uint8ClampedArray(h*p);for(let b=0,S=0,E=c.length;b<E;b+=4,S++){let P;if(c[b+3]===0)P=255;else{const q=c[b],Z=c[b+1],te=c[b+2];P=306*q+601*Z+117*te+512>>10}y[S]=P}return y}getRow(c,h){if(c<0||c>=this.getHeight())throw new x("Requested row is outside the image: "+c);const p=this.getWidth(),y=c*p;return h===null?h=this.buffer.slice(y,y+p):(h.length<p&&(h=new Uint8ClampedArray(p)),h.set(this.buffer.slice(y,y+p))),h}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(c,h,p,y){return super.crop(c,h,p,y),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const c=this.canvas.ownerDocument.createElement("canvas");c.width=this.canvas.width,c.height=this.canvas.height,this.tempCanvasElement=c}return this.tempCanvasElement}rotate(c){const h=this.getTempCanvasElement(),p=h.getContext("2d"),y=c*re.DEGREE_TO_RADIANS,b=this.canvas.width,S=this.canvas.height,E=Math.ceil(Math.abs(Math.cos(y))*b+Math.abs(Math.sin(y))*S),P=Math.ceil(Math.abs(Math.sin(y))*b+Math.abs(Math.cos(y))*S);return h.width=E,h.height=P,p.translate(E/2,P/2),p.rotate(y),p.drawImage(this.canvas,b/-2,S/-2),this.buffer=re.makeBufferFromCanvasImageData(h),this}invert(){return new ue(this)}}re.DEGREE_TO_RADIANS=Math.PI/180;class de{constructor(c,h,p){this.deviceId=c,this.label=h,this.kind="videoinput",this.groupId=p||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var xe=(globalThis||hx||self||window||void 0)&&(globalThis||hx||self||window||void 0).__awaiter||function(Q,c,h,p){function y(b){return b instanceof h?b:new h(function(S){S(b)})}return new(h||(h=Promise))(function(b,S){function E(q){try{U(p.next(q))}catch(Z){S(Z)}}function P(q){try{U(p.throw(q))}catch(Z){S(Z)}}function U(q){q.done?b(q.value):y(q.value).then(E,P)}U((p=p.apply(Q,c||[])).next())})};class Se{constructor(c,h=500,p){this.reader=c,this.timeBetweenScansMillis=h,this._hints=p,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(c){this._timeBetweenDecodingAttempts=c<0?0:c}set hints(c){this._hints=c||null}get hints(){return this._hints}listVideoInputDevices(){return xe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const c=yield navigator.mediaDevices.enumerateDevices(),h=[];for(const p of c){const y=p.kind==="video"?"videoinput":p.kind;if(y!=="videoinput")continue;const b=p.deviceId||p.id,S=p.label||`Video device ${h.length+1}`,E=p.groupId,P={deviceId:b,label:S,kind:y,groupId:E};h.push(P)}return h})}getVideoInputDevices(){return xe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(h=>new de(h.deviceId,h.label))})}findDeviceById(c){return xe(this,void 0,void 0,function*(){const h=yield this.listVideoInputDevices();return h?h.find(p=>p.deviceId===c):null})}decodeFromInputVideoDevice(c,h){return xe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(c,h)})}decodeOnceFromVideoDevice(c,h){return xe(this,void 0,void 0,function*(){this.reset();let p;c?p={deviceId:{exact:c}}:p={facingMode:"environment"};const y={video:p};return yield this.decodeOnceFromConstraints(y,h)})}decodeOnceFromConstraints(c,h){return xe(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeOnceFromStream(p,h)})}decodeOnceFromStream(c,h){return xe(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(c,h);return yield this.decodeOnce(p)})}decodeFromInputVideoDeviceContinuously(c,h,p){return xe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(c,h,p)})}decodeFromVideoDevice(c,h,p){return xe(this,void 0,void 0,function*(){let y;c?y={deviceId:{exact:c}}:y={facingMode:"environment"};const b={video:y};return yield this.decodeFromConstraints(b,h,p)})}decodeFromConstraints(c,h,p){return xe(this,void 0,void 0,function*(){const y=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeFromStream(y,h,p)})}decodeFromStream(c,h,p){return xe(this,void 0,void 0,function*(){this.reset();const y=yield this.attachStreamToVideo(c,h);return yield this.decodeContinuously(y,p)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(c,h){return xe(this,void 0,void 0,function*(){const p=this.prepareVideoElement(h);return this.addVideoSource(p,c),this.videoElement=p,this.stream=c,yield this.playVideoOnLoadAsync(p),p})}playVideoOnLoadAsync(c){return new Promise((h,p)=>this.playVideoOnLoad(c,()=>h()))}playVideoOnLoad(c,h){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(c),c.addEventListener("ended",this.videoEndedListener),c.addEventListener("canplay",this.videoCanPlayListener),c.addEventListener("playing",h),this.tryPlayVideo(c)}isVideoPlaying(c){return c.currentTime>0&&!c.paused&&!c.ended&&c.readyState>2}tryPlayVideo(c){return xe(this,void 0,void 0,function*(){if(this.isVideoPlaying(c)){console.warn("Trying to play video that is already playing.");return}try{yield c.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(c,h){const p=document.getElementById(c);if(!p)throw new g(`element with id '${c}' not found`);if(p.nodeName.toLowerCase()!==h.toLowerCase())throw new g(`element with id '${c}' must be an ${h} element`);return p}decodeFromImage(c,h){if(!c&&!h)throw new g("either imageElement with a src set or an url must be provided");return h&&!c?this.decodeFromImageUrl(h):this.decodeFromImageElement(c)}decodeFromVideo(c,h){if(!c&&!h)throw new g("Either an element with a src set or an URL must be provided");return h&&!c?this.decodeFromVideoUrl(h):this.decodeFromVideoElement(c)}decodeFromVideoContinuously(c,h,p){if(c===void 0&&h===void 0)throw new g("Either an element with a src set or an URL must be provided");return h&&!c?this.decodeFromVideoUrlContinuously(h,p):this.decodeFromVideoElementContinuously(c,p)}decodeFromImageElement(c){if(!c)throw new g("An image element must be provided.");this.reset();const h=this.prepareImageElement(c);this.imageElement=h;let p;return this.isImageLoaded(h)?p=this.decodeOnce(h,!1,!0):p=this._decodeOnLoadImage(h),p}decodeFromVideoElement(c){const h=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideo(h)}decodeFromVideoElementContinuously(c,h){const p=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideoContinuously(p,h)}_decodeFromVideoElementSetup(c){if(!c)throw new g("A video element must be provided.");this.reset();const h=this.prepareVideoElement(c);return this.videoElement=h,h}decodeFromImageUrl(c){if(!c)throw new g("An URL must be provided.");this.reset();const h=this.prepareImageElement();this.imageElement=h;const p=this._decodeOnLoadImage(h);return h.src=c,p}decodeFromVideoUrl(c){if(!c)throw new g("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),p=this.decodeFromVideoElement(h);return h.src=c,p}decodeFromVideoUrlContinuously(c,h){if(!c)throw new g("An URL must be provided.");this.reset();const p=this.prepareVideoElement(),y=this.decodeFromVideoElementContinuously(p,h);return p.src=c,y}_decodeOnLoadImage(c){return new Promise((h,p)=>{this.imageLoadedListener=()=>this.decodeOnce(c,!1,!0).then(h,p),c.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(c){return xe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(c),yield this.decodeOnce(c)})}_decodeOnLoadVideoContinuously(c,h){return xe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(c),this.decodeContinuously(c,h)})}isImageLoaded(c){return!(!c.complete||c.naturalWidth===0)}prepareImageElement(c){let h;return typeof c>"u"&&(h=document.createElement("img"),h.width=200,h.height=200),typeof c=="string"&&(h=this.getMediaElement(c,"img")),c instanceof HTMLImageElement&&(h=c),h}prepareVideoElement(c){let h;return!c&&typeof document<"u"&&(h=document.createElement("video"),h.width=200,h.height=200),typeof c=="string"&&(h=this.getMediaElement(c,"video")),c instanceof HTMLVideoElement&&(h=c),h.setAttribute("autoplay","true"),h.setAttribute("muted","true"),h.setAttribute("playsinline","true"),h}decodeOnce(c,h=!0,p=!0){this._stopAsyncDecode=!1;const y=(b,S)=>{if(this._stopAsyncDecode){S(new J("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const E=this.decode(c);b(E)}catch(E){const P=h&&E instanceof J,q=(E instanceof _||E instanceof B)&&p;if(P||q)return setTimeout(y,this._timeBetweenDecodingAttempts,b,S);S(E)}};return new Promise((b,S)=>y(b,S))}decodeContinuously(c,h){this._stopContinuousDecode=!1;const p=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const y=this.decode(c);h(y,null),setTimeout(p,this.timeBetweenScansMillis)}catch(y){h(null,y);const b=y instanceof _||y instanceof B,S=y instanceof J;(b||S)&&setTimeout(p,this._timeBetweenDecodingAttempts)}};p()}decode(c){const h=this.createBinaryBitmap(c);return this.decodeBitmap(h)}_isHTMLVideoElement(c){return c.videoWidth!==0}drawFrameOnCanvas(c,h,p){h||(h={sx:0,sy:0,sWidth:c.videoWidth,sHeight:c.videoHeight,dx:0,dy:0,dWidth:c.videoWidth,dHeight:c.videoHeight}),p||(p=this.captureCanvasContext),p.drawImage(c,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}drawImageOnCanvas(c,h,p=this.captureCanvasContext){h||(h={sx:0,sy:0,sWidth:c.naturalWidth,sHeight:c.naturalHeight,dx:0,dy:0,dWidth:c.naturalWidth,dHeight:c.naturalHeight}),p||(p=this.captureCanvasContext),p.drawImage(c,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}createBinaryBitmap(c){this.getCaptureCanvasContext(c),this._isHTMLVideoElement(c)?this.drawFrameOnCanvas(c):this.drawImageOnCanvas(c);const h=this.getCaptureCanvas(c),p=new re(h),y=new ee(p);return new w(y)}getCaptureCanvasContext(c){if(!this.captureCanvasContext){const p=this.getCaptureCanvas(c).getContext("2d");this.captureCanvasContext=p}return this.captureCanvasContext}getCaptureCanvas(c){if(!this.captureCanvas){const h=this.createCaptureCanvas(c);this.captureCanvas=h}return this.captureCanvas}decodeBitmap(c){return this.reader.decode(c,this._hints)}createCaptureCanvas(c){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const h=document.createElement("canvas");let p,y;return typeof c<"u"&&(c instanceof HTMLVideoElement?(p=c.videoWidth,y=c.videoHeight):c instanceof HTMLImageElement&&(p=c.naturalWidth||c.width,y=c.naturalHeight||c.height)),h.style.width=p+"px",h.style.height=y+"px",h.width=p,h.height=y,h}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(c=>c.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(c,h){try{c.srcObject=h}catch{c.src=URL.createObjectURL(h)}}cleanVideoSource(c){try{c.srcObject=null}catch{c.src=""}this.videoElement.removeAttribute("src")}}class ye{constructor(c,h,p=h==null?0:8*h.length,y,b,S=C.currentTimeMillis()){this.text=c,this.rawBytes=h,this.numBits=p,this.resultPoints=y,this.format=b,this.timestamp=S,this.text=c,this.rawBytes=h,p==null?this.numBits=h==null?0:8*h.length:this.numBits=p,this.resultPoints=y,this.format=b,this.resultMetadata=null,S==null?this.timestamp=C.currentTimeMillis():this.timestamp=S}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(c,h){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(c,h)}putAllMetadata(c){c!==null&&(this.resultMetadata===null?this.resultMetadata=c:this.resultMetadata=new Map(c))}addResultPoints(c){const h=this.resultPoints;if(h===null)this.resultPoints=c;else if(c!==null&&c.length>0){const p=new Array(h.length+c.length);C.arraycopy(h,0,p,0,h.length),C.arraycopy(c,0,p,h.length,c.length),this.resultPoints=p}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Le;(function(Q){Q[Q.AZTEC=0]="AZTEC",Q[Q.CODABAR=1]="CODABAR",Q[Q.CODE_39=2]="CODE_39",Q[Q.CODE_93=3]="CODE_93",Q[Q.CODE_128=4]="CODE_128",Q[Q.DATA_MATRIX=5]="DATA_MATRIX",Q[Q.EAN_8=6]="EAN_8",Q[Q.EAN_13=7]="EAN_13",Q[Q.ITF=8]="ITF",Q[Q.MAXICODE=9]="MAXICODE",Q[Q.PDF_417=10]="PDF_417",Q[Q.QR_CODE=11]="QR_CODE",Q[Q.RSS_14=12]="RSS_14",Q[Q.RSS_EXPANDED=13]="RSS_EXPANDED",Q[Q.UPC_A=14]="UPC_A",Q[Q.UPC_E=15]="UPC_E",Q[Q.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Le||(Le={}));var ie=Le,ce;(function(Q){Q[Q.OTHER=0]="OTHER",Q[Q.ORIENTATION=1]="ORIENTATION",Q[Q.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",Q[Q.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",Q[Q.ISSUE_NUMBER=4]="ISSUE_NUMBER",Q[Q.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",Q[Q.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",Q[Q.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",Q[Q.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",Q[Q.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",Q[Q.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ce||(ce={}));var le=ce;class he{constructor(c,h,p,y,b=-1,S=-1){this.rawBytes=c,this.text=h,this.byteSegments=p,this.ecLevel=y,this.structuredAppendSequenceNumber=b,this.structuredAppendParity=S,this.numBits=c==null?0:8*c.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(c){this.numBits=c}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(c){this.errorsCorrected=c}getErasures(){return this.erasures}setErasures(c){this.erasures=c}getOther(){return this.other}setOther(c){this.other=c}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Ee{exp(c){return this.expTable[c]}log(c){if(c===0)throw new x;return this.logTable[c]}static addOrSubtract(c,h){return c^h}}class je{constructor(c,h){if(h.length===0)throw new x;this.field=c;const p=h.length;if(p>1&&h[0]===0){let y=1;for(;y<p&&h[y]===0;)y++;y===p?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(p-y),C.arraycopy(h,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(c===0)return this.getCoefficient(0);const h=this.coefficients;let p;if(c===1){p=0;for(let S=0,E=h.length;S!==E;S++){const P=h[S];p=Ee.addOrSubtract(p,P)}return p}p=h[0];const y=h.length,b=this.field;for(let S=1;S<y;S++)p=Ee.addOrSubtract(b.multiply(c,p),h[S]);return p}addOrSubtract(c){if(!this.field.equals(c.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero())return c;if(c.isZero())return this;let h=this.coefficients,p=c.coefficients;if(h.length>p.length){const S=h;h=p,p=S}let y=new Int32Array(p.length);const b=p.length-h.length;C.arraycopy(p,0,y,0,b);for(let S=b;S<p.length;S++)y[S]=Ee.addOrSubtract(h[S-b],p[S]);return new je(this.field,y)}multiply(c){if(!this.field.equals(c.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero()||c.isZero())return this.field.getZero();const h=this.coefficients,p=h.length,y=c.coefficients,b=y.length,S=new Int32Array(p+b-1),E=this.field;for(let P=0;P<p;P++){const U=h[P];for(let q=0;q<b;q++)S[P+q]=Ee.addOrSubtract(S[P+q],E.multiply(U,y[q]))}return new je(E,S)}multiplyScalar(c){if(c===0)return this.field.getZero();if(c===1)return this;const h=this.coefficients.length,p=this.field,y=new Int32Array(h),b=this.coefficients;for(let S=0;S<h;S++)y[S]=p.multiply(b[S],c);return new je(p,y)}multiplyByMonomial(c,h){if(c<0)throw new x;if(h===0)return this.field.getZero();const p=this.coefficients,y=p.length,b=new Int32Array(y+c),S=this.field;for(let E=0;E<y;E++)b[E]=S.multiply(p[E],h);return new je(S,b)}divide(c){if(!this.field.equals(c.field))throw new x("GenericGFPolys do not have same GenericGF field");if(c.isZero())throw new x("Divide by 0");const h=this.field;let p=h.getZero(),y=this;const b=c.getCoefficient(c.getDegree()),S=h.inverse(b);for(;y.getDegree()>=c.getDegree()&&!y.isZero();){const E=y.getDegree()-c.getDegree(),P=h.multiply(y.getCoefficient(y.getDegree()),S),U=c.multiplyByMonomial(E,P),q=h.buildMonomial(E,P);p=p.addOrSubtract(q),y=y.addOrSubtract(U)}return[p,y]}toString(){let c="";for(let h=this.getDegree();h>=0;h--){let p=this.getCoefficient(h);if(p!==0){if(p<0?(c+=" - ",p=-p):c.length>0&&(c+=" + "),h===0||p!==1){const y=this.field.log(p);y===0?c+="1":y===1?c+="a":(c+="a^",c+=y)}h!==0&&(h===1?c+="x":(c+="x^",c+=h))}}return c}}class be extends f{}be.kind="ArithmeticException";class Ke extends Ee{constructor(c,h,p){super(),this.primitive=c,this.size=h,this.generatorBase=p;const y=new Int32Array(h);let b=1;for(let E=0;E<h;E++)y[E]=b,b*=2,b>=h&&(b^=c,b&=h-1);this.expTable=y;const S=new Int32Array(h);for(let E=0;E<h-1;E++)S[y[E]]=E;this.logTable=S,this.zero=new je(this,Int32Array.from([0])),this.one=new je(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,h){if(c<0)throw new x;if(h===0)return this.zero;const p=new Int32Array(c+1);return p[0]=h,new je(this,p)}inverse(c){if(c===0)throw new be;return this.expTable[this.size-this.logTable[c]-1]}multiply(c,h){return c===0||h===0?0:this.expTable[(this.logTable[c]+this.logTable[h])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+R.toHexString(this.primitive)+","+this.size+")"}equals(c){return c===this}}Ke.AZTEC_DATA_12=new Ke(4201,4096,1),Ke.AZTEC_DATA_10=new Ke(1033,1024,1),Ke.AZTEC_DATA_6=new Ke(67,64,1),Ke.AZTEC_PARAM=new Ke(19,16,1),Ke.QR_CODE_FIELD_256=new Ke(285,256,0),Ke.DATA_MATRIX_FIELD_256=new Ke(301,256,1),Ke.AZTEC_DATA_8=Ke.DATA_MATRIX_FIELD_256,Ke.MAXICODE_FIELD_64=Ke.AZTEC_DATA_6;class ze extends f{}ze.kind="ReedSolomonException";class Qe extends f{}Qe.kind="IllegalStateException";class ht{constructor(c){this.field=c}decode(c,h){const p=this.field,y=new je(p,c),b=new Int32Array(h);let S=!0;for(let oe=0;oe<h;oe++){const pe=y.evaluateAt(p.exp(oe+p.getGeneratorBase()));b[b.length-1-oe]=pe,pe!==0&&(S=!1)}if(S)return;const E=new je(p,b),P=this.runEuclideanAlgorithm(p.buildMonomial(h,1),E,h),U=P[0],q=P[1],Z=this.findErrorLocations(U),te=this.findErrorMagnitudes(q,Z);for(let oe=0;oe<Z.length;oe++){const pe=c.length-1-p.log(Z[oe]);if(pe<0)throw new ze("Bad error location");c[pe]=Ke.addOrSubtract(c[pe],te[oe])}}runEuclideanAlgorithm(c,h,p){if(c.getDegree()<h.getDegree()){const oe=c;c=h,h=oe}const y=this.field;let b=c,S=h,E=y.getZero(),P=y.getOne();for(;S.getDegree()>=(p/2|0);){let oe=b,pe=E;if(b=S,E=P,b.isZero())throw new ze("r_{i-1} was zero");S=oe;let ve=y.getZero();const Ae=b.getCoefficient(b.getDegree()),Ie=y.inverse(Ae);for(;S.getDegree()>=b.getDegree()&&!S.isZero();){const Ze=S.getDegree()-b.getDegree(),tt=y.multiply(S.getCoefficient(S.getDegree()),Ie);ve=ve.addOrSubtract(y.buildMonomial(Ze,tt)),S=S.addOrSubtract(b.multiplyByMonomial(Ze,tt))}if(P=ve.multiply(E).addOrSubtract(pe),S.getDegree()>=b.getDegree())throw new Qe("Division algorithm failed to reduce polynomial?")}const U=P.getCoefficient(0);if(U===0)throw new ze("sigmaTilde(0) was zero");const q=y.inverse(U),Z=P.multiplyScalar(q),te=S.multiplyScalar(q);return[Z,te]}findErrorLocations(c){const h=c.getDegree();if(h===1)return Int32Array.from([c.getCoefficient(1)]);const p=new Int32Array(h);let y=0;const b=this.field;for(let S=1;S<b.getSize()&&y<h;S++)c.evaluateAt(S)===0&&(p[y]=b.inverse(S),y++);if(y!==h)throw new ze("Error locator degree does not match number of roots");return p}findErrorMagnitudes(c,h){const p=h.length,y=new Int32Array(p),b=this.field;for(let S=0;S<p;S++){const E=b.inverse(h[S]);let P=1;for(let U=0;U<p;U++)if(S!==U){const q=b.multiply(h[U],E),Z=(q&1)===0?q|1:q&-2;P=b.multiply(P,Z)}y[S]=b.multiply(c.evaluateAt(E),b.inverse(P)),b.getGeneratorBase()!==0&&(y[S]=b.multiply(y[S],E))}return y}}var Je;(function(Q){Q[Q.UPPER=0]="UPPER",Q[Q.LOWER=1]="LOWER",Q[Q.MIXED=2]="MIXED",Q[Q.DIGIT=3]="DIGIT",Q[Q.PUNCT=4]="PUNCT",Q[Q.BINARY=5]="BINARY"})(Je||(Je={}));class bt{decode(c){this.ddata=c;let h=c.getBits(),p=this.extractBits(h),y=this.correctBits(p),b=bt.convertBoolArrayToByteArray(y),S=bt.getEncodedData(y),E=new he(b,S,null,null);return E.setNumBits(y.length),E}static highLevelDecode(c){return this.getEncodedData(c)}static getEncodedData(c){let h=c.length,p=Je.UPPER,y=Je.UPPER,b="",S=0;for(;S<h;)if(y===Je.BINARY){if(h-S<5)break;let E=bt.readCode(c,S,5);if(S+=5,E===0){if(h-S<11)break;E=bt.readCode(c,S,11)+31,S+=11}for(let P=0;P<E;P++){if(h-S<8){S=h;break}const U=bt.readCode(c,S,8);b+=Y.castAsNonUtf8Char(U),S+=8}y=p}else{let E=y===Je.DIGIT?4:5;if(h-S<E)break;let P=bt.readCode(c,S,E);S+=E;let U=bt.getCharacter(y,P);U.startsWith("CTRL_")?(p=y,y=bt.getTable(U.charAt(5)),U.charAt(6)==="L"&&(p=y)):(b+=U,y=p)}return b}static getTable(c){switch(c){case"L":return Je.LOWER;case"P":return Je.PUNCT;case"M":return Je.MIXED;case"D":return Je.DIGIT;case"B":return Je.BINARY;case"U":default:return Je.UPPER}}static getCharacter(c,h){switch(c){case Je.UPPER:return bt.UPPER_TABLE[h];case Je.LOWER:return bt.LOWER_TABLE[h];case Je.MIXED:return bt.MIXED_TABLE[h];case Je.PUNCT:return bt.PUNCT_TABLE[h];case Je.DIGIT:return bt.DIGIT_TABLE[h];default:throw new Qe("Bad table")}}correctBits(c){let h,p;this.ddata.getNbLayers()<=2?(p=6,h=Ke.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(p=8,h=Ke.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(p=10,h=Ke.AZTEC_DATA_10):(p=12,h=Ke.AZTEC_DATA_12);let y=this.ddata.getNbDatablocks(),b=c.length/p;if(b<y)throw new B;let S=c.length%p,E=new Int32Array(b);for(let te=0;te<b;te++,S+=p)E[te]=bt.readCode(c,S,p);try{new ht(h).decode(E,b-y)}catch(te){throw new B(te)}let P=(1<<p)-1,U=0;for(let te=0;te<y;te++){let oe=E[te];if(oe===0||oe===P)throw new B;(oe===1||oe===P-1)&&U++}let q=new Array(y*p-U),Z=0;for(let te=0;te<y;te++){let oe=E[te];if(oe===1||oe===P-1)q.fill(oe>1,Z,Z+p-1),Z+=p-1;else for(let pe=p-1;pe>=0;--pe)q[Z++]=(oe&1<<pe)!==0}return q}extractBits(c){let h=this.ddata.isCompact(),p=this.ddata.getNbLayers(),y=(h?11:14)+p*4,b=new Int32Array(y),S=new Array(this.totalBitsInLayer(p,h));if(h)for(let E=0;E<b.length;E++)b[E]=E;else{let E=y+1+2*R.truncDivision(R.truncDivision(y,2)-1,15),P=y/2,U=R.truncDivision(E,2);for(let q=0;q<P;q++){let Z=q+R.truncDivision(q,15);b[P-q-1]=U-Z-1,b[P+q]=U+Z+1}}for(let E=0,P=0;E<p;E++){let U=(p-E)*4+(h?9:12),q=E*2,Z=y-1-q;for(let te=0;te<U;te++){let oe=te*2;for(let pe=0;pe<2;pe++)S[P+oe+pe]=c.get(b[q+pe],b[q+te]),S[P+2*U+oe+pe]=c.get(b[q+te],b[Z-pe]),S[P+4*U+oe+pe]=c.get(b[Z-pe],b[Z-te]),S[P+6*U+oe+pe]=c.get(b[Z-te],b[q+pe])}P+=U*8}return S}static readCode(c,h,p){let y=0;for(let b=h;b<h+p;b++)y<<=1,c[b]&&(y|=1);return y}static readByte(c,h){let p=c.length-h;return p>=8?bt.readCode(c,h,8):bt.readCode(c,h,p)<<8-p}static convertBoolArrayToByteArray(c){let h=new Uint8Array((c.length+7)/8);for(let p=0;p<h.length;p++)h[p]=bt.readByte(c,8*p);return h}totalBitsInLayer(c,h){return((h?88:112)+16*c)*c}}bt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],bt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],bt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],bt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],bt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class st{constructor(){}static round(c){return c===NaN?0:c<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:c>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:c+(c<0?-.5:.5)|0}static distance(c,h,p,y){const b=c-p,S=h-y;return Math.sqrt(b*b+S*S)}static sum(c){let h=0;for(let p=0,y=c.length;p!==y;p++){const b=c[p];h+=b}return h}}class hr{static floatToIntBits(c){return c}}hr.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ct{constructor(c,h){this.x=c,this.y=h}getX(){return this.x}getY(){return this.y}equals(c){if(c instanceof ct){const h=c;return this.x===h.x&&this.y===h.y}return!1}hashCode(){return 31*hr.floatToIntBits(this.x)+hr.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(c){const h=this.distance(c[0],c[1]),p=this.distance(c[1],c[2]),y=this.distance(c[0],c[2]);let b,S,E;if(p>=h&&p>=y?(S=c[0],b=c[1],E=c[2]):y>=p&&y>=h?(S=c[1],b=c[0],E=c[2]):(S=c[2],b=c[0],E=c[1]),this.crossProductZ(b,S,E)<0){const P=b;b=E,E=P}c[0]=b,c[1]=S,c[2]=E}static distance(c,h){return st.distance(c.x,c.y,h.x,h.y)}static crossProductZ(c,h,p){const y=h.x,b=h.y;return(p.x-y)*(c.y-b)-(p.y-b)*(c.x-y)}}class xn{constructor(c,h){this.bits=c,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class Wr extends xn{constructor(c,h,p,y,b){super(c,h),this.compact=p,this.nbDatablocks=y,this.nbLayers=b}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class mr{constructor(c,h,p,y){this.image=c,this.height=c.getHeight(),this.width=c.getWidth(),h==null&&(h=mr.INIT_SIZE),p==null&&(p=c.getWidth()/2|0),y==null&&(y=c.getHeight()/2|0);const b=h/2|0;if(this.leftInit=p-b,this.rightInit=p+b,this.upInit=y-b,this.downInit=y+b,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new J}detect(){let c=this.leftInit,h=this.rightInit,p=this.upInit,y=this.downInit,b=!1,S=!0,E=!1,P=!1,U=!1,q=!1,Z=!1;const te=this.width,oe=this.height;for(;S;){S=!1;let pe=!0;for(;(pe||!P)&&h<te;)pe=this.containsBlackPoint(p,y,h,!1),pe?(h++,S=!0,P=!0):P||h++;if(h>=te){b=!0;break}let ve=!0;for(;(ve||!U)&&y<oe;)ve=this.containsBlackPoint(c,h,y,!0),ve?(y++,S=!0,U=!0):U||y++;if(y>=oe){b=!0;break}let Ae=!0;for(;(Ae||!q)&&c>=0;)Ae=this.containsBlackPoint(p,y,c,!1),Ae?(c--,S=!0,q=!0):q||c--;if(c<0){b=!0;break}let Ie=!0;for(;(Ie||!Z)&&p>=0;)Ie=this.containsBlackPoint(c,h,p,!0),Ie?(p--,S=!0,Z=!0):Z||p--;if(p<0){b=!0;break}S&&(E=!0)}if(!b&&E){const pe=h-c;let ve=null;for(let tt=1;ve===null&&tt<pe;tt++)ve=this.getBlackPointOnSegment(c,y-tt,c+tt,y);if(ve==null)throw new J;let Ae=null;for(let tt=1;Ae===null&&tt<pe;tt++)Ae=this.getBlackPointOnSegment(c,p+tt,c+tt,p);if(Ae==null)throw new J;let Ie=null;for(let tt=1;Ie===null&&tt<pe;tt++)Ie=this.getBlackPointOnSegment(h,p+tt,h-tt,p);if(Ie==null)throw new J;let Ze=null;for(let tt=1;Ze===null&&tt<pe;tt++)Ze=this.getBlackPointOnSegment(h,y-tt,h-tt,y);if(Ze==null)throw new J;return this.centerEdges(Ze,ve,Ie,Ae)}else throw new J}getBlackPointOnSegment(c,h,p,y){const b=st.round(st.distance(c,h,p,y)),S=(p-c)/b,E=(y-h)/b,P=this.image;for(let U=0;U<b;U++){const q=st.round(c+U*S),Z=st.round(h+U*E);if(P.get(q,Z))return new ct(q,Z)}return null}centerEdges(c,h,p,y){const b=c.getX(),S=c.getY(),E=h.getX(),P=h.getY(),U=p.getX(),q=p.getY(),Z=y.getX(),te=y.getY(),oe=mr.CORR;return b<this.width/2?[new ct(Z-oe,te+oe),new ct(E+oe,P+oe),new ct(U-oe,q-oe),new ct(b+oe,S-oe)]:[new ct(Z+oe,te+oe),new ct(E+oe,P-oe),new ct(U-oe,q+oe),new ct(b-oe,S-oe)]}containsBlackPoint(c,h,p,y){const b=this.image;if(y){for(let S=c;S<=h;S++)if(b.get(S,p))return!0}else for(let S=c;S<=h;S++)if(b.get(p,S))return!0;return!1}}mr.INIT_SIZE=10,mr.CORR=1;class Wa{static checkAndNudgePoints(c,h){const p=c.getWidth(),y=c.getHeight();let b=!0;for(let S=0;S<h.length&&b;S+=2){const E=Math.floor(h[S]),P=Math.floor(h[S+1]);if(E<-1||E>p||P<-1||P>y)throw new J;b=!1,E===-1?(h[S]=0,b=!0):E===p&&(h[S]=p-1,b=!0),P===-1?(h[S+1]=0,b=!0):P===y&&(h[S+1]=y-1,b=!0)}b=!0;for(let S=h.length-2;S>=0&&b;S-=2){const E=Math.floor(h[S]),P=Math.floor(h[S+1]);if(E<-1||E>p||P<-1||P>y)throw new J;b=!1,E===-1?(h[S]=0,b=!0):E===p&&(h[S]=p-1,b=!0),P===-1?(h[S+1]=0,b=!0):P===y&&(h[S+1]=y-1,b=!0)}}}class Nn{constructor(c,h,p,y,b,S,E,P,U){this.a11=c,this.a21=h,this.a31=p,this.a12=y,this.a22=b,this.a32=S,this.a13=E,this.a23=P,this.a33=U}static quadrilateralToQuadrilateral(c,h,p,y,b,S,E,P,U,q,Z,te,oe,pe,ve,Ae){const Ie=Nn.quadrilateralToSquare(c,h,p,y,b,S,E,P);return Nn.squareToQuadrilateral(U,q,Z,te,oe,pe,ve,Ae).times(Ie)}transformPoints(c){const h=c.length,p=this.a11,y=this.a12,b=this.a13,S=this.a21,E=this.a22,P=this.a23,U=this.a31,q=this.a32,Z=this.a33;for(let te=0;te<h;te+=2){const oe=c[te],pe=c[te+1],ve=b*oe+P*pe+Z;c[te]=(p*oe+S*pe+U)/ve,c[te+1]=(y*oe+E*pe+q)/ve}}transformPointsWithValues(c,h){const p=this.a11,y=this.a12,b=this.a13,S=this.a21,E=this.a22,P=this.a23,U=this.a31,q=this.a32,Z=this.a33,te=c.length;for(let oe=0;oe<te;oe++){const pe=c[oe],ve=h[oe],Ae=b*pe+P*ve+Z;c[oe]=(p*pe+S*ve+U)/Ae,h[oe]=(y*pe+E*ve+q)/Ae}}static squareToQuadrilateral(c,h,p,y,b,S,E,P){const U=c-p+b-E,q=h-y+S-P;if(U===0&&q===0)return new Nn(p-c,b-p,c,y-h,S-y,h,0,0,1);{const Z=p-b,te=E-b,oe=y-S,pe=P-S,ve=Z*pe-te*oe,Ae=(U*pe-te*q)/ve,Ie=(Z*q-U*oe)/ve;return new Nn(p-c+Ae*p,E-c+Ie*E,c,y-h+Ae*y,P-h+Ie*P,h,Ae,Ie,1)}}static quadrilateralToSquare(c,h,p,y,b,S,E,P){return Nn.squareToQuadrilateral(c,h,p,y,b,S,E,P).buildAdjoint()}buildAdjoint(){return new Nn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(c){return new Nn(this.a11*c.a11+this.a21*c.a12+this.a31*c.a13,this.a11*c.a21+this.a21*c.a22+this.a31*c.a23,this.a11*c.a31+this.a21*c.a32+this.a31*c.a33,this.a12*c.a11+this.a22*c.a12+this.a32*c.a13,this.a12*c.a21+this.a22*c.a22+this.a32*c.a23,this.a12*c.a31+this.a22*c.a32+this.a32*c.a33,this.a13*c.a11+this.a23*c.a12+this.a33*c.a13,this.a13*c.a21+this.a23*c.a22+this.a33*c.a23,this.a13*c.a31+this.a23*c.a32+this.a33*c.a33)}}class Gn extends Wa{sampleGrid(c,h,p,y,b,S,E,P,U,q,Z,te,oe,pe,ve,Ae,Ie,Ze,tt){const Xe=Nn.quadrilateralToQuadrilateral(y,b,S,E,P,U,q,Z,te,oe,pe,ve,Ae,Ie,Ze,tt);return this.sampleGridWithTransform(c,h,p,Xe)}sampleGridWithTransform(c,h,p,y){if(h<=0||p<=0)throw new J;const b=new ne(h,p),S=new Float32Array(2*h);for(let E=0;E<p;E++){const P=S.length,U=E+.5;for(let q=0;q<P;q+=2)S[q]=q/2+.5,S[q+1]=U;y.transformPoints(S),Wa.checkAndNudgePoints(c,S);try{for(let q=0;q<P;q+=2)c.get(Math.floor(S[q]),Math.floor(S[q+1]))&&b.set(q/2,E)}catch{throw new J}}return b}}class gr{static setGridSampler(c){gr.gridSampler=c}static getInstance(){return gr.gridSampler}}gr.gridSampler=new Gn;class sn{constructor(c,h){this.x=c,this.y=h}toResultPoint(){return new ct(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class $i{constructor(c){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=c}detect(){return this.detectMirror(!1)}detectMirror(c){let h=this.getMatrixCenter(),p=this.getBullsEyeCorners(h);if(c){let S=p[0];p[0]=p[2],p[2]=S}this.extractParameters(p);let y=this.sampleGrid(this.image,p[this.shift%4],p[(this.shift+1)%4],p[(this.shift+2)%4],p[(this.shift+3)%4]),b=this.getMatrixCornerPoints(p);return new Wr(y,b,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(c){if(!this.isValidPoint(c[0])||!this.isValidPoint(c[1])||!this.isValidPoint(c[2])||!this.isValidPoint(c[3]))throw new J;let h=2*this.nbCenterLayers,p=new Int32Array([this.sampleLine(c[0],c[1],h),this.sampleLine(c[1],c[2],h),this.sampleLine(c[2],c[3],h),this.sampleLine(c[3],c[0],h)]);this.shift=this.getRotation(p,h);let y=0;for(let S=0;S<4;S++){let E=p[(this.shift+S)%4];this.compact?(y<<=7,y+=E>>1&127):(y<<=10,y+=(E>>2&992)+(E>>1&31))}let b=this.getCorrectedParameterData(y,this.compact);this.compact?(this.nbLayers=(b>>6)+1,this.nbDataBlocks=(b&63)+1):(this.nbLayers=(b>>11)+1,this.nbDataBlocks=(b&2047)+1)}getRotation(c,h){let p=0;c.forEach((y,b,S)=>{let E=(y>>h-2<<1)+(y&1);p=(p<<3)+E}),p=((p&1)<<11)+(p>>1);for(let y=0;y<4;y++)if(R.bitCount(p^this.EXPECTED_CORNER_BITS[y])<=2)return y;throw new J}getCorrectedParameterData(c,h){let p,y;h?(p=7,y=2):(p=10,y=4);let b=p-y,S=new Int32Array(p);for(let P=p-1;P>=0;--P)S[P]=c&15,c>>=4;try{new ht(Ke.AZTEC_PARAM).decode(S,b)}catch{throw new J}let E=0;for(let P=0;P<y;P++)E=(E<<4)+S[P];return E}getBullsEyeCorners(c){let h=c,p=c,y=c,b=c,S=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let Z=this.getFirstDifferent(h,S,1,-1),te=this.getFirstDifferent(p,S,1,1),oe=this.getFirstDifferent(y,S,-1,1),pe=this.getFirstDifferent(b,S,-1,-1);if(this.nbCenterLayers>2){let ve=this.distancePoint(pe,Z)*this.nbCenterLayers/(this.distancePoint(b,h)*(this.nbCenterLayers+2));if(ve<.75||ve>1.25||!this.isWhiteOrBlackRectangle(Z,te,oe,pe))break}h=Z,p=te,y=oe,b=pe,S=!S}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new J;this.compact=this.nbCenterLayers===5;let E=new ct(h.getX()+.5,h.getY()-.5),P=new ct(p.getX()+.5,p.getY()+.5),U=new ct(y.getX()-.5,y.getY()+.5),q=new ct(b.getX()-.5,b.getY()-.5);return this.expandSquare([E,P,U,q],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let c,h,p,y;try{let E=new mr(this.image).detect();c=E[0],h=E[1],p=E[2],y=E[3]}catch{let P=this.image.getWidth()/2,U=this.image.getHeight()/2;c=this.getFirstDifferent(new sn(P+7,U-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new sn(P+7,U+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new sn(P-7,U+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new sn(P-7,U-7),!1,-1,-1).toResultPoint()}let b=st.round((c.getX()+y.getX()+h.getX()+p.getX())/4),S=st.round((c.getY()+y.getY()+h.getY()+p.getY())/4);try{let E=new mr(this.image,15,b,S).detect();c=E[0],h=E[1],p=E[2],y=E[3]}catch{c=this.getFirstDifferent(new sn(b+7,S-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new sn(b+7,S+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new sn(b-7,S+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new sn(b-7,S-7),!1,-1,-1).toResultPoint()}return b=st.round((c.getX()+y.getX()+h.getX()+p.getX())/4),S=st.round((c.getY()+y.getY()+h.getY()+p.getY())/4),new sn(b,S)}getMatrixCornerPoints(c){return this.expandSquare(c,2*this.nbCenterLayers,this.getDimension())}sampleGrid(c,h,p,y,b){let S=gr.getInstance(),E=this.getDimension(),P=E/2-this.nbCenterLayers,U=E/2+this.nbCenterLayers;return S.sampleGrid(c,E,E,P,P,U,P,U,U,P,U,h.getX(),h.getY(),p.getX(),p.getY(),y.getX(),y.getY(),b.getX(),b.getY())}sampleLine(c,h,p){let y=0,b=this.distanceResultPoint(c,h),S=b/p,E=c.getX(),P=c.getY(),U=S*(h.getX()-c.getX())/b,q=S*(h.getY()-c.getY())/b;for(let Z=0;Z<p;Z++)this.image.get(st.round(E+Z*U),st.round(P+Z*q))&&(y|=1<<p-Z-1);return y}isWhiteOrBlackRectangle(c,h,p,y){let b=3;c=new sn(c.getX()-b,c.getY()+b),h=new sn(h.getX()-b,h.getY()-b),p=new sn(p.getX()+b,p.getY()-b),y=new sn(y.getX()+b,y.getY()+b);let S=this.getColor(y,c);if(S===0)return!1;let E=this.getColor(c,h);return E!==S||(E=this.getColor(h,p),E!==S)?!1:(E=this.getColor(p,y),E===S)}getColor(c,h){let p=this.distancePoint(c,h),y=(h.getX()-c.getX())/p,b=(h.getY()-c.getY())/p,S=0,E=c.getX(),P=c.getY(),U=this.image.get(c.getX(),c.getY()),q=Math.ceil(p);for(let te=0;te<q;te++)E+=y,P+=b,this.image.get(st.round(E),st.round(P))!==U&&S++;let Z=S/p;return Z>.1&&Z<.9?0:Z<=.1===U?1:-1}getFirstDifferent(c,h,p,y){let b=c.getX()+p,S=c.getY()+y;for(;this.isValid(b,S)&&this.image.get(b,S)===h;)b+=p,S+=y;for(b-=p,S-=y;this.isValid(b,S)&&this.image.get(b,S)===h;)b+=p;for(b-=p;this.isValid(b,S)&&this.image.get(b,S)===h;)S+=y;return S-=y,new sn(b,S)}expandSquare(c,h,p){let y=p/(2*h),b=c[0].getX()-c[2].getX(),S=c[0].getY()-c[2].getY(),E=(c[0].getX()+c[2].getX())/2,P=(c[0].getY()+c[2].getY())/2,U=new ct(E+y*b,P+y*S),q=new ct(E-y*b,P-y*S);b=c[1].getX()-c[3].getX(),S=c[1].getY()-c[3].getY(),E=(c[1].getX()+c[3].getX())/2,P=(c[1].getY()+c[3].getY())/2;let Z=new ct(E+y*b,P+y*S),te=new ct(E-y*b,P-y*S);return[U,Z,q,te]}isValid(c,h){return c>=0&&c<this.image.getWidth()&&h>0&&h<this.image.getHeight()}isValidPoint(c){let h=st.round(c.getX()),p=st.round(c.getY());return this.isValid(h,p)}distancePoint(c,h){return st.distance(c.getX(),c.getY(),h.getX(),h.getY())}distanceResultPoint(c,h){return st.distance(c.getX(),c.getY(),h.getX(),h.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(R.truncDivision(this.nbLayers-4,8)+1)+15}}class qs{decode(c,h=null){let p=null,y=new $i(c.getBlackMatrix()),b=null,S=null;try{let q=y.detectMirror(!1);b=q.getPoints(),this.reportFoundResultPoints(h,b),S=new bt().decode(q)}catch(q){p=q}if(S==null)try{let q=y.detectMirror(!0);b=q.getPoints(),this.reportFoundResultPoints(h,b),S=new bt().decode(q)}catch(q){throw p??q}let E=new ye(S.getText(),S.getRawBytes(),S.getNumBits(),b,ie.AZTEC,C.currentTimeMillis()),P=S.getByteSegments();P!=null&&E.putMetadata(le.BYTE_SEGMENTS,P);let U=S.getECLevel();return U!=null&&E.putMetadata(le.ERROR_CORRECTION_LEVEL,U),E}reportFoundResultPoints(c,h){if(c!=null){let p=c.get(I.NEED_RESULT_POINT_CALLBACK);p!=null&&h.forEach((y,b,S)=>{p.foundPossibleResultPoint(y)})}}reset(){}}class xs extends Se{constructor(c=500){super(new qs,c)}}class cn{decode(c,h){try{return this.doDecode(c,h)}catch{if(h&&h.get(I.TRY_HARDER)===!0&&c.isRotateSupported()){const b=c.rotateCounterClockwise(),S=this.doDecode(b,h),E=S.getResultMetadata();let P=270;E!==null&&E.get(le.ORIENTATION)===!0&&(P=P+E.get(le.ORIENTATION)%360),S.putMetadata(le.ORIENTATION,P);const U=S.getResultPoints();if(U!==null){const q=b.getHeight();for(let Z=0;Z<U.length;Z++)U[Z]=new ct(q-U[Z].getY()-1,U[Z].getX())}return S}else throw new J}}reset(){}doDecode(c,h){const p=c.getWidth(),y=c.getHeight();let b=new z(p);const S=h&&h.get(I.TRY_HARDER)===!0,E=Math.max(1,y>>(S?8:5));let P;S?P=y:P=15;const U=Math.trunc(y/2);for(let q=0;q<P;q++){const Z=Math.trunc((q+1)/2),te=(q&1)===0,oe=U+E*(te?Z:-Z);if(oe<0||oe>=y)break;try{b=c.getBlackRow(oe,b)}catch{continue}for(let pe=0;pe<2;pe++){if(pe===1&&(b.reverse(),h&&h.get(I.NEED_RESULT_POINT_CALLBACK)===!0)){const ve=new Map;h.forEach((Ae,Ie)=>ve.set(Ie,Ae)),ve.delete(I.NEED_RESULT_POINT_CALLBACK),h=ve}try{const ve=this.decodeRow(oe,b,h);if(pe===1){ve.putMetadata(le.ORIENTATION,180);const Ae=ve.getResultPoints();Ae!==null&&(Ae[0]=new ct(p-Ae[0].getX()-1,Ae[0].getY()),Ae[1]=new ct(p-Ae[1].getX()-1,Ae[1].getY()))}return ve}catch{}}}throw new J}static recordPattern(c,h,p){const y=p.length;for(let U=0;U<y;U++)p[U]=0;const b=c.getSize();if(h>=b)throw new J;let S=!c.get(h),E=0,P=h;for(;P<b;){if(c.get(P)!==S)p[E]++;else{if(++E===y)break;p[E]=1,S=!S}P++}if(!(E===y||E===y-1&&P===b))throw new J}static recordPatternInReverse(c,h,p){let y=p.length,b=c.get(h);for(;h>0&&y>=0;)c.get(--h)!==b&&(y--,b=!b);if(y>=0)throw new J;cn.recordPattern(c,h+1,p)}static patternMatchVariance(c,h,p){const y=c.length;let b=0,S=0;for(let U=0;U<y;U++)b+=c[U],S+=h[U];if(b<S)return Number.POSITIVE_INFINITY;const E=b/S;p*=E;let P=0;for(let U=0;U<y;U++){const q=c[U],Z=h[U]*E,te=q>Z?q-Z:Z-q;if(te>p)return Number.POSITIVE_INFINITY;P+=te}return P/b}}class nt extends cn{static findStartPattern(c){const h=c.getSize(),p=c.getNextSet(0);let y=0,b=Int32Array.from([0,0,0,0,0,0]),S=p,E=!1;const P=6;for(let U=p;U<h;U++)if(c.get(U)!==E)b[y]++;else{if(y===P-1){let q=nt.MAX_AVG_VARIANCE,Z=-1;for(let te=nt.CODE_START_A;te<=nt.CODE_START_C;te++){const oe=cn.patternMatchVariance(b,nt.CODE_PATTERNS[te],nt.MAX_INDIVIDUAL_VARIANCE);oe<q&&(q=oe,Z=te)}if(Z>=0&&c.isRange(Math.max(0,S-(U-S)/2),S,!1))return Int32Array.from([S,U,Z]);S+=b[0]+b[1],b=b.slice(2,b.length-1),b[y-1]=0,b[y]=0,y--}else y++;b[y]=1,E=!E}throw new J}static decodeCode(c,h,p){cn.recordPattern(c,p,h);let y=nt.MAX_AVG_VARIANCE,b=-1;for(let S=0;S<nt.CODE_PATTERNS.length;S++){const E=nt.CODE_PATTERNS[S],P=this.patternMatchVariance(h,E,nt.MAX_INDIVIDUAL_VARIANCE);P<y&&(y=P,b=S)}if(b>=0)return b;throw new J}decodeRow(c,h,p){const y=p&&p.get(I.ASSUME_GS1)===!0,b=nt.findStartPattern(h),S=b[2];let E=0;const P=new Uint8Array(20);P[E++]=S;let U;switch(S){case nt.CODE_START_A:U=nt.CODE_CODE_A;break;case nt.CODE_START_B:U=nt.CODE_CODE_B;break;case nt.CODE_START_C:U=nt.CODE_CODE_C;break;default:throw new B}let q=!1,Z=!1,te="",oe=b[0],pe=b[1];const ve=Int32Array.from([0,0,0,0,0,0]);let Ae=0,Ie=0,Ze=S,tt=0,Xe=!0,Ut=!1,kt=!1;for(;!q;){const To=Z;switch(Z=!1,Ae=Ie,Ie=nt.decodeCode(h,ve,pe),P[E++]=Ie,Ie!==nt.CODE_STOP&&(Xe=!0),Ie!==nt.CODE_STOP&&(tt++,Ze+=tt*Ie),oe=pe,pe+=ve.reduce((Yi,hp)=>Yi+hp,0),Ie){case nt.CODE_START_A:case nt.CODE_START_B:case nt.CODE_START_C:throw new B}switch(U){case nt.CODE_CODE_A:if(Ie<64)kt===Ut?te+=String.fromCharCode(32+Ie):te+=String.fromCharCode(32+Ie+128),kt=!1;else if(Ie<96)kt===Ut?te+=String.fromCharCode(Ie-64):te+=String.fromCharCode(Ie+64),kt=!1;else switch(Ie!==nt.CODE_STOP&&(Xe=!1),Ie){case nt.CODE_FNC_1:y&&(te.length===0?te+="]C1":te+="");break;case nt.CODE_FNC_2:case nt.CODE_FNC_3:break;case nt.CODE_FNC_4_A:!Ut&&kt?(Ut=!0,kt=!1):Ut&&kt?(Ut=!1,kt=!1):kt=!0;break;case nt.CODE_SHIFT:Z=!0,U=nt.CODE_CODE_B;break;case nt.CODE_CODE_B:U=nt.CODE_CODE_B;break;case nt.CODE_CODE_C:U=nt.CODE_CODE_C;break;case nt.CODE_STOP:q=!0;break}break;case nt.CODE_CODE_B:if(Ie<96)kt===Ut?te+=String.fromCharCode(32+Ie):te+=String.fromCharCode(32+Ie+128),kt=!1;else switch(Ie!==nt.CODE_STOP&&(Xe=!1),Ie){case nt.CODE_FNC_1:y&&(te.length===0?te+="]C1":te+="");break;case nt.CODE_FNC_2:case nt.CODE_FNC_3:break;case nt.CODE_FNC_4_B:!Ut&&kt?(Ut=!0,kt=!1):Ut&&kt?(Ut=!1,kt=!1):kt=!0;break;case nt.CODE_SHIFT:Z=!0,U=nt.CODE_CODE_A;break;case nt.CODE_CODE_A:U=nt.CODE_CODE_A;break;case nt.CODE_CODE_C:U=nt.CODE_CODE_C;break;case nt.CODE_STOP:q=!0;break}break;case nt.CODE_CODE_C:if(Ie<100)Ie<10&&(te+="0"),te+=Ie;else switch(Ie!==nt.CODE_STOP&&(Xe=!1),Ie){case nt.CODE_FNC_1:y&&(te.length===0?te+="]C1":te+="");break;case nt.CODE_CODE_A:U=nt.CODE_CODE_A;break;case nt.CODE_CODE_B:U=nt.CODE_CODE_B;break;case nt.CODE_STOP:q=!0;break}break}To&&(U=U===nt.CODE_CODE_A?nt.CODE_CODE_B:nt.CODE_CODE_A)}const Pa=pe-oe;if(pe=h.getNextUnset(pe),!h.isRange(pe,Math.min(h.getSize(),pe+(pe-oe)/2),!1))throw new J;if(Ze-=tt*Ae,Ze%103!==Ae)throw new _;const Ti=te.length;if(Ti===0)throw new J;Ti>0&&Xe&&(U===nt.CODE_CODE_C?te=te.substring(0,Ti-2):te=te.substring(0,Ti-1));const Za=(b[1]+b[0])/2,Mn=oe+Pa/2,la=P.length,Ja=new Uint8Array(la);for(let To=0;To<la;To++)Ja[To]=P[To];const dl=[new ct(Za,c),new ct(Mn,c)];return new ye(te,Ja,0,dl,ie.CODE_128,new Date().getTime())}}nt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],nt.MAX_AVG_VARIANCE=.25,nt.MAX_INDIVIDUAL_VARIANCE=.7,nt.CODE_SHIFT=98,nt.CODE_CODE_C=99,nt.CODE_CODE_B=100,nt.CODE_CODE_A=101,nt.CODE_FNC_1=102,nt.CODE_FNC_2=97,nt.CODE_FNC_3=96,nt.CODE_FNC_4_A=101,nt.CODE_FNC_4_B=100,nt.CODE_START_A=103,nt.CODE_START_B=104,nt.CODE_START_C=105,nt.CODE_STOP=106;class vn extends cn{constructor(c=!1,h=!1){super(),this.usingCheckDigit=c,this.extendedMode=h,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(c,h,p){let y=this.counters;y.fill(0),this.decodeRowResult="";let b=vn.findAsteriskPattern(h,y),S=h.getNextSet(b[1]),E=h.getSize(),P,U;do{vn.recordPattern(h,S,y);let ve=vn.toNarrowWidePattern(y);if(ve<0)throw new J;P=vn.patternToChar(ve),this.decodeRowResult+=P,U=S;for(let Ae of y)S+=Ae;S=h.getNextSet(S)}while(P!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let q=0;for(let ve of y)q+=ve;let Z=S-U-q;if(S!==E&&Z*2<q)throw new J;if(this.usingCheckDigit){let ve=this.decodeRowResult.length-1,Ae=0;for(let Ie=0;Ie<ve;Ie++)Ae+=vn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ie));if(this.decodeRowResult.charAt(ve)!==vn.ALPHABET_STRING.charAt(Ae%43))throw new _;this.decodeRowResult=this.decodeRowResult.substring(0,ve)}if(this.decodeRowResult.length===0)throw new J;let te;this.extendedMode?te=vn.decodeExtended(this.decodeRowResult):te=this.decodeRowResult;let oe=(b[1]+b[0])/2,pe=U+q/2;return new ye(te,null,0,[new ct(oe,c),new ct(pe,c)],ie.CODE_39,new Date().getTime())}static findAsteriskPattern(c,h){let p=c.getSize(),y=c.getNextSet(0),b=0,S=y,E=!1,P=h.length;for(let U=y;U<p;U++)if(c.get(U)!==E)h[b]++;else{if(b===P-1){if(this.toNarrowWidePattern(h)===vn.ASTERISK_ENCODING&&c.isRange(Math.max(0,S-Math.floor((U-S)/2)),S,!1))return[S,U];S+=h[0]+h[1],h.copyWithin(0,2,2+b-1),h[b-1]=0,h[b]=0,b--}else b++;h[b]=1,E=!E}throw new J}static toNarrowWidePattern(c){let h=c.length,p=0,y;do{let b=2147483647;for(let P of c)P<b&&P>p&&(b=P);p=b,y=0;let S=0,E=0;for(let P=0;P<h;P++){let U=c[P];U>p&&(E|=1<<h-1-P,y++,S+=U)}if(y===3){for(let P=0;P<h&&y>0;P++){let U=c[P];if(U>p&&(y--,U*2>=S))return-1}return E}}while(y>3);return-1}static patternToChar(c){for(let h=0;h<vn.CHARACTER_ENCODINGS.length;h++)if(vn.CHARACTER_ENCODINGS[h]===c)return vn.ALPHABET_STRING.charAt(h);if(c===vn.ASTERISK_ENCODING)return"*";throw new J}static decodeExtended(c){let h=c.length,p="";for(let y=0;y<h;y++){let b=c.charAt(y);if(b==="+"||b==="$"||b==="%"||b==="/"){let S=c.charAt(y+1),E="\0";switch(b){case"+":if(S>="A"&&S<="Z")E=String.fromCharCode(S.charCodeAt(0)+32);else throw new B;break;case"$":if(S>="A"&&S<="Z")E=String.fromCharCode(S.charCodeAt(0)-64);else throw new B;break;case"%":if(S>="A"&&S<="E")E=String.fromCharCode(S.charCodeAt(0)-38);else if(S>="F"&&S<="J")E=String.fromCharCode(S.charCodeAt(0)-11);else if(S>="K"&&S<="O")E=String.fromCharCode(S.charCodeAt(0)+16);else if(S>="P"&&S<="T")E=String.fromCharCode(S.charCodeAt(0)+43);else if(S==="U")E="\0";else if(S==="V")E="@";else if(S==="W")E="`";else if(S==="X"||S==="Y"||S==="Z")E="";else throw new B;break;case"/":if(S>="A"&&S<="O")E=String.fromCharCode(S.charCodeAt(0)-32);else if(S==="Z")E=":";else throw new B;break}p+=E,y++}else p+=b}return p}}vn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",vn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],vn.ASTERISK_ENCODING=148;class un extends cn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(c,h,p){let y=this.decodeStart(h),b=this.decodeEnd(h),S=new X;un.decodeMiddle(h,y[1],b[0],S);let E=S.toString(),P=null;p!=null&&(P=p.get(I.ALLOWED_LENGTHS)),P==null&&(P=un.DEFAULT_ALLOWED_LENGTHS);let U=E.length,q=!1,Z=0;for(let pe of P){if(U===pe){q=!0;break}pe>Z&&(Z=pe)}if(!q&&U>Z&&(q=!0),!q)throw new B;const te=[new ct(y[1],c),new ct(b[0],c)];return new ye(E,null,0,te,ie.ITF,new Date().getTime())}static decodeMiddle(c,h,p,y){let b=new Int32Array(10),S=new Int32Array(5),E=new Int32Array(5);for(b.fill(0),S.fill(0),E.fill(0);h<p;){cn.recordPattern(c,h,b);for(let U=0;U<5;U++){let q=2*U;S[U]=b[q],E[U]=b[q+1]}let P=un.decodeDigit(S);y.append(P.toString()),P=this.decodeDigit(E),y.append(P.toString()),b.forEach(function(U){h+=U})}}decodeStart(c){let h=un.skipWhiteSpace(c),p=un.findGuardPattern(c,h,un.START_PATTERN);return this.narrowLineWidth=(p[1]-p[0])/4,this.validateQuietZone(c,p[0]),p}validateQuietZone(c,h){let p=this.narrowLineWidth*10;p=p<h?p:h;for(let y=h-1;p>0&&y>=0&&!c.get(y);y--)p--;if(p!==0)throw new J}static skipWhiteSpace(c){const h=c.getSize(),p=c.getNextSet(0);if(p===h)throw new J;return p}decodeEnd(c){c.reverse();try{let h=un.skipWhiteSpace(c),p;try{p=un.findGuardPattern(c,h,un.END_PATTERN_REVERSED[0])}catch(b){b instanceof J&&(p=un.findGuardPattern(c,h,un.END_PATTERN_REVERSED[1]))}this.validateQuietZone(c,p[0]);let y=p[0];return p[0]=c.getSize()-p[1],p[1]=c.getSize()-y,p}finally{c.reverse()}}static findGuardPattern(c,h,p){let y=p.length,b=new Int32Array(y),S=c.getSize(),E=!1,P=0,U=h;b.fill(0);for(let q=h;q<S;q++)if(c.get(q)!==E)b[P]++;else{if(P===y-1){if(cn.patternMatchVariance(b,p,un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return[U,q];U+=b[0]+b[1],C.arraycopy(b,2,b,0,P-1),b[P-1]=0,b[P]=0,P--}else P++;b[P]=1,E=!E}throw new J}static decodeDigit(c){let h=un.MAX_AVG_VARIANCE,p=-1,y=un.PATTERNS.length;for(let b=0;b<y;b++){let S=un.PATTERNS[b],E=cn.patternMatchVariance(c,S,un.MAX_INDIVIDUAL_VARIANCE);E<h?(h=E,p=b):E===h&&(p=-1)}if(p>=0)return p%10;throw new J}}un.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],un.MAX_AVG_VARIANCE=.38,un.MAX_INDIVIDUAL_VARIANCE=.5,un.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],un.START_PATTERN=Int32Array.from([1,1,1,1]),un.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class _n extends cn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(c){let h=!1,p,y=0,b=Int32Array.from([0,0,0]);for(;!h;){b=Int32Array.from([0,0,0]),p=_n.findGuardPattern(c,y,!1,this.START_END_PATTERN,b);let S=p[0];y=p[1];let E=S-(y-S);E>=0&&(h=c.isRange(E,S,!1))}return p}static checkChecksum(c){return _n.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let h=c.length;if(h===0)return!1;let p=parseInt(c.charAt(h-1),10);return _n.getStandardUPCEANChecksum(c.substring(0,h-1))===p}static getStandardUPCEANChecksum(c){let h=c.length,p=0;for(let y=h-1;y>=0;y-=2){let b=c.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new B;p+=b}p*=3;for(let y=h-2;y>=0;y-=2){let b=c.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new B;p+=b}return(1e3-p)%10}static decodeEnd(c,h){return _n.findGuardPattern(c,h,!1,_n.START_END_PATTERN,new Int32Array(_n.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(c,h,p,y){return this.findGuardPattern(c,h,p,y,new Int32Array(y.length))}static findGuardPattern(c,h,p,y,b){let S=c.getSize();h=p?c.getNextUnset(h):c.getNextSet(h);let E=0,P=h,U=y.length,q=p;for(let Z=h;Z<S;Z++)if(c.get(Z)!==q)b[E]++;else{if(E===U-1){if(cn.patternMatchVariance(b,y,_n.MAX_INDIVIDUAL_VARIANCE)<_n.MAX_AVG_VARIANCE)return Int32Array.from([P,Z]);P+=b[0]+b[1];let te=b.slice(2,b.length-1);for(let oe=0;oe<E-1;oe++)b[oe]=te[oe];b[E-1]=0,b[E]=0,E--}else E++;b[E]=1,q=!q}throw new J}static decodeDigit(c,h,p,y){this.recordPattern(c,p,h);let b=this.MAX_AVG_VARIANCE,S=-1,E=y.length;for(let P=0;P<E;P++){let U=y[P],q=cn.patternMatchVariance(h,U,_n.MAX_INDIVIDUAL_VARIANCE);q<b&&(b=q,S=P)}if(S>=0)return S;throw new J}}_n.MAX_AVG_VARIANCE=.48,_n.MAX_INDIVIDUAL_VARIANCE=.7,_n.START_END_PATTERN=Int32Array.from([1,1,1]),_n.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),_n.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),_n.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ys{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,h,p){let y=this.decodeRowStringBuffer,b=this.decodeMiddle(h,p,y),S=y.toString(),E=Ys.parseExtensionString(S),P=[new ct((p[0]+p[1])/2,c),new ct(b,c)],U=new ye(S,null,0,P,ie.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&U.putAllMetadata(E),U}decodeMiddle(c,h,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),S=h[1],E=0;for(let U=0;U<5&&S<b;U++){let q=_n.decodeDigit(c,y,S,_n.L_AND_G_PATTERNS);p+=String.fromCharCode(48+q%10);for(let Z of y)S+=Z;q>=10&&(E|=1<<4-U),U!==4&&(S=c.getNextSet(S),S=c.getNextUnset(S))}if(p.length!==5)throw new J;let P=this.determineCheckDigit(E);if(Ys.extensionChecksum(p.toString())!==P)throw new J;return S}static extensionChecksum(c){let h=c.length,p=0;for(let y=h-2;y>=0;y-=2)p+=c.charAt(y).charCodeAt(0)-48;p*=3;for(let y=h-1;y>=0;y-=2)p+=c.charAt(y).charCodeAt(0)-48;return p*=3,p%10}determineCheckDigit(c){for(let h=0;h<10;h++)if(c===this.CHECK_DIGIT_ENCODINGS[h])return h;throw new J}static parseExtensionString(c){if(c.length!==5)return null;let h=Ys.parseExtension5String(c);return h==null?null:new Map([[le.SUGGESTED_PRICE,h]])}static parseExtension5String(c){let h;switch(c.charAt(0)){case"0":h="";break;case"5":h="$";break;case"9":switch(c){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}h="";break;default:h="";break}let p=parseInt(c.substring(1)),y=(p/100).toString(),b=p%100,S=b<10?"0"+b:b.toString();return h+y+"."+S}}class pi{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,h,p){let y=this.decodeRowStringBuffer,b=this.decodeMiddle(h,p,y),S=y.toString(),E=pi.parseExtensionString(S),P=[new ct((p[0]+p[1])/2,c),new ct(b,c)],U=new ye(S,null,0,P,ie.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&U.putAllMetadata(E),U}decodeMiddle(c,h,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),S=h[1],E=0;for(let P=0;P<2&&S<b;P++){let U=_n.decodeDigit(c,y,S,_n.L_AND_G_PATTERNS);p+=String.fromCharCode(48+U%10);for(let q of y)S+=q;U>=10&&(E|=1<<1-P),P!==1&&(S=c.getNextSet(S),S=c.getNextUnset(S))}if(p.length!==2)throw new J;if(parseInt(p.toString())%4!==E)throw new J;return S}static parseExtensionString(c){return c.length!==2?null:new Map([[le.ISSUE_NUMBER,parseInt(c)]])}}class Eu{static decodeRow(c,h,p){let y=_n.findGuardPattern(h,p,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ys().decodeRow(c,h,y)}catch{return new pi().decodeRow(c,h,y)}}}Eu.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class en extends _n{constructor(){super(),this.decodeRowStringBuffer="",en.L_AND_G_PATTERNS=en.L_PATTERNS.map(c=>Int32Array.from(c));for(let c=10;c<20;c++){let h=en.L_PATTERNS[c-10],p=new Int32Array(h.length);for(let y=0;y<h.length;y++)p[y]=h[h.length-y-1];en.L_AND_G_PATTERNS[c]=p}}decodeRow(c,h,p){let y=en.findStartGuardPattern(h),b=p==null?null:p.get(I.NEED_RESULT_POINT_CALLBACK);if(b!=null){const Xe=new ct((y[0]+y[1])/2,c);b.foundPossibleResultPoint(Xe)}let S=this.decodeMiddle(h,y,this.decodeRowStringBuffer),E=S.rowOffset,P=S.resultString;if(b!=null){const Xe=new ct(E,c);b.foundPossibleResultPoint(Xe)}let U=this.decodeEnd(h,E);if(b!=null){const Xe=new ct((U[0]+U[1])/2,c);b.foundPossibleResultPoint(Xe)}let q=U[1],Z=q+(q-U[0]);if(Z>=h.getSize()||!h.isRange(q,Z,!1))throw new J;let te=P.toString();if(te.length<8)throw new B;if(!en.checkChecksum(te))throw new _;let oe=(y[1]+y[0])/2,pe=(U[1]+U[0])/2,ve=this.getBarcodeFormat(),Ae=[new ct(oe,c),new ct(pe,c)],Ie=new ye(te,null,0,Ae,ve,new Date().getTime()),Ze=0;try{let Xe=Eu.decodeRow(c,h,U[1]);Ie.putMetadata(le.UPC_EAN_EXTENSION,Xe.getText()),Ie.putAllMetadata(Xe.getResultMetadata()),Ie.addResultPoints(Xe.getResultPoints()),Ze=Xe.getText().length}catch{}let tt=p==null?null:p.get(I.ALLOWED_EAN_EXTENSIONS);if(tt!=null){let Xe=!1;for(let Ut in tt)if(Ze.toString()===Ut){Xe=!0;break}if(!Xe)throw new J}return Ie}decodeEnd(c,h){return en.findGuardPattern(c,h,!1,en.START_END_PATTERN,new Int32Array(en.START_END_PATTERN.length).fill(0))}static checkChecksum(c){return en.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let h=c.length;if(h===0)return!1;let p=parseInt(c.charAt(h-1),10);return en.getStandardUPCEANChecksum(c.substring(0,h-1))===p}static getStandardUPCEANChecksum(c){let h=c.length,p=0;for(let y=h-1;y>=0;y-=2){let b=c.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new B;p+=b}p*=3;for(let y=h-2;y>=0;y-=2){let b=c.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new B;p+=b}return(1e3-p)%10}}class Ga extends en{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,h,p){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),S=h[1],E=0;for(let U=0;U<6&&S<b;U++){let q=en.decodeDigit(c,y,S,en.L_AND_G_PATTERNS);p+=String.fromCharCode(48+q%10);for(let Z of y)S+=Z;q>=10&&(E|=1<<5-U)}p=Ga.determineFirstDigit(p,E),S=en.findGuardPattern(c,S,!0,en.MIDDLE_PATTERN,new Int32Array(en.MIDDLE_PATTERN.length).fill(0))[1];for(let U=0;U<6&&S<b;U++){let q=en.decodeDigit(c,y,S,en.L_PATTERNS);p+=String.fromCharCode(48+q);for(let Z of y)S+=Z}return{rowOffset:S,resultString:p}}getBarcodeFormat(){return ie.EAN_13}static determineFirstDigit(c,h){for(let p=0;p<10;p++)if(h===this.FIRST_DIGIT_ENCODINGS[p])return c=String.fromCharCode(48+p)+c,c;throw new J}}Ga.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Cu extends en{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,h,p){const y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),S=h[1];for(let P=0;P<4&&S<b;P++){let U=en.decodeDigit(c,y,S,en.L_PATTERNS);p+=String.fromCharCode(48+U);for(let q of y)S+=q}S=en.findGuardPattern(c,S,!0,en.MIDDLE_PATTERN,new Int32Array(en.MIDDLE_PATTERN.length).fill(0))[1];for(let P=0;P<4&&S<b;P++){let U=en.decodeDigit(c,y,S,en.L_PATTERNS);p+=String.fromCharCode(48+U);for(let q of y)S+=q}return{rowOffset:S,resultString:p}}getBarcodeFormat(){return ie.EAN_8}}class Pt extends en{constructor(){super(...arguments),this.ean13Reader=new Ga}getBarcodeFormat(){return ie.UPC_A}decode(c,h){return this.maybeReturnResult(this.ean13Reader.decode(c))}decodeRow(c,h,p){return this.maybeReturnResult(this.ean13Reader.decodeRow(c,h,p))}decodeMiddle(c,h,p){return this.ean13Reader.decodeMiddle(c,h,p)}maybeReturnResult(c){let h=c.getText();if(h.charAt(0)==="0"){let p=new ye(h.substring(1),null,null,c.getResultPoints(),ie.UPC_A);return c.getResultMetadata()!=null&&p.putAllMetadata(c.getResultMetadata()),p}else throw new J}reset(){this.ean13Reader.reset()}}class pn extends en{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(c,h,p){const y=this.decodeMiddleCounters.map(U=>U);y[0]=0,y[1]=0,y[2]=0,y[3]=0;const b=c.getSize();let S=h[1],E=0;for(let U=0;U<6&&S<b;U++){const q=pn.decodeDigit(c,y,S,pn.L_AND_G_PATTERNS);p+=String.fromCharCode(48+q%10);for(let Z of y)S+=Z;q>=10&&(E|=1<<5-U)}let P=pn.determineNumSysAndCheckDigit(p,E);return{rowOffset:S,resultString:P}}decodeEnd(c,h){return pn.findGuardPatternWithoutCounters(c,h,!0,pn.MIDDLE_END_PATTERN)}checkChecksum(c){return en.checkChecksum(pn.convertUPCEtoUPCA(c))}static determineNumSysAndCheckDigit(c,h){for(let p=0;p<=1;p++)for(let y=0;y<10;y++)if(h===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[p][y]){let b=String.fromCharCode(48+p),S=String.fromCharCode(48+y);return b+c+S}throw J.getNotFoundInstance()}getBarcodeFormat(){return ie.UPC_E}static convertUPCEtoUPCA(c){const h=c.slice(1,7).split("").map(b=>b.charCodeAt(0)),p=new X;p.append(c.charAt(0));let y=h[5];switch(y){case 0:case 1:case 2:p.appendChars(h,0,2),p.append(y),p.append("0000"),p.appendChars(h,2,3);break;case 3:p.appendChars(h,0,3),p.append("00000"),p.appendChars(h,3,2);break;case 4:p.appendChars(h,0,4),p.append("00000"),p.append(h[4]);break;default:p.appendChars(h,0,5),p.append("0000"),p.append(y);break}return c.length>=8&&p.append(c.charAt(7)),p.toString()}}pn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),pn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class rr extends cn{constructor(c){super();let h=c==null?null:c.get(I.POSSIBLE_FORMATS),p=[];r(h)?(p.push(new Ga),p.push(new Pt),p.push(new Cu),p.push(new pn)):(h.indexOf(ie.EAN_13)>-1&&p.push(new Ga),h.indexOf(ie.UPC_A)>-1&&p.push(new Pt),h.indexOf(ie.EAN_8)>-1&&p.push(new Cu),h.indexOf(ie.UPC_E)>-1&&p.push(new pn)),this.readers=p}decodeRow(c,h,p){for(let y of this.readers)try{const b=y.decodeRow(c,h,p),S=b.getBarcodeFormat()===ie.EAN_13&&b.getText().charAt(0)==="0",E=p==null?null:p.get(I.POSSIBLE_FORMATS),P=E==null||E.includes(ie.UPC_A);if(S&&P){const U=b.getRawBytes(),q=new ye(b.getText().substring(1),U,U?U.length:null,b.getResultPoints(),ie.UPC_A);return q.putAllMetadata(b.getResultMetadata()),q}return b}catch{}throw new J}reset(){for(let c of this.readers)c.reset()}}class fn extends cn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(c,h){for(let p=0;p<h.length;p++)if(cn.patternMatchVariance(c,h[p],fn.MAX_INDIVIDUAL_VARIANCE)<fn.MAX_AVG_VARIANCE)return p;throw new J}static count(c){return st.sum(new Int32Array(c))}static increment(c,h){let p=0,y=h[0];for(let b=1;b<c.length;b++)h[b]>y&&(y=h[b],p=b);c[p]++}static decrement(c,h){let p=0,y=h[0];for(let b=1;b<c.length;b++)h[b]<y&&(y=h[b],p=b);c[p]--}static isFinderPattern(c){let h=c[0]+c[1],p=h+c[2]+c[3],y=h/p;if(y>=fn.MIN_FINDER_PATTERN_RATIO&&y<=fn.MAX_FINDER_PATTERN_RATIO){let b=Number.MAX_SAFE_INTEGER,S=Number.MIN_SAFE_INTEGER;for(let E of c)E>S&&(S=E),E<b&&(b=E);return S<10*b}return!1}}fn.MAX_AVG_VARIANCE=.2,fn.MAX_INDIVIDUAL_VARIANCE=.45,fn.MIN_FINDER_PATTERN_RATIO=9.5/12,fn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ei{constructor(c,h){this.value=c,this.checksumPortion=h}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(c){if(!(c instanceof Ei))return!1;const h=c;return this.value===h.value&&this.checksumPortion===h.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ar{constructor(c,h,p,y,b){this.value=c,this.startEnd=h,this.value=c,this.startEnd=h,this.resultPoints=new Array,this.resultPoints.push(new ct(p,b)),this.resultPoints.push(new ct(y,b))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(c){if(!(c instanceof ar))return!1;const h=c;return this.value===h.value}hashCode(){return this.value}}class yn{constructor(){}static getRSSvalue(c,h,p){let y=0;for(let P of c)y+=P;let b=0,S=0,E=c.length;for(let P=0;P<E-1;P++){let U;for(U=1,S|=1<<P;U<c[P];U++,S&=~(1<<P)){let q=yn.combins(y-U-1,E-P-2);if(p&&S===0&&y-U-(E-P-1)>=E-P-1&&(q-=yn.combins(y-U-(E-P),E-P-2)),E-P-1>1){let Z=0;for(let te=y-U-(E-P-2);te>h;te--)Z+=yn.combins(y-U-te-1,E-P-3);q-=Z*(E-1-P)}else y-U>h&&q--;b+=q}y-=U}return b}static combins(c,h){let p,y;c-h>h?(y=h,p=c-h):(y=c-h,p=h);let b=1,S=1;for(let E=c;E>p;E--)b*=E,S<=y&&(b/=S,S++);for(;S<=y;)b/=S,S++;return b}}class pr{static buildBitArray(c){let h=c.length*2-1;c[c.length-1].getRightChar()==null&&(h-=1);let p=12*h,y=new z(p),b=0,E=c[0].getRightChar().getValue();for(let P=11;P>=0;--P)(E&1<<P)!=0&&y.set(b),b++;for(let P=1;P<c.length;++P){let U=c[P],q=U.getLeftChar().getValue();for(let Z=11;Z>=0;--Z)(q&1<<Z)!=0&&y.set(b),b++;if(U.getRightChar()!=null){let Z=U.getRightChar().getValue();for(let te=11;te>=0;--te)(Z&1<<te)!=0&&y.set(b),b++}}return y}}class hn{constructor(c,h){h?this.decodedInformation=null:(this.finished=c,this.decodedInformation=h)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class _r{constructor(c){this.newPosition=c}getNewPosition(){return this.newPosition}}class Pr extends _r{constructor(c,h){super(c),this.value=h}getValue(){return this.value}isFNC1(){return this.value===Pr.FNC1}}Pr.FNC1="$";class Ra extends _r{constructor(c,h,p){super(c),p?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=h}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class xi extends _r{constructor(c,h,p){if(super(c),h<0||h>10||p<0||p>10)throw new B;this.firstDigit=h,this.secondDigit=p}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===xi.FNC1}isSecondDigitFNC1(){return this.secondDigit===xi.FNC1}isAnyFNC1(){return this.firstDigit===xi.FNC1||this.secondDigit===xi.FNC1}}xi.FNC1=10;class ut{constructor(){}static parseFieldsInGeneralPurpose(c){if(!c)return null;if(c.length<2)throw new J;let h=c.substring(0,2);for(let b of ut.TWO_DIGIT_DATA_LENGTH)if(b[0]===h)return b[1]===ut.VARIABLE_LENGTH?ut.processVariableAI(2,b[2],c):ut.processFixedAI(2,b[1],c);if(c.length<3)throw new J;let p=c.substring(0,3);for(let b of ut.THREE_DIGIT_DATA_LENGTH)if(b[0]===p)return b[1]===ut.VARIABLE_LENGTH?ut.processVariableAI(3,b[2],c):ut.processFixedAI(3,b[1],c);for(let b of ut.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(b[0]===p)return b[1]===ut.VARIABLE_LENGTH?ut.processVariableAI(4,b[2],c):ut.processFixedAI(4,b[1],c);if(c.length<4)throw new J;let y=c.substring(0,4);for(let b of ut.FOUR_DIGIT_DATA_LENGTH)if(b[0]===y)return b[1]===ut.VARIABLE_LENGTH?ut.processVariableAI(4,b[2],c):ut.processFixedAI(4,b[1],c);throw new J}static processFixedAI(c,h,p){if(p.length<c)throw new J;let y=p.substring(0,c);if(p.length<c+h)throw new J;let b=p.substring(c,c+h),S=p.substring(c+h),E="("+y+")"+b,P=ut.parseFieldsInGeneralPurpose(S);return P==null?E:E+P}static processVariableAI(c,h,p){let y=p.substring(0,c),b;p.length<c+h?b=p.length:b=c+h;let S=p.substring(c,b),E=p.substring(b),P="("+y+")"+S,U=ut.parseFieldsInGeneralPurpose(E);return U==null?P:P+U}}ut.VARIABLE_LENGTH=[],ut.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ut.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ut.VARIABLE_LENGTH,20],["22",ut.VARIABLE_LENGTH,29],["30",ut.VARIABLE_LENGTH,8],["37",ut.VARIABLE_LENGTH,8],["90",ut.VARIABLE_LENGTH,30],["91",ut.VARIABLE_LENGTH,30],["92",ut.VARIABLE_LENGTH,30],["93",ut.VARIABLE_LENGTH,30],["94",ut.VARIABLE_LENGTH,30],["95",ut.VARIABLE_LENGTH,30],["96",ut.VARIABLE_LENGTH,30],["97",ut.VARIABLE_LENGTH,3],["98",ut.VARIABLE_LENGTH,30],["99",ut.VARIABLE_LENGTH,30]],ut.THREE_DIGIT_DATA_LENGTH=[["240",ut.VARIABLE_LENGTH,30],["241",ut.VARIABLE_LENGTH,30],["242",ut.VARIABLE_LENGTH,6],["250",ut.VARIABLE_LENGTH,30],["251",ut.VARIABLE_LENGTH,30],["253",ut.VARIABLE_LENGTH,17],["254",ut.VARIABLE_LENGTH,20],["400",ut.VARIABLE_LENGTH,30],["401",ut.VARIABLE_LENGTH,30],["402",17],["403",ut.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ut.VARIABLE_LENGTH,20],["421",ut.VARIABLE_LENGTH,15],["422",3],["423",ut.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ut.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ut.VARIABLE_LENGTH,15],["391",ut.VARIABLE_LENGTH,18],["392",ut.VARIABLE_LENGTH,15],["393",ut.VARIABLE_LENGTH,18],["703",ut.VARIABLE_LENGTH,30]],ut.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ut.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ut.VARIABLE_LENGTH,20],["8003",ut.VARIABLE_LENGTH,30],["8004",ut.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ut.VARIABLE_LENGTH,30],["8008",ut.VARIABLE_LENGTH,12],["8018",18],["8020",ut.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ut.VARIABLE_LENGTH,70],["8200",ut.VARIABLE_LENGTH,70]];class vs{constructor(c){this.buffer=new X,this.information=c}decodeAllCodes(c,h){let p=h,y=null;do{let b=this.decodeGeneralPurposeField(p,y),S=ut.parseFieldsInGeneralPurpose(b.getNewString());if(S!=null&&c.append(S),b.isRemaining()?y=""+b.getRemainingValue():y=null,p===b.getNewPosition())break;p=b.getNewPosition()}while(!0);return c.toString()}isStillNumeric(c){if(c+7>this.information.getSize())return c+4<=this.information.getSize();for(let h=c;h<c+3;++h)if(this.information.get(h))return!0;return this.information.get(c+3)}decodeNumeric(c){if(c+7>this.information.getSize()){let b=this.extractNumericValueFromBitArray(c,4);return b===0?new xi(this.information.getSize(),xi.FNC1,xi.FNC1):new xi(this.information.getSize(),b-1,xi.FNC1)}let h=this.extractNumericValueFromBitArray(c,7),p=(h-8)/11,y=(h-8)%11;return new xi(c+7,p,y)}extractNumericValueFromBitArray(c,h){return vs.extractNumericValueFromBitArray(this.information,c,h)}static extractNumericValueFromBitArray(c,h,p){let y=0;for(let b=0;b<p;++b)c.get(h+b)&&(y|=1<<p-b-1);return y}decodeGeneralPurposeField(c,h){this.buffer.setLengthToZero(),h!=null&&this.buffer.append(h),this.current.setPosition(c);let p=this.parseBlocks();return p!=null&&p.isRemaining()?new Ra(this.current.getPosition(),this.buffer.toString(),p.getRemainingValue()):new Ra(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let c,h;do{let p=this.current.getPosition();if(this.current.isAlpha()?(h=this.parseAlphaBlock(),c=h.isFinished()):this.current.isIsoIec646()?(h=this.parseIsoIec646Block(),c=h.isFinished()):(h=this.parseNumericBlock(),c=h.isFinished()),!(p!==this.current.getPosition())&&!c)break}while(!c);return h.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let c=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFirstDigitFNC1()){let h;return c.isSecondDigitFNC1()?h=new Ra(this.current.getPosition(),this.buffer.toString()):h=new Ra(this.current.getPosition(),this.buffer.toString(),c.getSecondDigit()),new hn(!0,h)}if(this.buffer.append(c.getFirstDigit()),c.isSecondDigitFNC1()){let h=new Ra(this.current.getPosition(),this.buffer.toString());return new hn(!0,h)}this.buffer.append(c.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new hn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let c=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let h=new Ra(this.current.getPosition(),this.buffer.toString());return new hn(!0,h)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new hn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let c=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let h=new Ra(this.current.getPosition(),this.buffer.toString());return new hn(!0,h)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new hn(!1)}isStillIsoIec646(c){if(c+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(c,5);if(h>=5&&h<16)return!0;if(c+7>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(c,7);if(p>=64&&p<116)return!0;if(c+8>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(c,8);return y>=232&&y<253}decodeIsoIec646(c){let h=this.extractNumericValueFromBitArray(c,5);if(h===15)return new Pr(c+5,Pr.FNC1);if(h>=5&&h<15)return new Pr(c+5,"0"+(h-5));let p=this.extractNumericValueFromBitArray(c,7);if(p>=64&&p<90)return new Pr(c+7,""+(p+1));if(p>=90&&p<116)return new Pr(c+7,""+(p+7));let y=this.extractNumericValueFromBitArray(c,8),b;switch(y){case 232:b="!";break;case 233:b='"';break;case 234:b="%";break;case 235:b="&";break;case 236:b="'";break;case 237:b="(";break;case 238:b=")";break;case 239:b="*";break;case 240:b="+";break;case 241:b=",";break;case 242:b="-";break;case 243:b=".";break;case 244:b="/";break;case 245:b=":";break;case 246:b=";";break;case 247:b="<";break;case 248:b="=";break;case 249:b=">";break;case 250:b="?";break;case 251:b="_";break;case 252:b=" ";break;default:throw new B}return new Pr(c+8,b)}isStillAlpha(c){if(c+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(c,5);if(h>=5&&h<16)return!0;if(c+6>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(c,6);return p>=16&&p<63}decodeAlphanumeric(c){let h=this.extractNumericValueFromBitArray(c,5);if(h===15)return new Pr(c+5,Pr.FNC1);if(h>=5&&h<15)return new Pr(c+5,"0"+(h-5));let p=this.extractNumericValueFromBitArray(c,6);if(p>=32&&p<58)return new Pr(c+6,""+(p+33));let y;switch(p){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new Qe("Decoding invalid alphanumeric value: "+p)}return new Pr(c+6,y)}isAlphaTo646ToAlphaLatch(c){if(c+1>this.information.getSize())return!1;for(let h=0;h<5&&h+c<this.information.getSize();++h)if(h===2){if(!this.information.get(c+2))return!1}else if(this.information.get(c+h))return!1;return!0}isAlphaOr646ToNumericLatch(c){if(c+3>this.information.getSize())return!1;for(let h=c;h<c+3;++h)if(this.information.get(h))return!1;return!0}isNumericToAlphaNumericLatch(c){if(c+1>this.information.getSize())return!1;for(let h=0;h<4&&h+c<this.information.getSize();++h)if(this.information.get(c+h))return!1;return!0}}class Tu{constructor(c){this.information=c,this.generalDecoder=new vs(c)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class kr extends Tu{constructor(c){super(c)}encodeCompressedGtin(c,h){c.append("(01)");let p=c.length();c.append("9"),this.encodeCompressedGtinWithoutAI(c,h,p)}encodeCompressedGtinWithoutAI(c,h,p){for(let y=0;y<4;++y){let b=this.getGeneralDecoder().extractNumericValueFromBitArray(h+10*y,10);b/100===0&&c.append("0"),b/10===0&&c.append("0"),c.append(b)}kr.appendCheckDigit(c,p)}static appendCheckDigit(c,h){let p=0;for(let y=0;y<13;y++){let b=c.charAt(y+h).charCodeAt(0)-48;p+=(y&1)===0?3*b:b}p=10-p%10,p===10&&(p=0),c.append(p)}}kr.GTIN_SIZE=40;class Hi extends kr{constructor(c){super(c)}parseInformation(){let c=new X;c.append("(01)");let h=c.length(),p=this.getGeneralDecoder().extractNumericValueFromBitArray(Hi.HEADER_SIZE,4);return c.append(p),this.encodeCompressedGtinWithoutAI(c,Hi.HEADER_SIZE+4,h),this.getGeneralDecoder().decodeAllCodes(c,Hi.HEADER_SIZE+44)}}Hi.HEADER_SIZE=4;class vo extends Tu{constructor(c){super(c)}parseInformation(){let c=new X;return this.getGeneralDecoder().decodeAllCodes(c,vo.HEADER_SIZE)}}vo.HEADER_SIZE=5;class Ws extends kr{constructor(c){super(c)}encodeCompressedWeight(c,h,p){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(h,p);this.addWeightCode(c,y);let b=this.checkWeight(y),S=1e5;for(let E=0;E<5;++E)b/S===0&&c.append("0"),S/=10;c.append(b)}}class Tn extends Ws{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()!=Tn.HEADER_SIZE+Ws.GTIN_SIZE+Tn.WEIGHT_SIZE)throw new J;let c=new X;return this.encodeCompressedGtin(c,Tn.HEADER_SIZE),this.encodeCompressedWeight(c,Tn.HEADER_SIZE+Ws.GTIN_SIZE,Tn.WEIGHT_SIZE),c.toString()}}Tn.HEADER_SIZE=5,Tn.WEIGHT_SIZE=15;class ap extends Tn{constructor(c){super(c)}addWeightCode(c,h){c.append("(3103)")}checkWeight(c){return c}}class ip extends Tn{constructor(c){super(c)}addWeightCode(c,h){h<1e4?c.append("(3202)"):c.append("(3203)")}checkWeight(c){return c<1e4?c:c-1e4}}class xa extends kr{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()<xa.HEADER_SIZE+kr.GTIN_SIZE)throw new J;let c=new X;this.encodeCompressedGtin(c,xa.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(xa.HEADER_SIZE+kr.GTIN_SIZE,xa.LAST_DIGIT_SIZE);c.append("(392"),c.append(h),c.append(")");let p=this.getGeneralDecoder().decodeGeneralPurposeField(xa.HEADER_SIZE+kr.GTIN_SIZE+xa.LAST_DIGIT_SIZE,null);return c.append(p.getNewString()),c.toString()}}xa.HEADER_SIZE=8,xa.LAST_DIGIT_SIZE=2;class Ar extends kr{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()<Ar.HEADER_SIZE+kr.GTIN_SIZE)throw new J;let c=new X;this.encodeCompressedGtin(c,Ar.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(Ar.HEADER_SIZE+kr.GTIN_SIZE,Ar.LAST_DIGIT_SIZE);c.append("(393"),c.append(h),c.append(")");let p=this.getGeneralDecoder().extractNumericValueFromBitArray(Ar.HEADER_SIZE+kr.GTIN_SIZE+Ar.LAST_DIGIT_SIZE,Ar.FIRST_THREE_DIGITS_SIZE);p/100==0&&c.append("0"),p/10==0&&c.append("0"),c.append(p);let y=this.getGeneralDecoder().decodeGeneralPurposeField(Ar.HEADER_SIZE+kr.GTIN_SIZE+Ar.LAST_DIGIT_SIZE+Ar.FIRST_THREE_DIGITS_SIZE,null);return c.append(y.getNewString()),c.toString()}}Ar.HEADER_SIZE=8,Ar.LAST_DIGIT_SIZE=2,Ar.FIRST_THREE_DIGITS_SIZE=10;class Kn extends Ws{constructor(c,h,p){super(c),this.dateCode=p,this.firstAIdigits=h}parseInformation(){if(this.getInformation().getSize()!=Kn.HEADER_SIZE+Kn.GTIN_SIZE+Kn.WEIGHT_SIZE+Kn.DATE_SIZE)throw new J;let c=new X;return this.encodeCompressedGtin(c,Kn.HEADER_SIZE),this.encodeCompressedWeight(c,Kn.HEADER_SIZE+Kn.GTIN_SIZE,Kn.WEIGHT_SIZE),this.encodeCompressedDate(c,Kn.HEADER_SIZE+Kn.GTIN_SIZE+Kn.WEIGHT_SIZE),c.toString()}encodeCompressedDate(c,h){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(h,Kn.DATE_SIZE);if(p==38400)return;c.append("("),c.append(this.dateCode),c.append(")");let y=p%32;p/=32;let b=p%12+1;p/=12;let S=p;S/10==0&&c.append("0"),c.append(S),b/10==0&&c.append("0"),c.append(b),y/10==0&&c.append("0"),c.append(y)}addWeightCode(c,h){c.append("("),c.append(this.firstAIdigits),c.append(h/1e5),c.append(")")}checkWeight(c){return c%1e5}}Kn.HEADER_SIZE=8,Kn.WEIGHT_SIZE=20,Kn.DATE_SIZE=16;function um(Q){try{if(Q.get(1))return new Hi(Q);if(!Q.get(2))return new vo(Q);switch(vs.extractNumericValueFromBitArray(Q,1,4)){case 4:return new ap(Q);case 5:return new ip(Q)}switch(vs.extractNumericValueFromBitArray(Q,1,5)){case 12:return new xa(Q);case 13:return new Ar(Q)}switch(vs.extractNumericValueFromBitArray(Q,1,7)){case 56:return new Kn(Q,"310","11");case 57:return new Kn(Q,"320","11");case 58:return new Kn(Q,"310","13");case 59:return new Kn(Q,"320","13");case 60:return new Kn(Q,"310","15");case 61:return new Kn(Q,"320","15");case 62:return new Kn(Q,"310","17");case 63:return new Kn(Q,"320","17")}}catch(c){throw console.log(c),new Qe("unknown decoder: "+Q)}}class Gs{constructor(c,h,p,y){this.leftchar=c,this.rightchar=h,this.finderpattern=p,this.maybeLast=y}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(c,h){return c instanceof Gs?Gs.equalsOrNull(c.leftchar,h.leftchar)&&Gs.equalsOrNull(c.rightchar,h.rightchar)&&Gs.equalsOrNull(c.finderpattern,h.finderpattern):!1}static equalsOrNull(c,h){return c===null?h===null:Gs.equals(c,h)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class dm{constructor(c,h,p){this.pairs=c,this.rowNumber=h,this.wasReversed=p}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(c){return this.checkEqualitity(this,c)}toString(){return"{ "+this.pairs+" }"}equals(c,h){return c instanceof dm?this.checkEqualitity(c,h)&&c.wasReversed===h.wasReversed:!1}checkEqualitity(c,h){if(!c||!h)return;let p;return c.forEach((y,b)=>{h.forEach(S=>{y.getLeftChar().getValue()===S.getLeftChar().getValue()&&y.getRightChar().getValue()===S.getRightChar().getValue()&&y.getFinderPatter().getValue()===S.getFinderPatter().getValue()&&(p=!0)})}),p}}class Ge extends fn{constructor(c){super(...arguments),this.pairs=new Array(Ge.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=c===!0}decodeRow(c,h,p){this.pairs.length=0,this.startFromEven=!1;try{return Ge.constructResult(this.decodeRow2pairs(c,h))}catch(y){this.verbose&&console.log(y)}return this.pairs.length=0,this.startFromEven=!0,Ge.constructResult(this.decodeRow2pairs(c,h))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(c,h){let p=!1;for(;!p;)try{this.pairs.push(this.retrieveNextPair(h,this.pairs,c))}catch(b){if(b instanceof J){if(!this.pairs.length)throw new J;p=!0}}if(this.checkChecksum())return this.pairs;let y;if(this.rows.length?y=!0:y=!1,this.storeRow(c,!1),y){let b=this.checkRowsBoolean(!1);if(b!=null||(b=this.checkRowsBoolean(!0),b!=null))return b}throw new J}checkRowsBoolean(c){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,c&&(this.rows=this.rows.reverse());let h=null;try{h=this.checkRows(new Array,0)}catch(p){this.verbose&&console.log(p)}return c&&(this.rows=this.rows.reverse()),h}checkRows(c,h){for(let p=h;p<this.rows.length;p++){let y=this.rows[p];this.pairs.length=0;for(let S of c)this.pairs.push(S.getPairs());if(this.pairs.push(y.getPairs()),!Ge.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let b=new Array(c);b.push(y);try{return this.checkRows(b,p+1)}catch(S){this.verbose&&console.log(S)}}throw new J}static isValidSequence(c){for(let h of Ge.FINDER_PATTERN_SEQUENCES){if(c.length>h.length)continue;let p=!0;for(let y=0;y<c.length;y++)if(c[y].getFinderPattern().getValue()!=h[y]){p=!1;break}if(p)return!0}return!1}storeRow(c,h){let p=0,y=!1,b=!1;for(;p<this.rows.length;){let S=this.rows[p];if(S.getRowNumber()>c){b=S.isEquivalent(this.pairs);break}y=S.isEquivalent(this.pairs),p++}b||y||Ge.isPartialRow(this.pairs,this.rows)||(this.rows.push(p,new dm(this.pairs,c,h)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(c,h){for(let p of h)if(p.getPairs().length!==c.length){for(let y of p.getPairs())for(let b of c)if(Gs.equals(y,b))break}}static isPartialRow(c,h){for(let p of h){let y=!0;for(let b of c){let S=!1;for(let E of p.getPairs())if(b.equals(E)){S=!0;break}if(!S){y=!1;break}}if(y)return!0}return!1}getRows(){return this.rows}static constructResult(c){let h=pr.buildBitArray(c),y=um(h).parseInformation(),b=c[0].getFinderPattern().getResultPoints(),S=c[c.length-1].getFinderPattern().getResultPoints(),E=[b[0],b[1],S[0],S[1]];return new ye(y,null,null,E,ie.RSS_EXPANDED,null)}checkChecksum(){let c=this.pairs.get(0),h=c.getLeftChar(),p=c.getRightChar();if(p==null)return!1;let y=p.getChecksumPortion(),b=2;for(let E=1;E<this.pairs.size();++E){let P=this.pairs.get(E);y+=P.getLeftChar().getChecksumPortion(),b++;let U=P.getRightChar();U!=null&&(y+=U.getChecksumPortion(),b++)}return y%=211,211*(b-4)+y==h.getValue()}static getNextSecondBar(c,h){let p;return c.get(h)?(p=c.getNextUnset(h),p=c.getNextSet(p)):(p=c.getNextSet(h),p=c.getNextUnset(p)),p}retrieveNextPair(c,h,p){let y=h.length%2==0;this.startFromEven&&(y=!y);let b,S=!0,E=-1;do this.findNextPair(c,h,E),b=this.parseFoundFinderPattern(c,p,y),b==null?E=Ge.getNextSecondBar(c,this.startEnd[0]):S=!1;while(S);let P=this.decodeDataCharacter(c,b,y,!0);if(!this.isEmptyPair(h)&&h[h.length-1].mustBeLast())throw new J;let U;try{U=this.decodeDataCharacter(c,b,y,!1)}catch(q){U=null,this.verbose&&console.log(q)}return new Gs(P,U,b,!0)}isEmptyPair(c){return c.length===0}findNextPair(c,h,p){let y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),S;p>=0?S=p:this.isEmptyPair(h)?S=0:S=h[h.length-1].getFinderPattern().getStartEnd()[1];let E=h.length%2!=0;this.startFromEven&&(E=!E);let P=!1;for(;S<b&&(P=!c.get(S),!!P);)S++;let U=0,q=S;for(let Z=S;Z<b;Z++)if(c.get(Z)!=P)y[U]++;else{if(U==3){if(E&&Ge.reverseCounters(y),Ge.isFinderPattern(y)){this.startEnd[0]=q,this.startEnd[1]=Z;return}E&&Ge.reverseCounters(y),q+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,U--}else U++;y[U]=1,P=!P}throw new J}static reverseCounters(c){let h=c.length;for(let p=0;p<h/2;++p){let y=c[p];c[p]=c[h-p-1],c[h-p-1]=y}}parseFoundFinderPattern(c,h,p){let y,b,S;if(p){let U=this.startEnd[0]-1;for(;U>=0&&!c.get(U);)U--;U++,y=this.startEnd[0]-U,b=U,S=this.startEnd[1]}else b=this.startEnd[0],S=c.getNextUnset(this.startEnd[1]+1),y=S-this.startEnd[1];let E=this.getDecodeFinderCounters();C.arraycopy(E,0,E,1,E.length-1),E[0]=y;let P;try{P=this.parseFinderValue(E,Ge.FINDER_PATTERNS)}catch{return null}return new ar(P,[b,S],b,S,h)}decodeDataCharacter(c,h,p,y){let b=this.getDataCharacterCounters();for(let Mn=0;Mn<b.length;Mn++)b[Mn]=0;if(y)Ge.recordPatternInReverse(c,h.getStartEnd()[0],b);else{Ge.recordPattern(c,h.getStartEnd()[1],b);for(let Mn=0,la=b.length-1;Mn<la;Mn++,la--){let Ja=b[Mn];b[Mn]=b[la],b[la]=Ja}}let S=17,E=st.sum(new Int32Array(b))/S,P=(h.getStartEnd()[1]-h.getStartEnd()[0])/15;if(Math.abs(E-P)/P>.3)throw new J;let U=this.getOddCounts(),q=this.getEvenCounts(),Z=this.getOddRoundingErrors(),te=this.getEvenRoundingErrors();for(let Mn=0;Mn<b.length;Mn++){let la=1*b[Mn]/E,Ja=la+.5;if(Ja<1){if(la<.3)throw new J;Ja=1}else if(Ja>8){if(la>8.7)throw new J;Ja=8}let dl=Mn/2;(Mn&1)==0?(U[dl]=Ja,Z[dl]=la-Ja):(q[dl]=Ja,te[dl]=la-Ja)}this.adjustOddEvenCounts(S);let oe=4*h.getValue()+(p?0:2)+(y?0:1)-1,pe=0,ve=0;for(let Mn=U.length-1;Mn>=0;Mn--){if(Ge.isNotA1left(h,p,y)){let la=Ge.WEIGHTS[oe][2*Mn];ve+=U[Mn]*la}pe+=U[Mn]}let Ae=0;for(let Mn=q.length-1;Mn>=0;Mn--)if(Ge.isNotA1left(h,p,y)){let la=Ge.WEIGHTS[oe][2*Mn+1];Ae+=q[Mn]*la}let Ie=ve+Ae;if((pe&1)!=0||pe>13||pe<4)throw new J;let Ze=(13-pe)/2,tt=Ge.SYMBOL_WIDEST[Ze],Xe=9-tt,Ut=yn.getRSSvalue(U,tt,!0),kt=yn.getRSSvalue(q,Xe,!1),Pa=Ge.EVEN_TOTAL_SUBSET[Ze],Ti=Ge.GSUM[Ze],Za=Ut*Pa+kt+Ti;return new Ei(Za,Ie)}static isNotA1left(c,h,p){return!(c.getValue()==0&&h&&p)}adjustOddEvenCounts(c){let h=st.sum(new Int32Array(this.getOddCounts())),p=st.sum(new Int32Array(this.getEvenCounts())),y=!1,b=!1;h>13?b=!0:h<4&&(y=!0);let S=!1,E=!1;p>13?E=!0:p<4&&(S=!0);let P=h+p-c,U=(h&1)==1,q=(p&1)==0;if(P==1)if(U){if(q)throw new J;b=!0}else{if(!q)throw new J;E=!0}else if(P==-1)if(U){if(q)throw new J;y=!0}else{if(!q)throw new J;S=!0}else if(P==0){if(U){if(!q)throw new J;h<p?(y=!0,E=!0):(b=!0,S=!0)}else if(q)throw new J}else throw new J;if(y){if(b)throw new J;Ge.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&Ge.decrement(this.getOddCounts(),this.getOddRoundingErrors()),S){if(E)throw new J;Ge.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&Ge.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ge.SYMBOL_WIDEST=[7,5,4,3,1],Ge.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ge.GSUM=[0,348,1388,2948,3988],Ge.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ge.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ge.FINDER_PAT_A=0,Ge.FINDER_PAT_B=1,Ge.FINDER_PAT_C=2,Ge.FINDER_PAT_D=3,Ge.FINDER_PAT_E=4,Ge.FINDER_PAT_F=5,Ge.FINDER_PATTERN_SEQUENCES=[[Ge.FINDER_PAT_A,Ge.FINDER_PAT_A],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_B,Ge.FINDER_PAT_B],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_C,Ge.FINDER_PAT_B,Ge.FINDER_PAT_D],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_E,Ge.FINDER_PAT_B,Ge.FINDER_PAT_D,Ge.FINDER_PAT_C],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_E,Ge.FINDER_PAT_B,Ge.FINDER_PAT_D,Ge.FINDER_PAT_D,Ge.FINDER_PAT_F],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_E,Ge.FINDER_PAT_B,Ge.FINDER_PAT_D,Ge.FINDER_PAT_E,Ge.FINDER_PAT_F,Ge.FINDER_PAT_F],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_A,Ge.FINDER_PAT_B,Ge.FINDER_PAT_B,Ge.FINDER_PAT_C,Ge.FINDER_PAT_C,Ge.FINDER_PAT_D,Ge.FINDER_PAT_D],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_A,Ge.FINDER_PAT_B,Ge.FINDER_PAT_B,Ge.FINDER_PAT_C,Ge.FINDER_PAT_C,Ge.FINDER_PAT_D,Ge.FINDER_PAT_E,Ge.FINDER_PAT_E],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_A,Ge.FINDER_PAT_B,Ge.FINDER_PAT_B,Ge.FINDER_PAT_C,Ge.FINDER_PAT_C,Ge.FINDER_PAT_D,Ge.FINDER_PAT_E,Ge.FINDER_PAT_F,Ge.FINDER_PAT_F],[Ge.FINDER_PAT_A,Ge.FINDER_PAT_A,Ge.FINDER_PAT_B,Ge.FINDER_PAT_B,Ge.FINDER_PAT_C,Ge.FINDER_PAT_D,Ge.FINDER_PAT_D,Ge.FINDER_PAT_E,Ge.FINDER_PAT_E,Ge.FINDER_PAT_F,Ge.FINDER_PAT_F]],Ge.MAX_PAIRS=11;class Gd extends Ei{constructor(c,h,p){super(c,h),this.count=0,this.finderPattern=p}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class bn extends fn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(c,h,p){const y=this.decodePair(h,!1,c,p);bn.addOrTally(this.possibleLeftPairs,y),h.reverse();let b=this.decodePair(h,!0,c,p);bn.addOrTally(this.possibleRightPairs,b),h.reverse();for(let S of this.possibleLeftPairs)if(S.getCount()>1){for(let E of this.possibleRightPairs)if(E.getCount()>1&&bn.checkChecksum(S,E))return bn.constructResult(S,E)}throw new J}static addOrTally(c,h){if(h==null)return;let p=!1;for(let y of c)if(y.getValue()===h.getValue()){y.incrementCount(),p=!0;break}p||c.push(h)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(c,h){let p=4537077*c.getValue()+h.getValue(),y=new String(p).toString(),b=new X;for(let U=13-y.length;U>0;U--)b.append("0");b.append(y);let S=0;for(let U=0;U<13;U++){let q=b.charAt(U).charCodeAt(0)-48;S+=(U&1)===0?3*q:q}S=10-S%10,S===10&&(S=0),b.append(S.toString());let E=c.getFinderPattern().getResultPoints(),P=h.getFinderPattern().getResultPoints();return new ye(b.toString(),null,0,[E[0],E[1],P[0],P[1]],ie.RSS_14,new Date().getTime())}static checkChecksum(c,h){let p=(c.getChecksumPortion()+16*h.getChecksumPortion())%79,y=9*c.getFinderPattern().getValue()+h.getFinderPattern().getValue();return y>72&&y--,y>8&&y--,p===y}decodePair(c,h,p,y){try{let b=this.findFinderPattern(c,h),S=this.parseFoundFinderPattern(c,p,h,b),E=y==null?null:y.get(I.NEED_RESULT_POINT_CALLBACK);if(E!=null){let q=(b[0]+b[1])/2;h&&(q=c.getSize()-1-q),E.foundPossibleResultPoint(new ct(q,p))}let P=this.decodeDataCharacter(c,S,!0),U=this.decodeDataCharacter(c,S,!1);return new Gd(1597*P.getValue()+U.getValue(),P.getChecksumPortion()+4*U.getChecksumPortion(),S)}catch{return null}}decodeDataCharacter(c,h,p){let y=this.getDataCharacterCounters();for(let Ae=0;Ae<y.length;Ae++)y[Ae]=0;if(p)cn.recordPatternInReverse(c,h.getStartEnd()[0],y);else{cn.recordPattern(c,h.getStartEnd()[1]+1,y);for(let Ae=0,Ie=y.length-1;Ae<Ie;Ae++,Ie--){let Ze=y[Ae];y[Ae]=y[Ie],y[Ie]=Ze}}let b=p?16:15,S=st.sum(new Int32Array(y))/b,E=this.getOddCounts(),P=this.getEvenCounts(),U=this.getOddRoundingErrors(),q=this.getEvenRoundingErrors();for(let Ae=0;Ae<y.length;Ae++){let Ie=y[Ae]/S,Ze=Math.floor(Ie+.5);Ze<1?Ze=1:Ze>8&&(Ze=8);let tt=Math.floor(Ae/2);(Ae&1)===0?(E[tt]=Ze,U[tt]=Ie-Ze):(P[tt]=Ze,q[tt]=Ie-Ze)}this.adjustOddEvenCounts(p,b);let Z=0,te=0;for(let Ae=E.length-1;Ae>=0;Ae--)te*=9,te+=E[Ae],Z+=E[Ae];let oe=0,pe=0;for(let Ae=P.length-1;Ae>=0;Ae--)oe*=9,oe+=P[Ae],pe+=P[Ae];let ve=te+3*oe;if(p){if((Z&1)!==0||Z>12||Z<4)throw new J;let Ae=(12-Z)/2,Ie=bn.OUTSIDE_ODD_WIDEST[Ae],Ze=9-Ie,tt=yn.getRSSvalue(E,Ie,!1),Xe=yn.getRSSvalue(P,Ze,!0),Ut=bn.OUTSIDE_EVEN_TOTAL_SUBSET[Ae],kt=bn.OUTSIDE_GSUM[Ae];return new Ei(tt*Ut+Xe+kt,ve)}else{if((pe&1)!==0||pe>10||pe<4)throw new J;let Ae=(10-pe)/2,Ie=bn.INSIDE_ODD_WIDEST[Ae],Ze=9-Ie,tt=yn.getRSSvalue(E,Ie,!0),Xe=yn.getRSSvalue(P,Ze,!1),Ut=bn.INSIDE_ODD_TOTAL_SUBSET[Ae],kt=bn.INSIDE_GSUM[Ae];return new Ei(Xe*Ut+tt+kt,ve)}}findFinderPattern(c,h){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let y=c.getSize(),b=!1,S=0;for(;S<y&&(b=!c.get(S),h!==b);)S++;let E=0,P=S;for(let U=S;U<y;U++)if(c.get(U)!==b)p[E]++;else{if(E===3){if(fn.isFinderPattern(p))return[P,U];P+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,E--}else E++;p[E]=1,b=!b}throw new J}parseFoundFinderPattern(c,h,p,y){let b=c.get(y[0]),S=y[0]-1;for(;S>=0&&b!==c.get(S);)S--;S++;const E=y[0]-S,P=this.getDecodeFinderCounters(),U=new Int32Array(P.length);C.arraycopy(P,0,U,1,P.length-1),U[0]=E;const q=this.parseFinderValue(U,bn.FINDER_PATTERNS);let Z=S,te=y[1];return p&&(Z=c.getSize()-1-Z,te=c.getSize()-1-te),new ar(q,[S,y[1]],Z,te,h)}adjustOddEvenCounts(c,h){let p=st.sum(new Int32Array(this.getOddCounts())),y=st.sum(new Int32Array(this.getEvenCounts())),b=!1,S=!1,E=!1,P=!1;c?(p>12?S=!0:p<4&&(b=!0),y>12?P=!0:y<4&&(E=!0)):(p>11?S=!0:p<5&&(b=!0),y>10?P=!0:y<4&&(E=!0));let U=p+y-h,q=(p&1)===(c?1:0),Z=(y&1)===1;if(U===1)if(q){if(Z)throw new J;S=!0}else{if(!Z)throw new J;P=!0}else if(U===-1)if(q){if(Z)throw new J;b=!0}else{if(!Z)throw new J;E=!0}else if(U===0){if(q){if(!Z)throw new J;p<y?(b=!0,P=!0):(S=!0,E=!0)}else if(Z)throw new J}else throw new J;if(b){if(S)throw new J;fn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(S&&fn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(P)throw new J;fn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}P&&fn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}bn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],bn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],bn.OUTSIDE_GSUM=[0,161,961,2015,2715],bn.INSIDE_GSUM=[0,336,1036,1516],bn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],bn.INSIDE_ODD_WIDEST=[2,4,6,8],bn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class yo extends cn{constructor(c,h){super(),this.readers=[],this.verbose=h===!0;const p=c?c.get(I.POSSIBLE_FORMATS):null,y=c&&c.get(I.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;p?((p.includes(ie.EAN_13)||p.includes(ie.UPC_A)||p.includes(ie.EAN_8)||p.includes(ie.UPC_E))&&this.readers.push(new rr(c)),p.includes(ie.CODE_39)&&this.readers.push(new vn(y)),p.includes(ie.CODE_128)&&this.readers.push(new nt),p.includes(ie.ITF)&&this.readers.push(new un),p.includes(ie.RSS_14)&&this.readers.push(new bn),p.includes(ie.RSS_EXPANDED)&&this.readers.push(new Ge(this.verbose))):(this.readers.push(new rr(c)),this.readers.push(new vn),this.readers.push(new rr(c)),this.readers.push(new nt),this.readers.push(new un),this.readers.push(new bn),this.readers.push(new Ge(this.verbose)))}decodeRow(c,h,p){for(let y=0;y<this.readers.length;y++)try{return this.readers[y].decodeRow(c,h,p)}catch{}throw new J}reset(){this.readers.forEach(c=>c.reset())}}class sp extends Se{constructor(c=500,h){super(new yo(h),c,h)}}class tn{constructor(c,h,p){this.ecCodewords=c,this.ecBlocks=[h],p&&this.ecBlocks.push(p)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class dn{constructor(c,h){this.count=c,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Kt{constructor(c,h,p,y,b,S){this.versionNumber=c,this.symbolSizeRows=h,this.symbolSizeColumns=p,this.dataRegionSizeRows=y,this.dataRegionSizeColumns=b,this.ecBlocks=S;let E=0;const P=S.getECCodewords(),U=S.getECBlocks();for(let q of U)E+=q.getCount()*(q.getDataCodewords()+P);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(c,h){if((c&1)!==0||(h&1)!==0)throw new B;for(let p of Kt.VERSIONS)if(p.symbolSizeRows===c&&p.symbolSizeColumns===h)return p;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new Kt(1,10,10,8,8,new tn(5,new dn(1,3))),new Kt(2,12,12,10,10,new tn(7,new dn(1,5))),new Kt(3,14,14,12,12,new tn(10,new dn(1,8))),new Kt(4,16,16,14,14,new tn(12,new dn(1,12))),new Kt(5,18,18,16,16,new tn(14,new dn(1,18))),new Kt(6,20,20,18,18,new tn(18,new dn(1,22))),new Kt(7,22,22,20,20,new tn(20,new dn(1,30))),new Kt(8,24,24,22,22,new tn(24,new dn(1,36))),new Kt(9,26,26,24,24,new tn(28,new dn(1,44))),new Kt(10,32,32,14,14,new tn(36,new dn(1,62))),new Kt(11,36,36,16,16,new tn(42,new dn(1,86))),new Kt(12,40,40,18,18,new tn(48,new dn(1,114))),new Kt(13,44,44,20,20,new tn(56,new dn(1,144))),new Kt(14,48,48,22,22,new tn(68,new dn(1,174))),new Kt(15,52,52,24,24,new tn(42,new dn(2,102))),new Kt(16,64,64,14,14,new tn(56,new dn(2,140))),new Kt(17,72,72,16,16,new tn(36,new dn(4,92))),new Kt(18,80,80,18,18,new tn(48,new dn(4,114))),new Kt(19,88,88,20,20,new tn(56,new dn(4,144))),new Kt(20,96,96,22,22,new tn(68,new dn(4,174))),new Kt(21,104,104,24,24,new tn(56,new dn(6,136))),new Kt(22,120,120,18,18,new tn(68,new dn(6,175))),new Kt(23,132,132,20,20,new tn(62,new dn(8,163))),new Kt(24,144,144,22,22,new tn(62,new dn(8,156),new dn(2,155))),new Kt(25,8,18,6,16,new tn(7,new dn(1,5))),new Kt(26,8,32,6,14,new tn(11,new dn(1,10))),new Kt(27,12,26,10,24,new tn(14,new dn(1,16))),new Kt(28,12,36,10,16,new tn(18,new dn(1,22))),new Kt(29,16,36,14,16,new tn(24,new dn(1,32))),new Kt(30,16,48,14,22,new tn(28,new dn(1,49)))]}}Kt.VERSIONS=Kt.buildVersions();class fm{constructor(c){const h=c.getHeight();if(h<8||h>144||(h&1)!==0)throw new B;this.version=fm.readVersion(c),this.mappingBitMatrix=this.extractDataRegion(c),this.readMappingMatrix=new ne(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(c){const h=c.getHeight(),p=c.getWidth();return Kt.getVersionForDimensions(h,p)}readCodewords(){const c=new Int8Array(this.version.getTotalCodewords());let h=0,p=4,y=0;const b=this.mappingBitMatrix.getHeight(),S=this.mappingBitMatrix.getWidth();let E=!1,P=!1,U=!1,q=!1;do if(p===b&&y===0&&!E)c[h++]=this.readCorner1(b,S)&255,p-=2,y+=2,E=!0;else if(p===b-2&&y===0&&(S&3)!==0&&!P)c[h++]=this.readCorner2(b,S)&255,p-=2,y+=2,P=!0;else if(p===b+4&&y===2&&(S&7)===0&&!U)c[h++]=this.readCorner3(b,S)&255,p-=2,y+=2,U=!0;else if(p===b-2&&y===0&&(S&7)===4&&!q)c[h++]=this.readCorner4(b,S)&255,p-=2,y+=2,q=!0;else{do p<b&&y>=0&&!this.readMappingMatrix.get(y,p)&&(c[h++]=this.readUtah(p,y,b,S)&255),p-=2,y+=2;while(p>=0&&y<S);p+=1,y+=3;do p>=0&&y<S&&!this.readMappingMatrix.get(y,p)&&(c[h++]=this.readUtah(p,y,b,S)&255),p+=2,y-=2;while(p<b&&y>=0);p+=3,y+=1}while(p<b||y<S);if(h!==this.version.getTotalCodewords())throw new B;return c}readModule(c,h,p,y){return c<0&&(c+=p,h+=4-(p+4&7)),h<0&&(h+=y,c+=4-(y+4&7)),this.readMappingMatrix.set(h,c),this.mappingBitMatrix.get(h,c)}readUtah(c,h,p,y){let b=0;return this.readModule(c-2,h-2,p,y)&&(b|=1),b<<=1,this.readModule(c-2,h-1,p,y)&&(b|=1),b<<=1,this.readModule(c-1,h-2,p,y)&&(b|=1),b<<=1,this.readModule(c-1,h-1,p,y)&&(b|=1),b<<=1,this.readModule(c-1,h,p,y)&&(b|=1),b<<=1,this.readModule(c,h-2,p,y)&&(b|=1),b<<=1,this.readModule(c,h-1,p,y)&&(b|=1),b<<=1,this.readModule(c,h,p,y)&&(b|=1),b}readCorner1(c,h){let p=0;return this.readModule(c-1,0,c,h)&&(p|=1),p<<=1,this.readModule(c-1,1,c,h)&&(p|=1),p<<=1,this.readModule(c-1,2,c,h)&&(p|=1),p<<=1,this.readModule(0,h-2,c,h)&&(p|=1),p<<=1,this.readModule(0,h-1,c,h)&&(p|=1),p<<=1,this.readModule(1,h-1,c,h)&&(p|=1),p<<=1,this.readModule(2,h-1,c,h)&&(p|=1),p<<=1,this.readModule(3,h-1,c,h)&&(p|=1),p}readCorner2(c,h){let p=0;return this.readModule(c-3,0,c,h)&&(p|=1),p<<=1,this.readModule(c-2,0,c,h)&&(p|=1),p<<=1,this.readModule(c-1,0,c,h)&&(p|=1),p<<=1,this.readModule(0,h-4,c,h)&&(p|=1),p<<=1,this.readModule(0,h-3,c,h)&&(p|=1),p<<=1,this.readModule(0,h-2,c,h)&&(p|=1),p<<=1,this.readModule(0,h-1,c,h)&&(p|=1),p<<=1,this.readModule(1,h-1,c,h)&&(p|=1),p}readCorner3(c,h){let p=0;return this.readModule(c-1,0,c,h)&&(p|=1),p<<=1,this.readModule(c-1,h-1,c,h)&&(p|=1),p<<=1,this.readModule(0,h-3,c,h)&&(p|=1),p<<=1,this.readModule(0,h-2,c,h)&&(p|=1),p<<=1,this.readModule(0,h-1,c,h)&&(p|=1),p<<=1,this.readModule(1,h-3,c,h)&&(p|=1),p<<=1,this.readModule(1,h-2,c,h)&&(p|=1),p<<=1,this.readModule(1,h-1,c,h)&&(p|=1),p}readCorner4(c,h){let p=0;return this.readModule(c-3,0,c,h)&&(p|=1),p<<=1,this.readModule(c-2,0,c,h)&&(p|=1),p<<=1,this.readModule(c-1,0,c,h)&&(p|=1),p<<=1,this.readModule(0,h-2,c,h)&&(p|=1),p<<=1,this.readModule(0,h-1,c,h)&&(p|=1),p<<=1,this.readModule(1,h-1,c,h)&&(p|=1),p<<=1,this.readModule(2,h-1,c,h)&&(p|=1),p<<=1,this.readModule(3,h-1,c,h)&&(p|=1),p}extractDataRegion(c){const h=this.version.getSymbolSizeRows(),p=this.version.getSymbolSizeColumns();if(c.getHeight()!==h)throw new x("Dimension of bitMatrix must match the version size");const y=this.version.getDataRegionSizeRows(),b=this.version.getDataRegionSizeColumns(),S=h/y|0,E=p/b|0,P=S*y,U=E*b,q=new ne(U,P);for(let Z=0;Z<S;++Z){const te=Z*y;for(let oe=0;oe<E;++oe){const pe=oe*b;for(let ve=0;ve<y;++ve){const Ae=Z*(y+2)+1+ve,Ie=te+ve;for(let Ze=0;Ze<b;++Ze){const tt=oe*(b+2)+1+Ze;if(c.get(tt,Ae)){const Xe=pe+Ze;q.set(Xe,Ie)}}}}}return q}}class Kd{constructor(c,h){this.numDataCodewords=c,this.codewords=h}static getDataBlocks(c,h){const p=h.getECBlocks();let y=0;const b=p.getECBlocks();for(let ve of b)y+=ve.getCount();const S=new Array(y);let E=0;for(let ve of b)for(let Ae=0;Ae<ve.getCount();Ae++){const Ie=ve.getDataCodewords(),Ze=p.getECCodewords()+Ie;S[E++]=new Kd(Ie,new Uint8Array(Ze))}const U=S[0].codewords.length-p.getECCodewords(),q=U-1;let Z=0;for(let ve=0;ve<q;ve++)for(let Ae=0;Ae<E;Ae++)S[Ae].codewords[ve]=c[Z++];const te=h.getVersionNumber()===24,oe=te?8:E;for(let ve=0;ve<oe;ve++)S[ve].codewords[U-1]=c[Z++];const pe=S[0].codewords.length;for(let ve=U;ve<pe;ve++)for(let Ae=0;Ae<E;Ae++){const Ie=te?(Ae+8)%E:Ae,Ze=te&&Ie>7?ve-1:ve;S[Ie].codewords[Ze]=c[Z++]}if(Z!==c.length)throw new x;return S}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ka{constructor(c){this.bytes=c,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(c){if(c<1||c>32||c>this.available())throw new x(""+c);let h=0,p=this.bitOffset,y=this.byteOffset;const b=this.bytes;if(p>0){const S=8-p,E=c<S?c:S,P=S-E,U=255>>8-E<<P;h=(b[y]&U)>>P,c-=E,p+=E,p===8&&(p=0,y++)}if(c>0){for(;c>=8;)h=h<<8|b[y]&255,y++,c-=8;if(c>0){const S=8-c,E=255>>S<<S;h=h<<c|(b[y]&E)>>S,p+=c}}return this.bitOffset=p,this.byteOffset=y,h}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Er;(function(Q){Q[Q.PAD_ENCODE=0]="PAD_ENCODE",Q[Q.ASCII_ENCODE=1]="ASCII_ENCODE",Q[Q.C40_ENCODE=2]="C40_ENCODE",Q[Q.TEXT_ENCODE=3]="TEXT_ENCODE",Q[Q.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",Q[Q.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",Q[Q.BASE256_ENCODE=6]="BASE256_ENCODE"})(Er||(Er={}));class bo{static decode(c){const h=new Ka(c),p=new X,y=new X,b=new Array;let S=Er.ASCII_ENCODE;do if(S===Er.ASCII_ENCODE)S=this.decodeAsciiSegment(h,p,y);else{switch(S){case Er.C40_ENCODE:this.decodeC40Segment(h,p);break;case Er.TEXT_ENCODE:this.decodeTextSegment(h,p);break;case Er.ANSIX12_ENCODE:this.decodeAnsiX12Segment(h,p);break;case Er.EDIFACT_ENCODE:this.decodeEdifactSegment(h,p);break;case Er.BASE256_ENCODE:this.decodeBase256Segment(h,p,b);break;default:throw new B}S=Er.ASCII_ENCODE}while(S!==Er.PAD_ENCODE&&h.available()>0);return y.length()>0&&p.append(y.toString()),new he(c,p.toString(),b.length===0?null:b,null)}static decodeAsciiSegment(c,h,p){let y=!1;do{let b=c.readBits(8);if(b===0)throw new B;if(b<=128)return y&&(b+=128),h.append(String.fromCharCode(b-1)),Er.ASCII_ENCODE;if(b===129)return Er.PAD_ENCODE;if(b<=229){const S=b-130;S<10&&h.append("0"),h.append(""+S)}else switch(b){case 230:return Er.C40_ENCODE;case 231:return Er.BASE256_ENCODE;case 232:h.append("");break;case 233:case 234:break;case 235:y=!0;break;case 236:h.append("[)>05"),p.insert(0,"");break;case 237:h.append("[)>06"),p.insert(0,"");break;case 238:return Er.ANSIX12_ENCODE;case 239:return Er.TEXT_ENCODE;case 240:return Er.EDIFACT_ENCODE;case 241:break;default:if(b!==254||c.available()!==0)throw new B;break}}while(c.available()>0);return Er.ASCII_ENCODE}static decodeC40Segment(c,h){let p=!1;const y=[];let b=0;do{if(c.available()===8)return;const S=c.readBits(8);if(S===254)return;this.parseTwoBytes(S,c.readBits(8),y);for(let E=0;E<3;E++){const P=y[E];switch(b){case 0:if(P<3)b=P+1;else if(P<this.C40_BASIC_SET_CHARS.length){const U=this.C40_BASIC_SET_CHARS[P];p?(h.append(String.fromCharCode(U.charCodeAt(0)+128)),p=!1):h.append(U)}else throw new B;break;case 1:p?(h.append(String.fromCharCode(P+128)),p=!1):h.append(String.fromCharCode(P)),b=0;break;case 2:if(P<this.C40_SHIFT2_SET_CHARS.length){const U=this.C40_SHIFT2_SET_CHARS[P];p?(h.append(String.fromCharCode(U.charCodeAt(0)+128)),p=!1):h.append(U)}else switch(P){case 27:h.append("");break;case 30:p=!0;break;default:throw new B}b=0;break;case 3:p?(h.append(String.fromCharCode(P+224)),p=!1):h.append(String.fromCharCode(P+96)),b=0;break;default:throw new B}}}while(c.available()>0)}static decodeTextSegment(c,h){let p=!1,y=[],b=0;do{if(c.available()===8)return;const S=c.readBits(8);if(S===254)return;this.parseTwoBytes(S,c.readBits(8),y);for(let E=0;E<3;E++){const P=y[E];switch(b){case 0:if(P<3)b=P+1;else if(P<this.TEXT_BASIC_SET_CHARS.length){const U=this.TEXT_BASIC_SET_CHARS[P];p?(h.append(String.fromCharCode(U.charCodeAt(0)+128)),p=!1):h.append(U)}else throw new B;break;case 1:p?(h.append(String.fromCharCode(P+128)),p=!1):h.append(String.fromCharCode(P)),b=0;break;case 2:if(P<this.TEXT_SHIFT2_SET_CHARS.length){const U=this.TEXT_SHIFT2_SET_CHARS[P];p?(h.append(String.fromCharCode(U.charCodeAt(0)+128)),p=!1):h.append(U)}else switch(P){case 27:h.append("");break;case 30:p=!0;break;default:throw new B}b=0;break;case 3:if(P<this.TEXT_SHIFT3_SET_CHARS.length){const U=this.TEXT_SHIFT3_SET_CHARS[P];p?(h.append(String.fromCharCode(U.charCodeAt(0)+128)),p=!1):h.append(U),b=0}else throw new B;break;default:throw new B}}}while(c.available()>0)}static decodeAnsiX12Segment(c,h){const p=[];do{if(c.available()===8)return;const y=c.readBits(8);if(y===254)return;this.parseTwoBytes(y,c.readBits(8),p);for(let b=0;b<3;b++){const S=p[b];switch(S){case 0:h.append("\r");break;case 1:h.append("*");break;case 2:h.append(">");break;case 3:h.append(" ");break;default:if(S<14)h.append(String.fromCharCode(S+44));else if(S<40)h.append(String.fromCharCode(S+51));else throw new B;break}}}while(c.available()>0)}static parseTwoBytes(c,h,p){let y=(c<<8)+h-1,b=Math.floor(y/1600);p[0]=b,y-=b*1600,b=Math.floor(y/40),p[1]=b,p[2]=y-b*40}static decodeEdifactSegment(c,h){do{if(c.available()<=16)return;for(let p=0;p<4;p++){let y=c.readBits(6);if(y===31){const b=8-c.getBitOffset();b!==8&&c.readBits(b);return}(y&32)===0&&(y|=64),h.append(String.fromCharCode(y))}}while(c.available()>0)}static decodeBase256Segment(c,h,p){let y=1+c.getByteOffset();const b=this.unrandomize255State(c.readBits(8),y++);let S;if(b===0?S=c.available()/8|0:b<250?S=b:S=250*(b-249)+this.unrandomize255State(c.readBits(8),y++),S<0)throw new B;const E=new Uint8Array(S);for(let P=0;P<S;P++){if(c.available()<8)throw new B;E[P]=this.unrandomize255State(c.readBits(8),y++)}p.push(E);try{h.append(W.decode(E,Y.ISO88591))}catch(P){throw new Qe("Platform does not support required encoding: "+P.message)}}static unrandomize255State(c,h){const p=149*h%255+1,y=c-p;return y>=0?y:y+256}}bo.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],bo.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],bo.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],bo.TEXT_SHIFT2_SET_CHARS=bo.C40_SHIFT2_SET_CHARS,bo.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Xd{constructor(){this.rsDecoder=new ht(Ke.DATA_MATRIX_FIELD_256)}decode(c){const h=new fm(c),p=h.getVersion(),y=h.readCodewords(),b=Kd.getDataBlocks(y,p);let S=0;for(let U of b)S+=U.getNumDataCodewords();const E=new Uint8Array(S),P=b.length;for(let U=0;U<P;U++){const q=b[U],Z=q.getCodewords(),te=q.getNumDataCodewords();this.correctErrors(Z,te);for(let oe=0;oe<te;oe++)E[oe*P+U]=Z[oe]}return bo.decode(E)}correctErrors(c,h){const p=new Int32Array(c);try{this.rsDecoder.decode(p,c.length-h)}catch{throw new _}for(let y=0;y<h;y++)c[y]=p[y]}}class ir{constructor(c){this.image=c,this.rectangleDetector=new mr(this.image)}detect(){const c=this.rectangleDetector.detect();let h=this.detectSolid1(c);if(h=this.detectSolid2(h),h[3]=this.correctTopRight(h),!h[3])throw new J;h=this.shiftToModuleCenter(h);const p=h[0],y=h[1],b=h[2],S=h[3];let E=this.transitionsBetween(p,S)+1,P=this.transitionsBetween(b,S)+1;(E&1)===1&&(E+=1),(P&1)===1&&(P+=1),4*E<7*P&&4*P<7*E&&(E=P=Math.max(E,P));let U=ir.sampleGrid(this.image,p,y,b,S,E,P);return new xn(U,[p,y,b,S])}static shiftPoint(c,h,p){let y=(h.getX()-c.getX())/(p+1),b=(h.getY()-c.getY())/(p+1);return new ct(c.getX()+y,c.getY()+b)}static moveAway(c,h,p){let y=c.getX(),b=c.getY();return y<h?y-=1:y+=1,b<p?b-=1:b+=1,new ct(y,b)}detectSolid1(c){let h=c[0],p=c[1],y=c[3],b=c[2],S=this.transitionsBetween(h,p),E=this.transitionsBetween(p,y),P=this.transitionsBetween(y,b),U=this.transitionsBetween(b,h),q=S,Z=[b,h,p,y];return q>E&&(q=E,Z[0]=h,Z[1]=p,Z[2]=y,Z[3]=b),q>P&&(q=P,Z[0]=p,Z[1]=y,Z[2]=b,Z[3]=h),q>U&&(Z[0]=y,Z[1]=b,Z[2]=h,Z[3]=p),Z}detectSolid2(c){let h=c[0],p=c[1],y=c[2],b=c[3],S=this.transitionsBetween(h,b),E=ir.shiftPoint(p,y,(S+1)*4),P=ir.shiftPoint(y,p,(S+1)*4),U=this.transitionsBetween(E,h),q=this.transitionsBetween(P,b);return U<q?(c[0]=h,c[1]=p,c[2]=y,c[3]=b):(c[0]=p,c[1]=y,c[2]=b,c[3]=h),c}correctTopRight(c){let h=c[0],p=c[1],y=c[2],b=c[3],S=this.transitionsBetween(h,b),E=this.transitionsBetween(p,b),P=ir.shiftPoint(h,p,(E+1)*4),U=ir.shiftPoint(y,p,(S+1)*4);S=this.transitionsBetween(P,b),E=this.transitionsBetween(U,b);let q=new ct(b.getX()+(y.getX()-p.getX())/(S+1),b.getY()+(y.getY()-p.getY())/(S+1)),Z=new ct(b.getX()+(h.getX()-p.getX())/(E+1),b.getY()+(h.getY()-p.getY())/(E+1));if(!this.isValid(q))return this.isValid(Z)?Z:null;if(!this.isValid(Z))return q;let te=this.transitionsBetween(P,q)+this.transitionsBetween(U,q),oe=this.transitionsBetween(P,Z)+this.transitionsBetween(U,Z);return te>oe?q:Z}shiftToModuleCenter(c){let h=c[0],p=c[1],y=c[2],b=c[3],S=this.transitionsBetween(h,b)+1,E=this.transitionsBetween(y,b)+1,P=ir.shiftPoint(h,p,E*4),U=ir.shiftPoint(y,p,S*4);S=this.transitionsBetween(P,b)+1,E=this.transitionsBetween(U,b)+1,(S&1)===1&&(S+=1),(E&1)===1&&(E+=1);let q=(h.getX()+p.getX()+y.getX()+b.getX())/4,Z=(h.getY()+p.getY()+y.getY()+b.getY())/4;h=ir.moveAway(h,q,Z),p=ir.moveAway(p,q,Z),y=ir.moveAway(y,q,Z),b=ir.moveAway(b,q,Z);let te,oe;return P=ir.shiftPoint(h,p,E*4),P=ir.shiftPoint(P,b,S*4),te=ir.shiftPoint(p,h,E*4),te=ir.shiftPoint(te,y,S*4),U=ir.shiftPoint(y,b,E*4),U=ir.shiftPoint(U,p,S*4),oe=ir.shiftPoint(b,y,E*4),oe=ir.shiftPoint(oe,h,S*4),[P,te,U,oe]}isValid(c){return c.getX()>=0&&c.getX()<this.image.getWidth()&&c.getY()>0&&c.getY()<this.image.getHeight()}static sampleGrid(c,h,p,y,b,S,E){return gr.getInstance().sampleGrid(c,S,E,.5,.5,S-.5,.5,S-.5,E-.5,.5,E-.5,h.getX(),h.getY(),b.getX(),b.getY(),y.getX(),y.getY(),p.getX(),p.getY())}transitionsBetween(c,h){let p=Math.trunc(c.getX()),y=Math.trunc(c.getY()),b=Math.trunc(h.getX()),S=Math.trunc(h.getY()),E=Math.abs(S-y)>Math.abs(b-p);if(E){let ve=p;p=y,y=ve,ve=b,b=S,S=ve}let P=Math.abs(b-p),U=Math.abs(S-y),q=-P/2,Z=y<S?1:-1,te=p<b?1:-1,oe=0,pe=this.image.get(E?y:p,E?p:y);for(let ve=p,Ae=y;ve!==b;ve+=te){let Ie=this.image.get(E?Ae:ve,E?ve:Ae);if(Ie!==pe&&(oe++,pe=Ie),q+=U,q>0){if(Ae===S)break;Ae+=Z,q-=P}}return oe}}class qi{constructor(){this.decoder=new Xd}decode(c,h=null){let p,y;if(h!=null&&h.has(I.PURE_BARCODE)){const U=qi.extractPureBits(c.getBlackMatrix());p=this.decoder.decode(U),y=qi.NO_POINTS}else{const U=new ir(c.getBlackMatrix()).detect();p=this.decoder.decode(U.getBits()),y=U.getPoints()}const b=p.getRawBytes(),S=new ye(p.getText(),b,8*b.length,y,ie.DATA_MATRIX,C.currentTimeMillis()),E=p.getByteSegments();E!=null&&S.putMetadata(le.BYTE_SEGMENTS,E);const P=p.getECLevel();return P!=null&&S.putMetadata(le.ERROR_CORRECTION_LEVEL,P),S}reset(){}static extractPureBits(c){const h=c.getTopLeftOnBit(),p=c.getBottomRightOnBit();if(h==null||p==null)throw new J;const y=this.moduleSize(h,c);let b=h[1];const S=p[1];let E=h[0];const U=(p[0]-E+1)/y,q=(S-b+1)/y;if(U<=0||q<=0)throw new J;const Z=y/2;b+=Z,E+=Z;const te=new ne(U,q);for(let oe=0;oe<q;oe++){const pe=b+oe*y;for(let ve=0;ve<U;ve++)c.get(E+ve*y,pe)&&te.set(ve,oe)}return te}static moduleSize(c,h){const p=h.getWidth();let y=c[0];const b=c[1];for(;y<p&&h.get(y,b);)y++;if(y===p)throw new J;const S=y-c[0];if(S===0)throw new J;return S}}qi.NO_POINTS=[];class qy extends Se{constructor(c=500){super(new qi,c)}}var aa;(function(Q){Q[Q.L=0]="L",Q[Q.M=1]="M",Q[Q.Q=2]="Q",Q[Q.H=3]="H"})(aa||(aa={}));class An{constructor(c,h,p){this.value=c,this.stringValue=h,this.bits=p,An.FOR_BITS.set(p,this),An.FOR_VALUE.set(c,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(c){switch(c){case"L":return An.L;case"M":return An.M;case"Q":return An.Q;case"H":return An.H;default:throw new g(c+"not available")}}toString(){return this.stringValue}equals(c){if(!(c instanceof An))return!1;const h=c;return this.value===h.value}static forBits(c){if(c<0||c>=An.FOR_BITS.size)throw new x;return An.FOR_BITS.get(c)}}An.FOR_BITS=new Map,An.FOR_VALUE=new Map,An.L=new An(aa.L,"L",1),An.M=new An(aa.M,"M",0),An.Q=new An(aa.Q,"Q",3),An.H=new An(aa.H,"H",2);class ia{constructor(c){this.errorCorrectionLevel=An.forBits(c>>3&3),this.dataMask=c&7}static numBitsDiffering(c,h){return R.bitCount(c^h)}static decodeFormatInformation(c,h){const p=ia.doDecodeFormatInformation(c,h);return p!==null?p:ia.doDecodeFormatInformation(c^ia.FORMAT_INFO_MASK_QR,h^ia.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(c,h){let p=Number.MAX_SAFE_INTEGER,y=0;for(const b of ia.FORMAT_INFO_DECODE_LOOKUP){const S=b[0];if(S===c||S===h)return new ia(b[1]);let E=ia.numBitsDiffering(c,S);E<p&&(y=b[1],p=E),c!==h&&(E=ia.numBitsDiffering(h,S),E<p&&(y=b[1],p=E))}return p<=3?new ia(y):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(c){if(!(c instanceof ia))return!1;const h=c;return this.errorCorrectionLevel===h.errorCorrectionLevel&&this.dataMask===h.dataMask}}ia.FORMAT_INFO_MASK_QR=21522,ia.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ce{constructor(c,...h){this.ecCodewordsPerBlock=c,this.ecBlocks=h}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let c=0;const h=this.ecBlocks;for(const p of h)c+=p.getCount();return c}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class se{constructor(c,h){this.count=c,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class wt{constructor(c,h,...p){this.versionNumber=c,this.alignmentPatternCenters=h,this.ecBlocks=p;let y=0;const b=p[0].getECCodewordsPerBlock(),S=p[0].getECBlocks();for(const E of S)y+=E.getCount()*(E.getDataCodewords()+b);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(c){return this.ecBlocks[c.getValue()]}static getProvisionalVersionForDimension(c){if(c%4!==1)throw new B;try{return this.getVersionForNumber((c-17)/4)}catch{throw new B}}static getVersionForNumber(c){if(c<1||c>40)throw new x;return wt.VERSIONS[c-1]}static decodeVersionInformation(c){let h=Number.MAX_SAFE_INTEGER,p=0;for(let y=0;y<wt.VERSION_DECODE_INFO.length;y++){const b=wt.VERSION_DECODE_INFO[y];if(b===c)return wt.getVersionForNumber(y+7);const S=ia.numBitsDiffering(c,b);S<h&&(p=y+7,h=S)}return h<=3?wt.getVersionForNumber(p):null}buildFunctionPattern(){const c=this.getDimensionForVersion(),h=new ne(c);h.setRegion(0,0,9,9),h.setRegion(c-8,0,8,9),h.setRegion(0,c-8,9,8);const p=this.alignmentPatternCenters.length;for(let y=0;y<p;y++){const b=this.alignmentPatternCenters[y]-2;for(let S=0;S<p;S++)y===0&&(S===0||S===p-1)||y===p-1&&S===0||h.setRegion(this.alignmentPatternCenters[S]-2,b,5,5)}return h.setRegion(6,9,1,c-17),h.setRegion(9,6,c-17,1),this.versionNumber>6&&(h.setRegion(c-11,0,3,6),h.setRegion(0,c-11,6,3)),h}toString(){return""+this.versionNumber}}wt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),wt.VERSIONS=[new wt(1,new Int32Array(0),new Ce(7,new se(1,19)),new Ce(10,new se(1,16)),new Ce(13,new se(1,13)),new Ce(17,new se(1,9))),new wt(2,Int32Array.from([6,18]),new Ce(10,new se(1,34)),new Ce(16,new se(1,28)),new Ce(22,new se(1,22)),new Ce(28,new se(1,16))),new wt(3,Int32Array.from([6,22]),new Ce(15,new se(1,55)),new Ce(26,new se(1,44)),new Ce(18,new se(2,17)),new Ce(22,new se(2,13))),new wt(4,Int32Array.from([6,26]),new Ce(20,new se(1,80)),new Ce(18,new se(2,32)),new Ce(26,new se(2,24)),new Ce(16,new se(4,9))),new wt(5,Int32Array.from([6,30]),new Ce(26,new se(1,108)),new Ce(24,new se(2,43)),new Ce(18,new se(2,15),new se(2,16)),new Ce(22,new se(2,11),new se(2,12))),new wt(6,Int32Array.from([6,34]),new Ce(18,new se(2,68)),new Ce(16,new se(4,27)),new Ce(24,new se(4,19)),new Ce(28,new se(4,15))),new wt(7,Int32Array.from([6,22,38]),new Ce(20,new se(2,78)),new Ce(18,new se(4,31)),new Ce(18,new se(2,14),new se(4,15)),new Ce(26,new se(4,13),new se(1,14))),new wt(8,Int32Array.from([6,24,42]),new Ce(24,new se(2,97)),new Ce(22,new se(2,38),new se(2,39)),new Ce(22,new se(4,18),new se(2,19)),new Ce(26,new se(4,14),new se(2,15))),new wt(9,Int32Array.from([6,26,46]),new Ce(30,new se(2,116)),new Ce(22,new se(3,36),new se(2,37)),new Ce(20,new se(4,16),new se(4,17)),new Ce(24,new se(4,12),new se(4,13))),new wt(10,Int32Array.from([6,28,50]),new Ce(18,new se(2,68),new se(2,69)),new Ce(26,new se(4,43),new se(1,44)),new Ce(24,new se(6,19),new se(2,20)),new Ce(28,new se(6,15),new se(2,16))),new wt(11,Int32Array.from([6,30,54]),new Ce(20,new se(4,81)),new Ce(30,new se(1,50),new se(4,51)),new Ce(28,new se(4,22),new se(4,23)),new Ce(24,new se(3,12),new se(8,13))),new wt(12,Int32Array.from([6,32,58]),new Ce(24,new se(2,92),new se(2,93)),new Ce(22,new se(6,36),new se(2,37)),new Ce(26,new se(4,20),new se(6,21)),new Ce(28,new se(7,14),new se(4,15))),new wt(13,Int32Array.from([6,34,62]),new Ce(26,new se(4,107)),new Ce(22,new se(8,37),new se(1,38)),new Ce(24,new se(8,20),new se(4,21)),new Ce(22,new se(12,11),new se(4,12))),new wt(14,Int32Array.from([6,26,46,66]),new Ce(30,new se(3,115),new se(1,116)),new Ce(24,new se(4,40),new se(5,41)),new Ce(20,new se(11,16),new se(5,17)),new Ce(24,new se(11,12),new se(5,13))),new wt(15,Int32Array.from([6,26,48,70]),new Ce(22,new se(5,87),new se(1,88)),new Ce(24,new se(5,41),new se(5,42)),new Ce(30,new se(5,24),new se(7,25)),new Ce(24,new se(11,12),new se(7,13))),new wt(16,Int32Array.from([6,26,50,74]),new Ce(24,new se(5,98),new se(1,99)),new Ce(28,new se(7,45),new se(3,46)),new Ce(24,new se(15,19),new se(2,20)),new Ce(30,new se(3,15),new se(13,16))),new wt(17,Int32Array.from([6,30,54,78]),new Ce(28,new se(1,107),new se(5,108)),new Ce(28,new se(10,46),new se(1,47)),new Ce(28,new se(1,22),new se(15,23)),new Ce(28,new se(2,14),new se(17,15))),new wt(18,Int32Array.from([6,30,56,82]),new Ce(30,new se(5,120),new se(1,121)),new Ce(26,new se(9,43),new se(4,44)),new Ce(28,new se(17,22),new se(1,23)),new Ce(28,new se(2,14),new se(19,15))),new wt(19,Int32Array.from([6,30,58,86]),new Ce(28,new se(3,113),new se(4,114)),new Ce(26,new se(3,44),new se(11,45)),new Ce(26,new se(17,21),new se(4,22)),new Ce(26,new se(9,13),new se(16,14))),new wt(20,Int32Array.from([6,34,62,90]),new Ce(28,new se(3,107),new se(5,108)),new Ce(26,new se(3,41),new se(13,42)),new Ce(30,new se(15,24),new se(5,25)),new Ce(28,new se(15,15),new se(10,16))),new wt(21,Int32Array.from([6,28,50,72,94]),new Ce(28,new se(4,116),new se(4,117)),new Ce(26,new se(17,42)),new Ce(28,new se(17,22),new se(6,23)),new Ce(30,new se(19,16),new se(6,17))),new wt(22,Int32Array.from([6,26,50,74,98]),new Ce(28,new se(2,111),new se(7,112)),new Ce(28,new se(17,46)),new Ce(30,new se(7,24),new se(16,25)),new Ce(24,new se(34,13))),new wt(23,Int32Array.from([6,30,54,78,102]),new Ce(30,new se(4,121),new se(5,122)),new Ce(28,new se(4,47),new se(14,48)),new Ce(30,new se(11,24),new se(14,25)),new Ce(30,new se(16,15),new se(14,16))),new wt(24,Int32Array.from([6,28,54,80,106]),new Ce(30,new se(6,117),new se(4,118)),new Ce(28,new se(6,45),new se(14,46)),new Ce(30,new se(11,24),new se(16,25)),new Ce(30,new se(30,16),new se(2,17))),new wt(25,Int32Array.from([6,32,58,84,110]),new Ce(26,new se(8,106),new se(4,107)),new Ce(28,new se(8,47),new se(13,48)),new Ce(30,new se(7,24),new se(22,25)),new Ce(30,new se(22,15),new se(13,16))),new wt(26,Int32Array.from([6,30,58,86,114]),new Ce(28,new se(10,114),new se(2,115)),new Ce(28,new se(19,46),new se(4,47)),new Ce(28,new se(28,22),new se(6,23)),new Ce(30,new se(33,16),new se(4,17))),new wt(27,Int32Array.from([6,34,62,90,118]),new Ce(30,new se(8,122),new se(4,123)),new Ce(28,new se(22,45),new se(3,46)),new Ce(30,new se(8,23),new se(26,24)),new Ce(30,new se(12,15),new se(28,16))),new wt(28,Int32Array.from([6,26,50,74,98,122]),new Ce(30,new se(3,117),new se(10,118)),new Ce(28,new se(3,45),new se(23,46)),new Ce(30,new se(4,24),new se(31,25)),new Ce(30,new se(11,15),new se(31,16))),new wt(29,Int32Array.from([6,30,54,78,102,126]),new Ce(30,new se(7,116),new se(7,117)),new Ce(28,new se(21,45),new se(7,46)),new Ce(30,new se(1,23),new se(37,24)),new Ce(30,new se(19,15),new se(26,16))),new wt(30,Int32Array.from([6,26,52,78,104,130]),new Ce(30,new se(5,115),new se(10,116)),new Ce(28,new se(19,47),new se(10,48)),new Ce(30,new se(15,24),new se(25,25)),new Ce(30,new se(23,15),new se(25,16))),new wt(31,Int32Array.from([6,30,56,82,108,134]),new Ce(30,new se(13,115),new se(3,116)),new Ce(28,new se(2,46),new se(29,47)),new Ce(30,new se(42,24),new se(1,25)),new Ce(30,new se(23,15),new se(28,16))),new wt(32,Int32Array.from([6,34,60,86,112,138]),new Ce(30,new se(17,115)),new Ce(28,new se(10,46),new se(23,47)),new Ce(30,new se(10,24),new se(35,25)),new Ce(30,new se(19,15),new se(35,16))),new wt(33,Int32Array.from([6,30,58,86,114,142]),new Ce(30,new se(17,115),new se(1,116)),new Ce(28,new se(14,46),new se(21,47)),new Ce(30,new se(29,24),new se(19,25)),new Ce(30,new se(11,15),new se(46,16))),new wt(34,Int32Array.from([6,34,62,90,118,146]),new Ce(30,new se(13,115),new se(6,116)),new Ce(28,new se(14,46),new se(23,47)),new Ce(30,new se(44,24),new se(7,25)),new Ce(30,new se(59,16),new se(1,17))),new wt(35,Int32Array.from([6,30,54,78,102,126,150]),new Ce(30,new se(12,121),new se(7,122)),new Ce(28,new se(12,47),new se(26,48)),new Ce(30,new se(39,24),new se(14,25)),new Ce(30,new se(22,15),new se(41,16))),new wt(36,Int32Array.from([6,24,50,76,102,128,154]),new Ce(30,new se(6,121),new se(14,122)),new Ce(28,new se(6,47),new se(34,48)),new Ce(30,new se(46,24),new se(10,25)),new Ce(30,new se(2,15),new se(64,16))),new wt(37,Int32Array.from([6,28,54,80,106,132,158]),new Ce(30,new se(17,122),new se(4,123)),new Ce(28,new se(29,46),new se(14,47)),new Ce(30,new se(49,24),new se(10,25)),new Ce(30,new se(24,15),new se(46,16))),new wt(38,Int32Array.from([6,32,58,84,110,136,162]),new Ce(30,new se(4,122),new se(18,123)),new Ce(28,new se(13,46),new se(32,47)),new Ce(30,new se(48,24),new se(14,25)),new Ce(30,new se(42,15),new se(32,16))),new wt(39,Int32Array.from([6,26,54,82,110,138,166]),new Ce(30,new se(20,117),new se(4,118)),new Ce(28,new se(40,47),new se(7,48)),new Ce(30,new se(43,24),new se(22,25)),new Ce(30,new se(10,15),new se(67,16))),new wt(40,Int32Array.from([6,30,58,86,114,142,170]),new Ce(30,new se(19,118),new se(6,119)),new Ce(28,new se(18,47),new se(31,48)),new Ce(30,new se(34,24),new se(34,25)),new Ce(30,new se(20,15),new se(61,16)))];var Ir;(function(Q){Q[Q.DATA_MASK_000=0]="DATA_MASK_000",Q[Q.DATA_MASK_001=1]="DATA_MASK_001",Q[Q.DATA_MASK_010=2]="DATA_MASK_010",Q[Q.DATA_MASK_011=3]="DATA_MASK_011",Q[Q.DATA_MASK_100=4]="DATA_MASK_100",Q[Q.DATA_MASK_101=5]="DATA_MASK_101",Q[Q.DATA_MASK_110=6]="DATA_MASK_110",Q[Q.DATA_MASK_111=7]="DATA_MASK_111"})(Ir||(Ir={}));class sa{constructor(c,h){this.value=c,this.isMasked=h}unmaskBitMatrix(c,h){for(let p=0;p<h;p++)for(let y=0;y<h;y++)this.isMasked(p,y)&&c.flip(y,p)}}sa.values=new Map([[Ir.DATA_MASK_000,new sa(Ir.DATA_MASK_000,(Q,c)=>(Q+c&1)===0)],[Ir.DATA_MASK_001,new sa(Ir.DATA_MASK_001,(Q,c)=>(Q&1)===0)],[Ir.DATA_MASK_010,new sa(Ir.DATA_MASK_010,(Q,c)=>c%3===0)],[Ir.DATA_MASK_011,new sa(Ir.DATA_MASK_011,(Q,c)=>(Q+c)%3===0)],[Ir.DATA_MASK_100,new sa(Ir.DATA_MASK_100,(Q,c)=>(Math.floor(Q/2)+Math.floor(c/3)&1)===0)],[Ir.DATA_MASK_101,new sa(Ir.DATA_MASK_101,(Q,c)=>Q*c%6===0)],[Ir.DATA_MASK_110,new sa(Ir.DATA_MASK_110,(Q,c)=>Q*c%6<3)],[Ir.DATA_MASK_111,new sa(Ir.DATA_MASK_111,(Q,c)=>(Q+c+Q*c%3&1)===0)]]);class Yy{constructor(c){const h=c.getHeight();if(h<21||(h&3)!==1)throw new B;this.bitMatrix=c}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let c=0;for(let b=0;b<6;b++)c=this.copyBit(b,8,c);c=this.copyBit(7,8,c),c=this.copyBit(8,8,c),c=this.copyBit(8,7,c);for(let b=5;b>=0;b--)c=this.copyBit(8,b,c);const h=this.bitMatrix.getHeight();let p=0;const y=h-7;for(let b=h-1;b>=y;b--)p=this.copyBit(8,b,p);for(let b=h-8;b<h;b++)p=this.copyBit(b,8,p);if(this.parsedFormatInfo=ia.decodeFormatInformation(c,p),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const c=this.bitMatrix.getHeight(),h=Math.floor((c-17)/4);if(h<=6)return wt.getVersionForNumber(h);let p=0;const y=c-11;for(let S=5;S>=0;S--)for(let E=c-9;E>=y;E--)p=this.copyBit(E,S,p);let b=wt.decodeVersionInformation(p);if(b!==null&&b.getDimensionForVersion()===c)return this.parsedVersion=b,b;p=0;for(let S=5;S>=0;S--)for(let E=c-9;E>=y;E--)p=this.copyBit(S,E,p);if(b=wt.decodeVersionInformation(p),b!==null&&b.getDimensionForVersion()===c)return this.parsedVersion=b,b;throw new B}copyBit(c,h,p){return(this.isMirror?this.bitMatrix.get(h,c):this.bitMatrix.get(c,h))?p<<1|1:p<<1}readCodewords(){const c=this.readFormatInformation(),h=this.readVersion(),p=sa.values.get(c.getDataMask()),y=this.bitMatrix.getHeight();p.unmaskBitMatrix(this.bitMatrix,y);const b=h.buildFunctionPattern();let S=!0;const E=new Uint8Array(h.getTotalCodewords());let P=0,U=0,q=0;for(let Z=y-1;Z>0;Z-=2){Z===6&&Z--;for(let te=0;te<y;te++){const oe=S?y-1-te:te;for(let pe=0;pe<2;pe++)b.get(Z-pe,oe)||(q++,U<<=1,this.bitMatrix.get(Z-pe,oe)&&(U|=1),q===8&&(E[P++]=U,q=0,U=0))}S=!S}if(P!==h.getTotalCodewords())throw new B;return E}remask(){if(this.parsedFormatInfo===null)return;const c=sa.values[this.parsedFormatInfo.getDataMask()],h=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,h)}setMirror(c){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=c}mirror(){const c=this.bitMatrix;for(let h=0,p=c.getWidth();h<p;h++)for(let y=h+1,b=c.getHeight();y<b;y++)c.get(h,y)!==c.get(y,h)&&(c.flip(y,h),c.flip(h,y))}}class Qd{constructor(c,h){this.numDataCodewords=c,this.codewords=h}static getDataBlocks(c,h,p){if(c.length!==h.getTotalCodewords())throw new x;const y=h.getECBlocksForLevel(p);let b=0;const S=y.getECBlocks();for(const pe of S)b+=pe.getCount();const E=new Array(b);let P=0;for(const pe of S)for(let ve=0;ve<pe.getCount();ve++){const Ae=pe.getDataCodewords(),Ie=y.getECCodewordsPerBlock()+Ae;E[P++]=new Qd(Ae,new Uint8Array(Ie))}const U=E[0].codewords.length;let q=E.length-1;for(;q>=0&&E[q].codewords.length!==U;)q--;q++;const Z=U-y.getECCodewordsPerBlock();let te=0;for(let pe=0;pe<Z;pe++)for(let ve=0;ve<P;ve++)E[ve].codewords[pe]=c[te++];for(let pe=q;pe<P;pe++)E[pe].codewords[Z]=c[te++];const oe=E[0].codewords.length;for(let pe=Z;pe<oe;pe++)for(let ve=0;ve<P;ve++){const Ae=ve<q?pe:pe+1;E[ve].codewords[Ae]=c[te++]}return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var vi;(function(Q){Q[Q.TERMINATOR=0]="TERMINATOR",Q[Q.NUMERIC=1]="NUMERIC",Q[Q.ALPHANUMERIC=2]="ALPHANUMERIC",Q[Q.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",Q[Q.BYTE=4]="BYTE",Q[Q.ECI=5]="ECI",Q[Q.KANJI=6]="KANJI",Q[Q.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",Q[Q.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",Q[Q.HANZI=9]="HANZI"})(vi||(vi={}));class jt{constructor(c,h,p,y){this.value=c,this.stringValue=h,this.characterCountBitsForVersions=p,this.bits=y,jt.FOR_BITS.set(y,this),jt.FOR_VALUE.set(c,this)}static forBits(c){const h=jt.FOR_BITS.get(c);if(h===void 0)throw new x;return h}getCharacterCountBits(c){const h=c.getVersionNumber();let p;return h<=9?p=0:h<=26?p=1:p=2,this.characterCountBitsForVersions[p]}getValue(){return this.value}getBits(){return this.bits}equals(c){if(!(c instanceof jt))return!1;const h=c;return this.value===h.value}toString(){return this.stringValue}}jt.FOR_BITS=new Map,jt.FOR_VALUE=new Map,jt.TERMINATOR=new jt(vi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),jt.NUMERIC=new jt(vi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),jt.ALPHANUMERIC=new jt(vi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),jt.STRUCTURED_APPEND=new jt(vi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),jt.BYTE=new jt(vi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),jt.ECI=new jt(vi.ECI,"ECI",Int32Array.from([0,0,0]),7),jt.KANJI=new jt(vi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),jt.FNC1_FIRST_POSITION=new jt(vi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),jt.FNC1_SECOND_POSITION=new jt(vi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),jt.HANZI=new jt(vi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Jn{static decode(c,h,p,y){const b=new Ka(c);let S=new X;const E=new Array;let P=-1,U=-1;try{let q=null,Z=!1,te;do{if(b.available()<4)te=jt.TERMINATOR;else{const oe=b.readBits(4);te=jt.forBits(oe)}switch(te){case jt.TERMINATOR:break;case jt.FNC1_FIRST_POSITION:case jt.FNC1_SECOND_POSITION:Z=!0;break;case jt.STRUCTURED_APPEND:if(b.available()<16)throw new B;P=b.readBits(8),U=b.readBits(8);break;case jt.ECI:const oe=Jn.parseECIValue(b);if(q=F.getCharacterSetECIByValue(oe),q===null)throw new B;break;case jt.HANZI:const pe=b.readBits(4),ve=b.readBits(te.getCharacterCountBits(h));pe===Jn.GB2312_SUBSET&&Jn.decodeHanziSegment(b,S,ve);break;default:const Ae=b.readBits(te.getCharacterCountBits(h));switch(te){case jt.NUMERIC:Jn.decodeNumericSegment(b,S,Ae);break;case jt.ALPHANUMERIC:Jn.decodeAlphanumericSegment(b,S,Ae,Z);break;case jt.BYTE:Jn.decodeByteSegment(b,S,Ae,q,E,y);break;case jt.KANJI:Jn.decodeKanjiSegment(b,S,Ae);break;default:throw new B}break}}while(te!==jt.TERMINATOR)}catch{throw new B}return new he(c,S.toString(),E.length===0?null:E,p===null?null:p.toString(),P,U)}static decodeHanziSegment(c,h,p){if(p*13>c.available())throw new B;const y=new Uint8Array(2*p);let b=0;for(;p>0;){const S=c.readBits(13);let E=S/96<<8&4294967295|S%96;E<959?E+=41377:E+=42657,y[b]=E>>8&255,y[b+1]=E&255,b+=2,p--}try{h.append(W.decode(y,Y.GB2312))}catch(S){throw new B(S)}}static decodeKanjiSegment(c,h,p){if(p*13>c.available())throw new B;const y=new Uint8Array(2*p);let b=0;for(;p>0;){const S=c.readBits(13);let E=S/192<<8&4294967295|S%192;E<7936?E+=33088:E+=49472,y[b]=E>>8,y[b+1]=E,b+=2,p--}try{h.append(W.decode(y,Y.SHIFT_JIS))}catch(S){throw new B(S)}}static decodeByteSegment(c,h,p,y,b,S){if(8*p>c.available())throw new B;const E=new Uint8Array(p);for(let U=0;U<p;U++)E[U]=c.readBits(8);let P;y===null?P=Y.guessEncoding(E,S):P=y.getName();try{h.append(W.decode(E,P))}catch(U){throw new B(U)}b.push(E)}static toAlphaNumericChar(c){if(c>=Jn.ALPHANUMERIC_CHARS.length)throw new B;return Jn.ALPHANUMERIC_CHARS[c]}static decodeAlphanumericSegment(c,h,p,y){const b=h.length();for(;p>1;){if(c.available()<11)throw new B;const S=c.readBits(11);h.append(Jn.toAlphaNumericChar(Math.floor(S/45))),h.append(Jn.toAlphaNumericChar(S%45)),p-=2}if(p===1){if(c.available()<6)throw new B;h.append(Jn.toAlphaNumericChar(c.readBits(6)))}if(y)for(let S=b;S<h.length();S++)h.charAt(S)==="%"&&(S<h.length()-1&&h.charAt(S+1)==="%"?h.deleteCharAt(S+1):h.setCharAt(S,""))}static decodeNumericSegment(c,h,p){for(;p>=3;){if(c.available()<10)throw new B;const y=c.readBits(10);if(y>=1e3)throw new B;h.append(Jn.toAlphaNumericChar(Math.floor(y/100))),h.append(Jn.toAlphaNumericChar(Math.floor(y/10)%10)),h.append(Jn.toAlphaNumericChar(y%10)),p-=3}if(p===2){if(c.available()<7)throw new B;const y=c.readBits(7);if(y>=100)throw new B;h.append(Jn.toAlphaNumericChar(Math.floor(y/10))),h.append(Jn.toAlphaNumericChar(y%10))}else if(p===1){if(c.available()<4)throw new B;const y=c.readBits(4);if(y>=10)throw new B;h.append(Jn.toAlphaNumericChar(y))}}static parseECIValue(c){const h=c.readBits(8);if((h&128)===0)return h&127;if((h&192)===128){const p=c.readBits(8);return(h&63)<<8&4294967295|p}if((h&224)===192){const p=c.readBits(16);return(h&31)<<16&4294967295|p}throw new B}}Jn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Jn.GB2312_SUBSET=1;class op{constructor(c){this.mirrored=c}isMirrored(){return this.mirrored}applyMirroredCorrection(c){if(!this.mirrored||c===null||c.length<3)return;const h=c[0];c[0]=c[2],c[2]=h}}class Zd{constructor(){this.rsDecoder=new ht(Ke.QR_CODE_FIELD_256)}decodeBooleanArray(c,h){return this.decodeBitMatrix(ne.parseFromBooleanArray(c),h)}decodeBitMatrix(c,h){const p=new Yy(c);let y=null;try{return this.decodeBitMatrixParser(p,h)}catch(b){y=b}try{p.remask(),p.setMirror(!0),p.readVersion(),p.readFormatInformation(),p.mirror();const b=this.decodeBitMatrixParser(p,h);return b.setOther(new op(!0)),b}catch(b){throw y!==null?y:b}}decodeBitMatrixParser(c,h){const p=c.readVersion(),y=c.readFormatInformation().getErrorCorrectionLevel(),b=c.readCodewords(),S=Qd.getDataBlocks(b,p,y);let E=0;for(const q of S)E+=q.getNumDataCodewords();const P=new Uint8Array(E);let U=0;for(const q of S){const Z=q.getCodewords(),te=q.getNumDataCodewords();this.correctErrors(Z,te);for(let oe=0;oe<te;oe++)P[U++]=Z[oe]}return Jn.decode(P,p,y,h)}correctErrors(c,h){const p=new Int32Array(c);try{this.rsDecoder.decode(p,c.length-h)}catch{throw new _}for(let y=0;y<h;y++)c[y]=p[y]}}class Ou extends ct{constructor(c,h,p){super(c,h),this.estimatedModuleSize=p}aboutEquals(c,h,p){if(Math.abs(h-this.getY())<=c&&Math.abs(p-this.getX())<=c){const y=Math.abs(c-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(c,h,p){const y=(this.getX()+h)/2,b=(this.getY()+c)/2,S=(this.estimatedModuleSize+p)/2;return new Ou(y,b,S)}}class rc{constructor(c,h,p,y,b,S,E){this.image=c,this.startX=h,this.startY=p,this.width=y,this.height=b,this.moduleSize=S,this.resultPointCallback=E,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const c=this.startX,h=this.height,p=this.width,y=c+p,b=this.startY+h/2,S=new Int32Array(3),E=this.image;for(let P=0;P<h;P++){const U=b+((P&1)===0?Math.floor((P+1)/2):-Math.floor((P+1)/2));S[0]=0,S[1]=0,S[2]=0;let q=c;for(;q<y&&!E.get(q,U);)q++;let Z=0;for(;q<y;){if(E.get(q,U))if(Z===1)S[1]++;else if(Z===2){if(this.foundPatternCross(S)){const te=this.handlePossibleCenter(S,U,q);if(te!==null)return te}S[0]=S[2],S[1]=1,S[2]=0,Z=1}else S[++Z]++;else Z===1&&Z++,S[Z]++;q++}if(this.foundPatternCross(S)){const te=this.handlePossibleCenter(S,U,y);if(te!==null)return te}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new J}static centerFromEnd(c,h){return h-c[2]-c[1]/2}foundPatternCross(c){const h=this.moduleSize,p=h/2;for(let y=0;y<3;y++)if(Math.abs(h-c[y])>=p)return!1;return!0}crossCheckVertical(c,h,p,y){const b=this.image,S=b.getHeight(),E=this.crossCheckStateCount;E[0]=0,E[1]=0,E[2]=0;let P=c;for(;P>=0&&b.get(h,P)&&E[1]<=p;)E[1]++,P--;if(P<0||E[1]>p)return NaN;for(;P>=0&&!b.get(h,P)&&E[0]<=p;)E[0]++,P--;if(E[0]>p)return NaN;for(P=c+1;P<S&&b.get(h,P)&&E[1]<=p;)E[1]++,P++;if(P===S||E[1]>p)return NaN;for(;P<S&&!b.get(h,P)&&E[2]<=p;)E[2]++,P++;if(E[2]>p)return NaN;const U=E[0]+E[1]+E[2];return 5*Math.abs(U-y)>=2*y?NaN:this.foundPatternCross(E)?rc.centerFromEnd(E,P):NaN}handlePossibleCenter(c,h,p){const y=c[0]+c[1]+c[2],b=rc.centerFromEnd(c,p),S=this.crossCheckVertical(h,b,2*c[1],y);if(!isNaN(S)){const E=(c[0]+c[1]+c[2])/3;for(const U of this.possibleCenters)if(U.aboutEquals(E,S,b))return U.combineEstimate(S,b,E);const P=new Ou(b,S,E);this.possibleCenters.push(P),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(P)}return null}}class wo extends ct{constructor(c,h,p,y){super(c,h),this.estimatedModuleSize=p,this.count=y,y===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(c,h,p){if(Math.abs(h-this.getY())<=c&&Math.abs(p-this.getX())<=c){const y=Math.abs(c-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(c,h,p){const y=this.count+1,b=(this.count*this.getX()+h)/y,S=(this.count*this.getY()+c)/y,E=(this.count*this.estimatedModuleSize+p)/y;return new wo(b,S,E,y)}}class ac{constructor(c){this.bottomLeft=c[0],this.topLeft=c[1],this.topRight=c[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Lr{constructor(c,h){this.image=c,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=h}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(c){const h=c!=null&&c.get(I.TRY_HARDER)!==void 0,p=c!=null&&c.get(I.PURE_BARCODE)!==void 0,y=this.image,b=y.getHeight(),S=y.getWidth();let E=Math.floor(3*b/(4*Lr.MAX_MODULES));(E<Lr.MIN_SKIP||h)&&(E=Lr.MIN_SKIP);let P=!1;const U=new Int32Array(5);for(let Z=E-1;Z<b&&!P;Z+=E){U[0]=0,U[1]=0,U[2]=0,U[3]=0,U[4]=0;let te=0;for(let oe=0;oe<S;oe++)if(y.get(oe,Z))(te&1)===1&&te++,U[te]++;else if((te&1)===0)if(te===4)if(Lr.foundPatternCross(U)){if(this.handlePossibleCenter(U,Z,oe,p)===!0)if(E=2,this.hasSkipped===!0)P=this.haveMultiplyConfirmedCenters();else{const ve=this.findRowSkip();ve>U[2]&&(Z+=ve-U[2]-E,oe=S-1)}else{U[0]=U[2],U[1]=U[3],U[2]=U[4],U[3]=1,U[4]=0,te=3;continue}te=0,U[0]=0,U[1]=0,U[2]=0,U[3]=0,U[4]=0}else U[0]=U[2],U[1]=U[3],U[2]=U[4],U[3]=1,U[4]=0,te=3;else U[++te]++;else U[te]++;Lr.foundPatternCross(U)&&this.handlePossibleCenter(U,Z,S,p)===!0&&(E=U[0],this.hasSkipped&&(P=this.haveMultiplyConfirmedCenters()))}const q=this.selectBestPatterns();return ct.orderBestPatterns(q),new ac(q)}static centerFromEnd(c,h){return h-c[4]-c[3]-c[2]/2}static foundPatternCross(c){let h=0;for(let b=0;b<5;b++){const S=c[b];if(S===0)return!1;h+=S}if(h<7)return!1;const p=h/7,y=p/2;return Math.abs(p-c[0])<y&&Math.abs(p-c[1])<y&&Math.abs(3*p-c[2])<3*y&&Math.abs(p-c[3])<y&&Math.abs(p-c[4])<y}getCrossCheckStateCount(){const c=this.crossCheckStateCount;return c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c}crossCheckDiagonal(c,h,p,y){const b=this.getCrossCheckStateCount();let S=0;const E=this.image;for(;c>=S&&h>=S&&E.get(h-S,c-S);)b[2]++,S++;if(c<S||h<S)return!1;for(;c>=S&&h>=S&&!E.get(h-S,c-S)&&b[1]<=p;)b[1]++,S++;if(c<S||h<S||b[1]>p)return!1;for(;c>=S&&h>=S&&E.get(h-S,c-S)&&b[0]<=p;)b[0]++,S++;if(b[0]>p)return!1;const P=E.getHeight(),U=E.getWidth();for(S=1;c+S<P&&h+S<U&&E.get(h+S,c+S);)b[2]++,S++;if(c+S>=P||h+S>=U)return!1;for(;c+S<P&&h+S<U&&!E.get(h+S,c+S)&&b[3]<p;)b[3]++,S++;if(c+S>=P||h+S>=U||b[3]>=p)return!1;for(;c+S<P&&h+S<U&&E.get(h+S,c+S)&&b[4]<p;)b[4]++,S++;if(b[4]>=p)return!1;const q=b[0]+b[1]+b[2]+b[3]+b[4];return Math.abs(q-y)<2*y&&Lr.foundPatternCross(b)}crossCheckVertical(c,h,p,y){const b=this.image,S=b.getHeight(),E=this.getCrossCheckStateCount();let P=c;for(;P>=0&&b.get(h,P);)E[2]++,P--;if(P<0)return NaN;for(;P>=0&&!b.get(h,P)&&E[1]<=p;)E[1]++,P--;if(P<0||E[1]>p)return NaN;for(;P>=0&&b.get(h,P)&&E[0]<=p;)E[0]++,P--;if(E[0]>p)return NaN;for(P=c+1;P<S&&b.get(h,P);)E[2]++,P++;if(P===S)return NaN;for(;P<S&&!b.get(h,P)&&E[3]<p;)E[3]++,P++;if(P===S||E[3]>=p)return NaN;for(;P<S&&b.get(h,P)&&E[4]<p;)E[4]++,P++;if(E[4]>=p)return NaN;const U=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(U-y)>=2*y?NaN:Lr.foundPatternCross(E)?Lr.centerFromEnd(E,P):NaN}crossCheckHorizontal(c,h,p,y){const b=this.image,S=b.getWidth(),E=this.getCrossCheckStateCount();let P=c;for(;P>=0&&b.get(P,h);)E[2]++,P--;if(P<0)return NaN;for(;P>=0&&!b.get(P,h)&&E[1]<=p;)E[1]++,P--;if(P<0||E[1]>p)return NaN;for(;P>=0&&b.get(P,h)&&E[0]<=p;)E[0]++,P--;if(E[0]>p)return NaN;for(P=c+1;P<S&&b.get(P,h);)E[2]++,P++;if(P===S)return NaN;for(;P<S&&!b.get(P,h)&&E[3]<p;)E[3]++,P++;if(P===S||E[3]>=p)return NaN;for(;P<S&&b.get(P,h)&&E[4]<p;)E[4]++,P++;if(E[4]>=p)return NaN;const U=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(U-y)>=y?NaN:Lr.foundPatternCross(E)?Lr.centerFromEnd(E,P):NaN}handlePossibleCenter(c,h,p,y){const b=c[0]+c[1]+c[2]+c[3]+c[4];let S=Lr.centerFromEnd(c,p),E=this.crossCheckVertical(h,Math.floor(S),c[2],b);if(!isNaN(E)&&(S=this.crossCheckHorizontal(Math.floor(S),Math.floor(E),c[2],b),!isNaN(S)&&(!y||this.crossCheckDiagonal(Math.floor(E),Math.floor(S),c[2],b)))){const P=b/7;let U=!1;const q=this.possibleCenters;for(let Z=0,te=q.length;Z<te;Z++){const oe=q[Z];if(oe.aboutEquals(P,E,S)){q[Z]=oe.combineEstimate(E,S,P),U=!0;break}}if(!U){const Z=new wo(S,E,P);q.push(Z),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(Z)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let h=null;for(const p of this.possibleCenters)if(p.getCount()>=Lr.CENTER_QUORUM)if(h==null)h=p;else return this.hasSkipped=!0,Math.floor((Math.abs(h.getX()-p.getX())-Math.abs(h.getY()-p.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let c=0,h=0;const p=this.possibleCenters.length;for(const S of this.possibleCenters)S.getCount()>=Lr.CENTER_QUORUM&&(c++,h+=S.getEstimatedModuleSize());if(c<3)return!1;const y=h/p;let b=0;for(const S of this.possibleCenters)b+=Math.abs(S.getEstimatedModuleSize()-y);return b<=.05*h}selectBestPatterns(){const c=this.possibleCenters.length;if(c<3)throw new J;const h=this.possibleCenters;let p;if(c>3){let y=0,b=0;for(const P of this.possibleCenters){const U=P.getEstimatedModuleSize();y+=U,b+=U*U}p=y/c;let S=Math.sqrt(b/c-p*p);h.sort((P,U)=>{const q=Math.abs(U.getEstimatedModuleSize()-p),Z=Math.abs(P.getEstimatedModuleSize()-p);return q<Z?-1:q>Z?1:0});const E=Math.max(.2*p,S);for(let P=0;P<h.length&&h.length>3;P++){const U=h[P];Math.abs(U.getEstimatedModuleSize()-p)>E&&(h.splice(P,1),P--)}}if(h.length>3){let y=0;for(const b of h)y+=b.getEstimatedModuleSize();p=y/h.length,h.sort((b,S)=>{if(S.getCount()===b.getCount()){const E=Math.abs(S.getEstimatedModuleSize()-p),P=Math.abs(b.getEstimatedModuleSize()-p);return E<P?1:E>P?-1:0}else return S.getCount()-b.getCount()}),h.splice(3)}return[h[0],h[1],h[2]]}}Lr.CENTER_QUORUM=2,Lr.MIN_SKIP=3,Lr.MAX_MODULES=57;class ol{constructor(c){this.image=c}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(c){this.resultPointCallback=c==null?null:c.get(I.NEED_RESULT_POINT_CALLBACK);const p=new Lr(this.image,this.resultPointCallback).find(c);return this.processFinderPatternInfo(p)}processFinderPatternInfo(c){const h=c.getTopLeft(),p=c.getTopRight(),y=c.getBottomLeft(),b=this.calculateModuleSize(h,p,y);if(b<1)throw new J("No pattern found in proccess finder.");const S=ol.computeDimension(h,p,y,b),E=wt.getProvisionalVersionForDimension(S),P=E.getDimensionForVersion()-7;let U=null;if(E.getAlignmentPatternCenters().length>0){const oe=p.getX()-h.getX()+y.getX(),pe=p.getY()-h.getY()+y.getY(),ve=1-3/P,Ae=Math.floor(h.getX()+ve*(oe-h.getX())),Ie=Math.floor(h.getY()+ve*(pe-h.getY()));for(let Ze=4;Ze<=16;Ze<<=1)try{U=this.findAlignmentInRegion(b,Ae,Ie,Ze);break}catch(tt){if(!(tt instanceof J))throw tt}}const q=ol.createTransform(h,p,y,U,S),Z=ol.sampleGrid(this.image,q,S);let te;return U===null?te=[y,h,p]:te=[y,h,p,U],new xn(Z,te)}static createTransform(c,h,p,y,b){const S=b-3.5;let E,P,U,q;return y!==null?(E=y.getX(),P=y.getY(),U=S-3,q=U):(E=h.getX()-c.getX()+p.getX(),P=h.getY()-c.getY()+p.getY(),U=S,q=S),Nn.quadrilateralToQuadrilateral(3.5,3.5,S,3.5,U,q,3.5,S,c.getX(),c.getY(),h.getX(),h.getY(),E,P,p.getX(),p.getY())}static sampleGrid(c,h,p){return gr.getInstance().sampleGridWithTransform(c,p,p,h)}static computeDimension(c,h,p,y){const b=st.round(ct.distance(c,h)/y),S=st.round(ct.distance(c,p)/y);let E=Math.floor((b+S)/2)+7;switch(E&3){case 0:E++;break;case 2:E--;break;case 3:throw new J("Dimensions could be not found.")}return E}calculateModuleSize(c,h,p){return(this.calculateModuleSizeOneWay(c,h)+this.calculateModuleSizeOneWay(c,p))/2}calculateModuleSizeOneWay(c,h){const p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(h.getX()),Math.floor(h.getY())),y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(h.getX()),Math.floor(h.getY()),Math.floor(c.getX()),Math.floor(c.getY()));return isNaN(p)?y/7:isNaN(y)?p/7:(p+y)/14}sizeOfBlackWhiteBlackRunBothWays(c,h,p,y){let b=this.sizeOfBlackWhiteBlackRun(c,h,p,y),S=1,E=c-(p-c);E<0?(S=c/(c-E),E=0):E>=this.image.getWidth()&&(S=(this.image.getWidth()-1-c)/(E-c),E=this.image.getWidth()-1);let P=Math.floor(h-(y-h)*S);return S=1,P<0?(S=h/(h-P),P=0):P>=this.image.getHeight()&&(S=(this.image.getHeight()-1-h)/(P-h),P=this.image.getHeight()-1),E=Math.floor(c+(E-c)*S),b+=this.sizeOfBlackWhiteBlackRun(c,h,E,P),b-1}sizeOfBlackWhiteBlackRun(c,h,p,y){const b=Math.abs(y-h)>Math.abs(p-c);if(b){let oe=c;c=h,h=oe,oe=p,p=y,y=oe}const S=Math.abs(p-c),E=Math.abs(y-h);let P=-S/2;const U=c<p?1:-1,q=h<y?1:-1;let Z=0;const te=p+U;for(let oe=c,pe=h;oe!==te;oe+=U){const ve=b?pe:oe,Ae=b?oe:pe;if(Z===1===this.image.get(ve,Ae)){if(Z===2)return st.distance(oe,pe,c,h);Z++}if(P+=E,P>0){if(pe===y)break;pe+=q,P-=S}}return Z===2?st.distance(p+U,y,c,h):NaN}findAlignmentInRegion(c,h,p,y){const b=Math.floor(y*c),S=Math.max(0,h-b),E=Math.min(this.image.getWidth()-1,h+b);if(E-S<c*3)throw new J("Alignment top exceeds estimated module size.");const P=Math.max(0,p-b),U=Math.min(this.image.getHeight()-1,p+b);if(U-P<c*3)throw new J("Alignment bottom exceeds estimated module size.");return new rc(this.image,S,P,E-S,U-P,c,this.resultPointCallback).find()}}class Ks{constructor(){this.decoder=new Zd}getDecoder(){return this.decoder}decode(c,h){let p,y;if(h!=null&&h.get(I.PURE_BARCODE)!==void 0){const P=Ks.extractPureBits(c.getBlackMatrix());p=this.decoder.decodeBitMatrix(P,h),y=Ks.NO_POINTS}else{const P=new ol(c.getBlackMatrix()).detect(h);p=this.decoder.decodeBitMatrix(P.getBits(),h),y=P.getPoints()}p.getOther()instanceof op&&p.getOther().applyMirroredCorrection(y);const b=new ye(p.getText(),p.getRawBytes(),void 0,y,ie.QR_CODE,void 0),S=p.getByteSegments();S!==null&&b.putMetadata(le.BYTE_SEGMENTS,S);const E=p.getECLevel();return E!==null&&b.putMetadata(le.ERROR_CORRECTION_LEVEL,E),p.hasStructuredAppend()&&(b.putMetadata(le.STRUCTURED_APPEND_SEQUENCE,p.getStructuredAppendSequenceNumber()),b.putMetadata(le.STRUCTURED_APPEND_PARITY,p.getStructuredAppendParity())),b}reset(){}static extractPureBits(c){const h=c.getTopLeftOnBit(),p=c.getBottomRightOnBit();if(h===null||p===null)throw new J;const y=this.moduleSize(h,c);let b=h[1],S=p[1],E=h[0],P=p[0];if(E>=P||b>=S)throw new J;if(S-b!==P-E&&(P=E+(S-b),P>=c.getWidth()))throw new J;const U=Math.round((P-E+1)/y),q=Math.round((S-b+1)/y);if(U<=0||q<=0)throw new J;if(q!==U)throw new J;const Z=Math.floor(y/2);b+=Z,E+=Z;const te=E+Math.floor((U-1)*y)-P;if(te>0){if(te>Z)throw new J;E-=te}const oe=b+Math.floor((q-1)*y)-S;if(oe>0){if(oe>Z)throw new J;b-=oe}const pe=new ne(U,q);for(let ve=0;ve<q;ve++){const Ae=b+Math.floor(ve*y);for(let Ie=0;Ie<U;Ie++)c.get(E+Math.floor(Ie*y),Ae)&&pe.set(Ie,ve)}return pe}static moduleSize(c,h){const p=h.getHeight(),y=h.getWidth();let b=c[0],S=c[1],E=!0,P=0;for(;b<y&&S<p;){if(E!==h.get(b,S)){if(++P===5)break;E=!E}b++,S++}if(b===y||S===p)throw new J;return(b-c[0])/7}}Ks.NO_POINTS=new Array;class _t{PDF417Common(){}static getBitCountSum(c){return st.sum(c)}static toIntArray(c){if(c==null||!c.length)return _t.EMPTY_INT_ARRAY;const h=new Int32Array(c.length);let p=0;for(const y of c)h[p++]=y;return h}static getCodeword(c){const h=D.binarySearch(_t.SYMBOL_TABLE,c&262143);return h<0?-1:(_t.CODEWORD_TABLE[h]-1)%_t.NUMBER_OF_CODEWORDS}}_t.NUMBER_OF_CODEWORDS=929,_t.MAX_CODEWORDS_IN_BARCODE=_t.NUMBER_OF_CODEWORDS-1,_t.MIN_ROWS_IN_BARCODE=3,_t.MAX_ROWS_IN_BARCODE=90,_t.MODULES_IN_CODEWORD=17,_t.MODULES_IN_STOP_PATTERN=18,_t.BARS_IN_MODULE=8,_t.EMPTY_INT_ARRAY=new Int32Array([]),_t.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),_t.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Xs{constructor(c,h){this.bits=c,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class Ft{static detectMultiple(c,h,p){let y=c.getBlackMatrix(),b=Ft.detect(p,y);return b.length||(y=y.clone(),y.rotate180(),b=Ft.detect(p,y)),new Xs(y,b)}static detect(c,h){const p=new Array;let y=0,b=0,S=!1;for(;y<h.getHeight();){const E=Ft.findVertices(h,y,b);if(E[0]==null&&E[3]==null){if(!S)break;S=!1,b=0;for(const P of p)P[1]!=null&&(y=Math.trunc(Math.max(y,P[1].getY()))),P[3]!=null&&(y=Math.max(y,Math.trunc(P[3].getY())));y+=Ft.ROW_STEP;continue}if(S=!0,p.push(E),!c)break;E[2]!=null?(b=Math.trunc(E[2].getX()),y=Math.trunc(E[2].getY())):(b=Math.trunc(E[4].getX()),y=Math.trunc(E[4].getY()))}return p}static findVertices(c,h,p){const y=c.getHeight(),b=c.getWidth(),S=new Array(8);return Ft.copyToResult(S,Ft.findRowsWithPattern(c,y,b,h,p,Ft.START_PATTERN),Ft.INDEXES_START_PATTERN),S[4]!=null&&(p=Math.trunc(S[4].getX()),h=Math.trunc(S[4].getY())),Ft.copyToResult(S,Ft.findRowsWithPattern(c,y,b,h,p,Ft.STOP_PATTERN),Ft.INDEXES_STOP_PATTERN),S}static copyToResult(c,h,p){for(let y=0;y<p.length;y++)c[p[y]]=h[y]}static findRowsWithPattern(c,h,p,y,b,S){const E=new Array(4);let P=!1;const U=new Int32Array(S.length);for(;y<h;y+=Ft.ROW_STEP){let Z=Ft.findGuardPattern(c,b,y,p,!1,S,U);if(Z!=null){for(;y>0;){const te=Ft.findGuardPattern(c,b,--y,p,!1,S,U);if(te!=null)Z=te;else{y++;break}}E[0]=new ct(Z[0],y),E[1]=new ct(Z[1],y),P=!0;break}}let q=y+1;if(P){let Z=0,te=Int32Array.from([Math.trunc(E[0].getX()),Math.trunc(E[1].getX())]);for(;q<h;q++){const oe=Ft.findGuardPattern(c,te[0],q,p,!1,S,U);if(oe!=null&&Math.abs(te[0]-oe[0])<Ft.MAX_PATTERN_DRIFT&&Math.abs(te[1]-oe[1])<Ft.MAX_PATTERN_DRIFT)te=oe,Z=0;else{if(Z>Ft.SKIPPED_ROW_COUNT_MAX)break;Z++}}q-=Z+1,E[2]=new ct(te[0],q),E[3]=new ct(te[1],q)}return q-y<Ft.BARCODE_MIN_HEIGHT&&D.fill(E,null),E}static findGuardPattern(c,h,p,y,b,S,E){D.fillWithin(E,0,E.length,0);let P=h,U=0;for(;c.get(P,p)&&P>0&&U++<Ft.MAX_PIXEL_DRIFT;)P--;let q=P,Z=0,te=S.length;for(let oe=b;q<y;q++)if(c.get(q,p)!==oe)E[Z]++;else{if(Z===te-1){if(Ft.patternMatchVariance(E,S,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE)return new Int32Array([P,q]);P+=E[0]+E[1],C.arraycopy(E,2,E,0,Z-1),E[Z-1]=0,E[Z]=0,Z--}else Z++;E[Z]=1,oe=!oe}return Z===te-1&&Ft.patternMatchVariance(E,S,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE?new Int32Array([P,q-1]):null}static patternMatchVariance(c,h,p){let y=c.length,b=0,S=0;for(let U=0;U<y;U++)b+=c[U],S+=h[U];if(b<S)return 1/0;let E=b/S;p*=E;let P=0;for(let U=0;U<y;U++){let q=c[U],Z=h[U]*E,te=q>Z?q-Z:Z-q;if(te>p)return 1/0;P+=te}return P/b}}Ft.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ft.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ft.MAX_AVG_VARIANCE=.42,Ft.MAX_INDIVIDUAL_VARIANCE=.8,Ft.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ft.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ft.MAX_PIXEL_DRIFT=3,Ft.MAX_PATTERN_DRIFT=5,Ft.SKIPPED_ROW_COUNT_MAX=25,Ft.ROW_STEP=5,Ft.BARCODE_MIN_HEIGHT=10;class xr{constructor(c,h){if(h.length===0)throw new x;this.field=c;let p=h.length;if(p>1&&h[0]===0){let y=1;for(;y<p&&h[y]===0;)y++;y===p?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(p-y),C.arraycopy(h,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(c===0)return this.getCoefficient(0);if(c===1){let y=0;for(let b of this.coefficients)y=this.field.add(y,b);return y}let h=this.coefficients[0],p=this.coefficients.length;for(let y=1;y<p;y++)h=this.field.add(this.field.multiply(c,h),this.coefficients[y]);return h}add(c){if(!this.field.equals(c.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero())return c;if(c.isZero())return this;let h=this.coefficients,p=c.coefficients;if(h.length>p.length){let S=h;h=p,p=S}let y=new Int32Array(p.length),b=p.length-h.length;C.arraycopy(p,0,y,0,b);for(let S=b;S<p.length;S++)y[S]=this.field.add(h[S-b],p[S]);return new xr(this.field,y)}subtract(c){if(!this.field.equals(c.field))throw new x("ModulusPolys do not have same ModulusGF field");return c.isZero()?this:this.add(c.negative())}multiply(c){return c instanceof xr?this.multiplyOther(c):this.multiplyScalar(c)}multiplyOther(c){if(!this.field.equals(c.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero()||c.isZero())return new xr(this.field,new Int32Array([0]));let h=this.coefficients,p=h.length,y=c.coefficients,b=y.length,S=new Int32Array(p+b-1);for(let E=0;E<p;E++){let P=h[E];for(let U=0;U<b;U++)S[E+U]=this.field.add(S[E+U],this.field.multiply(P,y[U]))}return new xr(this.field,S)}negative(){let c=this.coefficients.length,h=new Int32Array(c);for(let p=0;p<c;p++)h[p]=this.field.subtract(0,this.coefficients[p]);return new xr(this.field,h)}multiplyScalar(c){if(c===0)return new xr(this.field,new Int32Array([0]));if(c===1)return this;let h=this.coefficients.length,p=new Int32Array(h);for(let y=0;y<h;y++)p[y]=this.field.multiply(this.coefficients[y],c);return new xr(this.field,p)}multiplyByMonomial(c,h){if(c<0)throw new x;if(h===0)return new xr(this.field,new Int32Array([0]));let p=this.coefficients.length,y=new Int32Array(p+c);for(let b=0;b<p;b++)y[b]=this.field.multiply(this.coefficients[b],h);return new xr(this.field,y)}toString(){let c=new X;for(let h=this.getDegree();h>=0;h--){let p=this.getCoefficient(h);p!==0&&(p<0?(c.append(" - "),p=-p):c.length()>0&&c.append(" + "),(h===0||p!==1)&&c.append(p),h!==0&&(h===1?c.append("x"):(c.append("x^"),c.append(h))))}return c.toString()}}class jo{add(c,h){return(c+h)%this.modulus}subtract(c,h){return(this.modulus+c-h)%this.modulus}exp(c){return this.expTable[c]}log(c){if(c===0)throw new x;return this.logTable[c]}inverse(c){if(c===0)throw new be;return this.expTable[this.modulus-this.logTable[c]-1]}multiply(c,h){return c===0||h===0?0:this.expTable[(this.logTable[c]+this.logTable[h])%(this.modulus-1)]}getSize(){return this.modulus}equals(c){return c===this}}class Mu extends jo{constructor(c,h){super(),this.modulus=c,this.expTable=new Int32Array(c),this.logTable=new Int32Array(c);let p=1;for(let y=0;y<c;y++)this.expTable[y]=p,p=p*h%c;for(let y=0;y<c-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new xr(this,new Int32Array([0])),this.one=new xr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,h){if(c<0)throw new x;if(h===0)return this.zero;let p=new Int32Array(c+1);return p[0]=h,new xr(this,p)}}Mu.PDF417_GF=new Mu(_t.NUMBER_OF_CODEWORDS,3);class Du{constructor(){this.field=Mu.PDF417_GF}decode(c,h,p){let y=new xr(this.field,c),b=new Int32Array(h),S=!1;for(let pe=h;pe>0;pe--){let ve=y.evaluateAt(this.field.exp(pe));b[h-pe]=ve,ve!==0&&(S=!0)}if(!S)return 0;let E=this.field.getOne();if(p!=null)for(const pe of p){let ve=this.field.exp(c.length-1-pe),Ae=new xr(this.field,new Int32Array([this.field.subtract(0,ve),1]));E=E.multiply(Ae)}let P=new xr(this.field,b),U=this.runEuclideanAlgorithm(this.field.buildMonomial(h,1),P,h),q=U[0],Z=U[1],te=this.findErrorLocations(q),oe=this.findErrorMagnitudes(Z,q,te);for(let pe=0;pe<te.length;pe++){let ve=c.length-1-this.field.log(te[pe]);if(ve<0)throw _.getChecksumInstance();c[ve]=this.field.subtract(c[ve],oe[pe])}return te.length}runEuclideanAlgorithm(c,h,p){if(c.getDegree()<h.getDegree()){let te=c;c=h,h=te}let y=c,b=h,S=this.field.getZero(),E=this.field.getOne();for(;b.getDegree()>=Math.round(p/2);){let te=y,oe=S;if(y=b,S=E,y.isZero())throw _.getChecksumInstance();b=te;let pe=this.field.getZero(),ve=y.getCoefficient(y.getDegree()),Ae=this.field.inverse(ve);for(;b.getDegree()>=y.getDegree()&&!b.isZero();){let Ie=b.getDegree()-y.getDegree(),Ze=this.field.multiply(b.getCoefficient(b.getDegree()),Ae);pe=pe.add(this.field.buildMonomial(Ie,Ze)),b=b.subtract(y.multiplyByMonomial(Ie,Ze))}E=pe.multiply(S).subtract(oe).negative()}let P=E.getCoefficient(0);if(P===0)throw _.getChecksumInstance();let U=this.field.inverse(P),q=E.multiply(U),Z=b.multiply(U);return[q,Z]}findErrorLocations(c){let h=c.getDegree(),p=new Int32Array(h),y=0;for(let b=1;b<this.field.getSize()&&y<h;b++)c.evaluateAt(b)===0&&(p[y]=this.field.inverse(b),y++);if(y!==h)throw _.getChecksumInstance();return p}findErrorMagnitudes(c,h,p){let y=h.getDegree(),b=new Int32Array(y);for(let U=1;U<=y;U++)b[y-U]=this.field.multiply(U,h.getCoefficient(U));let S=new xr(this.field,b),E=p.length,P=new Int32Array(E);for(let U=0;U<E;U++){let q=this.field.inverse(p[U]),Z=this.field.subtract(0,c.evaluateAt(q)),te=this.field.inverse(S.evaluateAt(q));P[U]=this.field.multiply(Z,te)}return P}}class No{constructor(c,h,p,y,b){c instanceof No?this.constructor_2(c):this.constructor_1(c,h,p,y,b)}constructor_1(c,h,p,y,b){const S=h==null||p==null,E=y==null||b==null;if(S&&E)throw new J;S?(h=new ct(0,y.getY()),p=new ct(0,b.getY())):E&&(y=new ct(c.getWidth()-1,h.getY()),b=new ct(c.getWidth()-1,p.getY())),this.image=c,this.topLeft=h,this.bottomLeft=p,this.topRight=y,this.bottomRight=b,this.minX=Math.trunc(Math.min(h.getX(),p.getX())),this.maxX=Math.trunc(Math.max(y.getX(),b.getX())),this.minY=Math.trunc(Math.min(h.getY(),y.getY())),this.maxY=Math.trunc(Math.max(p.getY(),b.getY()))}constructor_2(c){this.image=c.image,this.topLeft=c.getTopLeft(),this.bottomLeft=c.getBottomLeft(),this.topRight=c.getTopRight(),this.bottomRight=c.getBottomRight(),this.minX=c.getMinX(),this.maxX=c.getMaxX(),this.minY=c.getMinY(),this.maxY=c.getMaxY()}static merge(c,h){return c==null?h:h==null?c:new No(c.image,c.topLeft,c.bottomLeft,h.topRight,h.bottomRight)}addMissingRows(c,h,p){let y=this.topLeft,b=this.bottomLeft,S=this.topRight,E=this.bottomRight;if(c>0){let P=p?this.topLeft:this.topRight,U=Math.trunc(P.getY()-c);U<0&&(U=0);let q=new ct(P.getX(),U);p?y=q:S=q}if(h>0){let P=p?this.bottomLeft:this.bottomRight,U=Math.trunc(P.getY()+h);U>=this.image.getHeight()&&(U=this.image.getHeight()-1);let q=new ct(P.getX(),U);p?b=q:E=q}return new No(this.image,y,b,S,E)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Jd{constructor(c,h,p,y){this.columnCount=c,this.errorCorrectionLevel=y,this.rowCountUpperPart=h,this.rowCountLowerPart=p,this.rowCount=h+p}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class So{constructor(){this.buffer=""}static form(c,h){let p=-1;function y(S,E,P,U,q,Z){if(S==="%%")return"%";if(h[++p]===void 0)return;S=U?parseInt(U.substr(1)):void 0;let te=q?parseInt(q.substr(1)):void 0,oe;switch(Z){case"s":oe=h[p];break;case"c":oe=h[p][0];break;case"f":oe=parseFloat(h[p]).toFixed(S);break;case"p":oe=parseFloat(h[p]).toPrecision(S);break;case"e":oe=parseFloat(h[p]).toExponential(S);break;case"x":oe=parseInt(h[p]).toString(te||16);break;case"d":oe=parseFloat(parseInt(h[p],te||10).toPrecision(S)).toFixed(0);break}oe=typeof oe=="object"?JSON.stringify(oe):(+oe).toString(te);let pe=parseInt(P),ve=P&&P[0]+""=="0"?"0":" ";for(;oe.length<pe;)oe=E!==void 0?oe+ve:ve+oe;return oe}let b=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return c.replace(b,y)}format(c,...h){this.buffer+=So.form(c,h)}toString(){return this.buffer}}class ic{constructor(c){this.boundingBox=new No(c),this.codewords=new Array(c.getMaxY()-c.getMinY()+1)}getCodewordNearby(c){let h=this.getCodeword(c);if(h!=null)return h;for(let p=1;p<ic.MAX_NEARBY_DISTANCE;p++){let y=this.imageRowToCodewordIndex(c)-p;if(y>=0&&(h=this.codewords[y],h!=null)||(y=this.imageRowToCodewordIndex(c)+p,y<this.codewords.length&&(h=this.codewords[y],h!=null)))return h}return null}imageRowToCodewordIndex(c){return c-this.boundingBox.getMinY()}setCodeword(c,h){this.codewords[this.imageRowToCodewordIndex(c)]=h}getCodeword(c){return this.codewords[this.imageRowToCodewordIndex(c)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const c=new So;let h=0;for(const p of this.codewords){if(p==null){c.format("%3d:    |   %n",h++);continue}c.format("%3d: %3d|%3d%n",h++,p.getRowNumber(),p.getValue())}return c.toString()}}ic.MAX_NEARBY_DISTANCE=5;class Gr{constructor(){this.values=new Map}setValue(c){c=Math.trunc(c);let h=this.values.get(c);h==null&&(h=0),h++,this.values.set(c,h)}getValue(){let c=-1,h=new Array;for(const[p,y]of this.values.entries()){const b={getKey:()=>p,getValue:()=>y};b.getValue()>c?(c=b.getValue(),h=[],h.push(b.getKey())):b.getValue()===c&&h.push(b.getKey())}return _t.toIntArray(h)}getConfidence(c){return this.values.get(c)}}class _o extends ic{constructor(c,h){super(c),this._isLeft=h}setRowNumbers(){for(let c of this.getCodewords())c!=null&&c.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(c){let h=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(h,c);let p=this.getBoundingBox(),y=this._isLeft?p.getTopLeft():p.getTopRight(),b=this._isLeft?p.getBottomLeft():p.getBottomRight(),S=this.imageRowToCodewordIndex(Math.trunc(y.getY())),E=this.imageRowToCodewordIndex(Math.trunc(b.getY())),P=-1,U=1,q=0;for(let Z=S;Z<E;Z++){if(h[Z]==null)continue;let te=h[Z],oe=te.getRowNumber()-P;if(oe===0)q++;else if(oe===1)U=Math.max(U,q),q=1,P=te.getRowNumber();else if(oe<0||te.getRowNumber()>=c.getRowCount()||oe>Z)h[Z]=null;else{let pe;U>2?pe=(U-2)*oe:pe=oe;let ve=pe>=Z;for(let Ae=1;Ae<=pe&&!ve;Ae++)ve=h[Z-Ae]!=null;ve?h[Z]=null:(P=te.getRowNumber(),q=1)}}}getRowHeights(){let c=this.getBarcodeMetadata();if(c==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(c);let h=new Int32Array(c.getRowCount());for(let p of this.getCodewords())if(p!=null){let y=p.getRowNumber();if(y>=h.length)continue;h[y]++}return h}adjustIncompleteIndicatorColumnRowNumbers(c){let h=this.getBoundingBox(),p=this._isLeft?h.getTopLeft():h.getTopRight(),y=this._isLeft?h.getBottomLeft():h.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(p.getY())),S=this.imageRowToCodewordIndex(Math.trunc(y.getY())),E=this.getCodewords(),P=-1;for(let U=b;U<S;U++){if(E[U]==null)continue;let q=E[U];q.setRowNumberAsRowIndicatorColumn();let Z=q.getRowNumber()-P;Z===0||(Z===1?P=q.getRowNumber():q.getRowNumber()>=c.getRowCount()?E[U]=null:P=q.getRowNumber())}}getBarcodeMetadata(){let c=this.getCodewords(),h=new Gr,p=new Gr,y=new Gr,b=new Gr;for(let E of c){if(E==null)continue;E.setRowNumberAsRowIndicatorColumn();let P=E.getValue()%30,U=E.getRowNumber();switch(this._isLeft||(U+=2),U%3){case 0:p.setValue(P*3+1);break;case 1:b.setValue(P/3),y.setValue(P%3);break;case 2:h.setValue(P+1);break}}if(h.getValue().length===0||p.getValue().length===0||y.getValue().length===0||b.getValue().length===0||h.getValue()[0]<1||p.getValue()[0]+y.getValue()[0]<_t.MIN_ROWS_IN_BARCODE||p.getValue()[0]+y.getValue()[0]>_t.MAX_ROWS_IN_BARCODE)return null;let S=new Jd(h.getValue()[0],p.getValue()[0],y.getValue()[0],b.getValue()[0]);return this.removeIncorrectCodewords(c,S),S}removeIncorrectCodewords(c,h){for(let p=0;p<c.length;p++){let y=c[p];if(c[p]==null)continue;let b=y.getValue()%30,S=y.getRowNumber();if(S>h.getRowCount()){c[p]=null;continue}switch(this._isLeft||(S+=2),S%3){case 0:b*3+1!==h.getRowCountUpperPart()&&(c[p]=null);break;case 1:(Math.trunc(b/3)!==h.getErrorCorrectionLevel()||b%3!==h.getRowCountLowerPart())&&(c[p]=null);break;case 2:b+1!==h.getColumnCount()&&(c[p]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ao{constructor(c,h){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=c,this.barcodeColumnCount=c.getColumnCount(),this.boundingBox=h,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let c=_t.MAX_CODEWORDS_IN_BARCODE,h;do h=c,c=this.adjustRowNumbersAndGetCount();while(c>0&&c<h);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(c){c!=null&&c.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let c=this.adjustRowNumbersByRow();if(c===0)return 0;for(let h=1;h<this.barcodeColumnCount+1;h++){let p=this.detectionResultColumns[h].getCodewords();for(let y=0;y<p.length;y++)p[y]!=null&&(p[y].hasValidRowNumber()||this.adjustRowNumbers(h,y,p))}return c}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let c=this.detectionResultColumns[0].getCodewords(),h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<c.length;p++)if(c[p]!=null&&h[p]!=null&&c[p].getRowNumber()===h[p].getRowNumber())for(let y=1;y<=this.barcodeColumnCount;y++){let b=this.detectionResultColumns[y].getCodewords()[p];b!=null&&(b.setRowNumber(c[p].getRowNumber()),b.hasValidRowNumber()||(this.detectionResultColumns[y].getCodewords()[p]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let c=0,h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<h.length;p++){if(h[p]==null)continue;let y=h[p].getRowNumber(),b=0;for(let S=this.barcodeColumnCount+1;S>0&&b<this.ADJUST_ROW_NUMBER_SKIP;S--){let E=this.detectionResultColumns[S].getCodewords()[p];E!=null&&(b=Ao.adjustRowNumberIfValid(y,b,E),E.hasValidRowNumber()||c++)}}return c}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let c=0,h=this.detectionResultColumns[0].getCodewords();for(let p=0;p<h.length;p++){if(h[p]==null)continue;let y=h[p].getRowNumber(),b=0;for(let S=1;S<this.barcodeColumnCount+1&&b<this.ADJUST_ROW_NUMBER_SKIP;S++){let E=this.detectionResultColumns[S].getCodewords()[p];E!=null&&(b=Ao.adjustRowNumberIfValid(y,b,E),E.hasValidRowNumber()||c++)}}return c}static adjustRowNumberIfValid(c,h,p){return p==null||p.hasValidRowNumber()||(p.isValidRowNumber(c)?(p.setRowNumber(c),h=0):++h),h}adjustRowNumbers(c,h,p){if(!this.detectionResultColumns[c-1])return;let y=p[h],b=this.detectionResultColumns[c-1].getCodewords(),S=b;this.detectionResultColumns[c+1]!=null&&(S=this.detectionResultColumns[c+1].getCodewords());let E=new Array(14);E[2]=b[h],E[3]=S[h],h>0&&(E[0]=p[h-1],E[4]=b[h-1],E[5]=S[h-1]),h>1&&(E[8]=p[h-2],E[10]=b[h-2],E[11]=S[h-2]),h<p.length-1&&(E[1]=p[h+1],E[6]=b[h+1],E[7]=S[h+1]),h<p.length-2&&(E[9]=p[h+2],E[12]=b[h+2],E[13]=S[h+2]);for(let P of E)if(Ao.adjustRowNumber(y,P))return}static adjustRowNumber(c,h){return h==null?!1:h.hasValidRowNumber()&&h.getBucket()===c.getBucket()?(c.setRowNumber(h.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(c){this.boundingBox=c}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(c,h){this.detectionResultColumns[c]=h}getDetectionResultColumn(c){return this.detectionResultColumns[c]}toString(){let c=this.detectionResultColumns[0];c==null&&(c=this.detectionResultColumns[this.barcodeColumnCount+1]);let h=new So;for(let p=0;p<c.getCodewords().length;p++){h.format("CW %3d:",p);for(let y=0;y<this.barcodeColumnCount+2;y++){if(this.detectionResultColumns[y]==null){h.format("    |   ");continue}let b=this.detectionResultColumns[y].getCodewords()[p];if(b==null){h.format("    |   ");continue}h.format(" %3d|%3d",b.getRowNumber(),b.getValue())}h.format("%n")}return h.toString()}}class Qs{constructor(c,h,p,y){this.rowNumber=Qs.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(c),this.endX=Math.trunc(h),this.bucket=Math.trunc(p),this.value=Math.trunc(y)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(c){return c!==Qs.BARCODE_ROW_UNKNOWN&&this.bucket===c%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(c){this.rowNumber=c}toString(){return this.rowNumber+"|"+this.value}}Qs.BARCODE_ROW_UNKNOWN=-1;class Xa{static initialize(){for(let c=0;c<_t.SYMBOL_TABLE.length;c++){let h=_t.SYMBOL_TABLE[c],p=h&1;for(let y=0;y<_t.BARS_IN_MODULE;y++){let b=0;for(;(h&1)===p;)b+=1,h>>=1;p=h&1,Xa.RATIOS_TABLE[c]||(Xa.RATIOS_TABLE[c]=new Array(_t.BARS_IN_MODULE)),Xa.RATIOS_TABLE[c][_t.BARS_IN_MODULE-y-1]=Math.fround(b/_t.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(c){let h=Xa.getDecodedCodewordValue(Xa.sampleBitCounts(c));return h!==-1?h:Xa.getClosestDecodedValue(c)}static sampleBitCounts(c){let h=st.sum(c),p=new Int32Array(_t.BARS_IN_MODULE),y=0,b=0;for(let S=0;S<_t.MODULES_IN_CODEWORD;S++){let E=h/(2*_t.MODULES_IN_CODEWORD)+S*h/_t.MODULES_IN_CODEWORD;b+c[y]<=E&&(b+=c[y],y++),p[y]++}return p}static getDecodedCodewordValue(c){let h=Xa.getBitValue(c);return _t.getCodeword(h)===-1?-1:h}static getBitValue(c){let h=0;for(let p=0;p<c.length;p++)for(let y=0;y<c[p];y++)h=h<<1|(p%2===0?1:0);return Math.trunc(h)}static getClosestDecodedValue(c){let h=st.sum(c),p=new Array(_t.BARS_IN_MODULE);if(h>1)for(let S=0;S<p.length;S++)p[S]=Math.fround(c[S]/h);let y=hr.MAX_VALUE,b=-1;this.bSymbolTableReady||Xa.initialize();for(let S=0;S<Xa.RATIOS_TABLE.length;S++){let E=0,P=Xa.RATIOS_TABLE[S];for(let U=0;U<_t.BARS_IN_MODULE;U++){let q=Math.fround(P[U]-p[U]);if(E+=Math.fround(q*q),E>=y)break}E<y&&(y=E,b=_t.SYMBOL_TABLE[S])}return b}}Xa.bSymbolTableReady=!1,Xa.RATIOS_TABLE=new Array(_t.SYMBOL_TABLE.length).map(Q=>new Array(_t.BARS_IN_MODULE));class ef{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(c){this.segmentIndex=c}getFileId(){return this.fileId}setFileId(c){this.fileId=c}getOptionalData(){return this.optionalData}setOptionalData(c){this.optionalData=c}isLastSegment(){return this.lastSegment}setLastSegment(c){this.lastSegment=c}getSegmentCount(){return this.segmentCount}setSegmentCount(c){this.segmentCount=c}getSender(){return this.sender||null}setSender(c){this.sender=c}getAddressee(){return this.addressee||null}setAddressee(c){this.addressee=c}getFileName(){return this.fileName}setFileName(c){this.fileName=c}getFileSize(){return this.fileSize}setFileSize(c){this.fileSize=c}getChecksum(){return this.checksum}setChecksum(c){this.checksum=c}getTimestamp(){return this.timestamp}setTimestamp(c){this.timestamp=c}}class tf{static parseLong(c,h=void 0){return parseInt(c,h)}}class sc extends f{}sc.kind="NullPointerException";class nf{writeBytes(c){this.writeBytesOffset(c,0,c.length)}writeBytesOffset(c,h,p){if(c==null)throw new sc;if(h<0||h>c.length||p<0||h+p>c.length||h+p<0)throw new A;if(p===0)return;for(let y=0;y<p;y++)this.write(c[h+y])}flush(){}close(){}}class lp extends f{}class Wy extends nf{constructor(c=32){if(super(),this.count=0,c<0)throw new x("Negative initial size: "+c);this.buf=new Uint8Array(c)}ensureCapacity(c){c-this.buf.length>0&&this.grow(c)}grow(c){let p=this.buf.length<<1;if(p-c<0&&(p=c),p<0){if(c<0)throw new lp;p=R.MAX_VALUE}this.buf=D.copyOfUint8Array(this.buf,p)}write(c){this.ensureCapacity(this.count+1),this.buf[this.count]=c,this.count+=1}writeBytesOffset(c,h,p){if(h<0||h>c.length||p<0||h+p-c.length>0)throw new A;this.ensureCapacity(this.count+p),C.arraycopy(c,h,this.buf,this.count,p),this.count+=p}writeTo(c){c.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return D.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(c){return c?typeof c=="string"?this.toString_string(c):this.toString_number(c):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(c){return new String(this.buf).toString()}toString_number(c){return new String(this.buf).toString()}close(){}}var En;(function(Q){Q[Q.ALPHA=0]="ALPHA",Q[Q.LOWER=1]="LOWER",Q[Q.MIXED=2]="MIXED",Q[Q.PUNCT=3]="PUNCT",Q[Q.ALPHA_SHIFT=4]="ALPHA_SHIFT",Q[Q.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(En||(En={}));function cp(){if(typeof window<"u")return window.BigInt||null;if(typeof hx<"u")return hx.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let oc;function Eo(Q){if(typeof oc>"u"&&(oc=cp()),oc===null)throw new Error("BigInt is not supported!");return oc(Q)}function Gy(){let Q=[];Q[0]=Eo(1);let c=Eo(900);Q[1]=c;for(let h=2;h<16;h++)Q[h]=Q[h-1]*c;return Q}class Fe{static decode(c,h){let p=new X(""),y=F.ISO8859_1;p.enableDecoding(y);let b=1,S=c[b++],E=new ef;for(;b<c[0];){switch(S){case Fe.TEXT_COMPACTION_MODE_LATCH:b=Fe.textCompaction(c,b,p);break;case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:b=Fe.byteCompaction(S,c,y,b,p);break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(c[b++]);break;case Fe.NUMERIC_COMPACTION_MODE_LATCH:b=Fe.numericCompaction(c,b,p);break;case Fe.ECI_CHARSET:F.getCharacterSetECIByValue(c[b++]);break;case Fe.ECI_GENERAL_PURPOSE:b+=2;break;case Fe.ECI_USER_DEFINED:b++;break;case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:b=Fe.decodeMacroBlock(c,b,E);break;case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:throw new B;default:b--,b=Fe.textCompaction(c,b,p);break}if(b<c.length)S=c[b++];else throw B.getFormatInstance()}if(p.length()===0)throw B.getFormatInstance();let P=new he(null,p.toString(),null,h);return P.setOther(E),P}static decodeMacroBlock(c,h,p){if(h+Fe.NUMBER_OF_SEQUENCE_CODEWORDS>c[0])throw B.getFormatInstance();let y=new Int32Array(Fe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let E=0;E<Fe.NUMBER_OF_SEQUENCE_CODEWORDS;E++,h++)y[E]=c[h];p.setSegmentIndex(R.parseInt(Fe.decodeBase900toBase10(y,Fe.NUMBER_OF_SEQUENCE_CODEWORDS)));let b=new X;h=Fe.textCompaction(c,h,b),p.setFileId(b.toString());let S=-1;for(c[h]===Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(S=h+1);h<c[0];)switch(c[h]){case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(h++,c[h]){case Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let E=new X;h=Fe.textCompaction(c,h+1,E),p.setFileName(E.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let P=new X;h=Fe.textCompaction(c,h+1,P),p.setSender(P.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let U=new X;h=Fe.textCompaction(c,h+1,U),p.setAddressee(U.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let q=new X;h=Fe.numericCompaction(c,h+1,q),p.setSegmentCount(R.parseInt(q.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let Z=new X;h=Fe.numericCompaction(c,h+1,Z),p.setTimestamp(tf.parseLong(Z.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let te=new X;h=Fe.numericCompaction(c,h+1,te),p.setChecksum(R.parseInt(te.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let oe=new X;h=Fe.numericCompaction(c,h+1,oe),p.setFileSize(tf.parseLong(oe.toString()));break;default:throw B.getFormatInstance()}break;case Fe.MACRO_PDF417_TERMINATOR:h++,p.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(S!==-1){let E=h-S;p.isLastSegment()&&E--,p.setOptionalData(D.copyOfRange(c,S,S+E))}return h}static textCompaction(c,h,p){let y=new Int32Array((c[0]-h)*2),b=new Int32Array((c[0]-h)*2),S=0,E=!1;for(;h<c[0]&&!E;){let P=c[h++];if(P<Fe.TEXT_COMPACTION_MODE_LATCH)y[S]=P/30,y[S+1]=P%30,S+=2;else switch(P){case Fe.TEXT_COMPACTION_MODE_LATCH:y[S++]=Fe.TEXT_COMPACTION_MODE_LATCH;break;case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:h--,E=!0;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y[S]=Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,P=c[h++],b[S]=P,S++;break}}return Fe.decodeTextCompaction(y,b,S,p),h}static decodeTextCompaction(c,h,p,y){let b=En.ALPHA,S=En.ALPHA,E=0;for(;E<p;){let P=c[E],U="";switch(b){case En.ALPHA:if(P<26)U=String.fromCharCode(65+P);else switch(P){case 26:U=" ";break;case Fe.LL:b=En.LOWER;break;case Fe.ML:b=En.MIXED;break;case Fe.PS:S=b,b=En.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[E]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:b=En.ALPHA;break}break;case En.LOWER:if(P<26)U=String.fromCharCode(97+P);else switch(P){case 26:U=" ";break;case Fe.AS:S=b,b=En.ALPHA_SHIFT;break;case Fe.ML:b=En.MIXED;break;case Fe.PS:S=b,b=En.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[E]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:b=En.ALPHA;break}break;case En.MIXED:if(P<Fe.PL)U=Fe.MIXED_CHARS[P];else switch(P){case Fe.PL:b=En.PUNCT;break;case 26:U=" ";break;case Fe.LL:b=En.LOWER;break;case Fe.AL:b=En.ALPHA;break;case Fe.PS:S=b,b=En.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[E]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:b=En.ALPHA;break}break;case En.PUNCT:if(P<Fe.PAL)U=Fe.PUNCT_CHARS[P];else switch(P){case Fe.PAL:b=En.ALPHA;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[E]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:b=En.ALPHA;break}break;case En.ALPHA_SHIFT:if(b=S,P<26)U=String.fromCharCode(65+P);else switch(P){case 26:U=" ";break;case Fe.TEXT_COMPACTION_MODE_LATCH:b=En.ALPHA;break}break;case En.PUNCT_SHIFT:if(b=S,P<Fe.PAL)U=Fe.PUNCT_CHARS[P];else switch(P){case Fe.PAL:b=En.ALPHA;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(h[E]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:b=En.ALPHA;break}break}U!==""&&y.append(U),E++}}static byteCompaction(c,h,p,y,b){let S=new Wy,E=0,P=0,U=!1;switch(c){case Fe.BYTE_COMPACTION_MODE_LATCH:let q=new Int32Array(6),Z=h[y++];for(;y<h[0]&&!U;)switch(q[E++]=Z,P=900*P+Z,Z=h[y++],Z){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:y--,U=!0;break;default:if(E%5===0&&E>0){for(let te=0;te<6;++te)S.write(Number(Eo(P)>>Eo(8*(5-te))));P=0,E=0}break}y===h[0]&&Z<Fe.TEXT_COMPACTION_MODE_LATCH&&(q[E++]=Z);for(let te=0;te<E;te++)S.write(q[te]);break;case Fe.BYTE_COMPACTION_MODE_LATCH_6:for(;y<h[0]&&!U;){let te=h[y++];if(te<Fe.TEXT_COMPACTION_MODE_LATCH)E++,P=900*P+te;else switch(te){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:y--,U=!0;break}if(E%5===0&&E>0){for(let oe=0;oe<6;++oe)S.write(Number(Eo(P)>>Eo(8*(5-oe))));P=0,E=0}}break}return b.append(W.decode(S.toByteArray(),p)),y}static numericCompaction(c,h,p){let y=0,b=!1,S=new Int32Array(Fe.MAX_NUMERIC_CODEWORDS);for(;h<c[0]&&!b;){let E=c[h++];if(h===c[0]&&(b=!0),E<Fe.TEXT_COMPACTION_MODE_LATCH)S[y]=E,y++;else switch(E){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:h--,b=!0;break}(y%Fe.MAX_NUMERIC_CODEWORDS===0||E===Fe.NUMERIC_COMPACTION_MODE_LATCH||b)&&y>0&&(p.append(Fe.decodeBase900toBase10(S,y)),y=0)}return h}static decodeBase900toBase10(c,h){let p=Eo(0);for(let b=0;b<h;b++)p+=Fe.EXP900[h-b-1]*Eo(c[b]);let y=p.toString();if(y.charAt(0)!=="1")throw new B;return y.substring(1)}}Fe.TEXT_COMPACTION_MODE_LATCH=900,Fe.BYTE_COMPACTION_MODE_LATCH=901,Fe.NUMERIC_COMPACTION_MODE_LATCH=902,Fe.BYTE_COMPACTION_MODE_LATCH_6=924,Fe.ECI_USER_DEFINED=925,Fe.ECI_GENERAL_PURPOSE=926,Fe.ECI_CHARSET=927,Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Fe.MACRO_PDF417_TERMINATOR=922,Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Fe.MAX_NUMERIC_CODEWORDS=15,Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Fe.PL=25,Fe.LL=27,Fe.AS=27,Fe.ML=28,Fe.AL=28,Fe.PS=29,Fe.PAL=29,Fe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Fe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Fe.EXP900=cp()?Gy():[],Fe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ht{constructor(){}static decode(c,h,p,y,b,S,E){let P=new No(c,h,p,y,b),U=null,q=null,Z;for(let pe=!0;;pe=!1){if(h!=null&&(U=Ht.getRowIndicatorColumn(c,P,h,!0,S,E)),y!=null&&(q=Ht.getRowIndicatorColumn(c,P,y,!1,S,E)),Z=Ht.merge(U,q),Z==null)throw J.getNotFoundInstance();let ve=Z.getBoundingBox();if(pe&&ve!=null&&(ve.getMinY()<P.getMinY()||ve.getMaxY()>P.getMaxY()))P=ve;else break}Z.setBoundingBox(P);let te=Z.getBarcodeColumnCount()+1;Z.setDetectionResultColumn(0,U),Z.setDetectionResultColumn(te,q);let oe=U!=null;for(let pe=1;pe<=te;pe++){let ve=oe?pe:te-pe;if(Z.getDetectionResultColumn(ve)!==void 0)continue;let Ae;ve===0||ve===te?Ae=new _o(P,ve===0):Ae=new ic(P),Z.setDetectionResultColumn(ve,Ae);let Ie=-1,Ze=Ie;for(let tt=P.getMinY();tt<=P.getMaxY();tt++){if(Ie=Ht.getStartColumn(Z,ve,tt,oe),Ie<0||Ie>P.getMaxX()){if(Ze===-1)continue;Ie=Ze}let Xe=Ht.detectCodeword(c,P.getMinX(),P.getMaxX(),oe,Ie,tt,S,E);Xe!=null&&(Ae.setCodeword(tt,Xe),Ze=Ie,S=Math.min(S,Xe.getWidth()),E=Math.max(E,Xe.getWidth()))}}return Ht.createDecoderResult(Z)}static merge(c,h){if(c==null&&h==null)return null;let p=Ht.getBarcodeMetadata(c,h);if(p==null)return null;let y=No.merge(Ht.adjustBoundingBox(c),Ht.adjustBoundingBox(h));return new Ao(p,y)}static adjustBoundingBox(c){if(c==null)return null;let h=c.getRowHeights();if(h==null)return null;let p=Ht.getMax(h),y=0;for(let E of h)if(y+=p-E,E>0)break;let b=c.getCodewords();for(let E=0;y>0&&b[E]==null;E++)y--;let S=0;for(let E=h.length-1;E>=0&&(S+=p-h[E],!(h[E]>0));E--);for(let E=b.length-1;S>0&&b[E]==null;E--)S--;return c.getBoundingBox().addMissingRows(y,S,c.isLeft())}static getMax(c){let h=-1;for(let p of c)h=Math.max(h,p);return h}static getBarcodeMetadata(c,h){let p;if(c==null||(p=c.getBarcodeMetadata())==null)return h==null?null:h.getBarcodeMetadata();let y;return h==null||(y=h.getBarcodeMetadata())==null?p:p.getColumnCount()!==y.getColumnCount()&&p.getErrorCorrectionLevel()!==y.getErrorCorrectionLevel()&&p.getRowCount()!==y.getRowCount()?null:p}static getRowIndicatorColumn(c,h,p,y,b,S){let E=new _o(h,y);for(let P=0;P<2;P++){let U=P===0?1:-1,q=Math.trunc(Math.trunc(p.getX()));for(let Z=Math.trunc(Math.trunc(p.getY()));Z<=h.getMaxY()&&Z>=h.getMinY();Z+=U){let te=Ht.detectCodeword(c,0,c.getWidth(),y,q,Z,b,S);te!=null&&(E.setCodeword(Z,te),y?q=te.getStartX():q=te.getEndX())}}return E}static adjustCodewordCount(c,h){let p=h[0][1],y=p.getValue(),b=c.getBarcodeColumnCount()*c.getBarcodeRowCount()-Ht.getNumberOfECCodeWords(c.getBarcodeECLevel());if(y.length===0){if(b<1||b>_t.MAX_CODEWORDS_IN_BARCODE)throw J.getNotFoundInstance();p.setValue(b)}else y[0]!==b&&p.setValue(b)}static createDecoderResult(c){let h=Ht.createBarcodeMatrix(c);Ht.adjustCodewordCount(c,h);let p=new Array,y=new Int32Array(c.getBarcodeRowCount()*c.getBarcodeColumnCount()),b=[],S=new Array;for(let P=0;P<c.getBarcodeRowCount();P++)for(let U=0;U<c.getBarcodeColumnCount();U++){let q=h[P][U+1].getValue(),Z=P*c.getBarcodeColumnCount()+U;q.length===0?p.push(Z):q.length===1?y[Z]=q[0]:(S.push(Z),b.push(q))}let E=new Array(b.length);for(let P=0;P<E.length;P++)E[P]=b[P];return Ht.createDecoderResultFromAmbiguousValues(c.getBarcodeECLevel(),y,_t.toIntArray(p),_t.toIntArray(S),E)}static createDecoderResultFromAmbiguousValues(c,h,p,y,b){let S=new Int32Array(y.length),E=100;for(;E-- >0;){for(let P=0;P<S.length;P++)h[y[P]]=b[P][S[P]];try{return Ht.decodeCodewords(h,c,p)}catch(P){if(!(P instanceof _))throw P}if(S.length===0)throw _.getChecksumInstance();for(let P=0;P<S.length;P++)if(S[P]<b[P].length-1){S[P]++;break}else if(S[P]=0,P===S.length-1)throw _.getChecksumInstance()}throw _.getChecksumInstance()}static createBarcodeMatrix(c){let h=Array.from({length:c.getBarcodeRowCount()},()=>new Array(c.getBarcodeColumnCount()+2));for(let y=0;y<h.length;y++)for(let b=0;b<h[y].length;b++)h[y][b]=new Gr;let p=0;for(let y of c.getDetectionResultColumns()){if(y!=null){for(let b of y.getCodewords())if(b!=null){let S=b.getRowNumber();if(S>=0){if(S>=h.length)continue;h[S][p].setValue(b.getValue())}}}p++}return h}static isValidBarcodeColumn(c,h){return h>=0&&h<=c.getBarcodeColumnCount()+1}static getStartColumn(c,h,p,y){let b=y?1:-1,S=null;if(Ht.isValidBarcodeColumn(c,h-b)&&(S=c.getDetectionResultColumn(h-b).getCodeword(p)),S!=null)return y?S.getEndX():S.getStartX();if(S=c.getDetectionResultColumn(h).getCodewordNearby(p),S!=null)return y?S.getStartX():S.getEndX();if(Ht.isValidBarcodeColumn(c,h-b)&&(S=c.getDetectionResultColumn(h-b).getCodewordNearby(p)),S!=null)return y?S.getEndX():S.getStartX();let E=0;for(;Ht.isValidBarcodeColumn(c,h-b);){h-=b;for(let P of c.getDetectionResultColumn(h).getCodewords())if(P!=null)return(y?P.getEndX():P.getStartX())+b*E*(P.getEndX()-P.getStartX());E++}return y?c.getBoundingBox().getMinX():c.getBoundingBox().getMaxX()}static detectCodeword(c,h,p,y,b,S,E,P){b=Ht.adjustCodewordStartColumn(c,h,p,y,b,S);let U=Ht.getModuleBitCount(c,h,p,y,b,S);if(U==null)return null;let q,Z=st.sum(U);if(y)q=b+Z;else{for(let pe=0;pe<U.length/2;pe++){let ve=U[pe];U[pe]=U[U.length-1-pe],U[U.length-1-pe]=ve}q=b,b=q-Z}if(!Ht.checkCodewordSkew(Z,E,P))return null;let te=Xa.getDecodedValue(U),oe=_t.getCodeword(te);return oe===-1?null:new Qs(b,q,Ht.getCodewordBucketNumber(te),oe)}static getModuleBitCount(c,h,p,y,b,S){let E=b,P=new Int32Array(8),U=0,q=y?1:-1,Z=y;for(;(y?E<p:E>=h)&&U<P.length;)c.get(E,S)===Z?(P[U]++,E+=q):(U++,Z=!Z);return U===P.length||E===(y?p:h)&&U===P.length-1?P:null}static getNumberOfECCodeWords(c){return 2<<c}static adjustCodewordStartColumn(c,h,p,y,b,S){let E=b,P=y?-1:1;for(let U=0;U<2;U++){for(;(y?E>=h:E<p)&&y===c.get(E,S);){if(Math.abs(b-E)>Ht.CODEWORD_SKEW_SIZE)return b;E+=P}P=-P,y=!y}return E}static checkCodewordSkew(c,h,p){return h-Ht.CODEWORD_SKEW_SIZE<=c&&c<=p+Ht.CODEWORD_SKEW_SIZE}static decodeCodewords(c,h,p){if(c.length===0)throw B.getFormatInstance();let y=1<<h+1,b=Ht.correctErrors(c,p,y);Ht.verifyCodewordCount(c,y);let S=Fe.decode(c,""+h);return S.setErrorsCorrected(b),S.setErasures(p.length),S}static correctErrors(c,h,p){if(h!=null&&h.length>p/2+Ht.MAX_ERRORS||p<0||p>Ht.MAX_EC_CODEWORDS)throw _.getChecksumInstance();return Ht.errorCorrection.decode(c,p,h)}static verifyCodewordCount(c,h){if(c.length<4)throw B.getFormatInstance();let p=c[0];if(p>c.length)throw B.getFormatInstance();if(p===0)if(h<c.length)c[0]=c.length-h;else throw B.getFormatInstance()}static getBitCountForCodeword(c){let h=new Int32Array(8),p=0,y=h.length-1;for(;!((c&1)!==p&&(p=c&1,y--,y<0));)h[y]++,c>>=1;return h}static getCodewordBucketNumber(c){return c instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(c):this.getCodewordBucketNumber_number(c)}static getCodewordBucketNumber_number(c){return Ht.getCodewordBucketNumber(Ht.getBitCountForCodeword(c))}static getCodewordBucketNumber_Int32Array(c){return(c[0]-c[2]+c[4]-c[6]+9)%9}static toString(c){let h=new So;for(let p=0;p<c.length;p++){h.format("Row %2d: ",p);for(let y=0;y<c[p].length;y++){let b=c[p][y];b.getValue().length===0?h.format("        ",null):h.format("%4d(%2d)",b.getValue()[0],b.getConfidence(b.getValue()[0]))}h.format("%n")}return h.toString()}}Ht.CODEWORD_SKEW_SIZE=2,Ht.MAX_ERRORS=3,Ht.MAX_EC_CODEWORDS=512,Ht.errorCorrection=new Du;class oa{decode(c,h=null){let p=oa.decode(c,h,!1);if(p==null||p.length===0||p[0]==null)throw J.getNotFoundInstance();return p[0]}decodeMultiple(c,h=null){try{return oa.decode(c,h,!0)}catch(p){throw p instanceof B||p instanceof _?J.getNotFoundInstance():p}}static decode(c,h,p){const y=new Array,b=Ft.detectMultiple(c,h,p);for(const S of b.getPoints()){const E=Ht.decode(b.getBits(),S[4],S[5],S[6],S[7],oa.getMinCodewordWidth(S),oa.getMaxCodewordWidth(S)),P=new ye(E.getText(),E.getRawBytes(),void 0,S,ie.PDF_417);P.putMetadata(le.ERROR_CORRECTION_LEVEL,E.getECLevel());const U=E.getOther();U!=null&&P.putMetadata(le.PDF417_EXTRA_METADATA,U),y.push(P)}return y.map(S=>S)}static getMaxWidth(c,h){return c==null||h==null?0:Math.trunc(Math.abs(c.getX()-h.getX()))}static getMinWidth(c,h){return c==null||h==null?R.MAX_VALUE:Math.trunc(Math.abs(c.getX()-h.getX()))}static getMaxCodewordWidth(c){return Math.floor(Math.max(Math.max(oa.getMaxWidth(c[0],c[4]),oa.getMaxWidth(c[6],c[2])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN),Math.max(oa.getMaxWidth(c[1],c[5]),oa.getMaxWidth(c[7],c[3])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(c){return Math.floor(Math.min(Math.min(oa.getMinWidth(c[0],c[4]),oa.getMinWidth(c[6],c[2])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN),Math.min(oa.getMinWidth(c[1],c[5]),oa.getMinWidth(c[7],c[3])*_t.MODULES_IN_CODEWORD/_t.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ru extends f{}Ru.kind="ReaderException";class up{constructor(c,h){this.verbose=c===!0,h&&this.setHints(h)}decode(c,h){return h&&this.setHints(h),this.decodeInternal(c)}decodeWithState(c){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(c)}setHints(c){this.hints=c;const h=!r(c)&&c.get(I.TRY_HARDER)===!0,p=r(c)?null:c.get(I.POSSIBLE_FORMATS),y=new Array;if(!r(p)){const b=p.some(S=>S===ie.UPC_A||S===ie.UPC_E||S===ie.EAN_13||S===ie.EAN_8||S===ie.CODABAR||S===ie.CODE_39||S===ie.CODE_93||S===ie.CODE_128||S===ie.ITF||S===ie.RSS_14||S===ie.RSS_EXPANDED);b&&!h&&y.push(new yo(c,this.verbose)),p.includes(ie.QR_CODE)&&y.push(new Ks),p.includes(ie.DATA_MATRIX)&&y.push(new qi),p.includes(ie.AZTEC)&&y.push(new qs),p.includes(ie.PDF_417)&&y.push(new oa),b&&h&&y.push(new yo(c,this.verbose))}y.length===0&&(h||y.push(new yo(c,this.verbose)),y.push(new Ks),y.push(new qi),y.push(new qs),y.push(new oa),h&&y.push(new yo(c,this.verbose))),this.readers=y}reset(){if(this.readers!==null)for(const c of this.readers)c.reset()}decodeInternal(c){if(this.readers===null)throw new Ru("No readers where selected, nothing can be read.");for(const h of this.readers)try{return h.decode(c,this.hints)}catch(p){if(p instanceof Ru)continue}throw new J("No MultiFormat Readers were able to detect the code.")}}class Ky extends Se{constructor(c=null,h=500){const p=new up;p.setHints(c),super(p,h)}decodeBitmap(c){return this.reader.decodeWithState(c)}}class Xy extends Se{constructor(c=500){super(new oa,c)}}class Qy extends Se{constructor(c=500){super(new Ks,c)}}var Pu;(function(Q){Q[Q.ERROR_CORRECTION=0]="ERROR_CORRECTION",Q[Q.CHARACTER_SET=1]="CHARACTER_SET",Q[Q.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",Q[Q.MIN_SIZE=3]="MIN_SIZE",Q[Q.MAX_SIZE=4]="MAX_SIZE",Q[Q.MARGIN=5]="MARGIN",Q[Q.PDF417_COMPACT=6]="PDF417_COMPACT",Q[Q.PDF417_COMPACTION=7]="PDF417_COMPACTION",Q[Q.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",Q[Q.AZTEC_LAYERS=9]="AZTEC_LAYERS",Q[Q.QR_VERSION=10]="QR_VERSION"})(Pu||(Pu={}));var Br=Pu;class hm{constructor(c){this.field=c,this.cachedGenerators=[],this.cachedGenerators.push(new je(c,Int32Array.from([1])))}buildGenerator(c){const h=this.cachedGenerators;if(c>=h.length){let p=h[h.length-1];const y=this.field;for(let b=h.length;b<=c;b++){const S=p.multiply(new je(y,Int32Array.from([1,y.exp(b-1+y.getGeneratorBase())])));h.push(S),p=S}}return h[c]}encode(c,h){if(h===0)throw new x("No error correction bytes");const p=c.length-h;if(p<=0)throw new x("No data bytes provided");const y=this.buildGenerator(h),b=new Int32Array(p);C.arraycopy(c,0,b,0,p);let S=new je(this.field,b);S=S.multiplyByMonomial(h,1);const P=S.divide(y)[1].getCoefficients(),U=h-P.length;for(let q=0;q<U;q++)c[p+q]=0;C.arraycopy(P,0,c,p+U,P.length)}}class sr{constructor(){}static applyMaskPenaltyRule1(c){return sr.applyMaskPenaltyRule1Internal(c,!0)+sr.applyMaskPenaltyRule1Internal(c,!1)}static applyMaskPenaltyRule2(c){let h=0;const p=c.getArray(),y=c.getWidth(),b=c.getHeight();for(let S=0;S<b-1;S++){const E=p[S];for(let P=0;P<y-1;P++){const U=E[P];U===E[P+1]&&U===p[S+1][P]&&U===p[S+1][P+1]&&h++}}return sr.N2*h}static applyMaskPenaltyRule3(c){let h=0;const p=c.getArray(),y=c.getWidth(),b=c.getHeight();for(let S=0;S<b;S++)for(let E=0;E<y;E++){const P=p[S];E+6<y&&P[E]===1&&P[E+1]===0&&P[E+2]===1&&P[E+3]===1&&P[E+4]===1&&P[E+5]===0&&P[E+6]===1&&(sr.isWhiteHorizontal(P,E-4,E)||sr.isWhiteHorizontal(P,E+7,E+11))&&h++,S+6<b&&p[S][E]===1&&p[S+1][E]===0&&p[S+2][E]===1&&p[S+3][E]===1&&p[S+4][E]===1&&p[S+5][E]===0&&p[S+6][E]===1&&(sr.isWhiteVertical(p,E,S-4,S)||sr.isWhiteVertical(p,E,S+7,S+11))&&h++}return h*sr.N3}static isWhiteHorizontal(c,h,p){h=Math.max(h,0),p=Math.min(p,c.length);for(let y=h;y<p;y++)if(c[y]===1)return!1;return!0}static isWhiteVertical(c,h,p,y){p=Math.max(p,0),y=Math.min(y,c.length);for(let b=p;b<y;b++)if(c[b][h]===1)return!1;return!0}static applyMaskPenaltyRule4(c){let h=0;const p=c.getArray(),y=c.getWidth(),b=c.getHeight();for(let P=0;P<b;P++){const U=p[P];for(let q=0;q<y;q++)U[q]===1&&h++}const S=c.getHeight()*c.getWidth();return Math.floor(Math.abs(h*2-S)*10/S)*sr.N4}static getDataMaskBit(c,h,p){let y,b;switch(c){case 0:y=p+h&1;break;case 1:y=p&1;break;case 2:y=h%3;break;case 3:y=(p+h)%3;break;case 4:y=Math.floor(p/2)+Math.floor(h/3)&1;break;case 5:b=p*h,y=(b&1)+b%3;break;case 6:b=p*h,y=(b&1)+b%3&1;break;case 7:b=p*h,y=b%3+(p+h&1)&1;break;default:throw new x("Invalid mask pattern: "+c)}return y===0}static applyMaskPenaltyRule1Internal(c,h){let p=0;const y=h?c.getHeight():c.getWidth(),b=h?c.getWidth():c.getHeight(),S=c.getArray();for(let E=0;E<y;E++){let P=0,U=-1;for(let q=0;q<b;q++){const Z=h?S[E][q]:S[q][E];Z===U?P++:(P>=5&&(p+=sr.N1+(P-5)),P=1,U=Z)}P>=5&&(p+=sr.N1+(P-5))}return p}}sr.N1=3,sr.N2=3,sr.N3=40,sr.N4=10;class ku{constructor(c,h){this.width=c,this.height=h;const p=new Array(h);for(let y=0;y!==h;y++)p[y]=new Uint8Array(c);this.bytes=p}getHeight(){return this.height}getWidth(){return this.width}get(c,h){return this.bytes[h][c]}getArray(){return this.bytes}setNumber(c,h,p){this.bytes[h][c]=p}setBoolean(c,h,p){this.bytes[h][c]=p?1:0}clear(c){for(const h of this.bytes)D.fill(h,c)}equals(c){if(!(c instanceof ku))return!1;const h=c;if(this.width!==h.width||this.height!==h.height)return!1;for(let p=0,y=this.height;p<y;++p){const b=this.bytes[p],S=h.bytes[p];for(let E=0,P=this.width;E<P;++E)if(b[E]!==S[E])return!1}return!0}toString(){const c=new X;for(let h=0,p=this.height;h<p;++h){const y=this.bytes[h];for(let b=0,S=this.width;b<S;++b)switch(y[b]){case 0:c.append(" 0");break;case 1:c.append(" 1");break;default:c.append("  ");break}c.append(`
`)}return c.toString()}}class ll{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const c=new X;return c.append(`<<
`),c.append(" mode: "),c.append(this.mode?this.mode.toString():"null"),c.append(`
 ecLevel: `),c.append(this.ecLevel?this.ecLevel.toString():"null"),c.append(`
 version: `),c.append(this.version?this.version.toString():"null"),c.append(`
 maskPattern: `),c.append(this.maskPattern.toString()),this.matrix?(c.append(`
 matrix:
`),c.append(this.matrix.toString())):c.append(`
 matrix: null
`),c.append(`>>
`),c.toString()}setMode(c){this.mode=c}setECLevel(c){this.ecLevel=c}setVersion(c){this.version=c}setMaskPattern(c){this.maskPattern=c}setMatrix(c){this.matrix=c}static isValidMaskPattern(c){return c>=0&&c<ll.NUM_MASK_PATTERNS}}ll.NUM_MASK_PATTERNS=8;class On extends f{}On.kind="WriterException";class Et{constructor(){}static clearMatrix(c){c.clear(255)}static buildMatrix(c,h,p,y,b){Et.clearMatrix(b),Et.embedBasicPatterns(p,b),Et.embedTypeInfo(h,y,b),Et.maybeEmbedVersionInfo(p,b),Et.embedDataBits(c,y,b)}static embedBasicPatterns(c,h){Et.embedPositionDetectionPatternsAndSeparators(h),Et.embedDarkDotAtLeftBottomCorner(h),Et.maybeEmbedPositionAdjustmentPatterns(c,h),Et.embedTimingPatterns(h)}static embedTypeInfo(c,h,p){const y=new z;Et.makeTypeInfoBits(c,h,y);for(let b=0,S=y.getSize();b<S;++b){const E=y.get(y.getSize()-1-b),P=Et.TYPE_INFO_COORDINATES[b],U=P[0],q=P[1];if(p.setBoolean(U,q,E),b<8){const Z=p.getWidth()-b-1;p.setBoolean(Z,8,E)}else{const te=p.getHeight()-7+(b-8);p.setBoolean(8,te,E)}}}static maybeEmbedVersionInfo(c,h){if(c.getVersionNumber()<7)return;const p=new z;Et.makeVersionInfoBits(c,p);let y=6*3-1;for(let b=0;b<6;++b)for(let S=0;S<3;++S){const E=p.get(y);y--,h.setBoolean(b,h.getHeight()-11+S,E),h.setBoolean(h.getHeight()-11+S,b,E)}}static embedDataBits(c,h,p){let y=0,b=-1,S=p.getWidth()-1,E=p.getHeight()-1;for(;S>0;){for(S===6&&(S-=1);E>=0&&E<p.getHeight();){for(let P=0;P<2;++P){const U=S-P;if(!Et.isEmpty(p.get(U,E)))continue;let q;y<c.getSize()?(q=c.get(y),++y):q=!1,h!==255&&sr.getDataMaskBit(h,U,E)&&(q=!q),p.setBoolean(U,E,q)}E+=b}b=-b,E+=b,S-=2}if(y!==c.getSize())throw new On("Not all bits consumed: "+y+"/"+c.getSize())}static findMSBSet(c){return 32-R.numberOfLeadingZeros(c)}static calculateBCHCode(c,h){if(h===0)throw new x("0 polynomial");const p=Et.findMSBSet(h);for(c<<=p-1;Et.findMSBSet(c)>=p;)c^=h<<Et.findMSBSet(c)-p;return c}static makeTypeInfoBits(c,h,p){if(!ll.isValidMaskPattern(h))throw new On("Invalid mask pattern");const y=c.getBits()<<3|h;p.appendBits(y,5);const b=Et.calculateBCHCode(y,Et.TYPE_INFO_POLY);p.appendBits(b,10);const S=new z;if(S.appendBits(Et.TYPE_INFO_MASK_PATTERN,15),p.xor(S),p.getSize()!==15)throw new On("should not happen but we got: "+p.getSize())}static makeVersionInfoBits(c,h){h.appendBits(c.getVersionNumber(),6);const p=Et.calculateBCHCode(c.getVersionNumber(),Et.VERSION_INFO_POLY);if(h.appendBits(p,12),h.getSize()!==18)throw new On("should not happen but we got: "+h.getSize())}static isEmpty(c){return c===255}static embedTimingPatterns(c){for(let h=8;h<c.getWidth()-8;++h){const p=(h+1)%2;Et.isEmpty(c.get(h,6))&&c.setNumber(h,6,p),Et.isEmpty(c.get(6,h))&&c.setNumber(6,h,p)}}static embedDarkDotAtLeftBottomCorner(c){if(c.get(8,c.getHeight()-8)===0)throw new On;c.setNumber(8,c.getHeight()-8,1)}static embedHorizontalSeparationPattern(c,h,p){for(let y=0;y<8;++y){if(!Et.isEmpty(p.get(c+y,h)))throw new On;p.setNumber(c+y,h,0)}}static embedVerticalSeparationPattern(c,h,p){for(let y=0;y<7;++y){if(!Et.isEmpty(p.get(c,h+y)))throw new On;p.setNumber(c,h+y,0)}}static embedPositionAdjustmentPattern(c,h,p){for(let y=0;y<5;++y){const b=Et.POSITION_ADJUSTMENT_PATTERN[y];for(let S=0;S<5;++S)p.setNumber(c+S,h+y,b[S])}}static embedPositionDetectionPattern(c,h,p){for(let y=0;y<7;++y){const b=Et.POSITION_DETECTION_PATTERN[y];for(let S=0;S<7;++S)p.setNumber(c+S,h+y,b[S])}}static embedPositionDetectionPatternsAndSeparators(c){const h=Et.POSITION_DETECTION_PATTERN[0].length;Et.embedPositionDetectionPattern(0,0,c),Et.embedPositionDetectionPattern(c.getWidth()-h,0,c),Et.embedPositionDetectionPattern(0,c.getWidth()-h,c);const p=8;Et.embedHorizontalSeparationPattern(0,p-1,c),Et.embedHorizontalSeparationPattern(c.getWidth()-p,p-1,c),Et.embedHorizontalSeparationPattern(0,c.getWidth()-p,c);const y=7;Et.embedVerticalSeparationPattern(y,0,c),Et.embedVerticalSeparationPattern(c.getHeight()-y-1,0,c),Et.embedVerticalSeparationPattern(y,c.getHeight()-y,c)}static maybeEmbedPositionAdjustmentPatterns(c,h){if(c.getVersionNumber()<2)return;const p=c.getVersionNumber()-1,y=Et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[p];for(let b=0,S=y.length;b!==S;b++){const E=y[b];if(E>=0)for(let P=0;P!==S;P++){const U=y[P];U>=0&&Et.isEmpty(h.get(U,E))&&Et.embedPositionAdjustmentPattern(U-2,E-2,h)}}}}Et.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Et.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Et.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Et.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Et.VERSION_INFO_POLY=7973,Et.TYPE_INFO_POLY=1335,Et.TYPE_INFO_MASK_PATTERN=21522;class Zy{constructor(c,h){this.dataBytes=c,this.errorCorrectionBytes=h}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Vn{constructor(){}static calculateMaskPenalty(c){return sr.applyMaskPenaltyRule1(c)+sr.applyMaskPenaltyRule2(c)+sr.applyMaskPenaltyRule3(c)+sr.applyMaskPenaltyRule4(c)}static encode(c,h,p=null){let y=Vn.DEFAULT_BYTE_MODE_ENCODING;const b=p!==null&&p.get(Br.CHARACTER_SET)!==void 0;b&&(y=p.get(Br.CHARACTER_SET).toString());const S=this.chooseMode(c,y),E=new z;if(S===jt.BYTE&&(b||Vn.DEFAULT_BYTE_MODE_ENCODING!==y)){const tt=F.getCharacterSetECIByName(y);tt!==void 0&&this.appendECI(tt,E)}this.appendModeInfo(S,E);const P=new z;this.appendBytes(c,S,P,y);let U;if(p!==null&&p.get(Br.QR_VERSION)!==void 0){const tt=Number.parseInt(p.get(Br.QR_VERSION).toString(),10);U=wt.getVersionForNumber(tt);const Xe=this.calculateBitsNeeded(S,E,P,U);if(!this.willFit(Xe,U,h))throw new On("Data too big for requested version")}else U=this.recommendVersion(h,S,E,P);const q=new z;q.appendBitArray(E);const Z=S===jt.BYTE?P.getSizeInBytes():c.length;this.appendLengthInfo(Z,U,S,q),q.appendBitArray(P);const te=U.getECBlocksForLevel(h),oe=U.getTotalCodewords()-te.getTotalECCodewords();this.terminateBits(oe,q);const pe=this.interleaveWithECBytes(q,U.getTotalCodewords(),oe,te.getNumBlocks()),ve=new ll;ve.setECLevel(h),ve.setMode(S),ve.setVersion(U);const Ae=U.getDimensionForVersion(),Ie=new ku(Ae,Ae),Ze=this.chooseMaskPattern(pe,h,U,Ie);return ve.setMaskPattern(Ze),Et.buildMatrix(pe,h,U,Ze,Ie),ve.setMatrix(Ie),ve}static recommendVersion(c,h,p,y){const b=this.calculateBitsNeeded(h,p,y,wt.getVersionForNumber(1)),S=this.chooseVersion(b,c),E=this.calculateBitsNeeded(h,p,y,S);return this.chooseVersion(E,c)}static calculateBitsNeeded(c,h,p,y){return h.getSize()+c.getCharacterCountBits(y)+p.getSize()}static getAlphanumericCode(c){return c<Vn.ALPHANUMERIC_TABLE.length?Vn.ALPHANUMERIC_TABLE[c]:-1}static chooseMode(c,h=null){if(F.SJIS.getName()===h&&this.isOnlyDoubleByteKanji(c))return jt.KANJI;let p=!1,y=!1;for(let b=0,S=c.length;b<S;++b){const E=c.charAt(b);if(Vn.isDigit(E))p=!0;else if(this.getAlphanumericCode(E.charCodeAt(0))!==-1)y=!0;else return jt.BYTE}return y?jt.ALPHANUMERIC:p?jt.NUMERIC:jt.BYTE}static isOnlyDoubleByteKanji(c){let h;try{h=W.encode(c,F.SJIS)}catch{return!1}const p=h.length;if(p%2!==0)return!1;for(let y=0;y<p;y+=2){const b=h[y]&255;if((b<129||b>159)&&(b<224||b>235))return!1}return!0}static chooseMaskPattern(c,h,p,y){let b=Number.MAX_SAFE_INTEGER,S=-1;for(let E=0;E<ll.NUM_MASK_PATTERNS;E++){Et.buildMatrix(c,h,p,E,y);let P=this.calculateMaskPenalty(y);P<b&&(b=P,S=E)}return S}static chooseVersion(c,h){for(let p=1;p<=40;p++){const y=wt.getVersionForNumber(p);if(Vn.willFit(c,y,h))return y}throw new On("Data too big")}static willFit(c,h,p){const y=h.getTotalCodewords(),S=h.getECBlocksForLevel(p).getTotalECCodewords(),E=y-S,P=(c+7)/8;return E>=P}static terminateBits(c,h){const p=c*8;if(h.getSize()>p)throw new On("data bits cannot fit in the QR Code"+h.getSize()+" > "+p);for(let S=0;S<4&&h.getSize()<p;++S)h.appendBit(!1);const y=h.getSize()&7;if(y>0)for(let S=y;S<8;S++)h.appendBit(!1);const b=c-h.getSizeInBytes();for(let S=0;S<b;++S)h.appendBits((S&1)===0?236:17,8);if(h.getSize()!==p)throw new On("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(c,h,p,y,b,S){if(y>=p)throw new On("Block ID too large");const E=c%p,P=p-E,U=Math.floor(c/p),q=U+1,Z=Math.floor(h/p),te=Z+1,oe=U-Z,pe=q-te;if(oe!==pe)throw new On("EC bytes mismatch");if(p!==P+E)throw new On("RS blocks mismatch");if(c!==(Z+oe)*P+(te+pe)*E)throw new On("Total bytes mismatch");y<P?(b[0]=Z,S[0]=oe):(b[0]=te,S[0]=pe)}static interleaveWithECBytes(c,h,p,y){if(c.getSizeInBytes()!==p)throw new On("Number of bits and data bytes does not match");let b=0,S=0,E=0;const P=new Array;for(let q=0;q<y;++q){const Z=new Int32Array(1),te=new Int32Array(1);Vn.getNumDataBytesAndNumECBytesForBlockID(h,p,y,q,Z,te);const oe=Z[0],pe=new Uint8Array(oe);c.toBytes(8*b,pe,0,oe);const ve=Vn.generateECBytes(pe,te[0]);P.push(new Zy(pe,ve)),S=Math.max(S,oe),E=Math.max(E,ve.length),b+=Z[0]}if(p!==b)throw new On("Data bytes does not match offset");const U=new z;for(let q=0;q<S;++q)for(const Z of P){const te=Z.getDataBytes();q<te.length&&U.appendBits(te[q],8)}for(let q=0;q<E;++q)for(const Z of P){const te=Z.getErrorCorrectionBytes();q<te.length&&U.appendBits(te[q],8)}if(h!==U.getSizeInBytes())throw new On("Interleaving error: "+h+" and "+U.getSizeInBytes()+" differ.");return U}static generateECBytes(c,h){const p=c.length,y=new Int32Array(p+h);for(let S=0;S<p;S++)y[S]=c[S]&255;new hm(Ke.QR_CODE_FIELD_256).encode(y,h);const b=new Uint8Array(h);for(let S=0;S<h;S++)b[S]=y[p+S];return b}static appendModeInfo(c,h){h.appendBits(c.getBits(),4)}static appendLengthInfo(c,h,p,y){const b=p.getCharacterCountBits(h);if(c>=1<<b)throw new On(c+" is bigger than "+((1<<b)-1));y.appendBits(c,b)}static appendBytes(c,h,p,y){switch(h){case jt.NUMERIC:Vn.appendNumericBytes(c,p);break;case jt.ALPHANUMERIC:Vn.appendAlphanumericBytes(c,p);break;case jt.BYTE:Vn.append8BitBytes(c,p,y);break;case jt.KANJI:Vn.appendKanjiBytes(c,p);break;default:throw new On("Invalid mode: "+h)}}static getDigit(c){return c.charCodeAt(0)-48}static isDigit(c){const h=Vn.getDigit(c);return h>=0&&h<=9}static appendNumericBytes(c,h){const p=c.length;let y=0;for(;y<p;){const b=Vn.getDigit(c.charAt(y));if(y+2<p){const S=Vn.getDigit(c.charAt(y+1)),E=Vn.getDigit(c.charAt(y+2));h.appendBits(b*100+S*10+E,10),y+=3}else if(y+1<p){const S=Vn.getDigit(c.charAt(y+1));h.appendBits(b*10+S,7),y+=2}else h.appendBits(b,4),y++}}static appendAlphanumericBytes(c,h){const p=c.length;let y=0;for(;y<p;){const b=Vn.getAlphanumericCode(c.charCodeAt(y));if(b===-1)throw new On;if(y+1<p){const S=Vn.getAlphanumericCode(c.charCodeAt(y+1));if(S===-1)throw new On;h.appendBits(b*45+S,11),y+=2}else h.appendBits(b,6),y++}}static append8BitBytes(c,h,p){let y;try{y=W.encode(c,p)}catch(b){throw new On(b)}for(let b=0,S=y.length;b!==S;b++){const E=y[b];h.appendBits(E,8)}}static appendKanjiBytes(c,h){let p;try{p=W.encode(c,F.SJIS)}catch(b){throw new On(b)}const y=p.length;for(let b=0;b<y;b+=2){const S=p[b]&255,E=p[b+1]&255,P=S<<8&4294967295|E;let U=-1;if(P>=33088&&P<=40956?U=P-33088:P>=57408&&P<=60351&&(U=P-49472),U===-1)throw new On("Invalid byte sequence");const q=(U>>8)*192+(U&255);h.appendBits(q,13)}}static appendECI(c,h){h.appendBits(jt.ECI.getBits(),4),h.appendBits(c.getValue(),8)}}Vn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Vn.DEFAULT_BYTE_MODE_ENCODING=F.UTF8.getName();class cl{write(c,h,p,y=null){if(c.length===0)throw new x("Found empty contents");if(h<0||p<0)throw new x("Requested dimensions are too small: "+h+"x"+p);let b=An.L,S=cl.QUIET_ZONE_SIZE;y!==null&&(y.get(Br.ERROR_CORRECTION)!==void 0&&(b=An.fromString(y.get(Br.ERROR_CORRECTION).toString())),y.get(Br.MARGIN)!==void 0&&(S=Number.parseInt(y.get(Br.MARGIN).toString(),10)));const E=Vn.encode(c,b,y);return this.renderResult(E,h,p,S)}writeToDom(c,h,p,y,b=null){typeof c=="string"&&(c=document.querySelector(c));const S=this.write(h,p,y,b);c&&c.appendChild(S)}renderResult(c,h,p,y){const b=c.getMatrix();if(b===null)throw new Qe;const S=b.getWidth(),E=b.getHeight(),P=S+y*2,U=E+y*2,q=Math.max(h,P),Z=Math.max(p,U),te=Math.min(Math.floor(q/P),Math.floor(Z/U)),oe=Math.floor((q-S*te)/2),pe=Math.floor((Z-E*te)/2),ve=this.createSVGElement(q,Z);for(let Ae=0,Ie=pe;Ae<E;Ae++,Ie+=te)for(let Ze=0,tt=oe;Ze<S;Ze++,tt+=te)if(b.get(Ze,Ae)===1){const Xe=this.createSvgRectElement(tt,Ie,te,te);ve.appendChild(Xe)}return ve}createSVGElement(c,h){const p=document.createElementNS(cl.SVG_NS,"svg");return p.setAttributeNS(null,"height",c.toString()),p.setAttributeNS(null,"width",h.toString()),p}createSvgRectElement(c,h,p,y){const b=document.createElementNS(cl.SVG_NS,"rect");return b.setAttributeNS(null,"x",c.toString()),b.setAttributeNS(null,"y",h.toString()),b.setAttributeNS(null,"height",p.toString()),b.setAttributeNS(null,"width",y.toString()),b.setAttributeNS(null,"fill","#000000"),b}}cl.QUIET_ZONE_SIZE=4,cl.SVG_NS="http://www.w3.org/2000/svg";class lc{encode(c,h,p,y,b){if(c.length===0)throw new x("Found empty contents");if(h!==ie.QR_CODE)throw new x("Can only encode QR_CODE, but got "+h);if(p<0||y<0)throw new x(`Requested dimensions are too small: ${p}x${y}`);let S=An.L,E=lc.QUIET_ZONE_SIZE;b!==null&&(b.get(Br.ERROR_CORRECTION)!==void 0&&(S=An.fromString(b.get(Br.ERROR_CORRECTION).toString())),b.get(Br.MARGIN)!==void 0&&(E=Number.parseInt(b.get(Br.MARGIN).toString(),10)));const P=Vn.encode(c,S,b);return lc.renderResult(P,p,y,E)}static renderResult(c,h,p,y){const b=c.getMatrix();if(b===null)throw new Qe;const S=b.getWidth(),E=b.getHeight(),P=S+y*2,U=E+y*2,q=Math.max(h,P),Z=Math.max(p,U),te=Math.min(Math.floor(q/P),Math.floor(Z/U)),oe=Math.floor((q-S*te)/2),pe=Math.floor((Z-E*te)/2),ve=new ne(q,Z);for(let Ae=0,Ie=pe;Ae<E;Ae++,Ie+=te)for(let Ze=0,tt=oe;Ze<S;Ze++,tt+=te)b.get(Ze,Ae)===1&&ve.setRegion(tt,Ie,te,te);return ve}}lc.QUIET_ZONE_SIZE=4;class Jy{encode(c,h,p,y,b){let S;switch(h){case ie.QR_CODE:S=new lc;break;default:throw new x("No encoder available for format "+h)}return S.encode(c,h,p,y,b)}}class ys extends K{constructor(c,h,p,y,b,S,E,P){if(super(S,E),this.yuvData=c,this.dataWidth=h,this.dataHeight=p,this.left=y,this.top=b,y+S>h||b+E>p)throw new x("Crop rectangle does not fit within image data.");P&&this.reverseHorizontal(S,E)}getRow(c,h){if(c<0||c>=this.getHeight())throw new x("Requested row is outside the image: "+c);const p=this.getWidth();(h==null||h.length<p)&&(h=new Uint8ClampedArray(p));const y=(c+this.top)*this.dataWidth+this.left;return C.arraycopy(this.yuvData,y,h,0,p),h}getMatrix(){const c=this.getWidth(),h=this.getHeight();if(c===this.dataWidth&&h===this.dataHeight)return this.yuvData;const p=c*h,y=new Uint8ClampedArray(p);let b=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return C.arraycopy(this.yuvData,b,y,0,p),y;for(let S=0;S<h;S++){const E=S*c;C.arraycopy(this.yuvData,b,y,E,c),b+=this.dataWidth}return y}isCropSupported(){return!0}crop(c,h,p,y){return new ys(this.yuvData,this.dataWidth,this.dataHeight,this.left+c,this.top+h,p,y,!1)}renderThumbnail(){const c=this.getWidth()/ys.THUMBNAIL_SCALE_FACTOR,h=this.getHeight()/ys.THUMBNAIL_SCALE_FACTOR,p=new Int32Array(c*h),y=this.yuvData;let b=this.top*this.dataWidth+this.left;for(let S=0;S<h;S++){const E=S*c;for(let P=0;P<c;P++){const U=y[b+P*ys.THUMBNAIL_SCALE_FACTOR]&255;p[E+P]=4278190080|U*65793}b+=this.dataWidth*ys.THUMBNAIL_SCALE_FACTOR}return p}getThumbnailWidth(){return this.getWidth()/ys.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/ys.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(c,h){const p=this.yuvData;for(let y=0,b=this.top*this.dataWidth+this.left;y<h;y++,b+=this.dataWidth){const S=b+c/2;for(let E=b,P=b+c-1;E<S;E++,P--){const U=p[E];p[E]=p[P],p[P]=U}}}invert(){return new ue(this)}}ys.THUMBNAIL_SCALE_FACTOR=2;class Iu extends K{constructor(c,h,p,y,b,S,E){if(super(h,p),this.dataWidth=y,this.dataHeight=b,this.left=S,this.top=E,c.BYTES_PER_ELEMENT===4){const P=h*p,U=new Uint8ClampedArray(P);for(let q=0;q<P;q++){const Z=c[q],te=Z>>16&255,oe=Z>>7&510,pe=Z&255;U[q]=(te+oe+pe)/4&255}this.luminances=U}else this.luminances=c;if(y===void 0&&(this.dataWidth=h),b===void 0&&(this.dataHeight=p),S===void 0&&(this.left=0),E===void 0&&(this.top=0),this.left+h>this.dataWidth||this.top+p>this.dataHeight)throw new x("Crop rectangle does not fit within image data.")}getRow(c,h){if(c<0||c>=this.getHeight())throw new x("Requested row is outside the image: "+c);const p=this.getWidth();(h==null||h.length<p)&&(h=new Uint8ClampedArray(p));const y=(c+this.top)*this.dataWidth+this.left;return C.arraycopy(this.luminances,y,h,0,p),h}getMatrix(){const c=this.getWidth(),h=this.getHeight();if(c===this.dataWidth&&h===this.dataHeight)return this.luminances;const p=c*h,y=new Uint8ClampedArray(p);let b=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return C.arraycopy(this.luminances,b,y,0,p),y;for(let S=0;S<h;S++){const E=S*c;C.arraycopy(this.luminances,b,y,E,c),b+=this.dataWidth}return y}isCropSupported(){return!0}crop(c,h,p,y){return new Iu(this.luminances,p,y,this.dataWidth,this.dataHeight,this.left+c,this.top+h)}invert(){return new ue(this)}}class cc extends F{static forName(c){return this.getCharacterSetECIByName(c)}}class mm{}mm.ISO_8859_1=F.ISO8859_1;class gm{isCompact(){return this.compact}setCompact(c){this.compact=c}getSize(){return this.size}setSize(c){this.size=c}getLayers(){return this.layers}setLayers(c){this.layers=c}getCodeWords(){return this.codeWords}setCodeWords(c){this.codeWords=c}getMatrix(){return this.matrix}setMatrix(c){this.matrix=c}}class pm{static singletonList(c){return[c]}static min(c,h){return c.sort(h)[0]}}class dp{constructor(c){this.previous=c}getPrevious(){return this.previous}}class ul extends dp{constructor(c,h,p){super(c),this.value=h,this.bitCount=p}appendTo(c,h){c.appendBits(this.value,this.bitCount)}add(c,h){return new ul(this,c,h)}addBinaryShift(c,h){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ul(this,c,h)}toString(){let c=this.value&(1<<this.bitCount)-1;return c|=1<<this.bitCount,"<"+R.toBinaryString(c|1<<this.bitCount).substring(1)+">"}}class rf extends ul{constructor(c,h,p){super(c,0,0),this.binaryShiftStart=h,this.binaryShiftByteCount=p}appendTo(c,h){for(let p=0;p<this.binaryShiftByteCount;p++)(p===0||p===31&&this.binaryShiftByteCount<=62)&&(c.appendBits(31,5),this.binaryShiftByteCount>62?c.appendBits(this.binaryShiftByteCount-31,16):p===0?c.appendBits(Math.min(this.binaryShiftByteCount,31),5):c.appendBits(this.binaryShiftByteCount-31,5)),c.appendBits(h[this.binaryShiftStart+p],8)}addBinaryShift(c,h){return new rf(this,c,h)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function uc(Q,c,h){return new rf(Q,c,h)}function Lu(Q,c,h){return new ul(Q,c,h)}const eb=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Co=0,Bu=1,yi=2,dc=3,Qa=4,tb=new ul(null,0,0),fc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function fp(Q){for(let c of Q)D.fill(c,-1);return Q[Co][Qa]=0,Q[Bu][Qa]=0,Q[Bu][Co]=28,Q[dc][Qa]=0,Q[yi][Qa]=0,Q[yi][Co]=15,Q}const xm=fp(D.createInt32Array(6,6));class Ci{constructor(c,h,p,y){this.token=c,this.mode=h,this.binaryShiftByteCount=p,this.bitCount=y}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(c,h){let p=this.bitCount,y=this.token;if(c!==this.mode){let S=fc[this.mode][c];y=Lu(y,S&65535,S>>16),p+=S>>16}let b=c===yi?4:5;return y=Lu(y,h,b),new Ci(y,c,0,p+b)}shiftAndAppend(c,h){let p=this.token,y=this.mode===yi?4:5;return p=Lu(p,xm[this.mode][c],y),p=Lu(p,h,5),new Ci(p,this.mode,0,this.bitCount+y+5)}addBinaryShiftChar(c){let h=this.token,p=this.mode,y=this.bitCount;if(this.mode===Qa||this.mode===yi){let E=fc[p][Co];h=Lu(h,E&65535,E>>16),y+=E>>16,p=Co}let b=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,S=new Ci(h,p,this.binaryShiftByteCount+1,y+b);return S.binaryShiftByteCount===2078&&(S=S.endBinaryShift(c+1)),S}endBinaryShift(c){if(this.binaryShiftByteCount===0)return this;let h=this.token;return h=uc(h,c-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ci(h,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(c){let h=this.bitCount+(fc[this.mode][c.mode]>>16);return this.binaryShiftByteCount<c.binaryShiftByteCount?h+=Ci.calculateBinaryShiftCost(c)-Ci.calculateBinaryShiftCost(this):this.binaryShiftByteCount>c.binaryShiftByteCount&&c.binaryShiftByteCount>0&&(h+=10),h<=c.bitCount}toBitArray(c){let h=[];for(let y=this.endBinaryShift(c.length).token;y!==null;y=y.getPrevious())h.unshift(y);let p=new z;for(const y of h)y.appendTo(p,c);return p}toString(){return Y.format("%s bits=%d bytes=%d",eb[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(c){return c.binaryShiftByteCount>62?21:c.binaryShiftByteCount>31?20:c.binaryShiftByteCount>0?10:0}}Ci.INITIAL_STATE=new Ci(tb,Co,0,0);function vm(Q){const c=Y.getCharCode(" "),h=Y.getCharCode("."),p=Y.getCharCode(",");Q[Co][c]=1;const y=Y.getCharCode("Z"),b=Y.getCharCode("A");for(let te=b;te<=y;te++)Q[Co][te]=te-b+2;Q[Bu][c]=1;const S=Y.getCharCode("z"),E=Y.getCharCode("a");for(let te=E;te<=S;te++)Q[Bu][te]=te-E+2;Q[yi][c]=1;const P=Y.getCharCode("9"),U=Y.getCharCode("0");for(let te=U;te<=P;te++)Q[yi][te]=te-U+2;Q[yi][p]=12,Q[yi][h]=13;const q=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let te=0;te<q.length;te++)Q[dc][Y.getCharCode(q[te])]=te;const Z=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let te=0;te<Z.length;te++)Y.getCharCode(Z[te])>0&&(Q[Qa][Y.getCharCode(Z[te])]=te);return Q}const af=vm(D.createInt32Array(5,256));class hc{constructor(c){this.text=c}encode(){const c=Y.getCharCode(" "),h=Y.getCharCode(`
`);let p=pm.singletonList(Ci.INITIAL_STATE);for(let b=0;b<this.text.length;b++){let S,E=b+1<this.text.length?this.text[b+1]:0;switch(this.text[b]){case Y.getCharCode("\r"):S=E===h?2:0;break;case Y.getCharCode("."):S=E===c?3:0;break;case Y.getCharCode(","):S=E===c?4:0;break;case Y.getCharCode(":"):S=E===c?5:0;break;default:S=0}S>0?(p=hc.updateStateListForPair(p,b,S),b++):p=this.updateStateListForChar(p,b)}return pm.min(p,(b,S)=>b.getBitCount()-S.getBitCount()).toBitArray(this.text)}updateStateListForChar(c,h){const p=[];for(let y of c)this.updateStateForChar(y,h,p);return hc.simplifyStates(p)}updateStateForChar(c,h,p){let y=this.text[h]&255,b=af[c.getMode()][y]>0,S=null;for(let E=0;E<=Qa;E++){let P=af[E][y];if(P>0){if(S==null&&(S=c.endBinaryShift(h)),!b||E===c.getMode()||E===yi){const U=S.latchAndAppend(E,P);p.push(U)}if(!b&&xm[c.getMode()][E]>=0){const U=S.shiftAndAppend(E,P);p.push(U)}}}if(c.getBinaryShiftByteCount()>0||af[c.getMode()][y]===0){let E=c.addBinaryShiftChar(h);p.push(E)}}static updateStateListForPair(c,h,p){const y=[];for(let b of c)this.updateStateForPair(b,h,p,y);return this.simplifyStates(y)}static updateStateForPair(c,h,p,y){let b=c.endBinaryShift(h);if(y.push(b.latchAndAppend(Qa,p)),c.getMode()!==Qa&&y.push(b.shiftAndAppend(Qa,p)),p===3||p===4){let S=b.latchAndAppend(yi,16-p).latchAndAppend(yi,1);y.push(S)}if(c.getBinaryShiftByteCount()>0){let S=c.addBinaryShiftChar(h).addBinaryShiftChar(h+1);y.push(S)}}static simplifyStates(c){let h=[];for(const p of c){let y=!0;for(const b of h){if(b.isBetterThanOrEqualTo(p)){y=!1;break}p.isBetterThanOrEqualTo(b)&&(h=h.filter(S=>S!==b))}y&&h.push(p)}return h}}class on{constructor(){}static encodeBytes(c){return on.encode(c,on.DEFAULT_EC_PERCENT,on.DEFAULT_AZTEC_LAYERS)}static encode(c,h,p){let y=new hc(c).encode(),b=R.truncDivision(y.getSize()*h,100)+11,S=y.getSize()+b,E,P,U,q,Z;if(p!==on.DEFAULT_AZTEC_LAYERS){if(E=p<0,P=Math.abs(p),P>(E?on.MAX_NB_BITS_COMPACT:on.MAX_NB_BITS))throw new x(Y.format("Illegal value %s for layers",p));U=on.totalBitsInLayer(P,E),q=on.WORD_SIZE[P];let Xe=U-U%q;if(Z=on.stuffBits(y,q),Z.getSize()+b>Xe)throw new x("Data to large for user specified layer");if(E&&Z.getSize()>q*64)throw new x("Data to large for user specified layer")}else{q=0,Z=null;for(let Xe=0;;Xe++){if(Xe>on.MAX_NB_BITS)throw new x("Data too large for an Aztec code");if(E=Xe<=3,P=E?Xe+1:Xe,U=on.totalBitsInLayer(P,E),S>U)continue;(Z==null||q!==on.WORD_SIZE[P])&&(q=on.WORD_SIZE[P],Z=on.stuffBits(y,q));let Ut=U-U%q;if(!(E&&Z.getSize()>q*64)&&Z.getSize()+b<=Ut)break}}let te=on.generateCheckWords(Z,U,q),oe=Z.getSize()/q,pe=on.generateModeMessage(E,P,oe),ve=(E?11:14)+P*4,Ae=new Int32Array(ve),Ie;if(E){Ie=ve;for(let Xe=0;Xe<Ae.length;Xe++)Ae[Xe]=Xe}else{Ie=ve+1+2*R.truncDivision(R.truncDivision(ve,2)-1,15);let Xe=R.truncDivision(ve,2),Ut=R.truncDivision(Ie,2);for(let kt=0;kt<Xe;kt++){let Pa=kt+R.truncDivision(kt,15);Ae[Xe-kt-1]=Ut-Pa-1,Ae[Xe+kt]=Ut+Pa+1}}let Ze=new ne(Ie);for(let Xe=0,Ut=0;Xe<P;Xe++){let kt=(P-Xe)*4+(E?9:12);for(let Pa=0;Pa<kt;Pa++){let Ti=Pa*2;for(let Za=0;Za<2;Za++)te.get(Ut+Ti+Za)&&Ze.set(Ae[Xe*2+Za],Ae[Xe*2+Pa]),te.get(Ut+kt*2+Ti+Za)&&Ze.set(Ae[Xe*2+Pa],Ae[ve-1-Xe*2-Za]),te.get(Ut+kt*4+Ti+Za)&&Ze.set(Ae[ve-1-Xe*2-Za],Ae[ve-1-Xe*2-Pa]),te.get(Ut+kt*6+Ti+Za)&&Ze.set(Ae[ve-1-Xe*2-Pa],Ae[Xe*2+Za])}Ut+=kt*8}if(on.drawModeMessage(Ze,E,Ie,pe),E)on.drawBullsEye(Ze,R.truncDivision(Ie,2),5);else{on.drawBullsEye(Ze,R.truncDivision(Ie,2),7);for(let Xe=0,Ut=0;Xe<R.truncDivision(ve,2)-1;Xe+=15,Ut+=16)for(let kt=R.truncDivision(Ie,2)&1;kt<Ie;kt+=2)Ze.set(R.truncDivision(Ie,2)-Ut,kt),Ze.set(R.truncDivision(Ie,2)+Ut,kt),Ze.set(kt,R.truncDivision(Ie,2)-Ut),Ze.set(kt,R.truncDivision(Ie,2)+Ut)}let tt=new gm;return tt.setCompact(E),tt.setSize(Ie),tt.setLayers(P),tt.setCodeWords(oe),tt.setMatrix(Ze),tt}static drawBullsEye(c,h,p){for(let y=0;y<p;y+=2)for(let b=h-y;b<=h+y;b++)c.set(b,h-y),c.set(b,h+y),c.set(h-y,b),c.set(h+y,b);c.set(h-p,h-p),c.set(h-p+1,h-p),c.set(h-p,h-p+1),c.set(h+p,h-p),c.set(h+p,h-p+1),c.set(h+p,h+p-1)}static generateModeMessage(c,h,p){let y=new z;return c?(y.appendBits(h-1,2),y.appendBits(p-1,6),y=on.generateCheckWords(y,28,4)):(y.appendBits(h-1,5),y.appendBits(p-1,11),y=on.generateCheckWords(y,40,4)),y}static drawModeMessage(c,h,p,y){let b=R.truncDivision(p,2);if(h)for(let S=0;S<7;S++){let E=b-3+S;y.get(S)&&c.set(E,b-5),y.get(S+7)&&c.set(b+5,E),y.get(20-S)&&c.set(E,b+5),y.get(27-S)&&c.set(b-5,E)}else for(let S=0;S<10;S++){let E=b-5+S+R.truncDivision(S,5);y.get(S)&&c.set(E,b-7),y.get(S+10)&&c.set(b+7,E),y.get(29-S)&&c.set(E,b+7),y.get(39-S)&&c.set(b-7,E)}}static generateCheckWords(c,h,p){let y=c.getSize()/p,b=new hm(on.getGF(p)),S=R.truncDivision(h,p),E=on.bitsToWords(c,p,S);b.encode(E,S-y);let P=h%p,U=new z;U.appendBits(0,P);for(const q of Array.from(E))U.appendBits(q,p);return U}static bitsToWords(c,h,p){let y=new Int32Array(p),b,S;for(b=0,S=c.getSize()/h;b<S;b++){let E=0;for(let P=0;P<h;P++)E|=c.get(b*h+P)?1<<h-P-1:0;y[b]=E}return y}static getGF(c){switch(c){case 4:return Ke.AZTEC_PARAM;case 6:return Ke.AZTEC_DATA_6;case 8:return Ke.AZTEC_DATA_8;case 10:return Ke.AZTEC_DATA_10;case 12:return Ke.AZTEC_DATA_12;default:throw new x("Unsupported word size "+c)}}static stuffBits(c,h){let p=new z,y=c.getSize(),b=(1<<h)-2;for(let S=0;S<y;S+=h){let E=0;for(let P=0;P<h;P++)(S+P>=y||c.get(S+P))&&(E|=1<<h-1-P);(E&b)===b?(p.appendBits(E&b,h),S--):(E&b)===0?(p.appendBits(E|1,h),S--):p.appendBits(E,h)}return p}static totalBitsInLayer(c,h){return((h?88:112)+16*c)*c}}on.DEFAULT_EC_PERCENT=33,on.DEFAULT_AZTEC_LAYERS=0,on.MAX_NB_BITS=32,on.MAX_NB_BITS_COMPACT=4,on.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class sf{encode(c,h,p,y){return this.encodeWithHints(c,h,p,y,null)}encodeWithHints(c,h,p,y,b){let S=mm.ISO_8859_1,E=on.DEFAULT_EC_PERCENT,P=on.DEFAULT_AZTEC_LAYERS;return b!=null&&(b.has(Br.CHARACTER_SET)&&(S=cc.forName(b.get(Br.CHARACTER_SET).toString())),b.has(Br.ERROR_CORRECTION)&&(E=R.parseInt(b.get(Br.ERROR_CORRECTION).toString())),b.has(Br.AZTEC_LAYERS)&&(P=R.parseInt(b.get(Br.AZTEC_LAYERS).toString()))),sf.encodeLayers(c,h,p,y,S,E,P)}static encodeLayers(c,h,p,y,b,S,E){if(h!==ie.AZTEC)throw new x("Can only encode AZTEC, but got "+h);let P=on.encode(Y.getBytes(c,b),S,E);return sf.renderResult(P,p,y)}static renderResult(c,h,p){let y=c.getMatrix();if(y==null)throw new Qe;let b=y.getWidth(),S=y.getHeight(),E=Math.max(h,b),P=Math.max(p,S),U=Math.min(E/b,P/S),q=(E-b*U)/2,Z=(P-S*U)/2,te=new ne(E,P);for(let oe=0,pe=Z;oe<S;oe++,pe+=U)for(let ve=0,Ae=q;ve<b;ve++,Ae+=U)y.get(ve,oe)&&te.setRegion(Ae,pe,U,U);return te}}n.AbstractExpandedDecoder=Tu,n.ArgumentException=g,n.ArithmeticException=be,n.AztecCode=gm,n.AztecCodeReader=qs,n.AztecCodeWriter=sf,n.AztecDecoder=bt,n.AztecDetector=$i,n.AztecDetectorResult=Wr,n.AztecEncoder=on,n.AztecHighLevelEncoder=hc,n.AztecPoint=sn,n.BarcodeFormat=ie,n.Binarizer=T,n.BinaryBitmap=w,n.BitArray=z,n.BitMatrix=ne,n.BitSource=Ka,n.BrowserAztecCodeReader=xs,n.BrowserBarcodeReader=sp,n.BrowserCodeReader=Se,n.BrowserDatamatrixCodeReader=qy,n.BrowserMultiFormatReader=Ky,n.BrowserPDF417Reader=Xy,n.BrowserQRCodeReader=Qy,n.BrowserQRCodeSvgWriter=cl,n.CharacterSetECI=F,n.ChecksumException=_,n.Code128Reader=nt,n.Code39Reader=vn,n.DataMatrixDecodedBitStreamParser=bo,n.DataMatrixReader=qi,n.DecodeHintType=I,n.DecoderResult=he,n.DefaultGridSampler=Gn,n.DetectorResult=xn,n.EAN13Reader=Ga,n.EncodeHintType=Br,n.Exception=f,n.FormatException=B,n.GenericGF=Ke,n.GenericGFPoly=je,n.GlobalHistogramBinarizer=H,n.GridSampler=Wa,n.GridSamplerInstance=gr,n.HTMLCanvasElementLuminanceSource=re,n.HybridBinarizer=ee,n.ITFReader=un,n.IllegalArgumentException=x,n.IllegalStateException=Qe,n.InvertedLuminanceSource=ue,n.LuminanceSource=K,n.MathUtils=st,n.MultiFormatOneDReader=yo,n.MultiFormatReader=up,n.MultiFormatWriter=Jy,n.NotFoundException=J,n.OneDReader=cn,n.PDF417DecodedBitStreamParser=Fe,n.PDF417DecoderErrorCorrection=Du,n.PDF417Reader=oa,n.PDF417ResultMetadata=ef,n.PerspectiveTransform=Nn,n.PlanarYUVLuminanceSource=ys,n.QRCodeByteMatrix=ku,n.QRCodeDataMask=sa,n.QRCodeDecodedBitStreamParser=Jn,n.QRCodeDecoderErrorCorrectionLevel=An,n.QRCodeDecoderFormatInformation=ia,n.QRCodeEncoder=Vn,n.QRCodeEncoderQRCode=ll,n.QRCodeMaskUtil=sr,n.QRCodeMatrixUtil=Et,n.QRCodeMode=jt,n.QRCodeReader=Ks,n.QRCodeVersion=wt,n.QRCodeWriter=lc,n.RGBLuminanceSource=Iu,n.RSS14Reader=bn,n.RSSExpandedReader=Ge,n.ReaderException=Ru,n.ReedSolomonDecoder=ht,n.ReedSolomonEncoder=hm,n.ReedSolomonException=ze,n.Result=ye,n.ResultMetadataType=le,n.ResultPoint=ct,n.StringUtils=Y,n.UnsupportedOperationException=$,n.VideoInputDevice=de,n.WhiteRectangleDetector=mr,n.WriterException=On,n.ZXingArrays=D,n.ZXingCharset=cc,n.ZXingInteger=R,n.ZXingStandardCharsets=mm,n.ZXingStringBuilder=X,n.ZXingStringEncoding=W,n.ZXingSystem=C,n.createAbstractExpandedDecoder=um,Object.defineProperty(n,"__esModule",{value:!0})})}(Eg,Eg.exports)),Eg.exports}var er=$de();const Hde=zi(er),qde=f6({__proto__:null,default:Hde},[er]);var SR=function(){function e(t,n,r){if(this.formatMap=new Map([[dt.QR_CODE,er.BarcodeFormat.QR_CODE],[dt.AZTEC,er.BarcodeFormat.AZTEC],[dt.CODABAR,er.BarcodeFormat.CODABAR],[dt.CODE_39,er.BarcodeFormat.CODE_39],[dt.CODE_93,er.BarcodeFormat.CODE_93],[dt.CODE_128,er.BarcodeFormat.CODE_128],[dt.DATA_MATRIX,er.BarcodeFormat.DATA_MATRIX],[dt.MAXICODE,er.BarcodeFormat.MAXICODE],[dt.ITF,er.BarcodeFormat.ITF],[dt.EAN_13,er.BarcodeFormat.EAN_13],[dt.EAN_8,er.BarcodeFormat.EAN_8],[dt.PDF_417,er.BarcodeFormat.PDF_417],[dt.RSS_14,er.BarcodeFormat.RSS_14],[dt.RSS_EXPANDED,er.BarcodeFormat.RSS_EXPANDED],[dt.UPC_A,er.BarcodeFormat.UPC_A],[dt.UPC_E,er.BarcodeFormat.UPC_E],[dt.UPC_EAN_EXTENSION,er.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!qde)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),s=new Map;s.set(er.DecodeHintType.POSSIBLE_FORMATS,i),s.set(er.DecodeHintType.TRY_HARDER,!1),this.hints=s}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(s){i(s)}})},e.prototype.decode=function(t){var n=new er.MultiFormatReader(this.verbose,this.hints),r=new er.HTMLCanvasElementLuminanceSource(t),i=new er.BinaryBitmap(new er.HybridBinarizer(r)),s=n.decode(i);return{text:s.text,format:CF.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Yde=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},Wde=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},_R=function(){function e(t,n,r){if(this.formatMap=new Map([[dt.QR_CODE,"qr_code"],[dt.AZTEC,"aztec"],[dt.CODABAR,"codabar"],[dt.CODE_39,"code_39"],[dt.CODE_93,"code_93"],[dt.CODE_128,"code_128"],[dt.DATA_MATRIX,"data_matrix"],[dt.ITF,"itf"],[dt.EAN_13,"ean_13"],[dt.EAN_8,"ean_8"],[dt.PDF_417,"pdf417"],[dt.UPC_A,"upc_a"],[dt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Yde(this,void 0,void 0,function(){var n,r;return Wde(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:CF.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,s=t;i<s.length;i++){var o=s[i],u=o.boundingBox.width*o.boundingBox.height;u>r&&(r=u,n=o)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),AR=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},ER=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Gde=function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&_R.isSupported()?(this.primaryDecoder=new _R(t,r,i),this.secondaryDecoder=new SR(t,r,i)):this.primaryDecoder=new SR(t,r,i)}return e.prototype.decodeAsync=function(t){return AR(this,void 0,void 0,function(){var n;return ER(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return AR(this,void 0,void 0,function(){var n,r;return ER(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var s=t/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),yE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Iv=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},Lv=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},DF=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),Kde=function(e){yE(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(DF),Xde=function(e){yE(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(Kde),Qde=function(e){yE(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(DF),Zde=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Xde(this.track)},e.prototype.torchFeature=function(){return new Qde(this.track)},e}(),Jde=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return Iv(this,void 0,void 0,function(){var s,o;return Lv(this,function(u){switch(u.label){case 0:return s=new e(t,n,i),r.aspectRatio?(o={aspectRatio:r.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:u.sent(),u.label=2;case 2:return s.setupSurface(),[2,s]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Iv(this,void 0,void 0,function(){return Lv(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),s=i.length,o=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++o,o>=s&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new Zde(this.getFirstTrackOrFail())},e}(),efe=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Iv(this,void 0,void 0,function(){return Lv(this,function(i){return[2,Jde.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Iv(this,void 0,void 0,function(){var n,r;return Lv(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e}(),CR=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},TR=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},tfe=function(){function e(){}return e.failIfNotSupported=function(){return CR(this,void 0,void 0,function(){return TR(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return CR(this,void 0,void 0,function(){return TR(this,function(n){return[2,efe.create(t)]})})},e}(),nfe=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},rfe=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},afe=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=sh.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=sh.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return nfe(this,void 0,void 0,function(){var t,n,r,i,s,o,u;return rfe(this,function(m){switch(m.label){case 0:return t=function(f){for(var g=f.getVideoTracks(),x=0,w=g;x<w.length;x++){var _=w[x];_.enabled=!1,_.stop(),f.removeTrack(_)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=m.sent(),i=[],s=0,o=r;s<o.length;s++)u=o[s],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(s){for(var o=[],u=0,m=s;u<m.length;u++){var f=m[u];f.kind==="video"&&o.push({id:f.id,label:f.label})}t(o)},i=MediaStreamTrack;i.getSources(r)})},e}(),Or;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Or||(Or={}));var ife=function(){function e(){this.state=Or.NOT_STARTED,this.onGoingTransactionNewState=Or.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Or.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Or.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Or.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Or.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Or.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Or.UNKNOWN:throw"Transition from unknown is not allowed";case Or.NOT_STARTED:this.failIfNewStateIs(t,[Or.PAUSED]);break;case Or.SCANNING:break;case Or.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];if(t===s)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),sfe=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Or.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Or.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Or.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Or.PAUSED},e}(),ofe=function(){function e(){}return e.create=function(){return new sfe(new ife)},e}(),lfe=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ji=function(e){lfe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(so),cfe=function(){function e(t,n){this.logger=n,this.fps=Ji.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Ji.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?MF.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Lo(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),OR=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new OF(this.verbose),this.qrcode=new Gde(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=ofe.create()}return e.prototype.start=function(t,n,r,i){var s=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var u=cfe.create(n,this.logger);this.clearElement();var m=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var f=m,g=document.getElementById(this.elementId);g.clientWidth?g.clientWidth:Ji.DEFAULT_WIDTH,g.style.position="relative",this.shouldScan=!0,this.element=g;var x=this,w=this.stateManagerProxy.startTransition(Or.SCANNING);return new Promise(function(_,T){var C=f?u.videoConstraints:x.createVideoConstraints(t);if(!C){w.cancel(),T("videoConstraints should be defined");return}var A={};(!f||u.aspectRatio)&&(A.aspectRatio=u.aspectRatio);var M={onRenderSurfaceReady:function(D,R){x.setupUi(D,R,u),x.isScanning=!0,x.foreverScan(u,r,o)}};tfe.failIfNotSupported().then(function(D){D.create(C).then(function(R){return R.render(s.element,A,M).then(function(z){x.renderedCamera=z,w.execute(),_(null)}).catch(function(z){w.cancel(),T(z)})}).catch(function(R){w.cancel(),T(sh.errorGettingUserMedia(R))})}).catch(function(D){w.cancel(),T(sh.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Or.PAUSED),this.showPausedState(),(Lo(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Or.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Or.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var s=document.getElementById(Ji.SHADED_REGION_ELEMENT_ID);s&&t.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Lo(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var u=o.width,m=o.height,f=document.getElementById(r.elementId),g=f.clientWidth?f.clientWidth:Ji.DEFAULT_WIDTH,x=Math.max(f.clientHeight?f.clientHeight:m,Ji.FILE_SCAN_MIN_HEIGHT),w=r.computeCanvasDrawConfig(u,m,g,x);if(n){var _=r.createCanvasElement(g,x,"qr-canvas-visible");_.style.display="inline-block",f.appendChild(_);var T=_.getContext("2d");if(!T)throw"Unable to get 2d context from canvas";T.canvas.width=g,T.canvas.height=x,T.drawImage(o,0,0,u,m,w.x,w.y,w.width,w.height)}var C=Ji.FILE_SCAN_HIDDEN_CANVAS_PADDING,A=Math.max(o.width,w.width),M=Math.max(o.height,w.height),D=A+2*C,R=M+2*C,z=r.createCanvasElement(D,R);f.appendChild(z);var k=z.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=D,k.canvas.height=R,k.drawImage(o,0,0,u,m,C,C,A,M);try{r.qrcode.decodeRobustlyAsync(z).then(function(I){i(wR.createFromQrcodeResult(I))}).catch(s)}catch(I){s("QR code parse error, error = ".concat(I))}},o.onerror=s,o.onabort=s,o.onstalled=s,o.onsuspend=s,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return afe.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!MF.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[dt.QR_CODE,dt.AZTEC,dt.CODABAR,dt.CODE_39,dt.CODE_93,dt.CODE_128,dt.DATA_MATRIX,dt.MAXICODE,dt.ITF,dt.EAN_13,dt.EAN_8,dt.PDF_417,dt.RSS_14,dt.RSS_EXPANDED,dt.UPC_A,dt.UPC_E,dt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,s=t.formatsToSupport;i<s.length;i++){var o=s[i];Ude(o)?r.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Lo(t))return!0;if(!Lo(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Lo(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Lo(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,s=r.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(t,n,s),u=function(f){if(f<Ji.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ji.MIN_QR_BOX_SIZE,"px.")},m=function(f){return f>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),f=t),f};u(o.width),u(o.height),o.width=m(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=Lo(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(t,n,i);s.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=r.isShadedBoxEnabled()&&s.height<=n,u={x:0,y:0,width:t,height:n},m=o?this.getShadedRegionBounds(t,n,s):u,f=this.createCanvasElement(m.width,m.height),g={willReadFrequently:!0},x=f.getContext("2d",g);x.canvas.width=m.width,x.canvas.height=m.height,this.element.append(f),o&&this.possiblyInsertShadingElement(this.element,t,n,s),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=x,this.canvasElement=f},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=sh.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,wR.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var s=sh.codeParseError(i);return n(s,TF.createFrom(s)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),o=s.videoWidth/s.clientWidth,u=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*o,f=this.qrRegion.height*u,g=this.qrRegion.x*o,x=this.qrRegion.y*u;this.context.drawImage(s,g,x,m,f,0,0,this.qrRegion.width,this.qrRegion.height);var w=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(_){!_&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){w()})):w()}).catch(function(_){i.logger.logError("Error happend while scanning context",_),w()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},s="exact",o=function(T){if(T in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(T,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var m=Object.keys(t)[0];if(m!==n&&m!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(m===n){var f=t.facingMode;if(typeof f=="string"){if(o(f))return{facingMode:f}}else if(typeof f=="object")if(s in f){if(o(f["".concat(s)]))return{facingMode:{exact:f["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var g=typeof f;throw"Invalid type of 'facingMode' = ".concat(g)}}else{var x=t.deviceId;if(typeof x=="string")return{deviceId:x};if(typeof x=="object"){if(s in x)return{deviceId:{exact:x["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var w=typeof x;throw"Invalid type of 'deviceId' = ".concat(w)}}}var _=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(_)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var s=(r-t)/2,o=(i-n)/2;return{x:s,y:o,width:t,height:n}}else{var u=t,m=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(m)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Ji.BORDER_SHADER_MATCH_COLOR:Ji.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,s=n,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(s,"px"),o.style.display="none",o.id=Lo(r)?"qr-canvas":r,o},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var o=(n-i.width)/2,u=(r-i.height)/2;if(s.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(Ji.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var m=5,f=40;this.insertShaderBorders(s,f,m,-m,null,0,!0),this.insertShaderBorders(s,f,m,-m,null,0,!1),this.insertShaderBorders(s,f,m,null,-m,0,!0),this.insertShaderBorders(s,f,m,null,-m,0,!1),this.insertShaderBorders(s,m,f+m,-m,null,-m,!0),this.insertShaderBorders(s,m,f+m,null,-m,-m,!0),this.insertShaderBorders(s,m,f+m,-m,null,-m,!1),this.insertShaderBorders(s,m,f+m,null,-m,-m,!1),this.hasBorderShaders=!0}t.append(s)}},e.prototype.insertShaderBorders=function(t,n,r,i,s,o,u){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=Ji.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(n,"px"),m.style.height="".concat(r,"px"),i!==null&&(m.style.top="".concat(i,"px")),s!==null&&(m.style.bottom="".concat(s,"px")),u?m.style.left="".concat(o,"px"):m.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),bE="data:image/svg+xml;base64,",ufe=bE+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",dfe=bE+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",MR=bE+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",ffe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",DR=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),hfe=function(){function e(){this.data=DR.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=DR.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),mfe=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=jR.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var s=document.createElement("a");s.innerText=jR.reportIssues(),s.href="https://github.com/mebjas/html5-qrcode/issues",s.target="new",s.style.color="white",this.infoDiv.appendChild(s),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),gfe=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=MR,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=ffe,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=MR,this.infoIcon.style.opacity="0.6")},e}(),pfe=function(){function e(){var t=this;this.infoDiv=new mfe,this.infoIcon=new gfe(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),xfe=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},vfe=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},RR=function(){function e(){}return e.hasPermissions=function(){return xfe(this,void 0,void 0,function(){var t,n,r,i;return vfe(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=s.sent(),n=0,r=t;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},e}(),Bc=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===uu.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===uu.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return so.DEFAULT_SUPPORTED_SCAN_TYPE;var n=so.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=t;r<i.length;r++){var s=i[r];if(!so.DEFAULT_SUPPORTED_SCAN_TYPE.includes(s))throw"Unsupported scan type ".concat(s)}return t},e}(),os=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Ml=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(os.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),RF=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(g){try{f(r.next(g))}catch(x){o(x)}}function m(g){try{f(r.throw(g))}catch(x){o(x)}}function f(g){g.done?s(g.value):i(g.value).then(u,m)}f((r=r.apply(e,t||[])).next())})},PF=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(g){return m([f,g])}}function m(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(g){f=[6,g],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},PR=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return RF(this,void 0,void 0,function(){var t,n;return PF(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?kn.torchOffButton():kn.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?kn.torchOnFailedMessage():kn.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),yfe=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=Ml.createElement("button",os.TORCH_BUTTON_ID),this.torchController=new PR(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=kn.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(s){return RF(r,void 0,void 0,function(){return PF(this,function(o){switch(o.label){case 0:return[4,i.torchController.flipState()];case 1:return o.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(os.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(os.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(os.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(os.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new PR(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=kn.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,i){var s=new e(n,i);return s.render(t,r),s},e}(),bfe=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=Ml.createElement("button",os.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(u){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=Ml.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var s=this;this.fileScanInput.addEventListener("change",function(u){if(!(u==null||u.target==null)){var m=u.target;if(!(m.files&&m.files.length===0)){var f=m.files,g=f[0],x=g.name;s.setImageNameToButton(x),r(g)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(u){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(u){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionDefaultBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(u){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(u){u.stopPropagation(),u.preventDefault(),s.fileBasedScanRegion.style.border=s.fileBasedScanRegionDefaultBorder();var m=u.dataTransfer;if(m){var f=m.files;if(!f||f.length===0)return;for(var g=!1,x=0;x<f.length;++x){var w=f.item(x);if(w){var _=/image.*/;if(w.type.match(_)){g=!0;var T=w.name;s.setImageNameToButton(T),r(w),o.innerText=kn.dragAndDropMessage();break}}}g||(o.innerText=kn.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=kn.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),i=t.length,s=t.substring(i-8,i);t="".concat(r,"....").concat(s)}var o=kn.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=o},e.prototype.setInitialValueToButton=function(){var t=kn.fileSelectionChooseImage()+" - "+kn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var i=new e(t,n,r);return i},e}(),wfe=function(){function e(t){this.selectElement=Ml.createElement("select",os.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=kn.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var s=1,o=0,u=this.cameras;o<u.length;o++){var m=u[o],f=m.id,g=m.label==null?f:m.label;(!g||g==="")&&(g=[kn.anonymousCameraPrefix(),s++].join(" "));var x=document.createElement("option");x.value=f,x.innerText=g,this.options.push(x),this.selectElement.appendChild(x)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),jfe=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ml.createElement("input",os.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=kn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=kn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,i){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),es;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(es||(es={}));function Nfe(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function Sfe(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var _fe=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Bc(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new OF(this.verbose),this.persistedDataManager=new hfe,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(s,o){if(t)t(s,o);else{if(r.lastMatchFound===s)return;r.lastMatchFound=s,r.setHeaderMessage(kn.lastMatch(s),es.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(s,o){n&&n(s,o)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new OR(this.getScanRegionId(),Sfe(this.config,this.verbose))},e.prototype.pause=function(t){(Lo(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(s){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(s){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",s),i(s)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=so.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!so.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=so.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=so.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:so.SCAN_DEFAULT_FPS,rememberLastUsedCamera:so.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:so.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Bc.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),s=this.getDashboardId();i.id=s,i.style.width="100%",t.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new pfe;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(kn.cameraPermissionRequesting());var s=function(){r||i.createPermissionButton(t,n)};OR.getCameras().then(function(o){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),o&&o.length>0?(t.removeChild(n),i.renderCameraSelection(o)):(i.setHeaderMessage(kn.noCameraFound(),es.STATUS_WARNING),s())}).catch(function(o){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:s(),i.setHeaderMessage(o,es.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,i=Ml.createElement("button",this.getCameraPermissionButtonId());i.innerText=kn.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(t,n,i)}),n.appendChild(i)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(Bc.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){RR.hasPermissions().then(function(i){i?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Bc.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Bc.isFileScanType(this.currentScanType),r=this,i=function(s){if(!r.html5Qrcode)throw"html5Qrcode not defined";Bc.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(kn.loadingImage()),r.html5Qrcode.scanFileV2(s,!0).then(function(o){r.resetHeaderMessage(),r.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){r.setHeaderMessage(o,es.STATUS_WARNING),r.qrCodeErrorCallback(o,TF.createFrom(o))}))};this.fileSelectionUi=bfe.create(t,n,i)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var s=jfe.create(i,!1),o=function(C){var A=C.zoomFeature();if(A.isSupported()){s.setOnCameraZoomValueChangeCallback(function(D){A.apply(D)});var M=1;n.config.defaultZoomValueIfSupported&&(M=n.config.defaultZoomValueIfSupported),M=zde(M,A.min(),A.max()),s.setValues(A.min(),A.max(),M,A.step()),s.show()}},u=wfe.create(i,t),m=document.createElement("span"),f=Ml.createElement("button",os.CAMERA_START_BUTTON_ID);f.innerText=kn.scanButtonStartScanningText(),m.appendChild(f);var g=Ml.createElement("button",os.CAMERA_STOP_BUTTON_ID);g.innerText=kn.scanButtonStopScanningText(),g.style.display="none",g.disabled=!0,m.appendChild(g);var x,w=function(C){if(!C.torchFeature().isSupported()){x&&x.hide();return}x?x.updateTorchCapability(C.torchFeature()):x=yfe.create(m,C.torchFeature(),{display:"none",marginLeft:"5px"},function(A){r.setHeaderMessage(A,es.STATUS_WARNING)}),x.show()};i.appendChild(m);var _=function(C){C||(f.style.display="none"),f.innerText=kn.scanButtonStartScanningText(),f.style.opacity="1",f.disabled=!1,C&&(f.style.display="inline-block")};if(f.addEventListener("click",function(C){f.innerText=kn.scanButtonScanningStarting(),u.disable(),f.disabled=!0,f.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var A=u.getValue();r.persistedDataManager.setLastUsedCameraId(A),r.html5Qrcode.start(A,Nfe(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(M){g.disabled=!1,g.style.display="inline-block",_(!1);var D=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&w(D),n.config.showZoomSliderIfSupported===!0&&o(D)}).catch(function(M){r.showHideScanTypeSwapLink(!0),u.enable(),_(!0),r.setHeaderMessage(M,es.STATUS_WARNING)})}),u.hasSingleItem()&&f.click(),g.addEventListener("click",function(C){if(!r.html5Qrcode)throw"html5Qrcode not defined";g.disabled=!0,r.html5Qrcode.stop().then(function(A){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),u.enable(),f.disabled=!1,g.style.display="none",f.style.display="inline-block",x&&(x.reset(),x.hide()),s.removeOnCameraZoomValueChangeCallback(),s.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(A){g.disabled=!1,r.setHeaderMessage(A,es.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var T=r.persistedDataManager.getLastUsedCameraId();u.hasValue(T)?(u.setValue(T),f.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=kn.textIfCameraScanSelected(),r=kn.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");s.style.textAlign="center";var o=Ml.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=Bc.isCameraScanType(this.currentScanType)?n:r,o.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Bc.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),o.innerText=r,t.currentScanType=uu.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),o.innerText=n,t.currentScanType=uu.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),s.appendChild(o),i.appendChild(s)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){RR.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=es.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case es.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case es.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case es.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=ufe,this.cameraScanImage.alt=kn.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=dfe,this.fileScanImage.alt=kn.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return os.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return os.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function Afe(){var Se,ye,Le;const[e,t]=N.useState(!1),[n,r]=N.useState(null),[i,s]=N.useState(""),[o,u]=N.useState(null),[m,f]=N.useState(""),[g,x]=N.useState(1),[w,_]=N.useState(!1),[T,C]=N.useState(null),[A,M]=N.useState([]),[D,R]=N.useState(""),[z,k]=N.useState(!1),[I,B]=N.useState(!1),[V,F]=N.useState(!0),$=N.useRef(null),{profile:W}=Wt(),{t:Y,isRTL:X}=$t();N.useEffect(()=>(W&&J(),ne(),()=>{ee()}),[W]);const ne=async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){F(!1);return}(await navigator.mediaDevices.enumerateDevices()).filter(le=>le.kind==="videoinput").length===0&&F(!1)}catch(ie){console.error("Error checking camera support:",ie),F(!1)}},J=async()=>{try{const{data:ie,error:ce}=await qe.from("wallets").select("*").eq("user_id",W==null?void 0:W.id).single();if(ce)throw ce;C(ie)}catch(ie){console.error("Error fetching wallet data:",ie)}},H=async()=>{if(!e){k(!0),R("");try{if(!V)throw new Error("Camera not supported on this device");(await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}})).getTracks().forEach(le=>le.stop()),t(!0),r(null);const ce={fps:10,qrbox:{width:280,height:280},rememberLastUsedCamera:!0,aspectRatio:1,showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,defaultZoomValueIfSupported:2,supportedScanTypes:[0],videoConstraints:{facingMode:"environment"}};$.current=new _fe("qr-reader",ce,!1),$.current.render(le=>{K(le)},le=>{console.debug("QR scan error (normal):",le)}),Me.success("Camera started successfully! Point at a QR code to scan.")}catch(ie){console.error("Camera initialization error:",ie),t(!1),ie.name==="NotAllowedError"?(R("Camera permission denied. Please allow camera access and try again."),Me.error("Camera permission denied. Please allow camera access to scan QR codes.")):ie.name==="NotFoundError"?(R("No camera found on this device."),Me.error("No camera found on this device. Please use manual entry.")):ie.name==="NotSupportedError"?(R("Camera not supported on this browser."),Me.error("Camera not supported. Please try a different browser or use manual entry.")):(R("Camera initialization failed. Please try again or use manual entry."),Me.error("Failed to start camera. Please try again or use manual entry."))}finally{k(!1)}}},ee=()=>{$.current&&e&&$.current.clear().then(()=>{t(!1)}).catch(ie=>{console.error("Error stopping scanner:",ie),t(!1)})},K=ie=>{ee(),ue(ie)},ue=async ie=>{var ce;try{let le;try{le=JSON.parse(ie)}catch{le={raw:ie}}let he;if(le.type==="driver"||le.driver_id){he={type:"driver",data:le,rawData:ie};const{data:Ee}=await qe.from("qr_codes").select(`
            *,
            driver_profile:driver_profiles!qr_codes_driver_id_fkey(
              ticket_fee,
              route_name,
              vehicle_type
            ),
            profile:profiles!qr_codes_driver_id_fkey(full_name)
          `).eq("qr_data",ie).eq("is_active",!0).single();if(Ee)he.data={...he.data,...Ee},u({qrData:he.data,amount:((ce=Ee.driver_profile)==null?void 0:ce.ticket_fee)||500,quantity:1,type:"driver"});else throw new Error("Invalid or inactive driver QR code")}else le.type==="merchant"||le.merchant_id?(he={type:"merchant",data:le,rawData:ie},u({qrData:he.data,amount:le.amount,type:"merchant"})):(he={type:"unknown",data:le,rawData:ie},Me.error("Unrecognized QR code format"));r(he),M(Ee=>[he,...Ee.slice(0,4)])}catch(le){console.error("Error processing QR code:",le),Me.error("Invalid QR code or service unavailable")}},re=()=>{i.trim()&&(ue(i.trim()),s(""))},de=async()=>{if(!(!o||!W)){_(!0);try{if(o.type==="driver"){const{data:ie,error:ce}=await qe.rpc("process_transport_payment",{p_passenger_id:W.id,p_driver_id:o.qrData.driver_id,p_amount:(o.amount||500)*g,p_qr_code_id:o.qrData.id,p_quantity:g});if(ce)throw ce;if(ie&&ie.length>0){const le=ie[0];le.error_message?Me.error(le.error_message):(Me.success(Y("scanner.paymentSuccess")),u(null),J())}}else if(o.type==="merchant"){const ie=parseFloat(m)||o.amount||0;if(ie<=0){Me.error("Please enter a valid amount");return}const{data:ce,error:le}=await qe.rpc("process_merchant_payment",{p_passenger_id:W.id,p_merchant_id:o.qrData.merchant_id||o.qrData.user_id,p_amount:ie});if(le)throw le;if(ce&&ce.length>0){const he=ce[0];he.error_message?Me.error(he.error_message):(Me.success(Y("scanner.paymentSuccess")),u(null),J())}}}catch(ie){console.error("Error processing payment:",ie),Me.error(Y("scanner.paymentFailed"))}finally{_(!1)}}},xe=ie=>new Intl.NumberFormat(X?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(ie);return a.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[a.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:Y("scanner.title")}),a.jsx("p",{className:"text-muted-foreground",children:"Scan QR codes to make instant payments"})]}),T&&a.jsx(me,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(su,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"font-medium",children:xe(T.balance)})]})})]}),(T==null?void 0:T.is_frozen)&&a.jsxs(ci,{variant:"destructive",children:[a.jsx(vv,{className:"h-4 w-4"}),a.jsx(ui,{children:"Your wallet is frozen. You cannot make payments at this time."})]}),a.jsxs(ms,{defaultValue:"scan",className:"w-full",children:[a.jsxs(gs,{className:"grid w-full grid-cols-2",children:[a.jsxs(Ct,{value:"scan",className:"flex items-center gap-2",children:[a.jsx(uh,{className:"h-4 w-4"}),"Scan QR Code"]}),a.jsxs(Ct,{value:"manual",className:"flex items-center gap-2",children:[a.jsx(nr,{className:"h-4 w-4"}),"Manual Entry"]})]}),a.jsx(Mt,{value:"scan",className:"space-y-6",children:a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(nr,{className:"h-5 w-5"}),"QR Code Scanner"]}),a.jsx(it,{children:"Point your camera at a QR code to scan"})]}),a.jsx(ge,{children:e?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{id:"qr-reader",className:"mx-auto max-w-sm"}),a.jsx(We.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:a.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-center",children:[a.jsxs("div",{className:"bg-black/50 text-white px-2 py-1 rounded text-xs flex items-center gap-1",children:[a.jsx(P1,{className:"h-3 w-3"}),"Scanning..."]}),a.jsxs("div",{className:"bg-black/50 text-white px-2 py-1 rounded text-xs flex items-center gap-1",children:[a.jsx(Kc,{className:"h-3 w-3"}),"Secure"]})]})})]}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsxs(Ne,{onClick:ee,variant:"outline",className:"gap-2",children:[a.jsx(yS,{className:"h-4 w-4"}),"Stop Scanning"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Hold your device steady and ensure the QR code is clearly visible"})]})]}):a.jsxs("div",{className:"text-center space-y-4",children:[a.jsxs("div",{className:"mx-auto w-64 h-64 border-2 border-dashed border-primary/30 rounded-xl flex items-center justify-center bg-primary/5 relative overflow-hidden",children:[a.jsx("div",{className:"text-center z-10",children:D?a.jsxs(a.Fragment,{children:[a.jsx(yS,{className:"h-16 w-16 mx-auto text-red-500 mb-3"}),a.jsx("p",{className:"text-sm text-red-600 mb-2",children:"Camera Error"}),a.jsx("p",{className:"text-xs text-muted-foreground px-4",children:D})]}):z?a.jsxs(a.Fragment,{children:[a.jsx(Yo,{className:"h-16 w-16 mx-auto text-primary mb-3 animate-spin"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Starting camera..."}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Please allow camera access"})]}):a.jsxs(a.Fragment,{children:[a.jsx(uh,{className:"h-16 w-16 mx-auto text-primary mb-3"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Ready to scan QR codes"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Make sure to allow camera access"})]})}),!D&&!z&&a.jsx(We.div,{className:"absolute inset-0 border-2 border-primary/20",animate:{opacity:[.3,.7,.3],scale:[.9,1,.9]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),a.jsxs("div",{className:"space-y-3",children:[V?a.jsx(Ne,{onClick:H,disabled:z,className:"gap-2 px-8 py-3 text-base",children:z?a.jsxs(a.Fragment,{children:[a.jsx(Yo,{className:"h-5 w-5 animate-spin"}),"Starting Camera..."]}):a.jsxs(a.Fragment,{children:[a.jsx(uh,{className:"h-5 w-5"}),"Start Camera Scanner"]})}):a.jsx("div",{className:"space-y-2",children:a.jsxs(ci,{variant:"destructive",children:[a.jsx(vv,{className:"h-4 w-4"}),a.jsx(ui,{children:"Camera not available on this device. Please use manual entry below."})]})}),a.jsxs(Ne,{variant:"outline",onClick:()=>B(!0),className:"gap-2",children:[a.jsx(PD,{className:"h-4 w-4"}),"How to Scan"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground max-w-md mx-auto",children:"Point your camera at a QR code to scan. Works with driver transport QR codes and merchant payment QR codes."})]})})]})})}),a.jsx(Mt,{value:"manual",className:"space-y-6",children:a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:"Manual QR Code Entry"}),a.jsx(it,{children:"Enter QR code data manually if scanning doesn't work"})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"qr-input",children:"QR Code Data"}),a.jsx(vt,{id:"qr-input",placeholder:"Paste or type QR code data here",value:i,onChange:ie=>s(ie.target.value)})]}),a.jsxs(Ne,{onClick:re,disabled:!i.trim(),className:"w-full gap-2",children:[a.jsx(nr,{className:"h-4 w-4"}),"Process QR Code"]})]})]})})})]}),A.length>0&&a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Xg,{className:"h-5 w-5"}),"Recent Scans"]}),a.jsx(it,{children:"Previously scanned QR codes"})]}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-3",children:A.map((ie,ce)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[ie.type==="driver"?a.jsx(oi,{className:"h-5 w-5 text-blue-500"}):ie.type==="merchant"?a.jsx(au,{className:"h-5 w-5 text-green-500"}):a.jsx(nr,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:ie.type==="driver"?"Transport Payment":ie.type==="merchant"?"Merchant Payment":"Unknown QR"}),a.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-40",children:ie.rawData})]})]}),a.jsx(et,{variant:ie.type==="unknown"?"destructive":"secondary",children:ie.type})]},ce))})})]})}),a.jsx(za,{open:!!o,onOpenChange:ie=>!ie&&u(null),children:a.jsxs(Va,{className:"sm:max-w-md",children:[a.jsxs($a,{children:[a.jsxs(Ha,{className:"flex items-center gap-2",children:[(o==null?void 0:o.type)==="driver"?a.jsx(oi,{className:"h-5 w-5 text-blue-500"}):a.jsx(au,{className:"h-5 w-5 text-green-500"}),"Confirm Payment"]}),a.jsx(Fi,{children:(o==null?void 0:o.type)==="driver"?"Confirm your transport payment":"Confirm your merchant payment"})]}),o&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(me,{children:a.jsxs(ge,{className:"p-4 space-y-3",children:[o.type==="driver"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Driver:"}),a.jsx("span",{className:"text-sm font-medium",children:((Se=o.qrData.profile)==null?void 0:Se.full_name)||"Unknown Driver"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Route:"}),a.jsx("span",{className:"text-sm font-medium",children:((ye=o.qrData.driver_profile)==null?void 0:ye.route_name)||"City Route"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Vehicle:"}),a.jsx("span",{className:"text-sm font-medium",children:((Le=o.qrData.driver_profile)==null?void 0:Le.vehicle_type)||"Bus"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Ticket Price:"}),a.jsx("span",{className:"text-sm font-medium",children:xe(o.amount||500)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:[Y("scanner.quantity"),":"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ne,{size:"sm",variant:"outline",onClick:()=>x(Math.max(1,g-1)),children:a.jsx(XL,{className:"h-3 w-3"})}),a.jsx("span",{className:"w-8 text-center",children:g}),a.jsx(Ne,{size:"sm",variant:"outline",onClick:()=>x(g+1),children:a.jsx(cs,{className:"h-3 w-3"})})]})]})]}),o.type==="merchant"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Merchant:"}),a.jsx("span",{className:"text-sm font-medium",children:o.qrData.business_name||"Local Store"})]}),!o.amount&&a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"payment-amount",children:"Payment Amount"}),a.jsx(vt,{id:"payment-amount",type:"number",placeholder:"Enter amount",value:m,onChange:ie=>f(ie.target.value)})]})]}),a.jsx(Bi,{}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:"Total:"}),a.jsx("span",{children:o.type==="driver"?xe((o.amount||500)*g):xe(parseFloat(m)||o.amount||0)})]})]})}),T&&a.jsxs(ci,{children:[a.jsx(su,{className:"h-4 w-4"}),a.jsxs(ui,{children:["Current balance: ",xe(T.balance)]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{variant:"outline",className:"flex-1",onClick:()=>u(null),disabled:w,children:"Cancel"}),a.jsx(Ne,{className:"flex-1 gap-2",onClick:de,disabled:w||(T==null?void 0:T.is_frozen),children:w?a.jsxs(a.Fragment,{children:[a.jsx(Yo,{className:"h-4 w-4 animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Rr,{className:"h-4 w-4"}),"Pay Now"]})})]})]})]})}),a.jsx(za,{open:I,onOpenChange:B,children:a.jsxs(Va,{className:"sm:max-w-md",children:[a.jsxs($a,{children:[a.jsxs(Ha,{className:"flex items-center gap-2",children:[a.jsx(PD,{className:"h-5 w-5 text-primary"}),"How to Scan QR Codes"]}),a.jsx(Fi,{children:"Follow these simple steps to scan QR codes successfully"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(me,{children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-1",children:"Allow Camera Access"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"When prompted, allow the website to access your camera. This is needed to scan QR codes."})]})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-1",children:"Position Your Device"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Hold your device steady and point the camera at the QR code. Keep it about 6-12 inches away."})]})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-1",children:"Wait for Recognition"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"The scanner will automatically detect and process the QR code. No need to take a photo!"})]})]})})})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"Supported QR Codes"}),a.jsx("p",{className:"text-sm text-blue-700",children:"You can scan driver transport QR codes for ticket payments and merchant QR codes for purchases."})]})]})}),a.jsx(Ne,{onClick:()=>B(!1),className:"w-full",children:"Got it!"})]})]})})]})}function Efe({transaction:e,open:t,onOpenChange:n,userProfile:r}){const i=N.useRef(null),{t:s,isRTL:o}=$t();if(!e)return null;const u=M=>new Intl.NumberFormat(o?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(M),m=M=>new Date(M).toLocaleDateString(o?"ar-SY":"en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),f=()=>{const M=e.from_user_id===(r==null?void 0:r.id);switch(e.transaction_type){case"recharge":return a.jsx(Ea,{className:"h-8 w-8 text-green-600"});case"payment":return e.qr_code_id?a.jsx(oi,{className:"h-8 w-8 text-blue-600"}):M?a.jsx(au,{className:"h-8 w-8 text-purple-600"}):a.jsx(Ea,{className:"h-8 w-8 text-green-600"});case"refund":return a.jsx(av,{className:"h-8 w-8 text-blue-600"});case"withdrawal":return a.jsx(Ea,{className:"h-8 w-8 text-red-600"});default:return a.jsx(av,{className:"h-8 w-8 text-gray-600"})}},g=()=>{switch(e.status){case"completed":return a.jsx(Rr,{className:"h-5 w-5 text-green-600"});case"pending":return a.jsx(zn,{className:"h-5 w-5 text-yellow-600"});case"failed":return a.jsx(Xh,{className:"h-5 w-5 text-red-600"});case"cancelled":return a.jsx(jr,{className:"h-5 w-5 text-gray-600"});default:return a.jsx(zn,{className:"h-5 w-5 text-gray-600"})}},x=()=>{switch(e.status){case"completed":return a.jsx(et,{className:"bg-green-500 text-white",children:" Completed"});case"pending":return a.jsx(et,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:" Pending"});case"failed":return a.jsx(et,{variant:"destructive",children:" Failed"});case"cancelled":return a.jsx(et,{variant:"outline",className:"border-gray-400 text-gray-600",children:" Cancelled"});default:return a.jsx(et,{variant:"outline",children:e.status})}},w=()=>{const M=e.from_user_id===(r==null?void 0:r.id);if(e.description)return e.description;switch(e.transaction_type){case"recharge":return"Wallet Top-up";case"payment":return e.qr_code_id?M?"Bus Ticket Payment":"Bus Fare Collection":M?"Payment Sent":"Payment Received";case"refund":return"Transaction Refund";case"withdrawal":return"Wallet Withdrawal";default:return"Transaction"}},_=()=>e.from_user_id===(r==null?void 0:r.id)?"outgoing":"incoming",T=()=>{navigator.clipboard.writeText(e.id),Me.success("Transaction ID copied to clipboard")},C=async()=>{try{const M=(await Sd(async()=>{const{default:R}=await import("./html2canvas.esm-CBrSDip1.js");return{default:R}},[])).default,D=(await Sd(async()=>{const{default:R}=await import("./jspdf.es.min-BcKcnNf-.js").then(z=>z.j);return{default:R}},[])).default;if(i.current){const R=await M(i.current,{scale:2,backgroundColor:"#ffffff",useCORS:!0}),z=R.toDataURL("image/png"),k=new D("portrait","mm","a4"),I=190,B=297,V=R.height*I/R.width;let F=V,$=10;for(k.addImage(z,"PNG",10,$,I,V),F-=B;F>=0;)$=F-V+10,k.addPage(),k.addImage(z,"PNG",10,$,I,V),F-=B;k.save(`receipt-${e.id.slice(0,8)}.pdf`),Me.success("Receipt downloaded successfully!")}}catch(M){console.error("Error generating PDF:",M),Me.error("Failed to generate PDF. Please try again.")}},A=async()=>{if(navigator.share)try{await navigator.share({title:"Transaction Receipt",text:`Receipt for ${w()} - ${u(e.amount)}`,url:window.location.href})}catch(M){console.error("Error sharing:",M)}else navigator.clipboard.writeText(window.location.href),Me.success("Receipt link copied to clipboard")};return a.jsx(za,{open:t,onOpenChange:n,children:a.jsxs(Va,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs($a,{children:[a.jsxs(Ha,{className:"flex items-center gap-2",children:[a.jsx(av,{className:"h-5 w-5 text-primary"}),"Transaction Receipt"]}),a.jsx(Fi,{children:"Official receipt for your transaction"})]}),a.jsxs("div",{ref:i,className:"bg-white p-8 space-y-6",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center",children:f()}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:w()}),a.jsx("p",{className:"text-gray-600",children:"Tickets E-Wallet"})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[g(),a.jsx("span",{className:"font-medium text-lg",children:e.status==="completed"?"Transaction Successful":e.status==="pending"?"Transaction Pending":e.status==="failed"?"Transaction Failed":"Transaction Cancelled"})]}),x()]}),a.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-xl",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Amount"}),a.jsxs("p",{className:`text-4xl font-bold ${_()==="incoming"?"text-green-600":"text-blue-600"}`,children:[_()==="incoming"?"+":"",u(e.amount)]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.currency})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Transaction Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Transaction ID"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("p",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:[e.id.slice(0,8),"...",e.id.slice(-4)]}),a.jsx(Ne,{variant:"ghost",size:"sm",onClick:T,className:"h-8 w-8 p-0",children:a.jsx(PA,{className:"h-3 w-3"})})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date & Time"}),a.jsx("p",{className:"font-medium",children:m(e.created_at)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Type"}),a.jsx("p",{className:"font-medium capitalize",children:e.transaction_type})]})]}),a.jsxs("div",{className:"space-y-3",children:[e.reference_id&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Reference"}),a.jsx("p",{className:"font-mono text-sm",children:e.reference_id})]}),e.completed_at&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),a.jsx("p",{className:"font-medium",children:m(e.completed_at)})]}),(e.from_user_name||e.to_user_name)&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:_()==="outgoing"?"Recipient":"Sender"}),a.jsx("p",{className:"font-medium",children:_()==="outgoing"?e.to_user_name||"Unknown":e.from_user_name||"Unknown"})]})]})]})]}),a.jsxs("div",{className:"text-center py-4 border-t",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(nr,{className:"h-4 w-4"}),a.jsx("span",{children:"Scan to verify this receipt"})]}),a.jsx("div",{className:"mt-2 w-16 h-16 bg-gray-100 rounded-lg mx-auto flex items-center justify-center",children:a.jsx(nr,{className:"h-8 w-8 text-gray-400"})})]}),a.jsxs("div",{className:"text-center text-xs text-gray-500 border-t pt-4",children:[a.jsx("p",{children:"This is an official receipt generated by Tickets E-Wallet"}),a.jsx("p",{children:"For support, contact: support@tickets-ewallet.com"}),a.jsxs("p",{className:"mt-2",children:["Generated on: ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[a.jsxs(Ne,{onClick:C,className:"flex-1 gap-2",children:[a.jsx(_i,{className:"h-4 w-4"}),"Download PDF"]}),a.jsxs(Ne,{variant:"outline",onClick:A,className:"gap-2",children:[a.jsx(NS,{className:"h-4 w-4"}),"Share"]}),a.jsxs(Ne,{variant:"outline",onClick:()=>window.print(),className:"gap-2",children:[a.jsx(jS,{className:"h-4 w-4"}),"Print"]})]})]})})}function Cfe(){const[e,t]=N.useState([]),[n,r]=N.useState([]),[i,s]=N.useState(null),[o,u]=N.useState(""),[m,f]=N.useState("all"),[g,x]=N.useState("all"),[w,_]=N.useState("date"),[T,C]=N.useState("desc"),[A,M]=N.useState(),[D,R]=N.useState(null),[z,k]=N.useState(!0),[I,B]=N.useState(1),[V,F]=N.useState(!0),[$,W]=N.useState(null),[Y,X]=N.useState(!1),[ne,J]=N.useState(!1),{profile:H}=Wt(),{t:ee,isRTL:K}=$t(),ue=20;N.useEffect(()=>{H&&(re(),de())},[H]),N.useEffect(()=>{xe()},[e,o,m,g,A,w,T]);const re=async(je=1,be=!1)=>{try{k(je===1);let Ke=qe.from("transactions").select(`
          *,
          from_profile:profiles!transactions_from_user_id_fkey(full_name),
          to_profile:profiles!transactions_to_user_id_fkey(full_name)
        `).or(`from_user_id.eq.${H==null?void 0:H.id},to_user_id.eq.${H==null?void 0:H.id}`).order("created_at",{ascending:!1}).range((je-1)*ue,je*ue-1);const{data:ze,error:Qe}=await Ke;if(Qe)throw Qe;if(ze){const ht=ze.map(Je=>{var bt,st;return{...Je,from_user_name:(bt=Je.from_profile)==null?void 0:bt.full_name,to_user_name:(st=Je.to_profile)==null?void 0:st.full_name}});t(be?Je=>[...Je,...ht]:ht),F(ze.length===ue),B(je)}}catch(Ke){console.error("Error fetching transactions:",Ke)}finally{k(!1)}},de=async()=>{try{const{data:je}=await qe.from("transactions").select("*").or(`from_user_id.eq.${H==null?void 0:H.id},to_user_id.eq.${H==null?void 0:H.id}`);if(je){const be=je.filter(Je=>Je.to_user_id===(H==null?void 0:H.id)&&Je.status==="completed").reduce((Je,bt)=>Je+bt.amount,0),Ke=je.filter(Je=>Je.from_user_id===(H==null?void 0:H.id)&&Je.status==="completed").reduce((Je,bt)=>Je+bt.amount,0),ze=je.filter(Je=>Je.status==="pending").length,Qe=new Date;Qe.setDate(1);const ht=je.filter(Je=>new Date(Je.created_at)>=Qe&&Je.status==="completed").reduce((Je,bt)=>Je+(bt.to_user_id===(H==null?void 0:H.id)?bt.amount:-bt.amount),0);R({totalIncoming:be,totalOutgoing:Ke,totalTransactions:je.length,pendingCount:ze,thisMonthTotal:ht})}}catch(je){console.error("Error calculating stats:",je)}},xe=()=>{let je=[...e];if(o){const be=o.toLowerCase();je=je.filter(Ke=>{var ze,Qe,ht;return((ze=Ke.description)==null?void 0:ze.toLowerCase().includes(be))||((Qe=Ke.from_user_name)==null?void 0:Qe.toLowerCase().includes(be))||((ht=Ke.to_user_name)==null?void 0:ht.toLowerCase().includes(be))||Ke.id.toLowerCase().includes(be)})}m!=="all"&&(je=je.filter(be=>be.transaction_type===m)),g!=="all"&&(je=je.filter(be=>be.status===g)),A!=null&&A.from&&(A!=null&&A.to)&&(je=je.filter(be=>{const Ke=new Date(be.created_at);return Ke>=A.from&&Ke<=A.to})),je.sort((be,Ke)=>{if(w==="date"){const ze=new Date(be.created_at).getTime(),Qe=new Date(Ke.created_at).getTime();return T==="desc"?Qe-ze:ze-Qe}else return T==="desc"?Ke.amount-be.amount:be.amount-Ke.amount}),r(je)},Se=()=>{V&&!z&&re(I+1,!0)},ye=je=>new Intl.NumberFormat(K?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(je),Le=je=>new Date(je).toLocaleDateString(K?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ie=je=>{const be=je.from_user_id===(H==null?void 0:H.id);switch(je.transaction_type){case"recharge":return a.jsx(cs,{className:"h-4 w-4 text-green-600"});case"payment":return je.qr_code_id?a.jsx(oi,{className:"h-4 w-4 text-blue-600"}):be?a.jsx($l,{className:"h-4 w-4 text-red-600"}):a.jsx(Wn,{className:"h-4 w-4 text-green-600"});case"refund":return a.jsx(_d,{className:"h-4 w-4 text-blue-600"});case"withdrawal":return a.jsx(XL,{className:"h-4 w-4 text-red-600"});default:return a.jsx(Ea,{className:"h-4 w-4 text-gray-600"})}},ce=je=>{switch(je){case"completed":return a.jsx(et,{className:"bg-green-500 text-white",children:"Completed"});case"pending":return a.jsx(et,{variant:"secondary",children:"Pending"});case"failed":return a.jsx(et,{variant:"destructive",children:"Failed"});case"cancelled":return a.jsx(et,{variant:"outline",children:"Cancelled"});default:return a.jsx(et,{variant:"outline",children:je})}},le=je=>je.from_user_id===(H==null?void 0:H.id)?"outgoing":"incoming",he=je=>{const be=je.from_user_id===(H==null?void 0:H.id);if(je.description)return je.description;switch(je.transaction_type){case"recharge":return"Wallet Recharge";case"payment":return je.qr_code_id?be?"Transport Payment":"Transport Fare Received":be?"Payment Sent":"Payment Received";case"refund":return"Refund";case"withdrawal":return"Withdrawal";default:return"Transaction"}},Ee=()=>{const je=["Date","Type","Description","Amount","Status","Reference"],be=n.map(Je=>[Le(Je.created_at),Je.transaction_type,he(Je),`${le(Je)==="incoming"?"+":"-"}${Je.amount}`,Je.status,Je.id]),Ke=[je,...be].map(Je=>Je.join(",")).join(`
`),ze=new Blob([Ke],{type:"text/csv"}),Qe=window.URL.createObjectURL(ze),ht=document.createElement("a");ht.href=Qe,ht.download=`transactions-${new Date().toISOString().split("T")[0]}.csv`,ht.click(),window.URL.revokeObjectURL(Qe)};return z&&I===1?a.jsx("div",{className:"flex h-full items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:ee("common.loading")})]})}):a.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[a.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:ee("transactions.title")}),a.jsx("p",{className:"text-muted-foreground",children:"View and manage your transaction history"})]}),a.jsxs(Ne,{onClick:Ee,variant:"outline",className:"gap-2",children:[a.jsx(_i,{className:"h-4 w-4"}),"Export"]})]}),D&&a.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(me,{children:a.jsxs(ge,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Wn,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Incoming"})]}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:ye(D.totalIncoming)})]})}),a.jsx(me,{children:a.jsxs(ge,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($l,{className:"h-4 w-4 text-red-600"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Outgoing"})]}),a.jsx("p",{className:"text-xl font-bold text-red-600",children:ye(D.totalOutgoing)})]})}),a.jsx(me,{children:a.jsxs(ge,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xg,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Total"})]}),a.jsx("p",{className:"text-xl font-bold",children:D.totalTransactions})]})}),a.jsx(me,{children:a.jsxs(ge,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ta,{className:"h-4 w-4 text-purple-600"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"This Month"})]}),a.jsx("p",{className:`text-xl font-bold ${D.thisMonthTotal>=0?"text-green-600":"text-red-600"}`,children:ye(Math.abs(D.thisMonthTotal))})]})})]}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"search",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(zs,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(vt,{id:"search",placeholder:"Search transactions...",value:o,onChange:je=>u(je.target.value),className:"pl-8"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Type"}),a.jsxs(It,{value:m,onValueChange:f,children:[a.jsx(Lt,{children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:"All Types"}),a.jsx(Oe,{value:"payment",children:"Payments"}),a.jsx(Oe,{value:"recharge",children:"Recharges"}),a.jsx(Oe,{value:"refund",children:"Refunds"}),a.jsx(Oe,{value:"withdrawal",children:"Withdrawals"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Status"}),a.jsxs(It,{value:g,onValueChange:x,children:[a.jsx(Lt,{children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:"All Status"}),a.jsx(Oe,{value:"completed",children:"Completed"}),a.jsx(Oe,{value:"pending",children:"Pending"}),a.jsx(Oe,{value:"failed",children:"Failed"}),a.jsx(Oe,{value:"cancelled",children:"Cancelled"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Sort By"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(It,{value:w,onValueChange:je=>_(je),children:[a.jsx(Lt,{className:"flex-1",children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"date",children:"Date"}),a.jsx(Oe,{value:"amount",children:"Amount"})]})]}),a.jsx(Ne,{variant:"outline",size:"icon",onClick:()=>C(T==="asc"?"desc":"asc"),children:a.jsx(Fte,{className:"h-4 w-4"})})]})]})]})})})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:a.jsxs(me,{children:[a.jsx(Re,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Xg,{className:"h-5 w-5"}),"Transactions (",n.length,")"]})}),a.jsx(ge,{children:n.length>0?a.jsxs("div",{className:"space-y-4",children:[n.map(je=>{const be=le(je)==="outgoing",Ke=be?je.to_user_name:je.from_user_name;return a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:bg-accent/50 cursor-pointer transition-colors",onClick:()=>s(je),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[ie(je),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h4",{className:"font-medium text-sm",children:he(je)}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:Le(je.created_at)}),Ke&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:""}),a.jsxs("span",{children:[be?"To":"From",": ",Ke]})]})]})]})]}),a.jsxs("div",{className:"text-right space-y-2",children:[a.jsxs("p",{className:`font-medium text-sm ${be?"text-red-600":"text-green-600"}`,children:[be?"-":"+",ye(je.amount)]}),ce(je.status)]})]},je.id)}),V&&a.jsx("div",{className:"text-center pt-4",children:a.jsx(Ne,{variant:"outline",onClick:Se,disabled:z,className:"gap-2",children:z?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-transparent border-t-current"}),"Loading..."]}):"Load More"})})]}):a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(Ea,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium mb-2",children:"No transactions found"}),a.jsx("p",{className:"text-sm",children:"Try adjusting your filters or make your first transaction"})]})})]})}),a.jsx(za,{open:!!i,onOpenChange:je=>!je&&s(null),children:a.jsxs(Va,{className:"sm:max-w-md",children:[a.jsxs($a,{children:[a.jsx(Ha,{children:"Transaction Details"}),a.jsx(Fi,{children:"Complete information about this transaction"})]}),i&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[ie(i),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:he(i)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:Le(i.created_at)})]})]}),a.jsx(Bi,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),a.jsxs("span",{className:`font-medium ${le(i)==="outgoing"?"text-red-600":"text-green-600"}`,children:[le(i)==="outgoing"?"-":"+",ye(i.amount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),ce(i.status)]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Type:"}),a.jsx("span",{className:"font-medium capitalize",children:i.transaction_type})]}),i.reference_id&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Reference:"}),a.jsx("span",{className:"font-mono text-sm",children:i.reference_id})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Transaction ID:"}),a.jsx("span",{className:"font-mono text-xs",children:i.id})]}),i.completed_at&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Completed:"}),a.jsx("span",{className:"text-sm",children:Le(i.completed_at)})]})]}),a.jsx(Bi,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Ne,{onClick:()=>{W(i),X(!0)},className:"w-full gap-2",children:[a.jsx(av,{className:"h-4 w-4"}),"View Receipt"]}),i.status==="completed"&&a.jsxs(Ne,{variant:"outline",onClick:()=>J(!0),className:"w-full gap-2 text-red-600 hover:text-red-700",children:[a.jsx(jr,{className:"h-4 w-4"}),"Report Issue"]})]})]})]})}),a.jsx(Efe,{transaction:$,open:Y,onOpenChange:X,userProfile:H||void 0}),a.jsx(za,{open:ne,onOpenChange:J,children:a.jsxs(Va,{className:"sm:max-w-md",children:[a.jsxs($a,{children:[a.jsxs(Ha,{className:"flex items-center gap-2",children:[a.jsx(jr,{className:"h-5 w-5 text-red-500"}),"Report Transaction Issue"]}),a.jsx(Fi,{children:"Describe the issue you're experiencing with this transaction"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"issue-type",children:"Issue Type"}),a.jsxs(It,{children:[a.jsx(Lt,{children:a.jsx(zt,{placeholder:"Select issue type"})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"unauthorized",children:"Unauthorized Transaction"}),a.jsx(Oe,{value:"wrong-amount",children:"Wrong Amount Charged"}),a.jsx(Oe,{value:"service-not-received",children:"Service Not Received"}),a.jsx(Oe,{value:"duplicate",children:"Duplicate Charge"}),a.jsx(Oe,{value:"technical",children:"Technical Issue"}),a.jsx(Oe,{value:"other",children:"Other"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",className:"w-full p-3 border rounded-lg resize-none h-24",placeholder:"Please describe the issue in detail..."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{variant:"outline",className:"flex-1",onClick:()=>J(!1),children:"Cancel"}),a.jsx(Ne,{className:"flex-1",onClick:()=>{Me.success("Issue reported successfully. Our support team will contact you soon."),J(!1)},children:"Submit Report"})]})]})]})})]})}function hi({size:e="md",text:t}){const{t:n}=$t(),r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return a.jsx("div",{className:"flex min-h-screen items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Yo,{className:`animate-spin ${r[e]} text-primary`}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t||n("common.loading")})]})})}function Tfe(){const{user:e}=Wt(),{t,isRTL:n}=$t(),[r,i]=N.useState([]),[s,o]=N.useState([]),[u,m]=N.useState(!0),[f,g]=N.useState(""),[x,w]=N.useState("all"),[_,T]=N.useState("date"),[C,A]=N.useState(null),[M,D]=N.useState(1),[R,z]=N.useState(!1);N.useEffect(()=>{k()},[]),N.useEffect(()=>{I()},[r,f,x,_]);const k=async()=>{try{const{data:W,error:Y}=await qe.from("events").select(`
          *,
          sold_tickets:user_tickets(count),
          available_tickets:max_tickets
        `).eq("is_active",!0).gte("end_date",new Date().toISOString());if(Y)throw Y;const X=(W==null?void 0:W.map(ne=>{var J,H,ee,K;return{...ne,sold_tickets:((H=(J=ne.sold_tickets)==null?void 0:J[0])==null?void 0:H.count)||0,available_tickets:ne.max_tickets-(((K=(ee=ne.sold_tickets)==null?void 0:ee[0])==null?void 0:K.count)||0)}}))||[];i(X)}catch(W){console.error("Error fetching events:",W),Me.error(t("error_fetch_events"))}finally{m(!1)}},I=()=>{let W=r.filter(Y=>{const X=Y.title.toLowerCase().includes(f.toLowerCase())||(Y.description||"").toLowerCase().includes(f.toLowerCase())||(Y.location||"").toLowerCase().includes(f.toLowerCase()),ne=x==="all"||Y.category===x;return X&&ne});W.sort((Y,X)=>{switch(_){case"date":return new Date(Y.start_date||"").getTime()-new Date(X.start_date||"").getTime();case"price_low":return(Y.price||0)-(X.price||0);case"price_high":return(X.price||0)-(Y.price||0);case"popularity":return X.sold_tickets-Y.sold_tickets;default:return 0}}),o(W)},B=async()=>{if(!(!C||!e)){if(C.available_tickets<M){Me.error(t("insufficient_tickets"));return}z(!0);try{const{data:W,error:Y}=await qe.from("wallets").select("balance").eq("user_id",e.id).single();if(Y)throw Y;const X=(C.price||0)*M;if(W.balance<X){Me.error(t("insufficient_balance"));return}const{data:ne,error:J}=await qe.rpc("purchase_event_tickets",{p_event_id:C.id,p_user_id:e.id,p_quantity:M});if(J)throw J;Me.success(t("tickets_purchased_success",{quantity:M.toString()})),A(null),D(1),k()}catch(W){console.error("Error purchasing tickets:",W),Me.error(t("error_purchase_tickets"))}finally{z(!1)}}},V=W=>new Date(W).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),F=W=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(W),$=[{value:"all",label:t("all_categories")},{value:"concert",label:t("concert")},{value:"sports",label:t("sports")},{value:"theater",label:t("theater")},{value:"conference",label:t("conference")},{value:"workshop",label:t("workshop")},{value:"other",label:t("other")}];return u?a.jsx(hi,{text:t("loading_events")}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("events")}),a.jsx("p",{className:"text-muted-foreground",children:t("events_description")})]}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(vt,{placeholder:t("search_events"),value:f,onChange:W=>g(W.target.value),className:"pl-10"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(It,{value:x,onValueChange:w,children:[a.jsxs(Lt,{className:"w-[150px]",children:[a.jsx(Gh,{className:"h-4 w-4 mr-2"}),a.jsx(zt,{})]}),a.jsx(Bt,{children:$.map(W=>a.jsx(Oe,{value:W.value,children:W.label},W.value))})]}),a.jsxs(It,{value:_,onValueChange:T,children:[a.jsx(Lt,{className:"w-[150px]",children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"date",children:t("sort_by_date")}),a.jsx(Oe,{value:"price_low",children:t("sort_by_price_low")}),a.jsx(Oe,{value:"price_high",children:t("sort_by_price_high")}),a.jsx(Oe,{value:"popularity",children:t("sort_by_popularity")})]})]})]})]})})})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((W,Y)=>a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Y*.1},children:a.jsxs(me,{className:"h-full hover:shadow-lg transition-shadow cursor-pointer",children:[a.jsx(Re,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Pe,{className:"line-clamp-2",children:W.title}),a.jsx(it,{className:"line-clamp-2 mt-2",children:W.description})]}),a.jsx(et,{variant:"secondary",className:"ml-2",children:t(W.category||"other")})]})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Ta,{className:"h-4 w-4 mr-2"}),V(W.start_date||"")]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Xo,{className:"h-4 w-4 mr-2"}),W.location]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Ca,{className:"h-4 w-4 mr-2"}),W.available_tickets," ",t("tickets_available")]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-lg font-bold",children:F(W.price||0)}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Qg,{className:"h-4 w-4 mr-1 fill-yellow-400 text-yellow-400"}),W.sold_tickets," ",t("sold")]})]}),a.jsxs(za,{children:[a.jsx(bu,{asChild:!0,children:a.jsxs(Ne,{className:"w-full",disabled:W.available_tickets===0,onClick:()=>A(W),children:[a.jsx(Oa,{className:"h-4 w-4 mr-2"}),W.available_tickets===0?t("sold_out"):t("buy_tickets")]})}),a.jsxs(Va,{children:[a.jsxs($a,{children:[a.jsx(Ha,{children:W.title}),a.jsx(Fi,{children:W.description})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsxs("strong",{children:[t("start_date"),":"]}),a.jsx("p",{children:V(W.start_date||"")})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("end_date"),":"]}),a.jsx("p",{children:V(W.end_date||"")})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("location"),":"]}),a.jsx("p",{children:W.location})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("price"),":"]}),a.jsx("p",{children:F(W.price||0)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:t("quantity")}),a.jsxs(It,{value:M.toString(),onValueChange:X=>D(parseInt(X)),children:[a.jsx(Lt,{children:a.jsx(zt,{})}),a.jsx(Bt,{children:Array.from({length:Math.min(W.available_tickets,10)},(X,ne)=>a.jsxs(Oe,{value:(ne+1).toString(),children:[ne+1," ",t("tickets")]},ne+1))})]})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"font-medium",children:[t("total"),":"]}),a.jsx("span",{className:"text-lg font-bold",children:F((W.price||0)*M)})]})}),a.jsx(Ne,{onClick:B,disabled:R,className:"w-full",children:R?a.jsx(hi,{text:t("processing")}):t("purchase_tickets")})]})]})]})]})]})},W.id))}),s.length===0&&a.jsx(me,{children:a.jsxs(ge,{className:"text-center py-12",children:[a.jsx(Oa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_events_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_events_description")})]})})]})}function Ofe(){const{user:e}=Wt(),{t,isRTL:n}=$t(),[r,i]=N.useState([]),[s,o]=N.useState([]),[u,m]=N.useState(!0),[f,g]=N.useState(""),[x,w]=N.useState("all"),[_,T]=N.useState(null);N.useEffect(()=>{e&&C()},[e]),N.useEffect(()=>{A()},[r,f,x]);const C=async()=>{if(e)try{const{data:Y,error:X}=await qe.from("user_tickets").select(`
          *,
          event:events (*)
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(X)throw X;i(Y||[])}catch(Y){console.error("Error fetching tickets:",Y),Me.error(t("error_fetch_tickets"))}finally{m(!1)}},A=()=>{let Y=r.filter(X=>{const ne=X.event.title.toLowerCase().includes(f.toLowerCase())||(X.event.description||"").toLowerCase().includes(f.toLowerCase())||(X.event.location||"").toLowerCase().includes(f.toLowerCase()),J=x==="all"||X.status===x;return ne&&J});o(Y)},M=Y=>{const X={pending:{variant:"outline",label:t("pending")},confirmed:{variant:"default",label:t("confirmed")},used:{variant:"secondary",label:t("used")},cancelled:{variant:"destructive",label:t("cancelled")}},ne=X[Y]||X.pending;return a.jsx(et,{variant:ne.variant,children:ne.label})},D=Y=>s.filter(X=>X.status===Y),R=Y=>new Date(Y).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),z=Y=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(Y),k=Y=>{var K;const X={ticketId:Y.id,eventTitle:Y.event.title,eventDate:Y.event.start_date,eventLocation:Y.event.location,userName:((K=e==null?void 0:e.user_metadata)==null?void 0:K.full_name)||(e==null?void 0:e.email),purchaseDate:Y.created_at,status:Y.status},ne=JSON.stringify(X,null,2),J=new Blob([ne],{type:"application/json"}),H=URL.createObjectURL(J),ee=document.createElement("a");ee.href=H,ee.download=`ticket-${Y.id}.json`,document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),URL.revokeObjectURL(H),Me.success(t("ticket_downloaded"))},I=Y=>{const X=`TICKET:${Y.id}:${Y.event.id}:${e==null?void 0:e.id}`;return Me.info(t("qr_code_generated")),X};if(u)return a.jsx(hi,{text:t("loading_tickets")});const B=D("confirmed"),V=D("used"),F=D("pending"),$=D("cancelled");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("my_tickets")}),a.jsx("p",{className:"text-muted-foreground",children:t("tickets_description")})]}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(vt,{placeholder:t("search_tickets"),value:f,onChange:Y=>g(Y.target.value),className:"pl-10"})]})}),a.jsxs(It,{value:x,onValueChange:w,children:[a.jsx(Lt,{className:"w-[150px]",children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:t("all_statuses")}),a.jsx(Oe,{value:"confirmed",children:t("confirmed")}),a.jsx(Oe,{value:"used",children:t("used")}),a.jsx(Oe,{value:"pending",children:t("pending")}),a.jsx(Oe,{value:"cancelled",children:t("cancelled")})]})]})]})})})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsxs(ms,{defaultValue:"active",className:"w-full",children:[a.jsxs(gs,{className:"grid w-full grid-cols-4",children:[a.jsxs(Ct,{value:"active",children:[t("active")," (",B.length,")"]}),a.jsxs(Ct,{value:"used",children:[t("used")," (",V.length,")"]}),a.jsxs(Ct,{value:"pending",children:[t("pending")," (",F.length,")"]}),a.jsxs(Ct,{value:"cancelled",children:[t("cancelled")," (",$.length,")"]})]}),a.jsx(Mt,{value:"active",className:"space-y-4",children:a.jsx(W,{tickets:B})}),a.jsx(Mt,{value:"used",className:"space-y-4",children:a.jsx(W,{tickets:V})}),a.jsx(Mt,{value:"pending",className:"space-y-4",children:a.jsx(W,{tickets:F})}),a.jsx(Mt,{value:"cancelled",className:"space-y-4",children:a.jsx(W,{tickets:$})})]})})]});function W({tickets:Y}){return Y.length===0?a.jsx(me,{children:a.jsxs(ge,{className:"text-center py-12",children:[a.jsx(Oa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_tickets_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_tickets_description")})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.map((X,ne)=>a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ne*.1},children:a.jsxs(me,{className:"h-full hover:shadow-lg transition-shadow",children:[a.jsx(Re,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(Pe,{className:"line-clamp-2",children:X.event.title}),a.jsx(it,{className:"line-clamp-1 mt-2",children:X.event.description})]}),M(X.status)]})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Ta,{className:"h-4 w-4 mr-2"}),R(X.event.start_date||"")]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Xo,{className:"h-4 w-4 mr-2"}),X.event.location]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Oa,{className:"h-4 w-4 mr-2"}),t("ticket_id"),": ",X.id.slice(0,8),"..."]})]}),a.jsx("div",{className:"text-lg font-bold",children:z(X.event.price||0)}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(za,{children:[a.jsx(bu,{asChild:!0,children:a.jsxs(Ne,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>T(X),children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),t("view")]})}),a.jsxs(Va,{children:[a.jsxs($a,{children:[a.jsx(Ha,{children:X.event.title}),a.jsx(Fi,{children:t("ticket_details")})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsxs("strong",{children:[t("ticket_id"),":"]}),a.jsx("p",{className:"font-mono",children:X.id})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("status"),":"]}),a.jsx("div",{className:"mt-1",children:M(X.status)})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("event_date"),":"]}),a.jsx("p",{children:R(X.event.start_date||"")})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("purchase_date"),":"]}),a.jsx("p",{children:R(X.created_at||"")})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsxs("strong",{children:[t("location"),":"]}),a.jsx("p",{children:X.event.location})]}),X.event.description&&a.jsxs("div",{className:"col-span-2",children:[a.jsxs("strong",{children:[t("description"),":"]}),a.jsx("p",{children:X.event.description})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Ne,{onClick:()=>I(X),className:"flex-1",disabled:X.status!=="confirmed",children:[a.jsx(nr,{className:"h-4 w-4 mr-2"}),t("show_qr_code")]}),a.jsxs(Ne,{variant:"outline",onClick:()=>k(X),className:"flex-1",children:[a.jsx(_i,{className:"h-4 w-4 mr-2"}),t("download")]})]})]})]})]})})]})]})},X.id))})}}var M2={},D2={},kR;function Mfe(){return kR||(kR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t}(D2)),D2}var R2={},IR;function kF(){return IR||(IR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t}(R2)),R2}var P2={},LR;function IF(){return LR||(LR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t}(P2)),P2}var k2={},BR;function wE(){return BR||(BR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let s=0,o="",u="",m=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const f=n[s];u?f==="\\"&&s+1<i?(s++,o+=n[s]):f===u?u="":o+=f:m?f==='"'||f==="'"?u=f:f==="]"?(m=!1,r.push(o),o=""):o+=f:f==="["?(m=!0,o&&(r.push(o),o="")):f==="."?o&&(r.push(o),o=""):o+=f,s++}return o&&r.push(o),r}e.toPath=t}(k2)),k2}var FR;function jE(){return FR||(FR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mfe(),n=kF(),r=IF(),i=wE();function s(u,m,f){if(u==null)return f;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return f;const g=u[m];return g===void 0?n.isDeepKey(m)?s(u,i.toPath(m),f):f:g}case"number":case"symbol":{typeof m=="number"&&(m=r.toKey(m));const g=u[m];return g===void 0?f:g}default:{if(Array.isArray(m))return o(u,m,f);if(Object.is(m==null?void 0:m.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return f;const g=u[m];return g===void 0?f:g}}}function o(u,m,f){if(m.length===0)return f;let g=u;for(let x=0;x<m.length;x++){if(g==null||t.isUnsafeProperty(m[x]))return f;g=g[m[x]]}return g===void 0?f:g}e.get=s}(M2)),M2}var I2,UR;function Dfe(){return UR||(UR=1,I2=jE().get),I2}var Rfe=Dfe();const du=zi(Rfe);var L2={exports:{}},Cn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zR;function Pfe(){if(zR)return Cn;zR=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),u=Symbol.for("react.server_context"),m=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),T;T=Symbol.for("react.module.reference");function C(A){if(typeof A=="object"&&A!==null){var M=A.$$typeof;switch(M){case e:switch(A=A.type,A){case n:case i:case r:case f:case g:return A;default:switch(A=A&&A.$$typeof,A){case u:case o:case m:case w:case x:case s:return A;default:return M}}case t:return M}}}return Cn.ContextConsumer=o,Cn.ContextProvider=s,Cn.Element=e,Cn.ForwardRef=m,Cn.Fragment=n,Cn.Lazy=w,Cn.Memo=x,Cn.Portal=t,Cn.Profiler=i,Cn.StrictMode=r,Cn.Suspense=f,Cn.SuspenseList=g,Cn.isAsyncMode=function(){return!1},Cn.isConcurrentMode=function(){return!1},Cn.isContextConsumer=function(A){return C(A)===o},Cn.isContextProvider=function(A){return C(A)===s},Cn.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},Cn.isForwardRef=function(A){return C(A)===m},Cn.isFragment=function(A){return C(A)===n},Cn.isLazy=function(A){return C(A)===w},Cn.isMemo=function(A){return C(A)===x},Cn.isPortal=function(A){return C(A)===t},Cn.isProfiler=function(A){return C(A)===i},Cn.isStrictMode=function(A){return C(A)===r},Cn.isSuspense=function(A){return C(A)===f},Cn.isSuspenseList=function(A){return C(A)===g},Cn.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===i||A===r||A===f||A===g||A===_||typeof A=="object"&&A!==null&&(A.$$typeof===w||A.$$typeof===x||A.$$typeof===s||A.$$typeof===o||A.$$typeof===m||A.$$typeof===T||A.getModuleId!==void 0)},Cn.typeOf=C,Cn}var VR;function kfe(){return VR||(VR=1,L2.exports=Pfe()),L2.exports}var Ife=kfe(),Aa=e=>e===0?0:e>0?1:-1,Ui=e=>typeof e=="number"&&e!=+e,dd=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ot=e=>(typeof e=="number"||e instanceof Number)&&!Ui(e),Zo=e=>ot(e)||typeof e=="string",Lfe=0,fu=e=>{var t=++Lfe;return"".concat(e||"").concat(t)},Si=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ot(t)&&typeof t!="string")return r;var s;if(dd(t)){if(n==null)return r;var o=t.indexOf("%");s=n*parseFloat(t.slice(0,o))/100}else s=+t;return Ui(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},LF=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1},is=(e,t)=>ot(e)&&ot(t)?n=>e+n*(t-e):()=>t;function Kf(e,t,n){return ot(e)&&ot(t)?e+n*(t-e):t}function BF(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):du(r,t))===n)}var Ln=e=>e===null||typeof e>"u",U0=e=>Ln(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Bfe=["viewBox","children"],Ffe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$R=["points","pathLength"],B2={svg:Bfe,polygon:$R,polyline:$R},NE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],SE=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(N.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{NE.includes(i)&&(r[i]=s=>n[i](n,s))}),r},Ufe=(e,t,n)=>r=>(e(t,n,r),null),z0=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];NE.includes(i)&&typeof s=="function"&&(r||(r={}),r[i]=Ufe(s,t,n))}),r},HR=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",qR=null,F2=null,FF=e=>{if(e===qR&&Array.isArray(F2))return F2;var t=[];return N.Children.forEach(e,n=>{Ln(n)||(Ife.isFragment(n)?t=t.concat(FF(n.props.children)):t.push(n))}),F2=t,qR=e,t};function V0(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>HR(i)):r=[HR(t)],FF(e).forEach(i=>{var s=du(i,"type.displayName")||du(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var ny=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,zfe=(e,t,n,r)=>{var i,s=(i=r&&(B2==null?void 0:B2[r]))!==null&&i!==void 0?i:[];return t.startsWith("data-")||typeof e!="function"&&(r&&s.includes(t)||Ffe.includes(t))||n&&NE.includes(t)},Yt=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var o;zfe((o=r)===null||o===void 0?void 0:o[s],s,t,n)&&(i[s]=r[s])}),i},Vfe=["children","width","height","viewBox","className","style","title","desc"];function US(){return US=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},US.apply(null,arguments)}function $fe(e,t){if(e==null)return{};var n,r,i=Hfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _E=N.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:o,style:u,title:m,desc:f}=e,g=$fe(e,Vfe),x=s||{width:r,height:i,x:0,y:0},w=ln("recharts-surface",o);return N.createElement("svg",US({},Yt(g,!0,"svg"),{className:w,width:r,height:i,style:u,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),N.createElement("title",null,m),N.createElement("desc",null,f),n)}),qfe=["children","className"];function zS(){return zS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zS.apply(null,arguments)}function Yfe(e,t){if(e==null)return{};var n,r,i=Wfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Sr=N.forwardRef((e,t)=>{var{children:n,className:r}=e,i=Yfe(e,qfe),s=ln("recharts-layer",r);return N.createElement("g",zS({className:s},Yt(i,!0),{ref:t}),n)}),UF=N.createContext(null),Gfe=()=>N.useContext(UF);function Zn(e){return function(){return e}}const zF=Math.cos,Bv=Math.sin,xo=Math.sqrt,Fv=Math.PI,ry=2*Fv,VS=Math.PI,$S=2*VS,id=1e-6,Kfe=$S-id;function VF(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Xfe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return VF;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Qfe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?VF:Xfe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,u=this._y1,m=r-t,f=i-n,g=o-t,x=u-n,w=g*g+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(w>id)if(!(Math.abs(x*m-f*g)>id)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-o,T=i-u,C=m*m+f*f,A=_*_+T*T,M=Math.sqrt(C),D=Math.sqrt(w),R=s*Math.tan((VS-Math.acos((C+w-A)/(2*M*D)))/2),z=R/D,k=R/M;Math.abs(z-1)>id&&this._append`L${t+z*g},${n+z*x}`,this._append`A${s},${s},0,0,${+(x*_>g*T)},${this._x1=t+k*m},${this._y1=n+k*f}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),m=r*Math.sin(i),f=t+u,g=n+m,x=1^o,w=o?i-s:s-i;this._x1===null?this._append`M${f},${g}`:(Math.abs(this._x1-f)>id||Math.abs(this._y1-g)>id)&&this._append`L${f},${g}`,r&&(w<0&&(w=w%$S+$S),w>Kfe?this._append`A${r},${r},0,1,${x},${t-u},${n-m}A${r},${r},0,1,${x},${this._x1=f},${this._y1=g}`:w>id&&this._append`A${r},${r},0,${+(w>=VS)},${x},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function AE(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Qfe(t)}function EE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $F(e){this._context=e}$F.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ay(e){return new $F(e)}function HF(e){return e[0]}function qF(e){return e[1]}function YF(e,t){var n=Zn(!0),r=null,i=ay,s=null,o=AE(u);e=typeof e=="function"?e:e===void 0?HF:Zn(e),t=typeof t=="function"?t:t===void 0?qF:Zn(t);function u(m){var f,g=(m=EE(m)).length,x,w=!1,_;for(r==null&&(s=i(_=o())),f=0;f<=g;++f)!(f<g&&n(x=m[f],f,m))===w&&((w=!w)?s.lineStart():s.lineEnd()),w&&s.point(+e(x,f,m),+t(x,f,m));if(_)return s=null,_+""||null}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:Zn(+m),u):e},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:Zn(+m),u):t},u.defined=function(m){return arguments.length?(n=typeof m=="function"?m:Zn(!!m),u):n},u.curve=function(m){return arguments.length?(i=m,r!=null&&(s=i(r)),u):i},u.context=function(m){return arguments.length?(m==null?r=s=null:s=i(r=m),u):r},u}function kx(e,t,n){var r=null,i=Zn(!0),s=null,o=ay,u=null,m=AE(f);e=typeof e=="function"?e:e===void 0?HF:Zn(+e),t=typeof t=="function"?t:Zn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?qF:Zn(+n);function f(x){var w,_,T,C=(x=EE(x)).length,A,M=!1,D,R=new Array(C),z=new Array(C);for(s==null&&(u=o(D=m())),w=0;w<=C;++w){if(!(w<C&&i(A=x[w],w,x))===M)if(M=!M)_=w,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),T=w-1;T>=_;--T)u.point(R[T],z[T]);u.lineEnd(),u.areaEnd()}M&&(R[w]=+e(A,w,x),z[w]=+t(A,w,x),u.point(r?+r(A,w,x):R[w],n?+n(A,w,x):z[w]))}if(D)return u=null,D+""||null}function g(){return YF().defined(i).curve(o).context(s)}return f.x=function(x){return arguments.length?(e=typeof x=="function"?x:Zn(+x),r=null,f):e},f.x0=function(x){return arguments.length?(e=typeof x=="function"?x:Zn(+x),f):e},f.x1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:Zn(+x),f):r},f.y=function(x){return arguments.length?(t=typeof x=="function"?x:Zn(+x),n=null,f):t},f.y0=function(x){return arguments.length?(t=typeof x=="function"?x:Zn(+x),f):t},f.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:Zn(+x),f):n},f.lineX0=f.lineY0=function(){return g().x(e).y(t)},f.lineY1=function(){return g().x(e).y(n)},f.lineX1=function(){return g().x(r).y(t)},f.defined=function(x){return arguments.length?(i=typeof x=="function"?x:Zn(!!x),f):i},f.curve=function(x){return arguments.length?(o=x,s!=null&&(u=o(s)),f):o},f.context=function(x){return arguments.length?(x==null?s=u=null:u=o(s=x),f):s},f}class WF{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Zfe(e){return new WF(e,!0)}function Jfe(e){return new WF(e,!1)}const CE={draw(e,t){const n=xo(t/Fv);e.moveTo(n,0),e.arc(0,0,n,0,ry)}},ehe={draw(e,t){const n=xo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},GF=xo(1/3),the=GF*2,nhe={draw(e,t){const n=xo(t/the),r=n*GF;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},rhe={draw(e,t){const n=xo(t),r=-n/2;e.rect(r,r,n,n)}},ahe=.8908130915292852,KF=Bv(Fv/10)/Bv(7*Fv/10),ihe=Bv(ry/10)*KF,she=-zF(ry/10)*KF,ohe={draw(e,t){const n=xo(t*ahe),r=ihe*n,i=she*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const o=ry*s/5,u=zF(o),m=Bv(o);e.lineTo(m*n,-u*n),e.lineTo(u*r-m*i,m*r+u*i)}e.closePath()}},U2=xo(3),lhe={draw(e,t){const n=-xo(t/(U2*3));e.moveTo(0,n*2),e.lineTo(-U2*n,-n),e.lineTo(U2*n,-n),e.closePath()}},Cs=-.5,Ts=xo(3)/2,HS=1/xo(12),che=(HS/2+1)*3,uhe={draw(e,t){const n=xo(t/che),r=n/2,i=n*HS,s=r,o=n*HS+n,u=-s,m=o;e.moveTo(r,i),e.lineTo(s,o),e.lineTo(u,m),e.lineTo(Cs*r-Ts*i,Ts*r+Cs*i),e.lineTo(Cs*s-Ts*o,Ts*s+Cs*o),e.lineTo(Cs*u-Ts*m,Ts*u+Cs*m),e.lineTo(Cs*r+Ts*i,Cs*i-Ts*r),e.lineTo(Cs*s+Ts*o,Cs*o-Ts*s),e.lineTo(Cs*u+Ts*m,Cs*m-Ts*u),e.closePath()}};function dhe(e,t){let n=null,r=AE(i);e=typeof e=="function"?e:Zn(e||CE),t=typeof t=="function"?t:Zn(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Zn(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Zn(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Uv(){}function zv(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function XF(e){this._context=e}XF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fhe(e){return new XF(e)}function QF(e){this._context=e}QF.prototype={areaStart:Uv,areaEnd:Uv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hhe(e){return new QF(e)}function ZF(e){this._context=e}ZF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function mhe(e){return new ZF(e)}function JF(e){this._context=e}JF.prototype={areaStart:Uv,areaEnd:Uv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ghe(e){return new JF(e)}function YR(e){return e<0?-1:1}function WR(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),u=(s*i+o*r)/(r+i);return(YR(s)+YR(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(u))||0}function GR(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function z2(e,t,n){var r=e._x0,i=e._y0,s=e._x1,o=e._y1,u=(s-r)/3;e._context.bezierCurveTo(r+u,i+u*t,s-u,o-u*n,s,o)}function Vv(e){this._context=e}Vv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:z2(this,this._t0,GR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,z2(this,GR(this,n=WR(this,e,t)),n);break;default:z2(this,this._t0,n=WR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function eU(e){this._context=new tU(e)}(eU.prototype=Object.create(Vv.prototype)).point=function(e,t){Vv.prototype.point.call(this,t,e)};function tU(e){this._context=e}tU.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function phe(e){return new Vv(e)}function xhe(e){return new eU(e)}function nU(e){this._context=e}nU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=KR(e),i=KR(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function KR(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function vhe(e){return new nU(e)}function iy(e,t){this._context=e,this._t=t}iy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function yhe(e){return new iy(e,.5)}function bhe(e){return new iy(e,0)}function whe(e){return new iy(e,1)}function Eh(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,u=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function qS(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function jhe(e,t){return e[t]}function Nhe(e){const t=[];return t.key=e,t}function She(){var e=Zn([]),t=qS,n=Eh,r=jhe;function i(s){var o=Array.from(e.apply(this,arguments),Nhe),u,m=o.length,f=-1,g;for(const x of s)for(u=0,++f;u<m;++u)(o[u][f]=[0,+r(x,o[u].key,f,s)]).data=x;for(u=0,g=EE(t(o));u<m;++u)o[g[u]].index=u;return n(o,g),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Zn(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Zn(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?qS:typeof s=="function"?s:Zn(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??Eh,i):n},i}function _he(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Eh(e,t)}}function Ahe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var o=0,u=0;o<i;++o)u+=e[o][n][1]||0;r[n][1]+=r[n][0]=-u/2}Eh(e,t)}}function Ehe(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var u=0,m=0,f=0;u<o;++u){for(var g=e[t[u]],x=g[r][1]||0,w=g[r-1][1]||0,_=(x-w)/2,T=0;T<u;++T){var C=e[t[T]],A=C[r][1]||0,M=C[r-1][1]||0;_+=A-M}m+=x,f+=_*x}i[r-1][1]+=i[r-1][0]=n,m&&(n-=f/m)}i[r-1][1]+=i[r-1][0]=n,Eh(e,t)}}var Che=["type","size","sizeType"];function YS(){return YS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YS.apply(null,arguments)}function XR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(n),!0).forEach(function(r){The(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function The(e,t,n){return(t=Ohe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ohe(e){var t=Mhe(e,"string");return typeof t=="symbol"?t:t+""}function Mhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dhe(e,t){if(e==null)return{};var n,r,i=Rhe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rU={symbolCircle:CE,symbolCross:ehe,symbolDiamond:nhe,symbolSquare:rhe,symbolStar:ohe,symbolTriangle:lhe,symbolWye:uhe},Phe=Math.PI/180,khe=e=>{var t="symbol".concat(U0(e));return rU[t]||CE},Ihe=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Phe;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Lhe=(e,t)=>{rU["symbol".concat(U0(e))]=t},TE=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=Dhe(e,Che),s=QR(QR({},i),{},{type:t,size:n,sizeType:r}),o=()=>{var x=khe(t),w=dhe().type(x).size(Ihe(n,r,t));return w()},{className:u,cx:m,cy:f}=s,g=Yt(s,!0);return m===+m&&f===+f&&n===+n?N.createElement("path",YS({},g,{className:ln("recharts-symbols",u),transform:"translate(".concat(m,", ").concat(f,")"),d:o()})):null};TE.registerSymbol=Lhe;function WS(){return WS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WS.apply(null,arguments)}function ZR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bhe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(n),!0).forEach(function(r){OE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OE(e,t,n){return(t=Fhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fhe(e){var t=Uhe(e,"string");return typeof t=="symbol"?t:t+""}function Uhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eo=32;class ME extends N.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=eo/2,s=eo/6,o=eo/3,u=t.inactive?r:t.color,m=n??t.type;if(m==="none")return null;if(m==="plainline")return N.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:eo,y2:i,className:"recharts-legend-icon"});if(m==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(eo,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(m==="rect")return N.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(eo/8,"h").concat(eo,"v").concat(eo*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(N.isValidElement(t.legendIcon)){var f=Bhe({},t);return delete f.legendIcon,N.cloneElement(t.legendIcon,f)}return N.createElement(TE,{fill:u,cx:i,cy:i,size:eo,sizeType:"diameter",type:m})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:o}=this.props,u={x:0,y:0,width:eo,height:eo},m={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((g,x)=>{var w=g.formatter||i,_=ln({"recharts-legend-item":!0,["legend-item-".concat(x)]:!0,inactive:g.inactive});if(g.type==="none")return null;var T=g.inactive?s:g.color,C=w?w(g.value,g,x):g.value;return N.createElement("li",WS({className:_,style:m,key:"legend-item-".concat(x)},z0(this.props,g,x)),N.createElement(_E,{width:n,height:n,viewBox:u,style:f,"aria-label":"".concat(C," legend icon")},this.renderIcon(g,o)),N.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},C))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}OE(ME,"displayName","Legend");OE(ME,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var V2={},$2={},JR;function zhe(){return JR||(JR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let s=0;s<n.length;s++){const o=n[s],u=r(o);i.has(u)||i.set(u,o)}return Array.from(i.values())}e.uniqBy=t}($2)),$2}var H2={},eP;function aU(){return eP||(eP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t}(H2)),H2}var q2={},Y2={},W2={},tP;function Vhe(){return tP||(tP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t}(W2)),W2}var nP;function DE(){return nP||(nP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vhe();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n}(Y2)),Y2}var G2={},rP;function $he(){return rP||(rP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t}(G2)),G2}var aP;function Hhe(){return aP||(aP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DE(),n=$he();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r}(q2)),q2}var K2={},X2={},iP;function qhe(){return iP||(iP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jE();function n(r){return function(i){return t.get(i,r)}}e.property=n}(X2)),X2}var Q2={},Z2={},J2={},ej={},sP;function iU(){return sP||(sP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t}(ej)),ej}var tj={},oP;function sU(){return oP||(oP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t}(tj)),tj}var nj={},lP;function RE(){return lP||(lP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t}(nj)),nj}var cP;function Yhe(){return cP||(cP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PE(),n=iU(),r=sU(),i=RE();function s(x,w,_){return typeof _!="function"?t.isMatch(x,w):o(x,w,function T(C,A,M,D,R,z){const k=_(C,A,M,D,R,z);return k!==void 0?!!k:o(C,A,T,z)},new Map)}function o(x,w,_,T){if(w===x)return!0;switch(typeof w){case"object":return u(x,w,_,T);case"function":return Object.keys(w).length>0?o(x,{...w},_,T):i.eq(x,w);default:return n.isObject(x)?typeof w=="string"?w==="":!0:i.eq(x,w)}}function u(x,w,_,T){if(w==null)return!0;if(Array.isArray(w))return f(x,w,_,T);if(w instanceof Map)return m(x,w,_,T);if(w instanceof Set)return g(x,w,_,T);const C=Object.keys(w);if(x==null)return C.length===0;if(C.length===0)return!0;if(T&&T.has(w))return T.get(w)===x;T&&T.set(w,x);try{for(let A=0;A<C.length;A++){const M=C[A];if(!r.isPrimitive(x)&&!(M in x)||w[M]===void 0&&x[M]!==void 0||w[M]===null&&x[M]!==null||!_(x[M],w[M],M,x,w,T))return!1}return!0}finally{T&&T.delete(w)}}function m(x,w,_,T){if(w.size===0)return!0;if(!(x instanceof Map))return!1;for(const[C,A]of w.entries()){const M=x.get(C);if(_(M,A,C,x,w,T)===!1)return!1}return!0}function f(x,w,_,T){if(w.length===0)return!0;if(!Array.isArray(x))return!1;const C=new Set;for(let A=0;A<w.length;A++){const M=w[A];let D=!1;for(let R=0;R<x.length;R++){if(C.has(R))continue;const z=x[R];let k=!1;if(_(z,M,A,x,w,T)&&(k=!0),k){C.add(R),D=!0;break}}if(!D)return!1}return!0}function g(x,w,_,T){return w.size===0?!0:x instanceof Set?f([...x],[...w],_,T):!1}e.isMatchWith=s,e.isSetMatch=g}(J2)),J2}var uP;function PE(){return uP||(uP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yhe();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n}(Z2)),Z2}var rj={},aj={},ij={},dP;function oU(){return dP||(dP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t}(ij)),ij}var sj={},fP;function kE(){return fP||(fP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t}(sj)),sj}var oj={},hP;function IE(){return hP||(hP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",o="[object Symbol]",u="[object Date]",m="[object Map]",f="[object Set]",g="[object Array]",x="[object Function]",w="[object ArrayBuffer]",_="[object Object]",T="[object Error]",C="[object DataView]",A="[object Uint8Array]",M="[object Uint8ClampedArray]",D="[object Uint16Array]",R="[object Uint32Array]",z="[object BigUint64Array]",k="[object Int8Array]",I="[object Int16Array]",B="[object Int32Array]",V="[object BigInt64Array]",F="[object Float32Array]",$="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=w,e.arrayTag=g,e.bigInt64ArrayTag=V,e.bigUint64ArrayTag=z,e.booleanTag=i,e.dataViewTag=C,e.dateTag=u,e.errorTag=T,e.float32ArrayTag=F,e.float64ArrayTag=$,e.functionTag=x,e.int16ArrayTag=I,e.int32ArrayTag=B,e.int8ArrayTag=k,e.mapTag=m,e.numberTag=r,e.objectTag=_,e.regexpTag=t,e.setTag=f,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=D,e.uint32ArrayTag=R,e.uint8ArrayTag=A,e.uint8ClampedArrayTag=M}(oj)),oj}var lj={},mP;function Whe(){return mP||(mP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t}(lj)),lj}var gP;function lU(){return gP||(gP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oU(),n=kE(),r=IE(),i=sU(),s=Whe();function o(g,x){return u(g,void 0,g,new Map,x)}function u(g,x,w,_=new Map,T=void 0){const C=T==null?void 0:T(g,x,w,_);if(C!=null)return C;if(i.isPrimitive(g))return g;if(_.has(g))return _.get(g);if(Array.isArray(g)){const A=new Array(g.length);_.set(g,A);for(let M=0;M<g.length;M++)A[M]=u(g[M],M,w,_,T);return Object.hasOwn(g,"index")&&(A.index=g.index),Object.hasOwn(g,"input")&&(A.input=g.input),A}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const A=new RegExp(g.source,g.flags);return A.lastIndex=g.lastIndex,A}if(g instanceof Map){const A=new Map;_.set(g,A);for(const[M,D]of g)A.set(M,u(D,M,w,_,T));return A}if(g instanceof Set){const A=new Set;_.set(g,A);for(const M of g)A.add(u(M,void 0,w,_,T));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(s.isTypedArray(g)){const A=new(Object.getPrototypeOf(g)).constructor(g.length);_.set(g,A);for(let M=0;M<g.length;M++)A[M]=u(g[M],M,w,_,T);return A}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const A=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return _.set(g,A),m(A,g,w,_,T),A}if(typeof File<"u"&&g instanceof File){const A=new File([g],g.name,{type:g.type});return _.set(g,A),m(A,g,w,_,T),A}if(g instanceof Blob){const A=new Blob([g],{type:g.type});return _.set(g,A),m(A,g,w,_,T),A}if(g instanceof Error){const A=new g.constructor;return _.set(g,A),A.message=g.message,A.name=g.name,A.stack=g.stack,A.cause=g.cause,m(A,g,w,_,T),A}if(typeof g=="object"&&f(g)){const A=Object.create(Object.getPrototypeOf(g));return _.set(g,A),m(A,g,w,_,T),A}return g}function m(g,x,w=g,_,T){const C=[...Object.keys(x),...t.getSymbols(x)];for(let A=0;A<C.length;A++){const M=C[A],D=Object.getOwnPropertyDescriptor(g,M);(D==null||D.writable)&&(g[M]=u(x[M],M,w,_,T))}}function f(g){switch(n.getTag(g)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=u,e.copyProperties=m}(aj)),aj}var pP;function Ghe(){return pP||(pP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lU();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n}(rj)),rj}var xP;function Khe(){return xP||(xP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PE(),n=Ghe();function r(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=r}(Q2)),Q2}var cj={},uj={},dj={},vP;function Xhe(){return vP||(vP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lU(),n=IE();function r(i,s){return t.cloneDeepWith(i,(o,u,m,f)=>{const g=s==null?void 0:s(o,u,m,f);if(g!=null)return g;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(x,i),x}case n.argumentsTag:{const x={};return t.copyProperties(x,i),x.length=i.length,x[Symbol.iterator]=i[Symbol.iterator],x}default:return}})}e.cloneDeepWith=r}(dj)),dj}var yP;function Qhe(){return yP||(yP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xhe();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n}(uj)),uj}var fj={},hj={},bP;function cU(){return bP||(bP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n}(hj)),hj}var mj={},wP;function Zhe(){return wP||(wP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kE();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n}(mj)),mj}var jP;function Jhe(){return jP||(jP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kF(),n=cU(),r=Zhe(),i=wE();function s(o,u){let m;if(Array.isArray(u)?m=u:typeof u=="string"&&t.isDeepKey(u)&&(o==null?void 0:o[u])==null?m=i.toPath(u):m=[u],m.length===0)return!1;let f=o;for(let g=0;g<m.length;g++){const x=m[g];if((f==null||!Object.hasOwn(f,x))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(x)&&x<f.length))return!1;f=f[x]}return!0}e.has=s}(fj)),fj}var NP;function eme(){return NP||(NP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PE(),n=IF(),r=Qhe(),i=jE(),s=Jhe();function o(u,m){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return m=r.cloneDeep(m),function(f){const g=i.get(f,u);return g===void 0?s.has(f,u):m===void 0?g===void 0:t.isMatch(g,m)}}e.matchesProperty=o}(cj)),cj}var SP;function tme(){return SP||(SP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aU(),n=qhe(),r=Khe(),i=eme();function s(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=s}(K2)),K2}var _P;function nme(){return _P||(_P=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zhe(),n=aU(),r=Hhe(),i=tme();function s(o,u=n.identity){return r.isArrayLikeObject(o)?t.uniqBy(Array.from(o),i.iteratee(u)):[]}e.uniqBy=s}(V2)),V2}var gj,AP;function rme(){return AP||(AP=1,gj=nme().uniqBy),gj}var ame=rme();const EP=zi(ame);function uU(e,t,n){return t===!0?EP(e,n):typeof t=="function"?EP(e,t):e}var pj={exports:{}},xj={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CP;function ime(){if(CP)return xj;CP=1;var e=Lh(),t=v7();function n(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,u=e.useMemo,m=e.useDebugValue;return xj.useSyncExternalStoreWithSelector=function(f,g,x,w,_){var T=s(null);if(T.current===null){var C={hasValue:!1,value:null};T.current=C}else C=T.current;T=u(function(){function M(I){if(!D){if(D=!0,R=I,I=w(I),_!==void 0&&C.hasValue){var B=C.value;if(_(B,I))return z=B}return z=I}if(B=z,r(R,I))return B;var V=w(I);return _!==void 0&&_(B,V)?(R=I,B):(R=I,z=V)}var D=!1,R,z,k=x===void 0?null:x;return[function(){return M(g())},k===null?void 0:function(){return M(k())}]},[g,x,w,_]);var A=i(f,T[0],T[1]);return o(function(){C.hasValue=!0,C.value=A},[A]),m(A),A},xj}var TP;function sme(){return TP||(TP=1,pj.exports=ime()),pj.exports}var ome=sme(),LE=N.createContext(null),lme=e=>e,fr=()=>{var e=N.useContext(LE);return e?e.store.dispatch:lme},cv=()=>{},cme=()=>cv,ume=(e,t)=>e===t;function yt(e){var t=N.useContext(LE);return ome.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:cme,t?t.store.getState:cv,t?t.store.getState:cv,t?e:cv,ume)}function dme(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function fme(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function hme(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var OP=e=>Array.isArray(e)?e:[e];function mme(e){const t=Array.isArray(e[0])?e[0]:e;return hme(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function gme(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var pme=class{constructor(e){this.value=e}deref(){return this.value}},xme=typeof WeakRef<"u"?WeakRef:pme,vme=0,MP=1;function Ix(){return{s:vme,v:void 0,o:null,p:null}}function dU(e,t={}){let n=Ix();const{resultEqualityCheck:r}=t;let i,s=0;function o(){var x;let u=n;const{length:m}=arguments;for(let w=0,_=m;w<_;w++){const T=arguments[w];if(typeof T=="function"||typeof T=="object"&&T!==null){let C=u.o;C===null&&(u.o=C=new WeakMap);const A=C.get(T);A===void 0?(u=Ix(),C.set(T,u)):u=A}else{let C=u.p;C===null&&(u.p=C=new Map);const A=C.get(T);A===void 0?(u=Ix(),C.set(T,u)):u=A}}const f=u;let g;if(u.s===MP)g=u.v;else if(g=e.apply(null,arguments),s++,r){const w=((x=i==null?void 0:i.deref)==null?void 0:x.call(i))??i;w!=null&&r(w,g)&&(g=w,s!==0&&s--),i=typeof g=="object"&&g!==null||typeof g=="function"?new xme(g):g}return f.s=MP,f.v=g,g}return o.clearCache=()=>{n=Ix(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function yme(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,o=0,u,m={},f=i.pop();typeof f=="object"&&(m=f,f=i.pop()),dme(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const g={...n,...m},{memoize:x,memoizeOptions:w=[],argsMemoize:_=dU,argsMemoizeOptions:T=[]}=g,C=OP(w),A=OP(T),M=mme(i),D=x(function(){return s++,f.apply(null,arguments)},...C),R=_(function(){o++;const k=gme(M,arguments);return u=D.apply(null,k),u},...A);return Object.assign(R,{resultFunc:f,memoizedResultFunc:D,dependencies:M,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:x,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var Ue=yme(dU),bme=Object.assign((e,t=Ue)=>{fme(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((o,u,m)=>(o[n[m]]=u,o),{}))},{withTypes:()=>bme}),vj={},yj={},bj={},DP;function wme(){return DP||(DP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const o=t(r),u=t(i);if(o===u&&o===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?u-o:o-u}return 0};e.compareValues=n}(bj)),bj}var wj={},jj={},RP;function fU(){return RP||(RP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t}(jj)),jj}var PP;function jme(){return PP||(PP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fU(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||o!=null&&Object.hasOwn(o,s)}e.isKey=i}(wj)),wj}var kP;function Nme(){return kP||(kP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wme(),n=jme(),r=wE();function i(s,o,u,m){if(s==null)return[];u=m?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const f=(_,T)=>{let C=_;for(let A=0;A<T.length&&C!=null;++A)C=C[T[A]];return C},g=(_,T)=>T==null||_==null?T:typeof _=="object"&&"key"in _?Object.hasOwn(T,_.key)?T[_.key]:f(T,_.path):typeof _=="function"?_(T):Array.isArray(_)?f(T,_):typeof T=="object"?T[_]:T,x=o.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return s.map(_=>({original:_,criteria:x.map(T=>g(T,_))})).slice().sort((_,T)=>{for(let C=0;C<x.length;C++){const A=t.compareValues(_.criteria[C],T.criteria[C],u[C]);if(A!==0)return A}return 0}).map(_=>_.original)}e.orderBy=i}(yj)),yj}var Nj={},IP;function Sme(){return IP||(IP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),o=(u,m)=>{for(let f=0;f<u.length;f++){const g=u[f];Array.isArray(g)&&m<s?o(g,m+1):i.push(g)}};return o(n,0),i}e.flatten=t}(Nj)),Nj}var Sj={},LP;function hU(){return LP||(LP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cU(),n=DE(),r=iU(),i=RE();function s(o,u,m){return r.isObject(m)&&(typeof u=="number"&&n.isArrayLike(m)&&t.isIndex(u)&&u<m.length||typeof u=="string"&&u in m)?i.eq(m[u],o):!1}e.isIterateeCall=s}(Sj)),Sj}var BP;function _me(){return BP||(BP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nme(),n=Sme(),r=hU();function i(s,...o){const u=o.length;return u>1&&r.isIterateeCall(s,o[0],o[1])?o=[]:u>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(s,n.flatten(o),["asc"])}e.sortBy=i}(vj)),vj}var _j,FP;function Ame(){return FP||(FP=1,_j=_me().sortBy),_j}var Eme=Ame();const sy=zi(Eme);var mU=e=>e.legend.settings,Cme=e=>e.legend.size,Tme=e=>e.legend.payload,Ome=Ue([Tme,mU],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?sy(r,n):r});function Mme(){return yt(Ome)}var Lx=1;function gU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=N.useState({height:0,left:0,top:0,width:0}),r=N.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-t.height)>Lx||Math.abs(o.left-t.left)>Lx||Math.abs(o.top-t.top)>Lx||Math.abs(o.width-t.width)>Lx)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Ba(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Dme=typeof Symbol=="function"&&Symbol.observable||"@@observable",UP=Dme,Aj=()=>Math.random().toString(36).substring(7).split("").join("."),Rme={INIT:`@@redux/INIT${Aj()}`,REPLACE:`@@redux/REPLACE${Aj()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Aj()}`},$v=Rme;function BE(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function pU(e,t,n){if(typeof e!="function")throw new Error(Ba(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ba(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ba(1));return n(pU)(e,t)}let r=e,i=t,s=new Map,o=s,u=0,m=!1;function f(){o===s&&(o=new Map,s.forEach((A,M)=>{o.set(M,A)}))}function g(){if(m)throw new Error(Ba(3));return i}function x(A){if(typeof A!="function")throw new Error(Ba(4));if(m)throw new Error(Ba(5));let M=!0;f();const D=u++;return o.set(D,A),function(){if(M){if(m)throw new Error(Ba(6));M=!1,f(),o.delete(D),s=null}}}function w(A){if(!BE(A))throw new Error(Ba(7));if(typeof A.type>"u")throw new Error(Ba(8));if(typeof A.type!="string")throw new Error(Ba(17));if(m)throw new Error(Ba(9));try{m=!0,i=r(i,A)}finally{m=!1}return(s=o).forEach(D=>{D()}),A}function _(A){if(typeof A!="function")throw new Error(Ba(10));r=A,w({type:$v.REPLACE})}function T(){const A=x;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(Ba(11));function D(){const z=M;z.next&&z.next(g())}return D(),{unsubscribe:A(D)}},[UP](){return this}}}return w({type:$v.INIT}),{dispatch:w,subscribe:x,getState:g,replaceReducer:_,[UP]:T}}function Pme(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:$v.INIT})>"u")throw new Error(Ba(12));if(typeof n(void 0,{type:$v.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ba(13))})}function xU(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const o=t[s];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let i;try{Pme(n)}catch(s){i=s}return function(o={},u){if(i)throw i;let m=!1;const f={};for(let g=0;g<r.length;g++){const x=r[g],w=n[x],_=o[x],T=w(_,u);if(typeof T>"u")throw u&&u.type,new Error(Ba(14));f[x]=T,m=m||T!==_}return m=m||r.length!==Object.keys(o).length,m?f:o}}function Hv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function kme(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(Ba(15))};const o={getState:i.getState,dispatch:(m,...f)=>s(m,...f)},u=e.map(m=>m(o));return s=Hv(...u)(i.dispatch),{...i,dispatch:s}}}function vU(e){return BE(e)&&"type"in e&&typeof e.type=="string"}var yU=Symbol.for("immer-nothing"),zP=Symbol.for("immer-draftable"),fs=Symbol.for("immer-state");function lo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ch=Object.getPrototypeOf;function Md(e){return!!e&&!!e[fs]}function Wl(e){var t;return e?bU(e)||Array.isArray(e)||!!e[zP]||!!((t=e.constructor)!=null&&t[zP])||ly(e)||cy(e):!1}var Ime=Object.prototype.constructor.toString();function bU(e){if(!e||typeof e!="object")return!1;const t=Ch(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Ime}function qv(e,t){oy(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function oy(e){const t=e[fs];return t?t.type_:Array.isArray(e)?1:ly(e)?2:cy(e)?3:0}function GS(e,t){return oy(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function wU(e,t,n){const r=oy(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Lme(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ly(e){return e instanceof Map}function cy(e){return e instanceof Set}function sd(e){return e.copy_||e.base_}function KS(e,t){if(ly(e))return new Map(e);if(cy(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=bU(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[fs];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],u=r[o];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[o]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[o]})}return Object.create(Ch(e),r)}else{const r=Ch(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function FE(e,t=!1){return uy(e)||Md(e)||!Wl(e)||(oy(e)>1&&(e.set=e.add=e.clear=e.delete=Bme),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>FE(r,!0))),e}function Bme(){lo(2)}function uy(e){return Object.isFrozen(e)}var Fme={};function Dd(e){const t=Fme[e];return t||lo(0,e),t}var s0;function jU(){return s0}function Ume(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function VP(e,t){t&&(Dd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function XS(e){QS(e),e.drafts_.forEach(zme),e.drafts_=null}function QS(e){e===s0&&(s0=e.parent_)}function $P(e){return s0=Ume(s0,e)}function zme(e){const t=e[fs];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function HP(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[fs].modified_&&(XS(t),lo(4)),Wl(e)&&(e=Yv(t,e),t.parent_||Wv(t,e)),t.patches_&&Dd("Patches").generateReplacementPatches_(n[fs].base_,e,t.patches_,t.inversePatches_)):e=Yv(t,n,[]),XS(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==yU?e:void 0}function Yv(e,t,n){if(uy(t))return t;const r=t[fs];if(!r)return qv(t,(i,s)=>qP(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Wv(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),qv(s,(u,m)=>qP(e,r,i,u,m,n,o)),Wv(e,i,!1),n&&e.patches_&&Dd("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function qP(e,t,n,r,i,s,o){if(Md(i)){const u=s&&t&&t.type_!==3&&!GS(t.assigned_,r)?s.concat(r):void 0,m=Yv(e,i,u);if(wU(n,r,m),Md(m))e.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Wl(i)&&!uy(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Yv(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Wv(e,i)}}function Wv(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&FE(t,n)}function Vme(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:jU(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=UE;n&&(i=[r],s=o0);const{revoke:o,proxy:u}=Proxy.revocable(i,s);return r.draft_=u,r.revoke_=o,u}var UE={get(e,t){if(t===fs)return e;const n=sd(e);if(!GS(n,t))return $me(e,n,t);const r=n[t];return e.finalized_||!Wl(r)?r:r===Ej(e.base_,t)?(Cj(e),e.copy_[t]=JS(r,e)):r},has(e,t){return t in sd(e)},ownKeys(e){return Reflect.ownKeys(sd(e))},set(e,t,n){const r=NU(sd(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Ej(sd(e),t),s=i==null?void 0:i[fs];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Lme(n,i)&&(n!==void 0||GS(e.base_,t)))return!0;Cj(e),ZS(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ej(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Cj(e),ZS(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=sd(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){lo(11)},getPrototypeOf(e){return Ch(e.base_)},setPrototypeOf(){lo(12)}},o0={};qv(UE,(e,t)=>{o0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});o0.deleteProperty=function(e,t){return o0.set.call(this,e,t,void 0)};o0.set=function(e,t,n){return UE.set.call(this,e[0],t,n,e[0])};function Ej(e,t){const n=e[fs];return(n?sd(n):e)[t]}function $me(e,t,n){var i;const r=NU(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function NU(e,t){if(!(t in e))return;let n=Ch(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ch(n)}}function ZS(e){e.modified_||(e.modified_=!0,e.parent_&&ZS(e.parent_))}function Cj(e){e.copy_||(e.copy_=KS(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Hme=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const o=this;return function(m=s,...f){return o.produce(m,g=>n.call(this,g,...f))}}typeof n!="function"&&lo(6),r!==void 0&&typeof r!="function"&&lo(7);let i;if(Wl(t)){const s=$P(this),o=JS(t,void 0);let u=!0;try{i=n(o),u=!1}finally{u?XS(s):QS(s)}return VP(s,r),HP(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===yU&&(i=void 0),this.autoFreeze_&&FE(i,!0),r){const s=[],o=[];Dd("Patches").generateReplacementPatches_(t,i,s,o),r(s,o)}return i}else lo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...u)=>this.produceWithPatches(o,m=>t(m,...u));let r,i;return[this.produce(t,n,(o,u)=>{r=o,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Wl(e)||lo(8),Md(e)&&(e=Il(e));const t=$P(this),n=JS(e,void 0);return n[fs].isManual_=!0,QS(t),n}finishDraft(e,t){const n=e&&e[fs];(!n||!n.isManual_)&&lo(9);const{scope_:r}=n;return VP(r,t),HP(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Dd("Patches").applyPatches_;return Md(e)?r(e,t):this.produce(e,i=>r(i,t))}};function JS(e,t){const n=ly(e)?Dd("MapSet").proxyMap_(e,t):cy(e)?Dd("MapSet").proxySet_(e,t):Vme(e,t);return(t?t.scope_:jU()).drafts_.push(n),n}function Il(e){return Md(e)||lo(10,e),SU(e)}function SU(e){if(!Wl(e)||uy(e))return e;const t=e[fs];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=KS(e,t.scope_.immer_.useStrictShallowCopy_)}else n=KS(e,!0);return qv(n,(r,i)=>{wU(n,r,SU(i))}),t&&(t.finalized_=!1),n}var hs=new Hme,_U=hs.produce;hs.produceWithPatches.bind(hs);hs.setAutoFreeze.bind(hs);hs.setUseStrictShallowCopy.bind(hs);hs.applyPatches.bind(hs);hs.createDraft.bind(hs);hs.finishDraft.bind(hs);function AU(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var qme=AU(),Yme=AU,Wme=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hv:Hv.apply(null,arguments)};function Bs(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(ds(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>vU(r)&&r.type===e,n}var EU=class Cg extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Cg.prototype)}static get[Symbol.species](){return Cg}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Cg(...t[0].concat(this)):new Cg(...t.concat(this))}};function YP(e){return Wl(e)?_U(e,()=>{}):e}function Bx(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function Gme(e){return typeof e=="boolean"}var Kme=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let o=new EU;return n&&(Gme(n)?o.push(qme):o.push(Yme(n.extraArgument))),o},Xme="RTK_autoBatch",WP=e=>t=>{setTimeout(t,e)},Qme=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,o=!1;const u=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:WP(10):e.type==="callback"?e.queueNotification:WP(e.timeout),f=()=>{o=!1,s&&(s=!1,u.forEach(g=>g()))};return Object.assign({},r,{subscribe(g){const x=()=>i&&g(),w=r.subscribe(x);return u.add(g),()=>{w(),u.delete(g)}},dispatch(g){var x;try{return i=!((x=g==null?void 0:g.meta)!=null&&x[Xme]),s=!i,s&&(o||(o=!0,m(f))),r.dispatch(g)}finally{i=!0}}})},Zme=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new EU(e);return r&&i.push(Qme(typeof r=="object"?r:void 0)),i};function Jme(e){const t=Kme(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(BE(n))u=xU(n);else throw new Error(ds(1));let m;typeof r=="function"?m=r(t):m=t();let f=Hv;i&&(f=Wme({trace:!1,...typeof i=="object"&&i}));const g=kme(...m),x=Zme(g);let w=typeof o=="function"?o(x):x();const _=f(...w);return pU(u,s,_)}function CU(e){const t={},n=[];let r;const i={addCase(s,o){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(ds(28));if(u in t)throw new Error(ds(29));return t[u]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function ege(e){return typeof e=="function"}function tge(e,t){let[n,r,i]=CU(t),s;if(ege(e))s=()=>YP(e());else{const u=YP(e);s=()=>u}function o(u=s(),m){let f=[n[m.type],...r.filter(({matcher:g})=>g(m)).map(({reducer:g})=>g)];return f.filter(g=>!!g).length===0&&(f=[i]),f.reduce((g,x)=>{if(x)if(Md(g)){const _=x(g,m);return _===void 0?g:_}else{if(Wl(g))return _U(g,w=>x(w,m));{const w=x(g,m);if(w===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return g},u)}return o.getInitialState=s,o}var nge="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",rge=(e=21)=>{let t="",n=e;for(;n--;)t+=nge[Math.random()*64|0];return t},age=Symbol.for("rtk-slice-createasyncthunk");function ige(e,t){return`${e}/${t}`}function sge({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[age];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(ds(11));const u=(typeof i.reducers=="function"?i.reducers(lge()):i.reducers)||{},m=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(z,k){const I=typeof z=="string"?z:z.type;if(!I)throw new Error(ds(12));if(I in f.sliceCaseReducersByType)throw new Error(ds(13));return f.sliceCaseReducersByType[I]=k,g},addMatcher(z,k){return f.sliceMatchers.push({matcher:z,reducer:k}),g},exposeAction(z,k){return f.actionCreators[z]=k,g},exposeCaseReducer(z,k){return f.sliceCaseReducersByName[z]=k,g}};m.forEach(z=>{const k=u[z],I={reducerName:z,type:ige(s,z),createNotation:typeof i.reducers=="function"};uge(k)?fge(I,k,g,t):cge(I,k,g)});function x(){const[z={},k=[],I=void 0]=typeof i.extraReducers=="function"?CU(i.extraReducers):[i.extraReducers],B={...z,...f.sliceCaseReducersByType};return tge(i.initialState,V=>{for(let F in B)V.addCase(F,B[F]);for(let F of f.sliceMatchers)V.addMatcher(F.matcher,F.reducer);for(let F of k)V.addMatcher(F.matcher,F.reducer);I&&V.addDefaultCase(I)})}const w=z=>z,_=new Map,T=new WeakMap;let C;function A(z,k){return C||(C=x()),C(z,k)}function M(){return C||(C=x()),C.getInitialState()}function D(z,k=!1){function I(V){let F=V[z];return typeof F>"u"&&k&&(F=Bx(T,I,M)),F}function B(V=w){const F=Bx(_,k,()=>new WeakMap);return Bx(F,V,()=>{const $={};for(const[W,Y]of Object.entries(i.selectors??{}))$[W]=oge(Y,V,()=>Bx(T,V,M),k);return $})}return{reducerPath:z,getSelectors:B,get selectors(){return B(I)},selectSlice:I}}const R={name:s,reducer:A,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:M,...D(o),injectInto(z,{reducerPath:k,...I}={}){const B=k??o;return z.inject({reducerPath:B,reducer:A},I),{...R,...D(B,!0)}}};return R}}function oge(e,t,n,r){function i(s,...o){let u=t(s);return typeof u>"u"&&r&&(u=n()),e(u,...o)}return i.unwrapped=e,i}var $s=sge();function lge(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function cge({type:e,reducerName:t,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!dge(r))throw new Error(ds(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,o?Bs(e,o):Bs(e))}function uge(e){return e._reducerDefinitionType==="asyncThunk"}function dge(e){return e._reducerDefinitionType==="reducerWithPrepare"}function fge({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ds(18));const{payloadCreator:s,fulfilled:o,pending:u,rejected:m,settled:f,options:g}=n,x=i(e,s,g);r.exposeAction(t,x),o&&r.addCase(x.fulfilled,o),u&&r.addCase(x.pending,u),m&&r.addCase(x.rejected,m),f&&r.addMatcher(x.settled,f),r.exposeCaseReducer(t,{fulfilled:o||Fx,pending:u||Fx,rejected:m||Fx,settled:f||Fx})}function Fx(){}var hge="task",TU="listener",OU="completed",zE="cancelled",mge=`task-${zE}`,gge=`task-${OU}`,e_=`${TU}-${zE}`,pge=`${TU}-${OU}`,dy=class{constructor(e){Fw(this,"name","TaskAbortError");Fw(this,"message");this.code=e,this.message=`${hge} ${zE} (reason: ${e})`}},VE=(e,t)=>{if(typeof e!="function")throw new TypeError(ds(32))},Gv=()=>{},MU=(e,t=Gv)=>(e.catch(t),e),DU=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),yd=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},bd=e=>{if(e.aborted){const{reason:t}=e;throw new dy(t)}};function RU(e,t){let n=Gv;return new Promise((r,i)=>{const s=()=>i(new dy(e.reason));if(e.aborted){s();return}n=DU(e,s),t.finally(()=>n()).then(r,i)}).finally(()=>{n=Gv})}var xge=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof dy?"cancelled":"rejected",error:n}}finally{t==null||t()}},Kv=e=>t=>MU(RU(e,t).then(n=>(bd(e),n))),PU=e=>{const t=Kv(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:gh}=Object,GP={},fy="listenerMiddleware",vge=(e,t)=>{const n=r=>DU(e,()=>yd(r,e.reason));return(r,i)=>{VE(r);const s=new AbortController;n(s);const o=xge(async()=>{bd(e),bd(s.signal);const u=await r({pause:Kv(s.signal),delay:PU(s.signal),signal:s.signal});return bd(s.signal),u},()=>yd(s,gge));return i!=null&&i.autoJoin&&t.push(o.catch(Gv)),{result:Kv(e)(o),cancel(){yd(s,mge)}}}},yge=(e,t)=>{const n=async(r,i)=>{bd(t);let s=()=>{};const u=[new Promise((m,f)=>{let g=e({predicate:r,effect:(x,w)=>{w.unsubscribe(),m([x,w.getState(),w.getOriginalState()])}});s=()=>{g(),f()}})];i!=null&&u.push(new Promise(m=>setTimeout(m,i,null)));try{const m=await RU(t,Promise.race(u));return bd(t),m}finally{s()}};return(r,i)=>MU(n(r,i))},kU=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=Bs(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ds(21));return VE(s),{predicate:i,type:t,effect:s}},IU=gh(e=>{const{type:t,predicate:n,effect:r}=kU(e);return{id:rge(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ds(22))}}},{withTypes:()=>IU}),KP=(e,t)=>{const{type:n,effect:r,predicate:i}=kU(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},t_=e=>{e.pending.forEach(t=>{yd(t,e_)})},bge=e=>()=>{e.forEach(t_),e.clear()},XP=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},LU=gh(Bs(`${fy}/add`),{withTypes:()=>LU}),wge=Bs(`${fy}/removeAll`),BU=gh(Bs(`${fy}/remove`),{withTypes:()=>BU}),jge=(...e)=>{console.error(`${fy}/error`,...e)},$0=(e={})=>{const t=new Map,{extra:n,onError:r=jge}=e;VE(r);const i=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),x=>{g.unsubscribe(),x!=null&&x.cancelActive&&t_(g)}),s=g=>{const x=KP(t,g)??IU(g);return i(x)};gh(s,{withTypes:()=>s});const o=g=>{const x=KP(t,g);return x&&(x.unsubscribe(),g.cancelActive&&t_(x)),!!x};gh(o,{withTypes:()=>o});const u=async(g,x,w,_)=>{const T=new AbortController,C=yge(s,T.signal),A=[];try{g.pending.add(T),await Promise.resolve(g.effect(x,gh({},w,{getOriginalState:_,condition:(M,D)=>C(M,D).then(Boolean),take:C,delay:PU(T.signal),pause:Kv(T.signal),extra:n,signal:T.signal,fork:vge(T.signal,A),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((M,D,R)=>{M!==T&&(yd(M,e_),R.delete(M))})},cancel:()=>{yd(T,e_),g.pending.delete(T)},throwIfCancelled:()=>{bd(T.signal)}})))}catch(M){M instanceof dy||XP(r,M,{raisedBy:"effect"})}finally{await Promise.all(A),yd(T,pge),g.pending.delete(T)}},m=bge(t);return{middleware:g=>x=>w=>{if(!vU(w))return x(w);if(LU.match(w))return s(w.payload);if(wge.match(w)){m();return}if(BU.match(w))return o(w.payload);let _=g.getState();const T=()=>{if(_===GP)throw new Error(ds(23));return _};let C;try{if(C=x(w),t.size>0){const A=g.getState(),M=Array.from(t.values());for(const D of M){let R=!1;try{R=D.predicate(w,A,_)}catch(z){R=!1,XP(r,z,{raisedBy:"predicate"})}R&&u(D,w,g,T)}}}finally{_=GP}return C},startListening:s,stopListening:o,clearListeners:m}};function ds(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Nge={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},FU=$s({name:"chartLayout",initialState:Nge,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Sge,setLayout:_ge,setChartSize:Age,setScale:Ege}=FU.actions,Cge=FU.reducer;function QP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ZP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(n),!0).forEach(function(r){Tge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tge(e,t,n){return(t=Oge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oge(e){var t=Mge(e,"string");return typeof t=="symbol"?t:t+""}function Mge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xv=Math.PI/180,Dge=e=>e*180/Math.PI,ta=(e,t,n,r)=>({x:e+Math.cos(-Xv*r)*n,y:t+Math.sin(-Xv*r)*n}),UU=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Rge=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},Pge=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,o=Rge({x:n,y:r},{x:i,y:s});if(o<=0)return{radius:o,angle:0};var u=(n-i)/o,m=Math.acos(u);return r>s&&(m=2*Math.PI-m),{radius:o,angle:Dge(m),angleInRadian:m}},kge=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},Ige=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return e+o*360},Lge=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:s}=Pge({x:n,y:r},t),{innerRadius:o,outerRadius:u}=t;if(i<o||i>u||i===0)return null;var{startAngle:m,endAngle:f}=kge(t),g=s,x;if(m<=f){for(;g>f;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=f}else{for(;g>m;)g-=360;for(;g<f;)g+=360;x=g>=f&&g<=m}return x?ZP(ZP({},t),{},{radius:i,angle:Ige(g,t)}):null};function JP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ds(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(n),!0).forEach(function(r){Bge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bge(e,t,n){return(t=Fge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fge(e){var t=Uge(e,"string");return typeof t=="symbol"?t:t+""}function Uge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qn(e,t,n){return Ln(e)||Ln(t)?n:Zo(t)?du(e,t,n):typeof t=="function"?t(e):n}var zge=(e,t,n,r,i)=>{var s,o=-1,u=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var m=0;m<u;m++){var f=m>0?n[m-1].coordinate:n[u-1].coordinate,g=n[m].coordinate,x=m>=u-1?n[0].coordinate:n[m+1].coordinate,w=void 0;if(Aa(g-f)!==Aa(x-g)){var _=[];if(Aa(x-g)===Aa(i[1]-i[0])){w=x;var T=g+i[1]-i[0];_[0]=Math.min(T,(T+f)/2),_[1]=Math.max(T,(T+f)/2)}else{w=f;var C=x+i[1]-i[0];_[0]=Math.min(g,(C+g)/2),_[1]=Math.max(g,(C+g)/2)}var A=[Math.min(g,(w+g)/2),Math.max(g,(w+g)/2)];if(e>A[0]&&e<=A[1]||e>=_[0]&&e<=_[1]){({index:o}=n[m]);break}}else{var M=Math.min(f,x),D=Math.max(f,x);if(e>(M+g)/2&&e<=(D+g)/2){({index:o}=n[m]);break}}}else if(t){for(var R=0;R<u;R++)if(R===0&&e<=(t[R].coordinate+t[R+1].coordinate)/2||R>0&&R<u-1&&e>(t[R].coordinate+t[R-1].coordinate)/2&&e<=(t[R].coordinate+t[R+1].coordinate)/2||R===u-1&&e>(t[R].coordinate+t[R-1].coordinate)/2){({index:o}=t[R]);break}}return o},Vge=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:o,layout:u}=t;if((u==="vertical"||u==="horizontal"&&o==="middle")&&s!=="center"&&ot(e[s]))return Ds(Ds({},e),{},{[s]:e[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&o!=="middle"&&ot(e[o]))return Ds(Ds({},e),{},{[o]:e[o]+(i||0)})}return e},sl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",zU=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,s,o=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(s=!0),u.coordinate));return i||o.push(t),s||o.push(n),o},VU=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:s,scale:o,realScaleType:u,isCategorical:m,categoricalDomain:f,tickCount:g,ticks:x,niceTicks:w,axisType:_}=e;if(!o)return null;var T=u==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,C=i==="category"&&o.bandwidth?o.bandwidth()/T:0;if(C=_==="angleAxis"&&s&&s.length>=2?Aa(s[0]-s[1])*2*C:C,x||w){var A=(x||w||[]).map((M,D)=>{var R=r?r.indexOf(M):M;return{coordinate:o(R)+C,value:M,offset:C,index:D}});return A.filter(M=>!Ui(M.coordinate))}return m&&f?f.map((M,D)=>({coordinate:o(M)+C,value:M,index:D,offset:C})):o.ticks&&g!=null?o.ticks(g).map((M,D)=>({coordinate:o(M)+C,value:M,offset:C,index:D})):o.domain().map((M,D)=>({coordinate:o(M)+C,value:r?r[M]:M,index:D,offset:C}))},ek=1e-4,$ge=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-ek,s=Math.max(r[0],r[1])+ek,o=e(t[0]),u=e(t[n-1]);(o<i||o>s||u<i||u>s)&&e.domain([t[0],t[n-1]])}},Hge=(e,t)=>{if(!t||t.length!==2||!ot(t[0])||!ot(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ot(e[0])||e[0]<n)&&(i[0]=n),(!ot(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},qge=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0,o=0;o<t;++o){var u=Ui(e[o][n][1])?e[o][n][0]:e[o][n][1];u>=0?(e[o][n][0]=i,e[o][n][1]=i+u,i=e[o][n][1]):(e[o][n][0]=s,e[o][n][1]=s+u,s=e[o][n][1])}},Yge=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0;s<t;++s){var o=Ui(e[s][n][1])?e[s][n][0]:e[s][n][1];o>=0?(e[s][n][0]=i,e[s][n][1]=i+o,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},Wge={sign:qge,expand:_he,none:Eh,silhouette:Ahe,wiggle:Ehe,positive:Yge},Gge=(e,t,n)=>{var r=Wge[n],i=She().keys(t).value((s,o)=>+qn(s,o,0)).order(qS).offset(r);return i(e)};function $E(e){return e==null?void 0:String(e)}function Qv(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:s,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ln(i[t.dataKey])){var u=BF(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var m=qn(i,Ln(o)?t.dataKey:o);return Ln(m)?null:t.scale(m)}var tk=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:s,index:o}=e;if(t.type==="category")return n[o]?n[o].coordinate+r:null;var u=qn(s,t.dataKey,t.scale.domain()[o]);return Ln(u)?null:t.scale(u)-i/2+r},Kge=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},Xge=e=>{var t=e.flat(2).filter(ot);return[Math.min(...t),Math.max(...t)]},Qge=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Zge=(e,t,n)=>{if(e!=null)return Qge(Object.keys(e).reduce((r,i)=>{var s=e[i],{stackedData:o}=s,u=o.reduce((m,f)=>{var g=Xge(f.slice(t,n+1));return[Math.min(m[0],g[0]),Math.max(m[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},nk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rd=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=sy(t,g=>g.coordinate),s=1/0,o=1,u=i.length;o<u;o++){var m=i[o],f=i[o-1];s=Math.min((m.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function ak(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return Ds(Ds({},t),{},{dataKey:n,payload:r,value:i,name:s})}function wu(e,t){if(e)return String(e);if(typeof t=="string")return t}function Jge(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return r?Lge({x:e,y:t},r):null}var e0e=(e,t,n,r)=>{var i=t.find(f=>f&&f.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:o}=r;return Ds(Ds(Ds({},r),ta(r.cx,r.cy,o,s)),{},{angle:s,radius:o})}var u=i.coordinate,{angle:m}=r;return Ds(Ds(Ds({},r),ta(r.cx,r.cy,u,m)),{},{angle:m,radius:u})}return{x:0,y:0}},t0e=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Zl=e=>e.layout.width,Jl=e=>e.layout.height,n0e=e=>e.layout.scale,$U=e=>e.layout.margin,HE=Ue(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),qE=Ue(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),HU="data-recharts-item-index",qU="data-recharts-item-data-key",hy=60;function ik(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ik(Object(n),!0).forEach(function(r){r0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r0e(e,t,n){return(t=a0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a0e(e){var t=i0e(e,"string");return typeof t=="symbol"?t:t+""}function i0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s0e=e=>e.brush.height,ga=Ue([Zl,Jl,$U,s0e,HE,qE,mU,Cme],(e,t,n,r,i,s,o,u)=>{var m=s.reduce((T,C)=>{var{orientation:A}=C;if(!C.mirror&&!C.hide){var M=typeof C.width=="number"?C.width:hy;return Fc(Fc({},T),{},{[A]:T[A]+M})}return T},{left:n.left||0,right:n.right||0}),f=i.reduce((T,C)=>{var{orientation:A}=C;return!C.mirror&&!C.hide?Fc(Fc({},T),{},{[A]:du(T,"".concat(A))+C.height}):T},{top:n.top||0,bottom:n.bottom||0}),g=Fc(Fc({},f),m),x=g.bottom;g.bottom+=r,g=Vge(g,o,u);var w=e-g.left-g.right,_=t-g.top-g.bottom;return Fc(Fc({brushBottom:x},g),{},{width:Math.max(w,0),height:Math.max(_,0)})}),o0e=Ue(ga,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),YU=Ue(Zl,Jl,(e,t)=>({x:0,y:0,width:e,height:t})),l0e=N.createContext(null),gi=()=>N.useContext(l0e)!=null,my=e=>e.brush,gy=Ue([my,ga,$U],(e,t,n)=>({height:e.height,x:ot(e.x)?e.x:t.left,y:ot(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:ot(e.width)?e.width:t.width})),YE=()=>{var e,t=gi(),n=yt(o0e),r=yt(gy),i=(e=yt(my))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},c0e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},WU=()=>{var e;return(e=yt(ga))!==null&&e!==void 0?e:c0e},WE=()=>yt(Zl),GE=()=>yt(Jl),u0e={top:0,right:0,bottom:0,left:0},d0e=()=>{var e;return(e=yt(t=>t.layout.margin))!==null&&e!==void 0?e:u0e},gn=e=>e.layout.layoutType,H0=()=>yt(gn),f0e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},GU=$s({name:"legend",initialState:f0e,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Il(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:sk,setLegendSettings:h0e,addLegendPayload:KU,removeLegendPayload:XU}=GU.actions,m0e=GU.reducer,g0e=["contextPayload"];function n_(){return n_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n_.apply(null,arguments)}function ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Th(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(n),!0).forEach(function(r){KE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KE(e,t,n){return(t=p0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p0e(e){var t=x0e(e,"string");return typeof t=="symbol"?t:t+""}function x0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v0e(e,t){if(e==null)return{};var n,r,i=y0e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function b0e(e){return e.value}function w0e(e){var{contextPayload:t}=e,n=v0e(e,g0e),r=uU(t,e.payloadUniqBy,b0e),i=Th(Th({},n),{},{payload:r});return N.isValidElement(e.content)?N.cloneElement(e.content,i):typeof e.content=="function"?N.createElement(e.content,i):N.createElement(ME,i)}function j0e(e,t,n,r,i,s){var{layout:o,align:u,verticalAlign:m}=t,f,g;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&o==="vertical"?f={left:((r||0)-s.width)/2}:f=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?g={top:((i||0)-s.height)/2}:g=m==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Th(Th({},f),g)}function N0e(e){var t=fr();return N.useEffect(()=>{t(h0e(e))},[t,e]),null}function S0e(e){var t=fr();return N.useEffect(()=>(t(sk(e)),()=>{t(sk({width:0,height:0}))}),[t,e]),null}function _0e(e){var t=Mme(),n=Gfe(),r=d0e(),{width:i,height:s,wrapperStyle:o,portal:u}=e,[m,f]=gU([t]),g=WE(),x=GE(),w=g-(r.left||0)-(r.right||0),_=_a.getWidthOrHeight(e.layout,s,i,w),T=u?o:Th(Th({position:"absolute",width:(_==null?void 0:_.width)||i||"auto",height:(_==null?void 0:_.height)||s||"auto"},j0e(o,e,r,g,x,m)),o),C=u??n;if(C==null)return null;var A=N.createElement("div",{className:"recharts-legend-wrapper",style:T,ref:f},N.createElement(N0e,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),N.createElement(S0e,{width:m.width,height:m.height}),N.createElement(w0e,n_({},e,_,{margin:r,chartWidth:g,chartHeight:x,contextPayload:t})));return Bd.createPortal(A,C)}class _a extends N.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&ot(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return N.createElement(_0e,this.props)}}KE(_a,"displayName","Legend");KE(_a,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r_.apply(null,arguments)}function lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lk(Object(n),!0).forEach(function(r){A0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A0e(e,t,n){return(t=E0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E0e(e){var t=C0e(e,"string");return typeof t=="symbol"?t:t+""}function C0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T0e(e){return Array.isArray(e)&&Zo(e[0])&&Zo(e[1])?e.join(" ~ "):e}var O0e=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:o,itemSorter:u,wrapperClassName:m,labelClassName:f,label:g,labelFormatter:x,accessibilityLayer:w=!1}=e,_=()=>{if(s&&s.length){var k={padding:0,margin:0},I=(u?sy(s,u):s).map((B,V)=>{if(B.type==="none")return null;var F=B.formatter||o||T0e,{value:$,name:W}=B,Y=$,X=W;if(F){var ne=F($,W,B,V,s);if(Array.isArray(ne))[Y,X]=ne;else if(ne!=null)Y=ne;else return null}var J=Tj({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},r);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:J},Zo(X)?N.createElement("span",{className:"recharts-tooltip-item-name"},X):null,Zo(X)?N.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,N.createElement("span",{className:"recharts-tooltip-item-value"},Y),N.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:k},I)}return null},T=Tj({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),C=Tj({margin:0},i),A=!Ln(g),M=A?g:"",D=ln("recharts-default-tooltip",m),R=ln("recharts-tooltip-label",f);A&&x&&s!==void 0&&s!==null&&(M=x(g,s));var z=w?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",r_({className:D,style:T},z),N.createElement("p",{className:R,style:C},N.isValidElement(M)?M:"".concat(M)),_())},dg="recharts-tooltip-wrapper",M0e={visibility:"hidden"};function D0e(e){var{coordinate:t,translateX:n,translateY:r}=e;return ln(dg,{["".concat(dg,"-right")]:ot(n)&&t&&ot(t.x)&&n>=t.x,["".concat(dg,"-left")]:ot(n)&&t&&ot(t.x)&&n<t.x,["".concat(dg,"-bottom")]:ot(r)&&t&&ot(t.y)&&r>=t.y,["".concat(dg,"-top")]:ot(r)&&t&&ot(t.y)&&r<t.y})}function ck(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:o,tooltipDimension:u,viewBox:m,viewBoxDimension:f}=e;if(s&&ot(s[r]))return s[r];var g=n[r]-u-(i>0?i:0),x=n[r]+i;if(t[r])return o[r]?g:x;var w=m[r];if(w==null)return 0;if(o[r]){var _=g,T=w;return _<T?Math.max(x,w):Math.max(g,w)}if(f==null)return 0;var C=x+u,A=w+f;return C>A?Math.max(g,w):Math.max(x,w)}function R0e(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function P0e(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:o,useTranslate3d:u,viewBox:m}=e,f,g,x;return o.height>0&&o.width>0&&n?(g=ck({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:m,viewBoxDimension:m.width}),x=ck({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:m,viewBoxDimension:m.height}),f=R0e({translateX:g,translateY:x,useTranslate3d:u})):f=M0e,{cssProperties:f,cssClasses:D0e({translateX:g,translateY:x,coordinate:n})}}function uk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ux(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uk(Object(n),!0).forEach(function(r){a_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a_(e,t,n){return(t=k0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k0e(e){var t=I0e(e,"string");return typeof t=="symbol"?t:t+""}function I0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class L0e extends N.PureComponent{constructor(){super(...arguments),a_(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),a_(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:o,hasPayload:u,isAnimationActive:m,offset:f,position:g,reverseDirection:x,useTranslate3d:w,viewBox:_,wrapperStyle:T,lastBoundingBox:C,innerRef:A,hasPortalFromProps:M}=this.props,{cssClasses:D,cssProperties:R}=P0e({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:f,position:g,reverseDirection:x,tooltipBox:{height:C.height,width:C.width},useTranslate3d:w,viewBox:_}),z=M?{}:Ux(Ux({transition:m&&t?"transform ".concat(r,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),k=Ux(Ux({},z),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},T);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:D,style:k,ref:A},s)}}var B0e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ju={isSsr:B0e()},QU=()=>yt(e=>e.rootProps.accessibilityLayer);function qa(e){return Number.isFinite(e)}function Oh(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function i_(){return i_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i_.apply(null,arguments)}function dk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dk(Object(n),!0).forEach(function(r){F0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function F0e(e,t,n){return(t=U0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U0e(e){var t=z0e(e,"string");return typeof t=="symbol"?t:t+""}function z0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hk={curveBasisClosed:hhe,curveBasisOpen:mhe,curveBasis:fhe,curveBumpX:Zfe,curveBumpY:Jfe,curveLinearClosed:ghe,curveLinear:ay,curveMonotoneX:phe,curveMonotoneY:xhe,curveNatural:vhe,curveStep:yhe,curveStepAfter:whe,curveStepBefore:bhe},zx=e=>qa(e.x)&&qa(e.y),fg=e=>e.x,hg=e=>e.y,V0e=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(U0(e));return(n==="curveMonotone"||n==="curveBump")&&t?hk["".concat(n).concat(t==="vertical"?"Y":"X")]:hk[n]||ay},$0e=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=e,o=V0e(t,i),u=s?n.filter(zx):n,m;if(Array.isArray(r)){var f=s?r.filter(x=>zx(x)):r,g=u.map((x,w)=>fk(fk({},x),{},{base:f[w]}));return i==="vertical"?m=kx().y(hg).x1(fg).x0(x=>x.base.x):m=kx().x(fg).y1(hg).y0(x=>x.base.y),m.defined(zx).curve(o),m(g)}return i==="vertical"&&ot(r)?m=kx().y(hg).x1(fg).x0(r):ot(r)?m=kx().x(fg).y1(hg).y0(r):m=YF().x(fg).y(hg),m.defined(zx).curve(o),m(u)},ph=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var s=n&&n.length?$0e(e):r;return N.createElement("path",i_({},Yt(e,!1),SE(e),{className:ln("recharts-curve",t),d:s===null?void 0:s,ref:i}))},H0e=["x","y","top","left","width","height","className"];function s_(){return s_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s_.apply(null,arguments)}function mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function q0e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(n),!0).forEach(function(r){Y0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y0e(e,t,n){return(t=W0e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W0e(e){var t=G0e(e,"string");return typeof t=="symbol"?t:t+""}function G0e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K0e(e,t){if(e==null)return{};var n,r,i=X0e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function X0e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Q0e=(e,t,n,r,i,s)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),Z0e=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:s=0,height:o=0,className:u}=e,m=K0e(e,H0e),f=q0e({x:t,y:n,top:r,left:i,width:s,height:o},m);return!ot(t)||!ot(n)||!ot(s)||!ot(o)||!ot(r)||!ot(i)?null:N.createElement("path",s_({},Yt(f,!0),{className:ln("recharts-cross",u),d:Q0e(t,n,s,o,r,i)}))};function J0e(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function epe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(n),!0).forEach(function(r){tpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tpe(e,t,n){return(t=npe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function npe(e){var t=rpe(e,"string");return typeof t=="symbol"?t:t+""}function rpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ps(e,t){var n=epe({},e),r=t,i=Object.keys(t),s=i.reduce((o,u)=>(o[u]===void 0&&r[u]!==void 0&&(o[u]=r[u]),o),n);return s}var Oj={},Mj={},Dj={},pk;function ape(){return pk||(pk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t}(Dj)),Dj}var xk;function ipe(){return xk||(xk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ape(),n=oU(),r=kE(),i=IE(),s=RE();function o(f,g,x){return u(f,g,void 0,void 0,void 0,void 0,x)}function u(f,g,x,w,_,T,C){const A=C(f,g,x,w,_,T);if(A!==void 0)return A;if(typeof f==typeof g)switch(typeof f){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return f===g;case"number":return f===g||Object.is(f,g);case"function":return f===g;case"object":return m(f,g,T,C)}return m(f,g,T,C)}function m(f,g,x,w){if(Object.is(f,g))return!0;let _=r.getTag(f),T=r.getTag(g);if(_===i.argumentsTag&&(_=i.objectTag),T===i.argumentsTag&&(T=i.objectTag),_!==T)return!1;switch(_){case i.stringTag:return f.toString()===g.toString();case i.numberTag:{const M=f.valueOf(),D=g.valueOf();return s.eq(M,D)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(f.valueOf(),g.valueOf());case i.regexpTag:return f.source===g.source&&f.flags===g.flags;case i.functionTag:return f===g}x=x??new Map;const C=x.get(f),A=x.get(g);if(C!=null&&A!=null)return C===g;x.set(f,g),x.set(g,f);try{switch(_){case i.mapTag:{if(f.size!==g.size)return!1;for(const[M,D]of f.entries())if(!g.has(M)||!u(D,g.get(M),M,f,g,x,w))return!1;return!0}case i.setTag:{if(f.size!==g.size)return!1;const M=Array.from(f.values()),D=Array.from(g.values());for(let R=0;R<M.length;R++){const z=M[R],k=D.findIndex(I=>u(z,I,void 0,f,g,x,w));if(k===-1)return!1;D.splice(k,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(f)!==Buffer.isBuffer(g)||f.length!==g.length)return!1;for(let M=0;M<f.length;M++)if(!u(f[M],g[M],M,f,g,x,w))return!1;return!0}case i.arrayBufferTag:return f.byteLength!==g.byteLength?!1:m(new Uint8Array(f),new Uint8Array(g),x,w);case i.dataViewTag:return f.byteLength!==g.byteLength||f.byteOffset!==g.byteOffset?!1:m(new Uint8Array(f),new Uint8Array(g),x,w);case i.errorTag:return f.name===g.name&&f.message===g.message;case i.objectTag:{if(!(m(f.constructor,g.constructor,x,w)||t.isPlainObject(f)&&t.isPlainObject(g)))return!1;const D=[...Object.keys(f),...n.getSymbols(f)],R=[...Object.keys(g),...n.getSymbols(g)];if(D.length!==R.length)return!1;for(let z=0;z<D.length;z++){const k=D[z],I=f[k];if(!Object.hasOwn(g,k))return!1;const B=g[k];if(!u(I,B,k,f,g,x,w))return!1}return!0}default:return!1}}finally{x.delete(f),x.delete(g)}}e.isEqualWith=o}(Mj)),Mj}var Rj={},vk;function spe(){return vk||(vk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(Rj)),Rj}var yk;function ope(){return yk||(yk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ipe(),n=spe();function r(i,s){return t.isEqualWith(i,s,n.noop)}e.isEqual=r}(Oj)),Oj}var Pj,bk;function lpe(){return bk||(bk=1,Pj=ope().isEqual),Pj}var cpe=lpe();const upe=zi(cpe);function dpe(e){var t={},n=()=>null,r=!1,i=null,s=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var u=o,[m,...f]=u;if(typeof m=="number"){i=e.setTimeout(s.bind(null,f),m);return}s(m),i=e.setTimeout(s.bind(null,f));return}typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),s(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}var Zv=1e-4,ZU=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],JU=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),wk=(e,t)=>n=>{var r=ZU(e,t);return JU(r,n)},fpe=(e,t)=>n=>{var r=ZU(e,t),i=[...r.map((s,o)=>s*o).slice(1),0];return JU(i,n)},jk=function(){for(var t,n,r,i,s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];if(o.length===1)switch(o[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var m=o[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([t,r,n,i]=m[1].split(")")[0].split(",").map(T=>parseFloat(T)))}}else o.length===4&&([t,r,n,i]=o);var f=wk(t,n),g=wk(r,i),x=fpe(t,n),w=T=>T>1?1:T<0?0:T,_=T=>{for(var C=T>1?1:T,A=C,M=0;M<8;++M){var D=f(A)-C,R=x(A);if(Math.abs(D-C)<Zv||R<Zv)return g(A);A=w(A-D/R)}return g(A)};return _.isStepper=!1,_},hpe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(o,u,m)=>{var f=-(o-u)*n,g=m*r,x=m+(f-g)*i/1e3,w=m*i/1e3+o;return Math.abs(w-u)<Zv&&Math.abs(x)<Zv?[u,0]:[w,x]};return s.isStepper=!0,s.dt=i,s},mpe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jk(e);case"spring":return hpe();default:if(e.split("(")[0]==="cubic-bezier")return jk(e)}return typeof e=="function"?e:null};function Nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(n),!0).forEach(function(r){gpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gpe(e,t,n){return(t=ppe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ppe(e){var t=xpe(e,"string");return typeof t=="symbol"?t:t+""}function xpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vpe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),ype=(e,t,n)=>e.map(r=>"".concat(vpe(r)," ").concat(t,"ms ").concat(n)).join(","),bpe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),l0=(e,t)=>Object.keys(t).reduce((n,r)=>Sk(Sk({},n),{},{[r]:e(r,t[r])}),{});function _k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ua(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(n),!0).forEach(function(r){wpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wpe(e,t,n){return(t=jpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jpe(e){var t=Npe(e,"string");return typeof t=="symbol"?t:t+""}function Npe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jv=(e,t,n)=>e+(t-e)*n,o_=e=>{var{from:t,to:n}=e;return t!==n},ez=(e,t,n)=>{var r=l0((i,s)=>{if(o_(s)){var[o,u]=e(s.from,s.to,s.velocity);return Ua(Ua({},s),{},{from:o,velocity:u})}return s},t);return n<1?l0((i,s)=>o_(s)?Ua(Ua({},s),{},{velocity:Jv(s.velocity,r[i].velocity,n),from:Jv(s.from,r[i].from,n)}):s,t):ez(e,r,n-1)};function Spe(e,t,n,r,i,s){var o,u=r.reduce((w,_)=>Ua(Ua({},w),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),m=()=>l0((w,_)=>_.from,u),f=()=>!Object.values(u).filter(o_).length,g=null,x=w=>{o||(o=w);var _=w-o,T=_/n.dt;u=ez(n,u,T),i(Ua(Ua(Ua({},e),t),m())),o=w,f()||(g=s.setTimeout(x))};return()=>(g=s.setTimeout(x),()=>{g()})}function _pe(e,t,n,r,i,s,o){var u=null,m=i.reduce((x,w)=>Ua(Ua({},x),{},{[w]:[e[w],t[w]]}),{}),f,g=x=>{f||(f=x);var w=(x-f)/r,_=l0((C,A)=>Jv(...A,n(w)),m);if(s(Ua(Ua(Ua({},e),t),_)),w<1)u=o.setTimeout(g);else{var T=l0((C,A)=>Jv(...A,n(1)),m);s(Ua(Ua(Ua({},e),t),T))}};return()=>(u=o.setTimeout(g),()=>{u()})}const Ape=(e,t,n,r,i,s)=>{var o=bpe(e,t);return n.isStepper===!0?Spe(e,t,n,o,i,s):_pe(e,t,n,r,o,i,s)};class Epe{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}var Cpe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function l_(){return l_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l_.apply(null,arguments)}function Tpe(e,t){if(e==null)return{};var n,r,i=Ope(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ope(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Uc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(n),!0).forEach(function(r){fd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fd(e,t,n){return(t=Mpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mpe(e){var t=Dpe(e,"string");return typeof t=="symbol"?t:t+""}function Dpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rpe(){return dpe(new Epe)}class XE extends N.PureComponent{constructor(t,n){super(t,n),fd(this,"mounted",!1),fd(this,"manager",null),fd(this,"stopJSAnimation",null),fd(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:s,to:o,children:u,duration:m,animationManager:f}=this.props;if(this.manager=f,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||m<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:o});return}if(s){if(typeof u=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:s,to:o,from:u}=this.props,{style:m}=this.state;if(r){if(!n){var f={style:i?{[i]:o}:o};this.state&&m&&(i&&m[i]!==o||!i&&m!==o)&&this.setState(f);return}if(!(upe(t.to,o)&&t.canBegin&&t.isActive)){var g=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=g||s?u:t.to;if(this.state&&m){var w={style:i?{[i]:x}:x};(i&&m[i]!==x||!i&&m!==x)&&this.setState(w)}this.runAnimation(Uc(Uc({},this.props),{},{from:x,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:r,duration:i,easing:s,begin:o,onAnimationEnd:u,onAnimationStart:m}=t,f=Ape(n,r,mpe(s),i,this.changeStyle,this.manager.getTimeoutController()),g=()=>{this.stopJSAnimation=f()};this.manager.start([m,o,g,i,u])}runAnimation(t){var{begin:n,duration:r,attributeName:i,to:s,easing:o,onAnimationStart:u,onAnimationEnd:m,children:f}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof o=="function"||typeof f=="function"||o==="spring"){this.runJSAnimation(t);return}var g=i?{[i]:s}:s,x=ype(Object.keys(g),r,o);this.manager.start([u,n,Uc(Uc({},g),{},{transition:x}),r,m])}render(){var t=this.props,{children:n,begin:r,duration:i,attributeName:s,easing:o,isActive:u,from:m,to:f,canBegin:g,onAnimationEnd:x,shouldReAnimate:w,onAnimationReStart:_,animationManager:T}=t,C=Tpe(t,Cpe),A=N.Children.count(n),M=this.state.style;if(typeof n=="function")return n(M);if(!u||A===0||i<=0)return n;var D=R=>{var{style:z={},className:k}=R.props,I=N.cloneElement(R,Uc(Uc({},C),{},{style:Uc(Uc({},z),M),className:k}));return I};return A===1?D(N.Children.only(n)):N.createElement("div",null,N.Children.map(n,R=>D(R)))}}fd(XE,"displayName","Animate");fd(XE,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var Ppe=N.createContext(null);function Gl(e){var t,n,r=N.useContext(Ppe);return N.createElement(XE,l_({},e,{animationManager:(t=(n=e.animationManager)!==null&&n!==void 0?n:r)!==null&&t!==void 0?t:Rpe()}))}function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e1.apply(null,arguments)}var Ek=(e,t,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,u=n>=0?1:-1,m=r>=0&&n>=0||r<0&&n<0?1:0,f;if(s>0&&i instanceof Array){for(var g=[0,0,0,0],x=0,w=4;x<w;x++)g[x]=i[x]>s?s:i[x];f="M".concat(e,",").concat(t+o*g[0]),g[0]>0&&(f+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(m,",").concat(e+u*g[0],",").concat(t)),f+="L ".concat(e+n-u*g[1],",").concat(t),g[1]>0&&(f+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(m,`,
        `).concat(e+n,",").concat(t+o*g[1])),f+="L ".concat(e+n,",").concat(t+r-o*g[2]),g[2]>0&&(f+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(m,`,
        `).concat(e+n-u*g[2],",").concat(t+r)),f+="L ".concat(e+u*g[3],",").concat(t+r),g[3]>0&&(f+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+r-o*g[3])),f+="Z"}else if(s>0&&i===+i&&i>0){var _=Math.min(s,i);f="M ".concat(e,",").concat(t+o*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(m,",").concat(e+u*_,",").concat(t,`
            L `).concat(e+n-u*_,",").concat(t,`
            A `).concat(_,",").concat(_,",0,0,").concat(m,",").concat(e+n,",").concat(t+o*_,`
            L `).concat(e+n,",").concat(t+r-o*_,`
            A `).concat(_,",").concat(_,",0,0,").concat(m,",").concat(e+n-u*_,",").concat(t+r,`
            L `).concat(e+u*_,",").concat(t+r,`
            A `).concat(_,",").concat(_,",0,0,").concat(m,",").concat(e,",").concat(t+r-o*_," Z")}else f="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},kpe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tz=e=>{var t=ps(e,kpe),n=N.useRef(null),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var M=n.current.getTotalLength();M&&i(M)}catch{}},[]);var{x:s,y:o,width:u,height:m,radius:f,className:g}=t,{animationEasing:x,animationDuration:w,animationBegin:_,isAnimationActive:T,isUpdateAnimationActive:C}=t;if(s!==+s||o!==+o||u!==+u||m!==+m||u===0||m===0)return null;var A=ln("recharts-rectangle",g);return C?N.createElement(Gl,{canBegin:r>0,from:{width:u,height:m,x:s,y:o},to:{width:u,height:m,x:s,y:o},duration:w,animationEasing:x,isActive:C},M=>{var{width:D,height:R,x:z,y:k}=M;return N.createElement(Gl,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:w,isActive:T,easing:x},N.createElement("path",e1({},Yt(t,!0),{className:A,d:Ek(z,k,D,R,f),ref:n})))}):N.createElement("path",e1({},Yt(t,!0),{className:A,d:Ek(s,o,u,m,f)}))};function nz(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:s}=e,o=ta(t,n,r,i),u=ta(t,n,r,s);return{points:[o,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}function c_(){return c_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c_.apply(null,arguments)}var Ipe=(e,t)=>{var n=Aa(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Vx=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:s,isExternal:o,cornerRadius:u,cornerIsExternal:m}=e,f=u*(o?1:-1)+r,g=Math.asin(u/f)/Xv,x=m?i:i+s*g,w=ta(t,n,f,x),_=ta(t,n,r,x),T=m?i-s*g:i,C=ta(t,n,f*Math.cos(g*Xv),T);return{center:w,circleTangency:_,lineTangency:C,theta:g}},rz=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:o}=e,u=Ipe(s,o),m=s+u,f=ta(t,n,i,s),g=ta(t,n,i,m),x="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>m),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(r>0){var w=ta(t,n,r,s),_=ta(t,n,r,m);x+="L ".concat(_.x,",").concat(_.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=m),`,
            `).concat(w.x,",").concat(w.y," Z")}else x+="L ".concat(t,",").concat(n," Z");return x},Lpe=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:u,startAngle:m,endAngle:f}=e,g=Aa(f-m),{circleTangency:x,lineTangency:w,theta:_}=Vx({cx:t,cy:n,radius:i,angle:m,sign:g,cornerRadius:s,cornerIsExternal:u}),{circleTangency:T,lineTangency:C,theta:A}=Vx({cx:t,cy:n,radius:i,angle:f,sign:-g,cornerRadius:s,cornerIsExternal:u}),M=u?Math.abs(m-f):Math.abs(m-f)-_-A;if(M<0)return o?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):rz({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:m,endAngle:f});var D="M ".concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(g<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(C.x,",").concat(C.y,`
  `);if(r>0){var{circleTangency:R,lineTangency:z,theta:k}=Vx({cx:t,cy:n,radius:r,angle:m,sign:g,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:I,lineTangency:B,theta:V}=Vx({cx:t,cy:n,radius:r,angle:f,sign:-g,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),F=u?Math.abs(m-f):Math.abs(m-f)-k-V;if(F<0&&s===0)return"".concat(D,"L").concat(t,",").concat(n,"Z");D+="L".concat(B.x,",").concat(B.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(F>180),",").concat(+(g>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(g<0),",").concat(z.x,",").concat(z.y,"Z")}else D+="L".concat(t,",").concat(n,"Z");return D},Bpe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},az=e=>{var t=ps(e,Bpe),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:m,startAngle:f,endAngle:g,className:x}=t;if(s<i||f===g)return null;var w=ln("recharts-sector",x),_=s-i,T=Si(o,_,0,!0),C;return T>0&&Math.abs(f-g)<360?C=Lpe({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(T,_/2),forceCornerRadius:u,cornerIsExternal:m,startAngle:f,endAngle:g}):C=rz({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:f,endAngle:g}),N.createElement("path",c_({},Yt(t,!0),{className:w,d:C}))};function Fpe(e,t,n){var r,i,s,o;if(e==="horizontal")r=t.x,s=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,s=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:m,innerRadius:f,outerRadius:g,angle:x}=t,w=ta(u,m,f,x),_=ta(u,m,g,x);r=w.x,i=w.y,s=_.x,o=_.y}else return nz(t);return[{x:r,y:i},{x:s,y:o}]}var kj={},Ij={},Lj={},Ck;function Upe(){return Ck||(Ck=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fU();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n}(Lj)),Lj}var Tk;function zpe(){return Tk||(Tk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Upe();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n}(Ij)),Ij}var Ok;function Vpe(){return Ok||(Ok=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hU(),n=zpe();function r(i,s,o){o&&typeof o!="number"&&t.isIterateeCall(i,s,o)&&(s=o=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),o=o===void 0?i<s?1:-1:n.toFinite(o);const u=Math.max(Math.ceil((s-i)/(o||1)),0),m=new Array(u);for(let f=0;f<u;f++)m[f]=i,i+=o;return m}e.range=r}(kj)),kj}var Bj,Mk;function $pe(){return Mk||(Mk=1,Bj=Vpe().range),Bj}var Hpe=$pe();const iz=zi(Hpe);function Qc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qpe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function QE(e){let t,n,r;e.length!==2?(t=Qc,n=(u,m)=>Qc(e(u),m),r=(u,m)=>e(u)-m):(t=e===Qc||e===qpe?e:Ype,n=e,r=e);function i(u,m,f=0,g=u.length){if(f<g){if(t(m,m)!==0)return g;do{const x=f+g>>>1;n(u[x],m)<0?f=x+1:g=x}while(f<g)}return f}function s(u,m,f=0,g=u.length){if(f<g){if(t(m,m)!==0)return g;do{const x=f+g>>>1;n(u[x],m)<=0?f=x+1:g=x}while(f<g)}return f}function o(u,m,f=0,g=u.length){const x=i(u,m,f,g-1);return x>f&&r(u[x-1],m)>-r(u[x],m)?x-1:x}return{left:i,center:o,right:s}}function Ype(){return 0}function sz(e){return e===null?NaN:+e}function*Wpe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Gpe=QE(Qc),q0=Gpe.right;QE(sz).center;class Dk extends Map{constructor(t,n=Qpe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Rk(this,t))}has(t){return super.has(Rk(this,t))}set(t,n){return super.set(Kpe(this,t),n)}delete(t){return super.delete(Xpe(this,t))}}function Rk({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Kpe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Xpe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Qpe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Zpe(e=Qc){if(e===Qc)return oz;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function oz(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Jpe=Math.sqrt(50),exe=Math.sqrt(10),txe=Math.sqrt(2);function t1(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=Jpe?10:s>=exe?5:s>=txe?2:1;let u,m,f;return i<0?(f=Math.pow(10,-i)/o,u=Math.round(e*f),m=Math.round(t*f),u/f<e&&++u,m/f>t&&--m,f=-f):(f=Math.pow(10,i)*o,u=Math.round(e/f),m=Math.round(t/f),u*f<e&&++u,m*f>t&&--m),m<u&&.5<=n&&n<2?t1(e,t,n*2):[u,m,f]}function u_(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?t1(t,e,n):t1(e,t,n);if(!(s>=i))return[];const u=s-i+1,m=new Array(u);if(r)if(o<0)for(let f=0;f<u;++f)m[f]=(s-f)/-o;else for(let f=0;f<u;++f)m[f]=(s-f)*o;else if(o<0)for(let f=0;f<u;++f)m[f]=(i+f)/-o;else for(let f=0;f<u;++f)m[f]=(i+f)*o;return m}function d_(e,t,n){return t=+t,e=+e,n=+n,t1(e,t,n)[2]}function f_(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?d_(t,e,n):d_(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Pk(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function kk(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function lz(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?oz:Zpe(i);r>n;){if(r-n>600){const m=r-n+1,f=t-n+1,g=Math.log(m),x=.5*Math.exp(2*g/3),w=.5*Math.sqrt(g*x*(m-x)/m)*(f-m/2<0?-1:1),_=Math.max(n,Math.floor(t-f*x/m+w)),T=Math.min(r,Math.floor(t+(m-f)*x/m+w));lz(e,t,_,T,i)}const s=e[t];let o=n,u=r;for(mg(e,n,t),i(e[r],s)>0&&mg(e,n,r);o<u;){for(mg(e,o,u),++o,--u;i(e[o],s)<0;)++o;for(;i(e[u],s)>0;)--u}i(e[n],s)===0?mg(e,n,u):(++u,mg(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function mg(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function nxe(e,t,n){if(e=Float64Array.from(Wpe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return kk(e);if(t>=1)return Pk(e);var r,i=(r-1)*t,s=Math.floor(i),o=Pk(lz(e,s).subarray(0,s+1)),u=kk(e.subarray(s+1));return o+(u-o)*(i-s)}}function rxe(e,t,n=sz){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),o=+n(e[s],s,e),u=+n(e[s+1],s+1,e);return o+(u-o)*(i-s)}}function axe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function Hs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ec(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const h_=Symbol("implicit");function ZE(){var e=new Dk,t=[],n=[],r=h_;function i(s){let o=e.get(s);if(o===void 0){if(r!==h_)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Dk;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return ZE(t,n).unknown(r)},Hs.apply(i,arguments),i}function JE(){var e=ZE().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,u=!1,m=0,f=0,g=.5;delete e.unknown;function x(){var w=t().length,_=i<r,T=_?i:r,C=_?r:i;s=(C-T)/Math.max(1,w-m+f*2),u&&(s=Math.floor(s)),T+=(C-T-s*(w-m))*g,o=s*(1-m),u&&(T=Math.round(T),o=Math.round(o));var A=axe(w).map(function(M){return T+s*M});return n(_?A.reverse():A)}return e.domain=function(w){return arguments.length?(t(w),x()):t()},e.range=function(w){return arguments.length?([r,i]=w,r=+r,i=+i,x()):[r,i]},e.rangeRound=function(w){return[r,i]=w,r=+r,i=+i,u=!0,x()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(w){return arguments.length?(u=!!w,x()):u},e.padding=function(w){return arguments.length?(m=Math.min(1,f=+w),x()):m},e.paddingInner=function(w){return arguments.length?(m=Math.min(1,w),x()):m},e.paddingOuter=function(w){return arguments.length?(f=+w,x()):f},e.align=function(w){return arguments.length?(g=Math.max(0,Math.min(1,w)),x()):g},e.copy=function(){return JE(t(),[r,i]).round(u).paddingInner(m).paddingOuter(f).align(g)},Hs.apply(x(),arguments)}function cz(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return cz(t())},e}function ixe(){return cz(JE.apply(null,arguments).paddingInner(1))}function eC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function uz(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Y0(){}var c0=.7,n1=1/c0,xh="\\s*([+-]?\\d+)\\s*",u0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Go="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sxe=/^#([0-9a-f]{3,8})$/,oxe=new RegExp(`^rgb\\(${xh},${xh},${xh}\\)$`),lxe=new RegExp(`^rgb\\(${Go},${Go},${Go}\\)$`),cxe=new RegExp(`^rgba\\(${xh},${xh},${xh},${u0}\\)$`),uxe=new RegExp(`^rgba\\(${Go},${Go},${Go},${u0}\\)$`),dxe=new RegExp(`^hsl\\(${u0},${Go},${Go}\\)$`),fxe=new RegExp(`^hsla\\(${u0},${Go},${Go},${u0}\\)$`),Ik={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};eC(Y0,d0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Lk,formatHex:Lk,formatHex8:hxe,formatHsl:mxe,formatRgb:Bk,toString:Bk});function Lk(){return this.rgb().formatHex()}function hxe(){return this.rgb().formatHex8()}function mxe(){return dz(this).formatHsl()}function Bk(){return this.rgb().formatRgb()}function d0(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=sxe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Fk(t):n===3?new Li(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?$x(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?$x(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=oxe.exec(e))?new Li(t[1],t[2],t[3],1):(t=lxe.exec(e))?new Li(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cxe.exec(e))?$x(t[1],t[2],t[3],t[4]):(t=uxe.exec(e))?$x(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dxe.exec(e))?Vk(t[1],t[2]/100,t[3]/100,1):(t=fxe.exec(e))?Vk(t[1],t[2]/100,t[3]/100,t[4]):Ik.hasOwnProperty(e)?Fk(Ik[e]):e==="transparent"?new Li(NaN,NaN,NaN,0):null}function Fk(e){return new Li(e>>16&255,e>>8&255,e&255,1)}function $x(e,t,n,r){return r<=0&&(e=t=n=NaN),new Li(e,t,n,r)}function gxe(e){return e instanceof Y0||(e=d0(e)),e?(e=e.rgb(),new Li(e.r,e.g,e.b,e.opacity)):new Li}function m_(e,t,n,r){return arguments.length===1?gxe(e):new Li(e,t,n,r??1)}function Li(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}eC(Li,m_,uz(Y0,{brighter(e){return e=e==null?n1:Math.pow(n1,e),new Li(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?c0:Math.pow(c0,e),new Li(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Li(wd(this.r),wd(this.g),wd(this.b),r1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Uk,formatHex:Uk,formatHex8:pxe,formatRgb:zk,toString:zk}));function Uk(){return`#${hd(this.r)}${hd(this.g)}${hd(this.b)}`}function pxe(){return`#${hd(this.r)}${hd(this.g)}${hd(this.b)}${hd((isNaN(this.opacity)?1:this.opacity)*255)}`}function zk(){const e=r1(this.opacity);return`${e===1?"rgb(":"rgba("}${wd(this.r)}, ${wd(this.g)}, ${wd(this.b)}${e===1?")":`, ${e})`}`}function r1(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function wd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function hd(e){return e=wd(e),(e<16?"0":"")+e.toString(16)}function Vk(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new co(e,t,n,r)}function dz(e){if(e instanceof co)return new co(e.h,e.s,e.l,e.opacity);if(e instanceof Y0||(e=d0(e)),!e)return new co;if(e instanceof co)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,u=s-i,m=(s+i)/2;return u?(t===s?o=(n-r)/u+(n<r)*6:n===s?o=(r-t)/u+2:o=(t-n)/u+4,u/=m<.5?s+i:2-s-i,o*=60):u=m>0&&m<1?0:o,new co(o,u,m,e.opacity)}function xxe(e,t,n,r){return arguments.length===1?dz(e):new co(e,t,n,r??1)}function co(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}eC(co,xxe,uz(Y0,{brighter(e){return e=e==null?n1:Math.pow(n1,e),new co(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?c0:Math.pow(c0,e),new co(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Li(Fj(e>=240?e-240:e+120,i,r),Fj(e,i,r),Fj(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new co($k(this.h),Hx(this.s),Hx(this.l),r1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=r1(this.opacity);return`${e===1?"hsl(":"hsla("}${$k(this.h)}, ${Hx(this.s)*100}%, ${Hx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function $k(e){return e=(e||0)%360,e<0?e+360:e}function Hx(e){return Math.max(0,Math.min(1,e||0))}function Fj(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const tC=e=>()=>e;function vxe(e,t){return function(n){return e+n*t}}function yxe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function bxe(e){return(e=+e)==1?fz:function(t,n){return n-t?yxe(t,n,e):tC(isNaN(t)?n:t)}}function fz(e,t){var n=t-e;return n?vxe(e,n):tC(isNaN(e)?t:e)}const Hk=function e(t){var n=bxe(t);function r(i,s){var o=n((i=m_(i)).r,(s=m_(s)).r),u=n(i.g,s.g),m=n(i.b,s.b),f=fz(i.opacity,s.opacity);return function(g){return i.r=o(g),i.g=u(g),i.b=m(g),i.opacity=f(g),i+""}}return r.gamma=e,r}(1);function wxe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function jxe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Nxe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=nm(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(u){for(o=0;o<r;++o)s[o]=i[o](u);return s}}function Sxe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function a1(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function _xe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=nm(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var g_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Uj=new RegExp(g_.source,"g");function Axe(e){return function(){return e}}function Exe(e){return function(t){return e(t)+""}}function Cxe(e,t){var n=g_.lastIndex=Uj.lastIndex=0,r,i,s,o=-1,u=[],m=[];for(e=e+"",t=t+"";(r=g_.exec(e))&&(i=Uj.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),u[o]?u[o]+=s:u[++o]=s),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,m.push({i:o,x:a1(r,i)})),n=Uj.lastIndex;return n<t.length&&(s=t.slice(n),u[o]?u[o]+=s:u[++o]=s),u.length<2?m[0]?Exe(m[0].x):Axe(t):(t=m.length,function(f){for(var g=0,x;g<t;++g)u[(x=m[g]).i]=x.x(f);return u.join("")})}function nm(e,t){var n=typeof t,r;return t==null||n==="boolean"?tC(t):(n==="number"?a1:n==="string"?(r=d0(t))?(t=r,Hk):Cxe:t instanceof d0?Hk:t instanceof Date?Sxe:jxe(t)?wxe:Array.isArray(t)?Nxe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?_xe:a1)(e,t)}function nC(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Txe(e,t){t===void 0&&(t=e,e=nm);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[u](o-u)}}function Oxe(e){return function(){return e}}function i1(e){return+e}var qk=[0,1];function Ni(e){return e}function p_(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Oxe(isNaN(t)?NaN:.5)}function Mxe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Dxe(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=p_(i,r),s=n(o,s)):(r=p_(r,i),s=n(s,o)),function(u){return s(r(u))}}function Rxe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=p_(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(u){var m=q0(e,u,1,r)-1;return s[m](i[m](u))}}function W0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function py(){var e=qk,t=qk,n=nm,r,i,s,o=Ni,u,m,f;function g(){var w=Math.min(e.length,t.length);return o!==Ni&&(o=Mxe(e[0],e[w-1])),u=w>2?Rxe:Dxe,m=f=null,x}function x(w){return w==null||isNaN(w=+w)?s:(m||(m=u(e.map(r),t,n)))(r(o(w)))}return x.invert=function(w){return o(i((f||(f=u(t,e.map(r),a1)))(w)))},x.domain=function(w){return arguments.length?(e=Array.from(w,i1),g()):e.slice()},x.range=function(w){return arguments.length?(t=Array.from(w),g()):t.slice()},x.rangeRound=function(w){return t=Array.from(w),n=nC,g()},x.clamp=function(w){return arguments.length?(o=w?!0:Ni,g()):o!==Ni},x.interpolate=function(w){return arguments.length?(n=w,g()):n},x.unknown=function(w){return arguments.length?(s=w,x):s},function(w,_){return r=w,i=_,g()}}function rC(){return py()(Ni,Ni)}function Pxe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function s1(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Mh(e){return e=s1(Math.abs(e)),e?e[1]:NaN}function kxe(e,t){return function(n,r){for(var i=n.length,s=[],o=0,u=e[0],m=0;i>0&&u>0&&(m+u+1>r&&(u=Math.max(1,r-m)),s.push(n.substring(i-=u,i+u)),!((m+=u+1)>r));)u=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Ixe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Lxe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function f0(e){if(!(t=Lxe.exec(e)))throw new Error("invalid format: "+e);var t;return new aC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}f0.prototype=aC.prototype;function aC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}aC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Bxe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var hz;function Fxe(e,t){var n=s1(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(hz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+s1(e,Math.max(0,t+s-1))[0]}function Yk(e,t){var n=s1(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Wk={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Pxe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Yk(e*100,t),r:Yk,s:Fxe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Gk(e){return e}var Kk=Array.prototype.map,Xk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Uxe(e){var t=e.grouping===void 0||e.thousands===void 0?Gk:kxe(Kk.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Gk:Ixe(Kk.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function f(x){x=f0(x);var w=x.fill,_=x.align,T=x.sign,C=x.symbol,A=x.zero,M=x.width,D=x.comma,R=x.precision,z=x.trim,k=x.type;k==="n"?(D=!0,k="g"):Wk[k]||(R===void 0&&(R=12),z=!0,k="g"),(A||w==="0"&&_==="=")&&(A=!0,w="0",_="=");var I=C==="$"?n:C==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",B=C==="$"?r:/[%p]/.test(k)?o:"",V=Wk[k],F=/[defgprs%]/.test(k);R=R===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function $(W){var Y=I,X=B,ne,J,H;if(k==="c")X=V(W)+X,W="";else{W=+W;var ee=W<0||1/W<0;if(W=isNaN(W)?m:V(Math.abs(W),R),z&&(W=Bxe(W)),ee&&+W==0&&T!=="+"&&(ee=!1),Y=(ee?T==="("?T:u:T==="-"||T==="("?"":T)+Y,X=(k==="s"?Xk[8+hz/3]:"")+X+(ee&&T==="("?")":""),F){for(ne=-1,J=W.length;++ne<J;)if(H=W.charCodeAt(ne),48>H||H>57){X=(H===46?i+W.slice(ne+1):W.slice(ne))+X,W=W.slice(0,ne);break}}}D&&!A&&(W=t(W,1/0));var K=Y.length+W.length+X.length,ue=K<M?new Array(M-K+1).join(w):"";switch(D&&A&&(W=t(ue+W,ue.length?M-X.length:1/0),ue=""),_){case"<":W=Y+W+X+ue;break;case"=":W=Y+ue+W+X;break;case"^":W=ue.slice(0,K=ue.length>>1)+Y+W+X+ue.slice(K);break;default:W=ue+Y+W+X;break}return s(W)}return $.toString=function(){return x+""},$}function g(x,w){var _=f((x=f0(x),x.type="f",x)),T=Math.max(-8,Math.min(8,Math.floor(Mh(w)/3)))*3,C=Math.pow(10,-T),A=Xk[8+T/3];return function(M){return _(C*M)+A}}return{format:f,formatPrefix:g}}var qx,iC,mz;zxe({thousands:",",grouping:[3],currency:["$",""]});function zxe(e){return qx=Uxe(e),iC=qx.format,mz=qx.formatPrefix,qx}function Vxe(e){return Math.max(0,-Mh(Math.abs(e)))}function $xe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Mh(t)/3)))*3-Mh(Math.abs(e)))}function Hxe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Mh(t)-Mh(e))+1}function gz(e,t,n,r){var i=f_(e,t,n),s;switch(r=f0(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=$xe(i,o))&&(r.precision=s),mz(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Hxe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Vxe(i))&&(r.precision=s-(r.type==="%")*2);break}}return iC(r)}function Nu(e){var t=e.domain;return e.ticks=function(n){var r=t();return u_(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return gz(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],u=r[s],m,f,g=10;for(u<o&&(f=o,o=u,u=f,f=i,i=s,s=f);g-- >0;){if(f=d_(o,u,n),f===m)return r[i]=o,r[s]=u,t(r);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;m=f}return e},e}function pz(){var e=rC();return e.copy=function(){return W0(e,pz())},Hs.apply(e,arguments),Nu(e)}function xz(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,i1),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return xz(e).unknown(t)},e=arguments.length?Array.from(e,i1):[0,1],Nu(n)}function vz(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function Qk(e){return Math.log(e)}function Zk(e){return Math.exp(e)}function qxe(e){return-Math.log(-e)}function Yxe(e){return-Math.exp(-e)}function Wxe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Gxe(e){return e===10?Wxe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Kxe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Jk(e){return(t,n)=>-e(-t,n)}function sC(e){const t=e(Qk,Zk),n=t.domain;let r=10,i,s;function o(){return i=Kxe(r),s=Gxe(r),n()[0]<0?(i=Jk(i),s=Jk(s),e(qxe,Yxe)):e(Qk,Zk),t}return t.base=function(u){return arguments.length?(r=+u,o()):r},t.domain=function(u){return arguments.length?(n(u),o()):n()},t.ticks=u=>{const m=n();let f=m[0],g=m[m.length-1];const x=g<f;x&&([f,g]=[g,f]);let w=i(f),_=i(g),T,C;const A=u==null?10:+u;let M=[];if(!(r%1)&&_-w<A){if(w=Math.floor(w),_=Math.ceil(_),f>0){for(;w<=_;++w)for(T=1;T<r;++T)if(C=w<0?T/s(-w):T*s(w),!(C<f)){if(C>g)break;M.push(C)}}else for(;w<=_;++w)for(T=r-1;T>=1;--T)if(C=w>0?T/s(-w):T*s(w),!(C<f)){if(C>g)break;M.push(C)}M.length*2<A&&(M=u_(f,g,A))}else M=u_(w,_,Math.min(_-w,A)).map(s);return x?M.reverse():M},t.tickFormat=(u,m)=>{if(u==null&&(u=10),m==null&&(m=r===10?"s":","),typeof m!="function"&&(!(r%1)&&(m=f0(m)).precision==null&&(m.trim=!0),m=iC(m)),u===1/0)return m;const f=Math.max(1,r*u/t.ticks().length);return g=>{let x=g/s(Math.round(i(g)));return x*r<r-.5&&(x*=r),x<=f?m(g):""}},t.nice=()=>n(vz(n(),{floor:u=>s(Math.floor(i(u))),ceil:u=>s(Math.ceil(i(u)))})),t}function yz(){const e=sC(py()).domain([1,10]);return e.copy=()=>W0(e,yz()).base(e.base()),Hs.apply(e,arguments),e}function eI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function tI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function oC(e){var t=1,n=e(eI(t),tI(t));return n.constant=function(r){return arguments.length?e(eI(t=+r),tI(t)):t},Nu(n)}function bz(){var e=oC(py());return e.copy=function(){return W0(e,bz()).constant(e.constant())},Hs.apply(e,arguments)}function nI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Xxe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Qxe(e){return e<0?-e*e:e*e}function lC(e){var t=e(Ni,Ni),n=1;function r(){return n===1?e(Ni,Ni):n===.5?e(Xxe,Qxe):e(nI(n),nI(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Nu(t)}function cC(){var e=lC(py());return e.copy=function(){return W0(e,cC()).exponent(e.exponent())},Hs.apply(e,arguments),e}function Zxe(){return cC.apply(null,arguments).exponent(.5)}function rI(e){return Math.sign(e)*e*e}function Jxe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function wz(){var e=rC(),t=[0,1],n=!1,r;function i(s){var o=Jxe(e(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return e.invert(rI(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,i1)).map(rI)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return wz(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Hs.apply(i,arguments),Nu(i)}function jz(){var e=[],t=[],n=[],r;function i(){var o=0,u=Math.max(1,t.length);for(n=new Array(u-1);++o<u;)n[o-1]=rxe(e,o/u);return s}function s(o){return o==null||isNaN(o=+o)?r:t[q0(n,o)]}return s.invertExtent=function(o){var u=t.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let u of o)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Qc),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return jz().domain(e).range(t).unknown(r)},Hs.apply(s,arguments)}function Nz(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function o(m){return m!=null&&m<=m?i[q0(r,m,0,n)]:s}function u(){var m=-1;for(r=new Array(n);++m<n;)r[m]=((m+1)*t-(m-n)*e)/(n+1);return o}return o.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,u()):[e,t]},o.range=function(m){return arguments.length?(n=(i=Array.from(m)).length-1,u()):i.slice()},o.invertExtent=function(m){var f=i.indexOf(m);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},o.unknown=function(m){return arguments.length&&(s=m),o},o.thresholds=function(){return r.slice()},o.copy=function(){return Nz().domain([e,t]).range(i).unknown(s)},Hs.apply(Nu(o),arguments)}function Sz(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[q0(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Sz().domain(e).range(t).unknown(n)},Hs.apply(i,arguments)}const zj=new Date,Vj=new Date;function pa(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),u=i.ceil(s);return s-o<u-s?o:u},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,u)=>{const m=[];if(s=i.ceil(s),u=u==null?1:Math.floor(u),!(s<o)||!(u>0))return m;let f;do m.push(f=new Date(+s)),t(s,u),e(s);while(f<s&&s<o);return m},i.filter=s=>pa(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!s(o););else for(;--u>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(zj.setTime(+s),Vj.setTime(+o),e(zj),e(Vj),Math.floor(n(zj,Vj))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const o1=pa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);o1.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?pa(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):o1);o1.range;const Dl=1e3,Rs=Dl*60,Rl=Rs*60,Kl=Rl*24,uC=Kl*7,aI=Kl*30,$j=Kl*365,md=pa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Dl)},(e,t)=>(t-e)/Dl,e=>e.getUTCSeconds());md.range;const dC=pa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dl)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getMinutes());dC.range;const fC=pa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getUTCMinutes());fC.range;const hC=pa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Dl-e.getMinutes()*Rs)},(e,t)=>{e.setTime(+e+t*Rl)},(e,t)=>(t-e)/Rl,e=>e.getHours());hC.range;const mC=pa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Rl)},(e,t)=>(t-e)/Rl,e=>e.getUTCHours());mC.range;const G0=pa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rs)/Kl,e=>e.getDate()-1);G0.range;const xy=pa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Kl,e=>e.getUTCDate()-1);xy.range;const _z=pa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Kl,e=>Math.floor(e/Kl));_z.range;function zd(e){return pa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Rs)/uC)}const vy=zd(0),l1=zd(1),eve=zd(2),tve=zd(3),Dh=zd(4),nve=zd(5),rve=zd(6);vy.range;l1.range;eve.range;tve.range;Dh.range;nve.range;rve.range;function Vd(e){return pa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/uC)}const yy=Vd(0),c1=Vd(1),ave=Vd(2),ive=Vd(3),Rh=Vd(4),sve=Vd(5),ove=Vd(6);yy.range;c1.range;ave.range;ive.range;Rh.range;sve.range;ove.range;const gC=pa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());gC.range;const pC=pa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());pC.range;const Xl=pa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Xl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Xl.range;const Ql=pa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ql.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ql.range;function Az(e,t,n,r,i,s){const o=[[md,1,Dl],[md,5,5*Dl],[md,15,15*Dl],[md,30,30*Dl],[s,1,Rs],[s,5,5*Rs],[s,15,15*Rs],[s,30,30*Rs],[i,1,Rl],[i,3,3*Rl],[i,6,6*Rl],[i,12,12*Rl],[r,1,Kl],[r,2,2*Kl],[n,1,uC],[t,1,aI],[t,3,3*aI],[e,1,$j]];function u(f,g,x){const w=g<f;w&&([f,g]=[g,f]);const _=x&&typeof x.range=="function"?x:m(f,g,x),T=_?_.range(f,+g+1):[];return w?T.reverse():T}function m(f,g,x){const w=Math.abs(g-f)/x,_=QE(([,,A])=>A).right(o,w);if(_===o.length)return e.every(f_(f/$j,g/$j,x));if(_===0)return o1.every(Math.max(f_(f,g,x),1));const[T,C]=o[w/o[_-1][2]<o[_][2]/w?_-1:_];return T.every(C)}return[u,m]}const[lve,cve]=Az(Ql,pC,yy,_z,mC,fC),[uve,dve]=Az(Xl,gC,vy,G0,hC,dC);function Hj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function qj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function gg(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function fve(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,u=e.months,m=e.shortMonths,f=pg(i),g=xg(i),x=pg(s),w=xg(s),_=pg(o),T=xg(o),C=pg(u),A=xg(u),M=pg(m),D=xg(m),R={a:ee,A:K,b:ue,B:re,c:null,d:uI,e:uI,f:kve,g:qve,G:Wve,H:Dve,I:Rve,j:Pve,L:Ez,m:Ive,M:Lve,p:de,q:xe,Q:hI,s:mI,S:Bve,u:Fve,U:Uve,V:zve,w:Vve,W:$ve,x:null,X:null,y:Hve,Y:Yve,Z:Gve,"%":fI},z={a:Se,A:ye,b:Le,B:ie,c:null,d:dI,e:dI,f:Zve,g:l1e,G:u1e,H:Kve,I:Xve,j:Qve,L:Tz,m:Jve,M:e1e,p:ce,q:le,Q:hI,s:mI,S:t1e,u:n1e,U:r1e,V:a1e,w:i1e,W:s1e,x:null,X:null,y:o1e,Y:c1e,Z:d1e,"%":fI},k={a:$,A:W,b:Y,B:X,c:ne,d:lI,e:lI,f:Cve,g:oI,G:sI,H:cI,I:cI,j:Sve,L:Eve,m:Nve,M:_ve,p:F,q:jve,Q:Ove,s:Mve,S:Ave,u:xve,U:vve,V:yve,w:pve,W:bve,x:J,X:H,y:oI,Y:sI,Z:wve,"%":Tve};R.x=I(n,R),R.X=I(r,R),R.c=I(t,R),z.x=I(n,z),z.X=I(r,z),z.c=I(t,z);function I(he,Ee){return function(je){var be=[],Ke=-1,ze=0,Qe=he.length,ht,Je,bt;for(je instanceof Date||(je=new Date(+je));++Ke<Qe;)he.charCodeAt(Ke)===37&&(be.push(he.slice(ze,Ke)),(Je=iI[ht=he.charAt(++Ke)])!=null?ht=he.charAt(++Ke):Je=ht==="e"?" ":"0",(bt=Ee[ht])&&(ht=bt(je,Je)),be.push(ht),ze=Ke+1);return be.push(he.slice(ze,Ke)),be.join("")}}function B(he,Ee){return function(je){var be=gg(1900,void 0,1),Ke=V(be,he,je+="",0),ze,Qe;if(Ke!=je.length)return null;if("Q"in be)return new Date(be.Q);if("s"in be)return new Date(be.s*1e3+("L"in be?be.L:0));if(Ee&&!("Z"in be)&&(be.Z=0),"p"in be&&(be.H=be.H%12+be.p*12),be.m===void 0&&(be.m="q"in be?be.q:0),"V"in be){if(be.V<1||be.V>53)return null;"w"in be||(be.w=1),"Z"in be?(ze=qj(gg(be.y,0,1)),Qe=ze.getUTCDay(),ze=Qe>4||Qe===0?c1.ceil(ze):c1(ze),ze=xy.offset(ze,(be.V-1)*7),be.y=ze.getUTCFullYear(),be.m=ze.getUTCMonth(),be.d=ze.getUTCDate()+(be.w+6)%7):(ze=Hj(gg(be.y,0,1)),Qe=ze.getDay(),ze=Qe>4||Qe===0?l1.ceil(ze):l1(ze),ze=G0.offset(ze,(be.V-1)*7),be.y=ze.getFullYear(),be.m=ze.getMonth(),be.d=ze.getDate()+(be.w+6)%7)}else("W"in be||"U"in be)&&("w"in be||(be.w="u"in be?be.u%7:"W"in be?1:0),Qe="Z"in be?qj(gg(be.y,0,1)).getUTCDay():Hj(gg(be.y,0,1)).getDay(),be.m=0,be.d="W"in be?(be.w+6)%7+be.W*7-(Qe+5)%7:be.w+be.U*7-(Qe+6)%7);return"Z"in be?(be.H+=be.Z/100|0,be.M+=be.Z%100,qj(be)):Hj(be)}}function V(he,Ee,je,be){for(var Ke=0,ze=Ee.length,Qe=je.length,ht,Je;Ke<ze;){if(be>=Qe)return-1;if(ht=Ee.charCodeAt(Ke++),ht===37){if(ht=Ee.charAt(Ke++),Je=k[ht in iI?Ee.charAt(Ke++):ht],!Je||(be=Je(he,je,be))<0)return-1}else if(ht!=je.charCodeAt(be++))return-1}return be}function F(he,Ee,je){var be=f.exec(Ee.slice(je));return be?(he.p=g.get(be[0].toLowerCase()),je+be[0].length):-1}function $(he,Ee,je){var be=_.exec(Ee.slice(je));return be?(he.w=T.get(be[0].toLowerCase()),je+be[0].length):-1}function W(he,Ee,je){var be=x.exec(Ee.slice(je));return be?(he.w=w.get(be[0].toLowerCase()),je+be[0].length):-1}function Y(he,Ee,je){var be=M.exec(Ee.slice(je));return be?(he.m=D.get(be[0].toLowerCase()),je+be[0].length):-1}function X(he,Ee,je){var be=C.exec(Ee.slice(je));return be?(he.m=A.get(be[0].toLowerCase()),je+be[0].length):-1}function ne(he,Ee,je){return V(he,t,Ee,je)}function J(he,Ee,je){return V(he,n,Ee,je)}function H(he,Ee,je){return V(he,r,Ee,je)}function ee(he){return o[he.getDay()]}function K(he){return s[he.getDay()]}function ue(he){return m[he.getMonth()]}function re(he){return u[he.getMonth()]}function de(he){return i[+(he.getHours()>=12)]}function xe(he){return 1+~~(he.getMonth()/3)}function Se(he){return o[he.getUTCDay()]}function ye(he){return s[he.getUTCDay()]}function Le(he){return m[he.getUTCMonth()]}function ie(he){return u[he.getUTCMonth()]}function ce(he){return i[+(he.getUTCHours()>=12)]}function le(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Ee=I(he+="",R);return Ee.toString=function(){return he},Ee},parse:function(he){var Ee=B(he+="",!1);return Ee.toString=function(){return he},Ee},utcFormat:function(he){var Ee=I(he+="",z);return Ee.toString=function(){return he},Ee},utcParse:function(he){var Ee=B(he+="",!0);return Ee.toString=function(){return he},Ee}}}var iI={"-":"",_:" ",0:"0"},Ma=/^\s*\d+/,hve=/^%/,mve=/[\\^$*+?|[\]().{}]/g;function jn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function gve(e){return e.replace(mve,"\\$&")}function pg(e){return new RegExp("^(?:"+e.map(gve).join("|")+")","i")}function xg(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function pve(e,t,n){var r=Ma.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function xve(e,t,n){var r=Ma.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function vve(e,t,n){var r=Ma.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function yve(e,t,n){var r=Ma.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function bve(e,t,n){var r=Ma.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function sI(e,t,n){var r=Ma.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function oI(e,t,n){var r=Ma.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wve(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function jve(e,t,n){var r=Ma.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Nve(e,t,n){var r=Ma.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function lI(e,t,n){var r=Ma.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Sve(e,t,n){var r=Ma.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function cI(e,t,n){var r=Ma.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function _ve(e,t,n){var r=Ma.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Ave(e,t,n){var r=Ma.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Eve(e,t,n){var r=Ma.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Cve(e,t,n){var r=Ma.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Tve(e,t,n){var r=hve.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Ove(e,t,n){var r=Ma.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Mve(e,t,n){var r=Ma.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function uI(e,t){return jn(e.getDate(),t,2)}function Dve(e,t){return jn(e.getHours(),t,2)}function Rve(e,t){return jn(e.getHours()%12||12,t,2)}function Pve(e,t){return jn(1+G0.count(Xl(e),e),t,3)}function Ez(e,t){return jn(e.getMilliseconds(),t,3)}function kve(e,t){return Ez(e,t)+"000"}function Ive(e,t){return jn(e.getMonth()+1,t,2)}function Lve(e,t){return jn(e.getMinutes(),t,2)}function Bve(e,t){return jn(e.getSeconds(),t,2)}function Fve(e){var t=e.getDay();return t===0?7:t}function Uve(e,t){return jn(vy.count(Xl(e)-1,e),t,2)}function Cz(e){var t=e.getDay();return t>=4||t===0?Dh(e):Dh.ceil(e)}function zve(e,t){return e=Cz(e),jn(Dh.count(Xl(e),e)+(Xl(e).getDay()===4),t,2)}function Vve(e){return e.getDay()}function $ve(e,t){return jn(l1.count(Xl(e)-1,e),t,2)}function Hve(e,t){return jn(e.getFullYear()%100,t,2)}function qve(e,t){return e=Cz(e),jn(e.getFullYear()%100,t,2)}function Yve(e,t){return jn(e.getFullYear()%1e4,t,4)}function Wve(e,t){var n=e.getDay();return e=n>=4||n===0?Dh(e):Dh.ceil(e),jn(e.getFullYear()%1e4,t,4)}function Gve(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+jn(t/60|0,"0",2)+jn(t%60,"0",2)}function dI(e,t){return jn(e.getUTCDate(),t,2)}function Kve(e,t){return jn(e.getUTCHours(),t,2)}function Xve(e,t){return jn(e.getUTCHours()%12||12,t,2)}function Qve(e,t){return jn(1+xy.count(Ql(e),e),t,3)}function Tz(e,t){return jn(e.getUTCMilliseconds(),t,3)}function Zve(e,t){return Tz(e,t)+"000"}function Jve(e,t){return jn(e.getUTCMonth()+1,t,2)}function e1e(e,t){return jn(e.getUTCMinutes(),t,2)}function t1e(e,t){return jn(e.getUTCSeconds(),t,2)}function n1e(e){var t=e.getUTCDay();return t===0?7:t}function r1e(e,t){return jn(yy.count(Ql(e)-1,e),t,2)}function Oz(e){var t=e.getUTCDay();return t>=4||t===0?Rh(e):Rh.ceil(e)}function a1e(e,t){return e=Oz(e),jn(Rh.count(Ql(e),e)+(Ql(e).getUTCDay()===4),t,2)}function i1e(e){return e.getUTCDay()}function s1e(e,t){return jn(c1.count(Ql(e)-1,e),t,2)}function o1e(e,t){return jn(e.getUTCFullYear()%100,t,2)}function l1e(e,t){return e=Oz(e),jn(e.getUTCFullYear()%100,t,2)}function c1e(e,t){return jn(e.getUTCFullYear()%1e4,t,4)}function u1e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Rh(e):Rh.ceil(e),jn(e.getUTCFullYear()%1e4,t,4)}function d1e(){return"+0000"}function fI(){return"%"}function hI(e){return+e}function mI(e){return Math.floor(+e/1e3)}var Xf,Mz,Dz;f1e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function f1e(e){return Xf=fve(e),Mz=Xf.format,Xf.parse,Dz=Xf.utcFormat,Xf.utcParse,Xf}function h1e(e){return new Date(e)}function m1e(e){return e instanceof Date?+e:+new Date(+e)}function xC(e,t,n,r,i,s,o,u,m,f){var g=rC(),x=g.invert,w=g.domain,_=f(".%L"),T=f(":%S"),C=f("%I:%M"),A=f("%I %p"),M=f("%a %d"),D=f("%b %d"),R=f("%B"),z=f("%Y");function k(I){return(m(I)<I?_:u(I)<I?T:o(I)<I?C:s(I)<I?A:r(I)<I?i(I)<I?M:D:n(I)<I?R:z)(I)}return g.invert=function(I){return new Date(x(I))},g.domain=function(I){return arguments.length?w(Array.from(I,m1e)):w().map(h1e)},g.ticks=function(I){var B=w();return e(B[0],B[B.length-1],I??10)},g.tickFormat=function(I,B){return B==null?k:f(B)},g.nice=function(I){var B=w();return(!I||typeof I.range!="function")&&(I=t(B[0],B[B.length-1],I??10)),I?w(vz(B,I)):g},g.copy=function(){return W0(g,xC(e,t,n,r,i,s,o,u,m,f))},g}function g1e(){return Hs.apply(xC(uve,dve,Xl,gC,vy,G0,hC,dC,md,Mz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function p1e(){return Hs.apply(xC(lve,cve,Ql,pC,yy,xy,mC,fC,md,Dz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function by(){var e=0,t=1,n,r,i,s,o=Ni,u=!1,m;function f(x){return x==null||isNaN(x=+x)?m:o(i===0?.5:(x=(s(x)-n)*i,u?Math.max(0,Math.min(1,x)):x))}f.domain=function(x){return arguments.length?([e,t]=x,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(x){return arguments.length?(u=!!x,f):u},f.interpolator=function(x){return arguments.length?(o=x,f):o};function g(x){return function(w){var _,T;return arguments.length?([_,T]=w,o=x(_,T),f):[o(0),o(1)]}}return f.range=g(nm),f.rangeRound=g(nC),f.unknown=function(x){return arguments.length?(m=x,f):m},function(x){return s=x,n=x(e),r=x(t),i=n===r?0:1/(r-n),f}}function Su(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Rz(){var e=Nu(by()(Ni));return e.copy=function(){return Su(e,Rz())},ec.apply(e,arguments)}function Pz(){var e=sC(by()).domain([1,10]);return e.copy=function(){return Su(e,Pz()).base(e.base())},ec.apply(e,arguments)}function kz(){var e=oC(by());return e.copy=function(){return Su(e,kz()).constant(e.constant())},ec.apply(e,arguments)}function vC(){var e=lC(by());return e.copy=function(){return Su(e,vC()).exponent(e.exponent())},ec.apply(e,arguments)}function x1e(){return vC.apply(null,arguments).exponent(.5)}function Iz(){var e=[],t=Ni;function n(r){if(r!=null&&!isNaN(r=+r))return t((q0(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Qc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>nxe(e,s/r))},n.copy=function(){return Iz(t).domain(e)},ec.apply(n,arguments)}function wy(){var e=0,t=.5,n=1,r=1,i,s,o,u,m,f=Ni,g,x=!1,w;function _(C){return isNaN(C=+C)?w:(C=.5+((C=+g(C))-s)*(r*C<r*s?u:m),f(x?Math.max(0,Math.min(1,C)):C))}_.domain=function(C){return arguments.length?([e,t,n]=C,i=g(e=+e),s=g(t=+t),o=g(n=+n),u=i===s?0:.5/(s-i),m=s===o?0:.5/(o-s),r=s<i?-1:1,_):[e,t,n]},_.clamp=function(C){return arguments.length?(x=!!C,_):x},_.interpolator=function(C){return arguments.length?(f=C,_):f};function T(C){return function(A){var M,D,R;return arguments.length?([M,D,R]=A,f=Txe(C,[M,D,R]),_):[f(0),f(.5),f(1)]}}return _.range=T(nm),_.rangeRound=T(nC),_.unknown=function(C){return arguments.length?(w=C,_):w},function(C){return g=C,i=C(e),s=C(t),o=C(n),u=i===s?0:.5/(s-i),m=s===o?0:.5/(o-s),r=s<i?-1:1,_}}function Lz(){var e=Nu(wy()(Ni));return e.copy=function(){return Su(e,Lz())},ec.apply(e,arguments)}function Bz(){var e=sC(wy()).domain([.1,1,10]);return e.copy=function(){return Su(e,Bz()).base(e.base())},ec.apply(e,arguments)}function Fz(){var e=oC(wy());return e.copy=function(){return Su(e,Fz()).constant(e.constant())},ec.apply(e,arguments)}function yC(){var e=lC(wy());return e.copy=function(){return Su(e,yC()).exponent(e.exponent())},ec.apply(e,arguments)}function v1e(){return yC.apply(null,arguments).exponent(.5)}const Tg=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:JE,scaleDiverging:Lz,scaleDivergingLog:Bz,scaleDivergingPow:yC,scaleDivergingSqrt:v1e,scaleDivergingSymlog:Fz,scaleIdentity:xz,scaleImplicit:h_,scaleLinear:pz,scaleLog:yz,scaleOrdinal:ZE,scalePoint:ixe,scalePow:cC,scaleQuantile:jz,scaleQuantize:Nz,scaleRadial:wz,scaleSequential:Rz,scaleSequentialLog:Pz,scaleSequentialPow:vC,scaleSequentialQuantile:Iz,scaleSequentialSqrt:x1e,scaleSequentialSymlog:kz,scaleSqrt:Zxe,scaleSymlog:bz,scaleThreshold:Sz,scaleTime:g1e,scaleUtc:p1e,tickFormat:gz},Symbol.toStringTag,{value:"Module"}));var $d=e=>e.chartData,bC=Ue([$d],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),jy=(e,t,n,r)=>r?bC(e):$d(e);function Ph(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(qa(t)&&qa(n))return!0}return!1}function gI(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function y1e(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(qa(n))i=n;else if(typeof n=="function")return;if(qa(r))s=r;else if(typeof r=="function")return;var o=[i,s];if(Ph(o))return o}}function b1e(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Ph(r))return gI(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,o,u;if(i==="auto")t!=null&&(o=Math.min(...t));else if(ot(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&nk.test(i)){var m=nk.exec(i);if(m==null||t==null)o=void 0;else{var f=+m[1];o=t[0]-f}}else o=t==null?void 0:t[0];if(s==="auto")t!=null&&(u=Math.max(...t));else if(ot(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&rk.test(s)){var g=rk.exec(s);if(g==null||t==null)u=void 0;else{var x=+g[1];u=t[1]+x}}else u=t==null?void 0:t[1];var w=[o,u];if(Ph(w))return t==null?w:gI(w,t,n)}}}var rm=1e9,w1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jC,ur=!0,Fs="[DecimalError] ",jd=Fs+"Invalid argument: ",wC=Fs+"Exponent out of range: ",am=Math.floor,od=Math.pow,j1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ls,Na=1e7,tr=7,Uz=9007199254740991,u1=am(Uz/tr),ft={};ft.absoluteValue=ft.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ft.comparedTo=ft.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ft.decimalPlaces=ft.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*tr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ft.dividedBy=ft.div=function(e){return Ll(this,new this.constructor(e))};ft.dividedToIntegerBy=ft.idiv=function(e){var t=this,n=t.constructor;return Yn(Ll(t,new n(e),0,1),n.precision)};ft.equals=ft.eq=function(e){return!this.cmp(e)};ft.exponent=function(){return na(this)};ft.greaterThan=ft.gt=function(e){return this.cmp(e)>0};ft.greaterThanOrEqualTo=ft.gte=function(e){return this.cmp(e)>=0};ft.isInteger=ft.isint=function(){return this.e>this.d.length-2};ft.isNegative=ft.isneg=function(){return this.s<0};ft.isPositive=ft.ispos=function(){return this.s>0};ft.isZero=function(){return this.s===0};ft.lessThan=ft.lt=function(e){return this.cmp(e)<0};ft.lessThanOrEqualTo=ft.lte=function(e){return this.cmp(e)<1};ft.logarithm=ft.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ls))throw Error(Fs+"NaN");if(n.s<1)throw Error(Fs+(n.s?"NaN":"-Infinity"));return n.eq(ls)?new r(0):(ur=!1,t=Ll(h0(n,s),h0(e,s),s),ur=!0,Yn(t,i))};ft.minus=ft.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$z(t,e):zz(t,(e.s=-e.s,e))};ft.modulo=ft.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Fs+"NaN");return n.s?(ur=!1,t=Ll(n,e,0,1).times(e),ur=!0,n.minus(t)):Yn(new r(n),i)};ft.naturalExponential=ft.exp=function(){return Vz(this)};ft.naturalLogarithm=ft.ln=function(){return h0(this)};ft.negated=ft.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ft.plus=ft.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zz(t,e):$z(t,(e.s=-e.s,e))};ft.precision=ft.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jd+e);if(t=na(i)+1,r=i.d.length-1,n=r*tr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ft.squareRoot=ft.sqrt=function(){var e,t,n,r,i,s,o,u=this,m=u.constructor;if(u.s<1){if(!u.s)return new m(0);throw Error(Fs+"NaN")}for(e=na(u),ur=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Vo(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=am((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new m(t)):r=new m(i.toString()),n=m.precision,i=o=n+3;;)if(s=r,r=s.plus(Ll(u,s,o+2)).times(.5),Vo(s.d).slice(0,o)===(t=Vo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Yn(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(t!="9999")break;o+=4}return ur=!0,Yn(r,n)};ft.times=ft.mul=function(e){var t,n,r,i,s,o,u,m,f,g=this,x=g.constructor,w=g.d,_=(e=new x(e)).d;if(!g.s||!e.s)return new x(0);for(e.s*=g.s,n=g.e+e.e,m=w.length,f=_.length,m<f&&(s=w,w=_,_=s,o=m,m=f,f=o),s=[],o=m+f,r=o;r--;)s.push(0);for(r=f;--r>=0;){for(t=0,i=m+r;i>r;)u=s[i]+_[r]*w[i-r-1]+t,s[i--]=u%Na|0,t=u/Na|0;s[i]=(s[i]+t)%Na|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,ur?Yn(e,x.precision):e};ft.toDecimalPlaces=ft.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Jo(e,0,rm),t===void 0?t=r.rounding:Jo(t,0,8),Yn(n,e+na(n)+1,t))};ft.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Pd(r,!0):(Jo(e,0,rm),t===void 0?t=i.rounding:Jo(t,0,8),r=Yn(new i(r),e+1,t),n=Pd(r,!0,e+1)),n};ft.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?Pd(i):(Jo(e,0,rm),t===void 0?t=s.rounding:Jo(t,0,8),r=Yn(new s(i),e+na(i)+1,t),n=Pd(r.abs(),!1,e+na(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ft.toInteger=ft.toint=function(){var e=this,t=e.constructor;return Yn(new t(e),na(e)+1,t.rounding)};ft.toNumber=function(){return+this};ft.toPower=ft.pow=function(e){var t,n,r,i,s,o,u=this,m=u.constructor,f=12,g=+(e=new m(e));if(!e.s)return new m(ls);if(u=new m(u),!u.s){if(e.s<1)throw Error(Fs+"Infinity");return u}if(u.eq(ls))return u;if(r=m.precision,e.eq(ls))return Yn(u,r);if(t=e.e,n=e.d.length-1,o=t>=n,s=u.s,o){if((n=g<0?-g:g)<=Uz){for(i=new m(ls),t=Math.ceil(r/tr+4),ur=!1;n%2&&(i=i.times(u),xI(i.d,t)),n=am(n/2),n!==0;)u=u.times(u),xI(u.d,t);return ur=!0,e.s<0?new m(ls).div(i):Yn(i,r)}}else if(s<0)throw Error(Fs+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,ur=!1,i=e.times(h0(u,r+f)),ur=!0,i=Vz(i),i.s=s,i};ft.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=na(i),r=Pd(i,n<=s.toExpNeg||n>=s.toExpPos)):(Jo(e,1,rm),t===void 0?t=s.rounding:Jo(t,0,8),i=Yn(new s(i),e,t),n=na(i),r=Pd(i,e<=n||n<=s.toExpNeg,e)),r};ft.toSignificantDigits=ft.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Jo(e,1,rm),t===void 0?t=r.rounding:Jo(t,0,8)),Yn(new r(n),e,t)};ft.toString=ft.valueOf=ft.val=ft.toJSON=ft[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=na(e),n=e.constructor;return Pd(e,t<=n.toExpNeg||t>=n.toExpPos)};function zz(e,t){var n,r,i,s,o,u,m,f,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),ur?Yn(t,x):t;if(m=e.d,f=t.d,o=e.e,i=t.e,m=m.slice(),s=o-i,s){for(s<0?(r=m,s=-s,u=f.length):(r=f,i=o,u=m.length),o=Math.ceil(x/tr),u=o>u?o+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=m.length,s=f.length,u-s<0&&(s=u,r=f,f=m,m=r),n=0;s;)n=(m[--s]=m[s]+f[s]+n)/Na|0,m[s]%=Na;for(n&&(m.unshift(n),++i),u=m.length;m[--u]==0;)m.pop();return t.d=m,t.e=i,ur?Yn(t,x):t}function Jo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(jd+e)}function Vo(e){var t,n,r,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)r=e[t]+"",n=tr-r.length,n&&(s+=Yc(n)),s+=r;o=e[t],r=o+"",n=tr-r.length,n&&(s+=Yc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Ll=function(){function e(r,i){var s,o=0,u=r.length;for(r=r.slice();u--;)s=r[u]*i+o,r[u]=s%Na|0,o=s/Na|0;return o&&r.unshift(o),r}function t(r,i,s,o){var u,m;if(s!=o)m=s>o?1:-1;else for(u=m=0;u<s;u++)if(r[u]!=i[u]){m=r[u]>i[u]?1:-1;break}return m}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Na+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var u,m,f,g,x,w,_,T,C,A,M,D,R,z,k,I,B,V,F=r.constructor,$=r.s==i.s?1:-1,W=r.d,Y=i.d;if(!r.s)return new F(r);if(!i.s)throw Error(Fs+"Division by zero");for(m=r.e-i.e,B=Y.length,k=W.length,_=new F($),T=_.d=[],f=0;Y[f]==(W[f]||0);)++f;if(Y[f]>(W[f]||0)&&--m,s==null?D=s=F.precision:o?D=s+(na(r)-na(i))+1:D=s,D<0)return new F(0);if(D=D/tr+2|0,f=0,B==1)for(g=0,Y=Y[0],D++;(f<k||g)&&D--;f++)R=g*Na+(W[f]||0),T[f]=R/Y|0,g=R%Y|0;else{for(g=Na/(Y[0]+1)|0,g>1&&(Y=e(Y,g),W=e(W,g),B=Y.length,k=W.length),z=B,C=W.slice(0,B),A=C.length;A<B;)C[A++]=0;V=Y.slice(),V.unshift(0),I=Y[0],Y[1]>=Na/2&&++I;do g=0,u=t(Y,C,B,A),u<0?(M=C[0],B!=A&&(M=M*Na+(C[1]||0)),g=M/I|0,g>1?(g>=Na&&(g=Na-1),x=e(Y,g),w=x.length,A=C.length,u=t(x,C,w,A),u==1&&(g--,n(x,B<w?V:Y,w))):(g==0&&(u=g=1),x=Y.slice()),w=x.length,w<A&&x.unshift(0),n(C,x,A),u==-1&&(A=C.length,u=t(Y,C,B,A),u<1&&(g++,n(C,B<A?V:Y,A))),A=C.length):u===0&&(g++,C=[0]),T[f++]=g,u&&C[0]?C[A++]=W[z]||0:(C=[W[z]],A=1);while((z++<k||C[0]!==void 0)&&D--)}return T[0]||T.shift(),_.e=m,Yn(_,o?s+na(_)+1:s)}}();function Vz(e,t){var n,r,i,s,o,u,m=0,f=0,g=e.constructor,x=g.precision;if(na(e)>16)throw Error(wC+na(e));if(!e.s)return new g(ls);for(ur=!1,u=x,o=new g(.03125);e.abs().gte(.1);)e=e.times(o),f+=5;for(r=Math.log(od(2,f))/Math.LN10*2+5|0,u+=r,n=i=s=new g(ls),g.precision=u;;){if(i=Yn(i.times(e),u),n=n.times(++m),o=s.plus(Ll(i,n,u)),Vo(o.d).slice(0,u)===Vo(s.d).slice(0,u)){for(;f--;)s=Yn(s.times(s),u);return g.precision=x,t==null?(ur=!0,Yn(s,x)):s}s=o}}function na(e){for(var t=e.e*tr,n=e.d[0];n>=10;n/=10)t++;return t}function Yj(e,t,n){if(t>e.LN10.sd())throw ur=!0,n&&(e.precision=n),Error(Fs+"LN10 precision limit exceeded");return Yn(new e(e.LN10),t)}function Yc(e){for(var t="";e--;)t+="0";return t}function h0(e,t){var n,r,i,s,o,u,m,f,g,x=1,w=10,_=e,T=_.d,C=_.constructor,A=C.precision;if(_.s<1)throw Error(Fs+(_.s?"NaN":"-Infinity"));if(_.eq(ls))return new C(0);if(t==null?(ur=!1,f=A):f=t,_.eq(10))return t==null&&(ur=!0),Yj(C,f);if(f+=w,C.precision=f,n=Vo(T),r=n.charAt(0),s=na(_),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(e),n=Vo(_.d),r=n.charAt(0),x++;s=na(_),r>1?(_=new C("0."+n),s++):_=new C(r+"."+n.slice(1))}else return m=Yj(C,f+2,A).times(s+""),_=h0(new C(r+"."+n.slice(1)),f-w).plus(m),C.precision=A,t==null?(ur=!0,Yn(_,A)):_;for(u=o=_=Ll(_.minus(ls),_.plus(ls),f),g=Yn(_.times(_),f),i=3;;){if(o=Yn(o.times(g),f),m=u.plus(Ll(o,new C(i),f)),Vo(m.d).slice(0,f)===Vo(u.d).slice(0,f))return u=u.times(2),s!==0&&(u=u.plus(Yj(C,f+2,A).times(s+""))),u=Ll(u,new C(x),f),C.precision=A,t==null?(ur=!0,Yn(u,A)):u;u=m,i+=2}}function pI(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=am(n/tr),e.d=[],r=(n+1)%tr,n<0&&(r+=tr),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=tr;r<i;)e.d.push(+t.slice(r,r+=tr));t=t.slice(r),r=tr-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ur&&(e.e>u1||e.e<-u1))throw Error(wC+n)}else e.s=0,e.e=0,e.d=[0];return e}function Yn(e,t,n){var r,i,s,o,u,m,f,g,x=e.d;for(o=1,s=x[0];s>=10;s/=10)o++;if(r=t-o,r<0)r+=tr,i=t,f=x[g=0];else{if(g=Math.ceil((r+1)/tr),s=x.length,g>=s)return e;for(f=s=x[g],o=1;s>=10;s/=10)o++;r%=tr,i=r-tr+o}if(n!==void 0&&(s=od(10,o-i-1),u=f/s%10|0,m=t<0||x[g+1]!==void 0||f%s,m=n<4?(u||m)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||m||n==6&&(r>0?i>0?f/od(10,o-i):0:x[g-1])%10&1||n==(e.s<0?8:7))),t<1||!x[0])return m?(s=na(e),x.length=1,t=t-s-1,x[0]=od(10,(tr-t%tr)%tr),e.e=am(-t/tr)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(r==0?(x.length=g,s=1,g--):(x.length=g+1,s=od(10,tr-r),x[g]=i>0?(f/od(10,o-i)%od(10,i)|0)*s:0),m)for(;;)if(g==0){(x[0]+=s)==Na&&(x[0]=1,++e.e);break}else{if(x[g]+=s,x[g]!=Na)break;x[g--]=0,s=1}for(r=x.length;x[--r]===0;)x.pop();if(ur&&(e.e>u1||e.e<-u1))throw Error(wC+na(e));return e}function $z(e,t){var n,r,i,s,o,u,m,f,g,x,w=e.constructor,_=w.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new w(e),ur?Yn(t,_):t;if(m=e.d,x=t.d,r=t.e,f=e.e,m=m.slice(),o=f-r,o){for(g=o<0,g?(n=m,o=-o,u=x.length):(n=x,r=f,u=m.length),i=Math.max(Math.ceil(_/tr),u)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=m.length,u=x.length,g=i<u,g&&(u=i),i=0;i<u;i++)if(m[i]!=x[i]){g=m[i]<x[i];break}o=0}for(g&&(n=m,m=x,x=n,t.s=-t.s),u=m.length,i=x.length-u;i>0;--i)m[u++]=0;for(i=x.length;i>o;){if(m[--i]<x[i]){for(s=i;s&&m[--s]===0;)m[s]=Na-1;--m[s],m[i]+=Na}m[i]-=x[i]}for(;m[--u]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(t.d=m,t.e=r,ur?Yn(t,_):t):new w(0)}function Pd(e,t,n){var r,i=na(e),s=Vo(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Yc(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Yc(-i-1)+s,n&&(r=n-o)>0&&(s+=Yc(r))):i>=o?(s+=Yc(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Yc(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Yc(r))),e.s<0?"-"+s:s}function xI(e,t){if(e.length>t)return e.length=t,!0}function Hz(e){var t,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(jd+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return pI(o,s.toString())}else if(typeof s!="string")throw Error(jd+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,j1e.test(s))pI(o,s);else throw Error(jd+s)}if(i.prototype=ft,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Hz,i.config=i.set=N1e,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function N1e(e){if(!e||typeof e!="object")throw Error(Fs+"Object expected");var t,n,r,i=["precision",1,rm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(am(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(jd+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(jd+n+": "+r);return this}var jC=Hz(w1e);ls=new jC(1);const In=jC;var S1e=e=>e,qz={},Yz=e=>e===qz,vI=e=>function t(){return arguments.length===0||arguments.length===1&&Yz(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Wz=(e,t)=>e===1?t:vI(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(o=>o!==qz).length;return s>=e?t(...r):Wz(e-s,vI(function(){for(var o=arguments.length,u=new Array(o),m=0;m<o;m++)u[m]=arguments[m];var f=r.map(g=>Yz(g)?u.shift():g);return t(...f,...u)}))}),Ny=e=>Wz(e.length,e),x_=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},_1e=Ny((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),A1e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return S1e;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce((u,m)=>m(u),s(...arguments))}},v_=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),Gz=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t&&i.every((o,u)=>{var m;return o===((m=t)===null||m===void 0?void 0:m[u])})||(t=i,n=e(...i)),n}};function Kz(e){var t;return e===0?t=1:t=Math.floor(new In(e).abs().log(10).toNumber())+1,t}function Xz(e,t,n){for(var r=new In(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}Ny((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});Ny((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});Ny((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var Qz=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},Zz=(e,t,n)=>{if(e.lte(0))return new In(0);var r=Kz(e.toNumber()),i=new In(10).pow(r),s=e.div(i),o=r!==1?.05:.1,u=new In(Math.ceil(s.div(o).toNumber())).add(n).mul(o),m=u.mul(i);return t?new In(m.toNumber()):new In(Math.ceil(m.toNumber()))},E1e=(e,t,n)=>{var r=new In(1),i=new In(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new In(10).pow(Kz(e)-1),i=new In(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new In(Math.floor(e)))}else e===0?i=new In(Math.floor((t-1)/2)):n||(i=new In(Math.floor(e)));var o=Math.floor((t-1)/2),u=A1e(_1e(m=>i.add(new In(m-o).mul(r)).toNumber()),x_);return u(0,t)},Jz=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new In(0),tickMin:new In(0),tickMax:new In(0)};var o=Zz(new In(n).sub(t).div(r-1),i,s),u;t<=0&&n>=0?u=new In(0):(u=new In(t).add(n).div(2),u=u.sub(new In(u).mod(o)));var m=Math.ceil(u.sub(t).div(o).toNumber()),f=Math.ceil(new In(n).sub(u).div(o).toNumber()),g=m+f+1;return g>r?Jz(t,n,r,i,s+1):(g<r&&(f=n>0?f+(r-g):f,m=n>0?m:m+(r-g)),{step:o,tickMin:u.sub(new In(m).mul(o)),tickMax:u.add(new In(f).mul(o))})};function C1e(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[o,u]=Qz([t,n]);if(o===-1/0||u===1/0){var m=u===1/0?[o,...x_(0,r-1).map(()=>1/0)]:[...x_(0,r-1).map(()=>-1/0),u];return t>n?v_(m):m}if(o===u)return E1e(o,r,i);var{step:f,tickMin:g,tickMax:x}=Jz(o,u,s,i,0),w=Xz(g,x.add(new In(.1).mul(f)),f);return t>n?v_(w):w}function T1e(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=Qz([n,r]);if(s===-1/0||o===1/0)return[n,r];if(s===o)return[s];var u=Math.max(t,2),m=Zz(new In(o).sub(s).div(u-1),i,0),f=[...Xz(new In(s),new In(o),m),o];return i===!1&&(f=f.map(g=>Math.round(g))),n>r?v_(f):f}var O1e=Gz(C1e),M1e=Gz(T1e),eV=e=>e.rootProps.maxBarSize,D1e=e=>e.rootProps.barGap,tV=e=>e.rootProps.barCategoryGap,R1e=e=>e.rootProps.barSize,K0=e=>e.rootProps.stackOffset,NC=e=>e.options.chartName,SC=e=>e.rootProps.syncId,nV=e=>e.rootProps.syncMethod,_C=e=>e.options.eventEmitter,Tl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},rs={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Sy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},P1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Tl.angleAxisId,includeHidden:!1,name:void 0,reversed:Tl.reversed,scale:Tl.scale,tick:Tl.tick,tickCount:void 0,ticks:void 0,type:Tl.type,unit:void 0},k1e={allowDataOverflow:rs.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rs.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rs.scale,tick:rs.tick,tickCount:rs.tickCount,ticks:void 0,type:rs.type,unit:void 0},I1e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Tl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Tl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Tl.scale,tick:Tl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},L1e={allowDataOverflow:rs.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rs.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rs.scale,tick:rs.tick,tickCount:rs.tickCount,ticks:void 0,type:"category",unit:void 0},AC=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?I1e:P1e,EC=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?L1e:k1e,_y=e=>e.polarOptions,CC=Ue([Zl,Jl,ga],UU),rV=Ue([_y,CC],(e,t)=>{if(e!=null)return Si(e.innerRadius,t,0)}),aV=Ue([_y,CC],(e,t)=>{if(e!=null)return Si(e.outerRadius,t,t*.8)}),B1e=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},iV=Ue([_y],B1e);Ue([AC,iV],Sy);var sV=Ue([CC,rV,aV],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Ue([EC,sV],Sy);var F1e=Ue([gn,_y,rV,aV,Zl,Jl],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:u,startAngle:m,endAngle:f}=t;return{cx:Si(o,i,i/2),cy:Si(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:m,endAngle:f,clockWise:!1}}}),qr=(e,t)=>t,X0=(e,t,n)=>n;function yI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function d1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yI(Object(n),!0).forEach(function(r){U1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U1e(e,t,n){return(t=z1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z1e(e){var t=V1e(e,"string");return typeof t=="symbol"?t:t+""}function V1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y_=[0,"auto"],ts={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},tc=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??ts},ns={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:y_,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:hy},_u=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??ns},$1e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},TC=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??$1e},Yr=(e,t,n)=>{switch(t){case"xAxis":return tc(e,n);case"yAxis":return _u(e,n);case"zAxis":return TC(e,n);case"angleAxis":return AC(e,n);case"radiusAxis":return EC(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},H1e=(e,t,n)=>{switch(t){case"xAxis":return tc(e,n);case"yAxis":return _u(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Q0=(e,t,n)=>{switch(t){case"xAxis":return tc(e,n);case"yAxis":return _u(e,n);case"angleAxis":return AC(e,n);case"radiusAxis":return EC(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},oV=e=>e.graphicalItems.countOfBars>0;function OC(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Z0=e=>e.graphicalItems.cartesianItems,q1e=Ue([qr,X0],OC),MC=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),J0=Ue([Z0,Yr,q1e],MC),lV=e=>e.filter(t=>t.stackId===void 0),Y1e=Ue([J0],lV),DC=e=>e.map(t=>t.data).filter(Boolean).flat(1),W1e=Ue([J0],DC),RC=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},Ay=Ue([W1e,jy],RC),PC=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:qn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:qn(i,r)}))):e.map(r=>({value:r})),Ey=Ue([Ay,Yr,J0],PC);function cV(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Hd(e){return e.filter(t=>Zo(t)||t instanceof Date).map(Number).filter(t=>Ui(t)===!1)}function G1e(e,t,n){return!n||typeof t!="number"||Ui(t)?[]:n.length?Hd(n.flatMap(r=>{var i=qn(e,r.dataKey),s,o;if(Array.isArray(i)?[s,o]=i:s=o=i,!(!qa(s)||!qa(o)))return[t-s,t+o]})):[]}var uV=(e,t,n)=>{var r={},i=t.reduce((s,o)=>(o.stackId==null||(s[o.stackId]==null&&(s[o.stackId]=[]),s[o.stackId].push(o)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[o,u]=s,m=u.map(f=>f.dataKey);return[o,{stackedData:Gge(e,m,n),graphicalItems:u}]}))},m0=Ue([Ay,J0,K0],uV),dV=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var s=Zge(e,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},K1e=Ue([m0,$d,qr],dV),fV=(e,t,n,r)=>n.length>0?e.flatMap(i=>n.flatMap(s=>{var o,u,m=(o=s.errorBars)===null||o===void 0?void 0:o.filter(g=>cV(r,g)),f=qn(i,(u=t.dataKey)!==null&&u!==void 0?u:s.dataKey);return{value:f,errorDomain:G1e(i,f,m)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:qn(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),X1e=Ue(Ay,Yr,Y1e,qr,fV);function Q1e(e){var{value:t}=e;if(Zo(t)||t instanceof Date)return t}var Z1e=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Hd(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},J1e=(e,t,n)=>{var r=e.map(Q1e).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&LF(r))?iz(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},kC=e=>{var t;if(e==null||!("domain"in e))return y_;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Hd(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:y_},IC=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),o=Math.min(...s),u=Math.max(...s);return[o,u]}},hV=e=>e.referenceElements.dots,im=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),eye=Ue([hV,qr,X0],im),mV=e=>e.referenceElements.areas,tye=Ue([mV,qr,X0],im),gV=e=>e.referenceElements.lines,nye=Ue([gV,qr,X0],im),pV=(e,t)=>{var n=Hd(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},rye=Ue(eye,qr,pV),xV=(e,t)=>{var n=Hd(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},aye=Ue([tye,qr],xV),vV=(e,t)=>{var n=Hd(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},iye=Ue(nye,qr,vV),sye=Ue(rye,iye,aye,(e,t,n)=>IC(e,n,t)),yV=Ue([Yr],kC),LC=(e,t,n,r,i)=>{var s=y1e(t,e.allowDataOverflow);return s??b1e(t,IC(n,i,Z1e(r)),e.allowDataOverflow)},oye=Ue([Yr,yV,K1e,X1e,sye],LC),lye=[0,1],BC=(e,t,n,r,i,s,o)=>{if(!(e==null||n==null||n.length===0)){var{dataKey:u,type:m}=e,f=sl(t,s);return f&&u==null?iz(0,n.length):m==="category"?J1e(r,e,f):i==="expand"?lye:o}},FC=Ue([Yr,gn,Ay,Ey,K0,qr,oye],BC),bV=(e,t,n,r,i)=>{if(e!=null){var{scale:s,type:o}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(U0(s));return u in Tg?u:"point"}}},sm=Ue([Yr,gn,oV,NC,qr],bV);function cye(e){if(e!=null){if(e in Tg)return Tg[e]();var t="scale".concat(U0(e));if(t in Tg)return Tg[t]()}}function UC(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=cye(t);if(i!=null){var s=i.domain(n).range(r);return $ge(s),s}}}var zC=(e,t,n)=>{var r=kC(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ph(e))return O1e(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ph(e))return M1e(e,t.tickCount,t.allowDecimals)}},VC=Ue([FC,Q0,sm],zC),$C=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ph(t)&&Array.isArray(n)&&n.length>0){var i=t[0],s=n[0],o=t[1],u=n[n.length-1];return[Math.min(i,s),Math.max(o,u)]}return t},uye=Ue([Yr,FC,VC,qr],$C),dye=Ue(Ey,Yr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Hd(e.map(u=>u.value))).sort((u,m)=>u-m);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var o=r[s+1]-r[s];n=Math.min(n,o)}return n/i}}),wV=Ue(dye,gn,tV,ga,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!qa(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var o=Si(n,e*s),u=e*s/2;return u-o-(u-o)/s*o}return 0}),fye=(e,t)=>{var n=tc(e,t);return n==null||typeof n.padding!="string"?0:wV(e,"xAxis",t,n.padding)},hye=(e,t)=>{var n=_u(e,t);return n==null||typeof n.padding!="string"?0:wV(e,"yAxis",t,n.padding)},mye=Ue(tc,fye,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),gye=Ue(_u,hye,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),pye=Ue([ga,mye,gy,my,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),xye=Ue([ga,gn,gye,gy,my,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:o}=i;return s?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),ep=(e,t,n,r)=>{var i;switch(t){case"xAxis":return pye(e,n,r);case"yAxis":return xye(e,n,r);case"zAxis":return(i=TC(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return iV(e);case"radiusAxis":return sV(e,n);default:return}},jV=Ue([Yr,ep],Sy),om=Ue([Yr,sm,uye,jV],UC);Ue(J0,qr,(e,t)=>e.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>cV(t,n)));function NV(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Cy=(e,t)=>t,Ty=(e,t,n)=>n,vye=Ue(HE,Cy,Ty,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(NV)),yye=Ue(qE,Cy,Ty,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(NV)),SV=(e,t)=>({width:e.width,height:t.height}),bye=(e,t)=>{var n=typeof t.width=="number"?t.width:hy;return{width:n,height:e.height}},_V=Ue(ga,tc,SV),wye=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},jye=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Nye=Ue(Jl,ga,vye,Cy,Ty,(e,t,n,r,i)=>{var s={},o;return n.forEach(u=>{var m=SV(t,u);o==null&&(o=wye(t,r,e));var f=r==="top"&&!i||r==="bottom"&&i;s[u.id]=o-Number(f)*m.height,o+=(f?-1:1)*m.height}),s}),Sye=Ue(Zl,ga,yye,Cy,Ty,(e,t,n,r,i)=>{var s={},o;return n.forEach(u=>{var m=bye(t,u);o==null&&(o=jye(t,r,e));var f=r==="left"&&!i||r==="right"&&i;s[u.id]=o-Number(f)*m.width,o+=(f?-1:1)*m.width}),s}),_ye=(e,t)=>{var n=ga(e),r=tc(e,t);if(r!=null){var i=Nye(e,r.orientation,r.mirror),s=i[t];return s==null?{x:n.left,y:0}:{x:n.left,y:s}}},Aye=(e,t)=>{var n=ga(e),r=_u(e,t);if(r!=null){var i=Sye(e,r.orientation,r.mirror),s=i[t];return s==null?{x:0,y:n.top}:{x:s,y:n.top}}},AV=Ue(ga,_u,(e,t)=>{var n=typeof t.width=="number"?t.width:hy;return{width:n,height:e.height}}),bI=(e,t,n)=>{switch(t){case"xAxis":return _V(e,n).width;case"yAxis":return AV(e,n).height;default:return}},EV=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:o}=n,u=sl(e,r),m=t.map(f=>f.value);if(o&&u&&s==="category"&&i&&LF(m))return m}},HC=Ue([gn,Ey,Yr,qr],EV),CV=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,o=sl(e,r);if(o&&(i==="number"||s!=="auto"))return t.map(u=>u.value)}},qC=Ue([gn,Ey,Q0,qr],CV),wI=Ue([gn,H1e,sm,om,HC,qC,ep,VC,qr],(e,t,n,r,i,s,o,u,m)=>{if(t==null)return null;var f=sl(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:s,duplicateDomain:i,isCategorical:f,niceTicks:u,range:o,realScaleType:n,scale:r}}),Eye=(e,t,n,r,i,s,o,u,m)=>{if(!(t==null||r==null)){var f=sl(e,m),{type:g,ticks:x,tickCount:w}=t,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,T=g==="category"&&r.bandwidth?r.bandwidth()/_:0;T=m==="angleAxis"&&s!=null&&s.length>=2?Aa(s[0]-s[1])*2*T:T;var C=x||i;if(C){var A=C.map((M,D)=>{var R=o?o.indexOf(M):M;return{index:D,coordinate:r(R)+T,value:M,offset:T}});return A.filter(M=>!Ui(M.coordinate))}return f&&u?u.map((M,D)=>({coordinate:r(M)+T,value:M,index:D,offset:T})):r.ticks?r.ticks(w).map(M=>({coordinate:r(M)+T,value:M,offset:T})):r.domain().map((M,D)=>({coordinate:r(M)+T,value:o?o[M]:M,index:D,offset:T}))}},TV=Ue([gn,Q0,sm,om,VC,ep,HC,qC,qr],Eye),Cye=(e,t,n,r,i,s,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=sl(e,o),{tickCount:m}=t,f=0;return f=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Aa(r[0]-r[1])*2*f:f,u&&s?s.map((g,x)=>({coordinate:n(g)+f,value:g,index:x,offset:f})):n.ticks?n.ticks(m).map(g=>({coordinate:n(g)+f,value:g,offset:f})):n.domain().map((g,x)=>({coordinate:n(g)+f,value:i?i[g]:g,index:x,offset:f}))}},el=Ue([gn,Q0,om,ep,HC,qC,qr],Cye),Us=Ue(Yr,om,(e,t)=>{if(!(e==null||t==null))return d1(d1({},e),{},{scale:t})}),Tye=Ue([Yr,sm,FC,jV],UC);Ue((e,t,n)=>TC(e,n),Tye,(e,t)=>{if(!(e==null||t==null))return d1(d1({},e),{},{scale:t})});var Oye=Ue([gn,HE,qE],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),OV=e=>e.options.defaultTooltipEventType,MV=e=>e.options.validateTooltipEventTypes;function DV(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function YC(e,t){var n=OV(e),r=MV(e);return DV(t,n,r)}function Mye(e){return yt(t=>YC(t,e))}var RV=(e,t)=>{var n,r=Number(t);if(!(Ui(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Dye=e=>e.tooltip.settings,Gc={active:!1,index:null,dataKey:void 0,coordinate:void 0},Rye={itemInteraction:{click:Gc,hover:Gc},axisInteraction:{click:Gc,hover:Gc},keyboardInteraction:Gc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},PV=$s({name:"tooltip",initialState:Rye,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Il(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Pye,removeTooltipEntrySettings:kye,setTooltipSettingsState:Iye,setActiveMouseOverItemIndex:kV,mouseLeaveItem:Lye,mouseLeaveChart:IV,setActiveClickItemIndex:Bye,setMouseOverAxisIndex:LV,setMouseClickAxisIndex:Fye,setSyncInteraction:b_,setKeyboardInteraction:w_}=PV.actions,Uye=PV.reducer;function jI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(n),!0).forEach(function(r){zye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zye(e,t,n){return(t=Vye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vye(e){var t=$ye(e,"string");return typeof t=="symbol"?t:t+""}function $ye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hye(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function qye(e){return e.index!=null}var BV=(e,t,n,r)=>{if(t==null)return Gc;var i=Hye(e,t,n);if(i==null)return Gc;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(qye(i)){if(s)return Yx(Yx({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Yx(Yx({},Gc),{},{coordinate:i.coordinate})},WC=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!qa(r))return n;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(r,s)))},FV=(e,t,n,r,i,s,o,u)=>{if(!(s==null||u==null)){var m=o[0],f=m==null?void 0:u(m.positions,s);if(f!=null)return f;var g=i==null?void 0:i[Number(s)];if(g)switch(n){case"horizontal":return{x:g.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:g.coordinate}}}},UV=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.dataKey)===i})},tp=e=>e.options.tooltipPayloadSearcher,lm=e=>e.tooltip;function NI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(n),!0).forEach(function(r){Yye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yye(e,t,n){return(t=Wye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wye(e){var t=Gye(e,"string");return typeof t=="symbol"?t:t+""}function Gye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kye(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Xye(e,t){return e??t}var zV=(e,t,n,r,i,s,o)=>{if(!(t==null||s==null)){var{chartData:u,computedData:m,dataStartIndex:f,dataEndIndex:g}=n,x=[];return e.reduce((w,_)=>{var T,{dataDefinedOnItem:C,settings:A}=_,M=Xye(C,u),D=Kye(M,f,g),R=(T=A==null?void 0:A.dataKey)!==null&&T!==void 0?T:r==null?void 0:r.dataKey,z=A==null?void 0:A.nameKey,k;if(r!=null&&r.dataKey&&Array.isArray(D)&&!Array.isArray(D[0])&&o==="axis"?k=BF(D,r.dataKey,i):k=s(D,t,m,z),Array.isArray(k))k.forEach(B=>{var V=SI(SI({},A),{},{name:B.name,unit:B.unit,color:void 0,fill:void 0});w.push(ak({tooltipEntrySettings:V,dataKey:B.dataKey,payload:B.payload,value:qn(B.payload,B.dataKey),name:B.name}))});else{var I;w.push(ak({tooltipEntrySettings:A,dataKey:R,payload:k,value:qn(k,R),name:(I=qn(k,z))!==null&&I!==void 0?I:A==null?void 0:A.name}))}return w},x)}},Da=e=>{var t=gn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},cm=e=>e.tooltip.settings.axisId,Ya=e=>{var t=Da(e),n=cm(e);return Q0(e,t,n)},GC=Ue([Ya,gn,oV,NC,Da],bV),Qye=Ue([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Zye=Ue([Da,cm],OC),Oy=Ue([Qye,Ya,Zye],MC),Jye=Ue([Oy],DC),qd=Ue([Jye,$d],RC),KC=Ue([qd,Ya,Oy],PC),ebe=Ue([Ya],kC),tbe=Ue([qd,Oy,K0],uV),nbe=Ue([tbe,$d,Da],dV),rbe=Ue([Oy],lV),abe=Ue([qd,Ya,rbe,Da],fV),ibe=Ue([hV,Da,cm],im),sbe=Ue([ibe,Da],pV),obe=Ue([mV,Da,cm],im),lbe=Ue([obe,Da],xV),cbe=Ue([gV,Da,cm],im),ube=Ue([cbe,Da],vV),dbe=Ue([sbe,ube,lbe],IC),fbe=Ue([Ya,ebe,nbe,abe,dbe],LC),VV=Ue([Ya,gn,qd,KC,K0,Da,fbe],BC),hbe=Ue([VV,Ya,GC],zC),mbe=Ue([Ya,VV,hbe,Da],$C),$V=e=>{var t=Da(e),n=cm(e),r=!1;return ep(e,t,n,r)},HV=Ue([Ya,$V],Sy),qV=Ue([Ya,GC,mbe,HV],UC),gbe=Ue([gn,KC,Ya,Da],EV),pbe=Ue([gn,KC,Ya,Da],CV),xbe=(e,t,n,r,i,s,o,u)=>{if(t){var{type:m}=t,f=sl(e,u);if(r){var g=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,x=m==="category"&&r.bandwidth?r.bandwidth()/g:0;return x=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Aa(i[0]-i[1])*2*x:x,f&&o?o.map((w,_)=>({coordinate:r(w)+x,value:w,index:_,offset:x})):r.domain().map((w,_)=>({coordinate:r(w)+x,value:s?s[w]:w,index:_,offset:x}))}}},nc=Ue([gn,Ya,GC,qV,$V,gbe,pbe,Da],xbe),XC=Ue([OV,MV,Dye],(e,t,n)=>DV(n.shared,e,t)),YV=e=>e.tooltip.settings.trigger,QC=e=>e.tooltip.settings.defaultIndex,My=Ue([lm,XC,YV,QC],BV),hu=Ue([My,qd],WC),WV=Ue([nc,hu],RV),GV=Ue([My],e=>{if(e)return e.dataKey}),KV=Ue([lm,XC,YV,QC],UV),vbe=Ue([Zl,Jl,gn,ga,nc,QC,KV,tp],FV),ybe=Ue([My,vbe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),bbe=Ue([My],e=>e.active),wbe=Ue([KV,hu,$d,Ya,WV,tp,XC],zV),jbe=Ue([wbe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function _I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function AI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_I(Object(n),!0).forEach(function(r){Nbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nbe(e,t,n){return(t=Sbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sbe(e){var t=_be(e,"string");return typeof t=="symbol"?t:t+""}function _be(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Abe=()=>yt(Ya),Ebe=()=>{var e=Abe(),t=yt(nc),n=yt(qV);return Rd(AI(AI({},e),{},{scale:n}),t)},XV=()=>yt(NC),ZC=(e,t)=>t,QV=(e,t,n)=>n,JC=(e,t,n,r)=>r,Cbe=Ue(nc,e=>sy(e,t=>t.coordinate)),eT=Ue([lm,ZC,QV,JC],BV),ZV=Ue([eT,qd],WC),Tbe=(e,t,n)=>{if(t!=null){var r=lm(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},JV=Ue([lm,ZC,QV,JC],UV),f1=Ue([Zl,Jl,gn,ga,nc,JC,JV,tp],FV),Obe=Ue([eT,f1],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),e$=Ue(nc,ZV,RV),Mbe=Ue([JV,ZV,$d,Ya,e$,tp,ZC],zV),Dbe=Ue([eT],e=>({isActive:e.active,activeIndex:e.index})),Rbe=(e,t,n,r,i,s,o,u)=>{if(!(!e||!t||!r||!i||!s)){var m=Jge(e.chartX,e.chartY,t,n,u);if(m){var f=t0e(m,t),g=zge(f,o,s,r,i),x=e0e(t,s,g,m);return{activeIndex:String(g),activeCoordinate:x}}}};function j_(){return j_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j_.apply(null,arguments)}function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EI(Object(n),!0).forEach(function(r){Pbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pbe(e,t,n){return(t=kbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kbe(e){var t=Ibe(e,"string");return typeof t=="symbol"?t:t+""}function Ibe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lbe(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:o,cursor:u,tooltipEventType:m,chartName:f}=e,g=t,x=n,w=r;if(!u||!g||f!=="ScatterChart"&&m!=="axis")return null;var _,T;if(f==="ScatterChart")_=g,T=Z0e;else if(f==="BarChart")_=J0e(o,g,i,s),T=tz;else if(o==="radial"){var{cx:C,cy:A,radius:M,startAngle:D,endAngle:R}=nz(g);_={cx:C,cy:A,startAngle:D,endAngle:R,innerRadius:M,outerRadius:M},T=az}else _={points:Fpe(o,g,i)},T=ph;var z=typeof u=="object"&&"className"in u?u.className:void 0,k=Wx(Wx(Wx(Wx({stroke:"#ccc",pointerEvents:"none"},i),_),Yt(u,!1)),{},{payload:x,payloadIndex:w,className:ln("recharts-tooltip-cursor",z)});return N.isValidElement(u)?N.cloneElement(u,k):N.createElement(T,k)}function Bbe(e){var t=Ebe(),n=WU(),r=H0(),i=XV();return N.createElement(Lbe,j_({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var t$=N.createContext(null),Fbe=()=>N.useContext(t$),Wj={exports:{}},CI;function Ube(){return CI||(CI=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(m,f,g){this.fn=m,this.context=f,this.once=g||!1}function s(m,f,g,x,w){if(typeof g!="function")throw new TypeError("The listener must be a function");var _=new i(g,x||m,w),T=n?n+f:f;return m._events[T]?m._events[T].fn?m._events[T]=[m._events[T],_]:m._events[T].push(_):(m._events[T]=_,m._eventsCount++),m}function o(m,f){--m._eventsCount===0?m._events=new r:delete m._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],g,x;if(this._eventsCount===0)return f;for(x in g=this._events)t.call(g,x)&&f.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(g)):f},u.prototype.listeners=function(f){var g=n?n+f:f,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var w=0,_=x.length,T=new Array(_);w<_;w++)T[w]=x[w].fn;return T},u.prototype.listenerCount=function(f){var g=n?n+f:f,x=this._events[g];return x?x.fn?1:x.length:0},u.prototype.emit=function(f,g,x,w,_,T){var C=n?n+f:f;if(!this._events[C])return!1;var A=this._events[C],M=arguments.length,D,R;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),M){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,g),!0;case 3:return A.fn.call(A.context,g,x),!0;case 4:return A.fn.call(A.context,g,x,w),!0;case 5:return A.fn.call(A.context,g,x,w,_),!0;case 6:return A.fn.call(A.context,g,x,w,_,T),!0}for(R=1,D=new Array(M-1);R<M;R++)D[R-1]=arguments[R];A.fn.apply(A.context,D)}else{var z=A.length,k;for(R=0;R<z;R++)switch(A[R].once&&this.removeListener(f,A[R].fn,void 0,!0),M){case 1:A[R].fn.call(A[R].context);break;case 2:A[R].fn.call(A[R].context,g);break;case 3:A[R].fn.call(A[R].context,g,x);break;case 4:A[R].fn.call(A[R].context,g,x,w);break;default:if(!D)for(k=1,D=new Array(M-1);k<M;k++)D[k-1]=arguments[k];A[R].fn.apply(A[R].context,D)}}return!0},u.prototype.on=function(f,g,x){return s(this,f,g,x,!1)},u.prototype.once=function(f,g,x){return s(this,f,g,x,!0)},u.prototype.removeListener=function(f,g,x,w){var _=n?n+f:f;if(!this._events[_])return this;if(!g)return o(this,_),this;var T=this._events[_];if(T.fn)T.fn===g&&(!w||T.once)&&(!x||T.context===x)&&o(this,_);else{for(var C=0,A=[],M=T.length;C<M;C++)(T[C].fn!==g||w&&!T[C].once||x&&T[C].context!==x)&&A.push(T[C]);A.length?this._events[_]=A.length===1?A[0]:A:o(this,_)}return this},u.prototype.removeAllListeners=function(f){var g;return f?(g=n?n+f:f,this._events[g]&&o(this,g)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u}(Wj)),Wj.exports}var zbe=Ube();const Vbe=zi(zbe);var g0=new Vbe,N_="recharts.syncEvent.tooltip",TI="recharts.syncEvent.brush";function Dy(e,t){if(t){var n=Number.parseInt(t,10);if(!Ui(n))return e==null?void 0:e[n]}}var $be={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},n$=$s({name:"options",initialState:$be,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Hbe=n$.reducer,{createEventEmitter:qbe}=n$.actions;function Ybe(e){return e.tooltip.syncInteraction}var Wbe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},r$=$s({name:"chartData",initialState:Wbe,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:OI,setDataStartEndIndexes:Gbe,setComputedData:cTe}=r$.actions,Kbe=r$.reducer,a$=()=>{};function Xbe(){var e=yt(SC),t=yt(_C),n=fr(),r=yt(nV),i=yt(nc),s=H0(),o=YE(),u=yt(m=>m.rootProps.className);N.useEffect(()=>{if(e==null)return a$;var m=(f,g,x)=>{if(t!==x&&e===f){if(r==="index"){n(g);return}if(i!=null){var w;if(typeof r=="function"){var _={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},T=r(i,_);w=i[T]}else r==="value"&&(w=i.find(I=>String(I.value)===g.payload.label));var{coordinate:C}=g.payload;if(w==null||g.payload.active===!1||C==null||o==null){n(b_({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:A,y:M}=C,D=Math.min(A,o.x+o.width),R=Math.min(M,o.y+o.height),z={x:s==="horizontal"?w.coordinate:D,y:s==="horizontal"?R:w.coordinate},k=b_({active:g.payload.active,coordinate:z,dataKey:g.payload.dataKey,index:String(w.index),label:g.payload.label});n(k)}}};return g0.on(N_,m),()=>{g0.off(N_,m)}},[u,n,t,e,r,i,s,o])}function Qbe(){var e=yt(SC),t=yt(_C),n=fr();N.useEffect(()=>{if(e==null)return a$;var r=(i,s,o)=>{t!==o&&e===i&&n(Gbe(s))};return g0.on(TI,r),()=>{g0.off(TI,r)}},[n,t,e])}function Zbe(){var e=fr();N.useEffect(()=>{e(qbe())},[e]),Xbe(),Qbe()}function Jbe(e,t,n,r,i,s){var o=yt(w=>Tbe(w,e,t)),u=yt(_C),m=yt(SC),f=yt(nV),g=yt(Ybe),x=g==null?void 0:g.active;N.useEffect(()=>{if(!x&&m!=null&&u!=null){var w=b_({active:s,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});g0.emit(N_,m,w,u)}},[x,n,o,i,r,u,m,f,s])}function MI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MI(Object(n),!0).forEach(function(r){ewe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ewe(e,t,n){return(t=twe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function twe(e){var t=nwe(e,"string");return typeof t=="symbol"?t:t+""}function nwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rwe(e){return e.dataKey}function awe(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement(O0e,t)}var RI=[],iwe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ju.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function yr(e){var t=ps(e,iwe),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:o,filterNull:u,isAnimationActive:m,offset:f,payloadUniqBy:g,position:x,reverseDirection:w,useTranslate3d:_,wrapperStyle:T,cursor:C,shared:A,trigger:M,defaultIndex:D,portal:R,axisId:z}=t,k=fr(),I=typeof D=="number"?String(D):D;N.useEffect(()=>{k(Iye({shared:A,trigger:M,axisId:z,active:n,defaultIndex:I}))},[k,A,M,z,n,I]);var B=YE(),V=QU(),F=Mye(A),{activeIndex:$,isActive:W}=yt(Le=>Dbe(Le,F,M,I)),Y=yt(Le=>Mbe(Le,F,M,I)),X=yt(Le=>e$(Le,F,M,I)),ne=yt(Le=>Obe(Le,F,M,I)),J=Y,H=Fbe(),ee=n??W,[K,ue]=gU([J,ee]),re=F==="axis"?X:void 0;Jbe(F,M,ne,re,$,ee);var de=R??H;if(de==null)return null;var xe=J??RI;ee||(xe=RI),u&&xe.length&&(xe=uU(J.filter(Le=>Le.value!=null&&(Le.hide!==!0||t.includeHidden)),g,rwe));var Se=xe.length>0,ye=N.createElement(L0e,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:m,active:ee,coordinate:ne,hasPayload:Se,offset:f,position:x,reverseDirection:w,useTranslate3d:_,viewBox:B,wrapperStyle:T,lastBoundingBox:K,innerRef:ue,hasPortalFromProps:!!R},awe(o,DI(DI({},t),{},{payload:xe,label:re,active:ee,coordinate:ne,accessibilityLayer:V})));return N.createElement(N.Fragment,null,Bd.createPortal(ye,de),ee&&N.createElement(Bbe,{cursor:C,tooltipEventType:F,coordinate:ne,payload:J,index:$}))}var Gj={},Kj={},Xj={},PI;function swe(){return PI||(PI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let o,u=null;const m=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),g=()=>{u!==null&&(n.apply(o,u),o=void 0,u=null)},x=()=>{f&&g(),C()};let w=null;const _=()=>{w!=null&&clearTimeout(w),w=setTimeout(()=>{w=null,x()},r)},T=()=>{w!==null&&(clearTimeout(w),w=null)},C=()=>{T(),o=void 0,u=null},A=()=>{g()},M=function(...D){if(i!=null&&i.aborted)return;o=this,u=D;const R=w==null;_(),m&&R&&g()};return M.schedule=_,M.cancel=C,M.flush=A,i==null||i.addEventListener("abort",C,{once:!0}),M}e.debounce=t}(Xj)),Xj}var kI;function owe(){return kI||(kI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=swe();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:u=!0,maxWait:m}=s,f=Array(2);o&&(f[0]="leading"),u&&(f[1]="trailing");let g,x=null;const w=t.debounce(function(...C){g=r.apply(this,C),x=null},i,{edges:f}),_=function(...C){return m!=null&&(x===null&&(x=Date.now()),Date.now()-x>=m)?(g=r.apply(this,C),x=Date.now(),w.cancel(),w.schedule(),g):(w.apply(this,C),g)},T=()=>(w.flush(),g);return _.cancel=w.cancel,_.flush=T,_}e.debounce=n}(Kj)),Kj}var II;function lwe(){return II||(II=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=owe();function n(r,i=0,s={}){const{leading:o=!0,trailing:u=!0}=s;return t.debounce(r,i,{leading:o,maxWait:i,trailing:u})}e.throttle=n}(Gj)),Gj}var Qj,LI;function cwe(){return LI||(LI=1,Qj=lwe().throttle),Qj}var uwe=cwe();const dwe=zi(uwe);var Fg=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function BI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BI(Object(n),!0).forEach(function(r){fwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fwe(e,t,n){return(t=hwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hwe(e){var t=mwe(e,"string");return typeof t=="symbol"?t:t+""}function mwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wi=N.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:o=0,minHeight:u,maxHeight:m,children:f,debounce:g=0,id:x,className:w,onResize:_,style:T={}}=e,C=N.useRef(null),A=N.useRef();A.current=_,N.useImperativeHandle(t,()=>C.current);var[M,D]=N.useState({containerWidth:r.width,containerHeight:r.height}),R=N.useCallback((k,I)=>{D(B=>{var V=Math.round(k),F=Math.round(I);return B.containerWidth===V&&B.containerHeight===F?B:{containerWidth:V,containerHeight:F}})},[]);N.useEffect(()=>{var k=F=>{var $,{width:W,height:Y}=F[0].contentRect;R(W,Y),($=A.current)===null||$===void 0||$.call(A,W,Y)};g>0&&(k=dwe(k,g,{trailing:!0,leading:!1}));var I=new ResizeObserver(k),{width:B,height:V}=C.current.getBoundingClientRect();return R(B,V),I.observe(C.current),()=>{I.disconnect()}},[R,g]);var z=N.useMemo(()=>{var{containerWidth:k,containerHeight:I}=M;if(k<0||I<0)return null;Fg(dd(i)||dd(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),Fg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var B=dd(i)?k:i,V=dd(s)?I:s;return n&&n>0&&(B?V=B/n:V&&(B=V*n),m&&V>m&&(V=m)),Fg(B>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,B,V,i,s,o,u,n),N.Children.map(f,F=>N.cloneElement(F,{width:B,height:V,style:Zj({width:B,height:V},F.props.style)}))},[n,f,s,m,u,o,M,i]);return N.createElement("div",{id:x?"".concat(x):void 0,className:ln("recharts-responsive-container",w),style:Zj(Zj({},T),{},{width:i,height:s,minWidth:o,minHeight:u,maxHeight:m}),ref:C},N.createElement("div",{style:{width:0,height:0,overflow:"visible"}},z))}),mu=e=>null;mu.displayName="Cell";function FI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function S_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FI(Object(n),!0).forEach(function(r){gwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gwe(e,t,n){return(t=pwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pwe(e){var t=xwe(e,"string");return typeof t=="symbol"?t:t+""}function xwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qf={widthCache:{},cacheCount:0},vwe=2e3,ywe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},UI="recharts_measurement_span";function bwe(e){var t=S_({},e);return Object.keys(t).forEach(n=>{t[n]||delete t[n]}),t}var Ug=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ju.isSsr)return{width:0,height:0};var r=bwe(n),i=JSON.stringify({text:t,copyStyle:r});if(Qf.widthCache[i])return Qf.widthCache[i];try{var s=document.getElementById(UI);s||(s=document.createElement("span"),s.setAttribute("id",UI),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=S_(S_({},ywe),r);Object.assign(s.style,o),s.textContent="".concat(t);var u=s.getBoundingClientRect(),m={width:u.width,height:u.height};return Qf.widthCache[i]=m,++Qf.cacheCount>vwe&&(Qf.cacheCount=0,Qf.widthCache={}),m}catch{return{width:0,height:0}}},zI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,wwe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,jwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,i$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Nwe=Object.keys(i$),oh="NaN";function Swe(e,t){return e*i$[t]}class ki{static parse(t){var n,[,r,i]=(n=jwe.exec(t))!==null&&n!==void 0?n:[];return new ki(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ui(t)&&(this.unit=""),n!==""&&!wwe.test(n)&&(this.num=NaN,this.unit=""),Nwe.includes(n)&&(this.num=Swe(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ki(NaN,""):new ki(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ki(NaN,""):new ki(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ki(NaN,""):new ki(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ki(NaN,""):new ki(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ui(this.num)}}function s$(e){if(e.includes(oh))return oh;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=zI.exec(t))!==null&&n!==void 0?n:[],o=ki.parse(r??""),u=ki.parse(s??""),m=i==="*"?o.multiply(u):o.divide(u);if(m.isNaN())return oh;t=t.replace(zI,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,g,x,w]=(f=VI.exec(t))!==null&&f!==void 0?f:[],_=ki.parse(g??""),T=ki.parse(w??""),C=x==="+"?_.add(T):_.subtract(T);if(C.isNaN())return oh;t=t.replace(VI,C.toString())}return t}var $I=/\(([^()]*)\)/;function _we(e){for(var t=e,n;(n=$I.exec(t))!=null;){var[,r]=n;t=t.replace($I,s$(r))}return t}function Awe(e){var t=e.replace(/\s+/g,"");return t=_we(t),t=s$(t),t}function Ewe(e){try{return Awe(e)}catch{return oh}}function Jj(e){var t=Ewe(e.slice(5,-1));return t===oh?"":t}var Cwe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Twe=["dx","dy","angle","className","breakAll"];function __(){return __=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},__.apply(null,arguments)}function HI(e,t){if(e==null)return{};var n,r,i=Owe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Owe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var o$=/[ \f\n\r\t\v\u2028\u2029]+/,l$=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Ln(t)||(n?i=t.toString().split(""):i=t.toString().split(o$));var s=i.map(u=>({word:u,width:Ug(u,r).width})),o=n?0:Ug("",r).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},Mwe=(e,t,n,r,i)=>{var{maxLines:s,children:o,style:u,breakAll:m}=e,f=ot(s),g=o,x=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce((Y,X)=>{var{word:ne,width:J}=X,H=Y[Y.length-1];if(H&&(r==null||i||H.width+J+n<Number(r)))H.words.push(ne),H.width+=J+n;else{var ee={words:[ne],width:J};Y.push(ee)}return Y},[])},w=x(t),_=$=>$.reduce((W,Y)=>W.width>Y.width?W:Y);if(!f||i)return w;var T=w.length>s||_(w).width>Number(r);if(!T)return w;for(var C="",A=$=>{var W=g.slice(0,$),Y=l$({breakAll:m,style:u,children:W+C}).wordsWithComputedWidth,X=x(Y),ne=X.length>s||_(X).width>Number(r);return[ne,X]},M=0,D=g.length-1,R=0,z;M<=D&&R<=g.length-1;){var k=Math.floor((M+D)/2),I=k-1,[B,V]=A(I),[F]=A(k);if(!B&&!F&&(M=k+1),B&&F&&(D=k-1),!B&&F){z=V;break}R++}return z||w},qI=e=>{var t=Ln(e)?[]:e.toString().split(o$);return[{words:t}]},Dwe=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:o}=e;if((t||n)&&!ju.isSsr){var u,m,f=l$({breakAll:s,children:r,style:i});if(f){var{wordsWithComputedWidth:g,spaceWidth:x}=f;u=g,m=x}else return qI(r);return Mwe({breakAll:s,children:r,maxLines:o,style:i},u,m,t,n)}return qI(r)},YI="#808080",Ry=N.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:o=!1,textAnchor:u="start",verticalAnchor:m="end",fill:f=YI}=e,g=HI(e,Cwe),x=N.useMemo(()=>Dwe({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:o,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,o,g.style,g.width]),{dx:w,dy:_,angle:T,className:C,breakAll:A}=g,M=HI(g,Twe);if(!Zo(n)||!Zo(r))return null;var D=n+(ot(w)?w:0),R=r+(ot(_)?_:0),z;switch(m){case"start":z=Jj("calc(".concat(s,")"));break;case"middle":z=Jj("calc(".concat((x.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:z=Jj("calc(".concat(x.length-1," * -").concat(i,")"));break}var k=[];if(o){var I=x[0].width,{width:B}=g;k.push("scale(".concat(ot(B)?B/I:1,")"))}return T&&k.push("rotate(".concat(T,", ").concat(D,", ").concat(R,")")),k.length&&(M.transform=k.join(" ")),N.createElement("text",__({},Yt(M,!0),{ref:t,x:D,y:R,className:ln("recharts-text",C),textAnchor:u,fill:f.includes("url")?YI:f}),x.map((V,F)=>{var $=V.words.join(A?"":" ");return N.createElement("tspan",{x:D,dy:F===0?z:i,key:"".concat($,"-").concat(F)},$)}))});Ry.displayName="Text";var Rwe=["offset"],Pwe=["labelRef"];function WI(e,t){if(e==null)return{};var n,r,i=kwe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function GI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GI(Object(n),!0).forEach(function(r){Iwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iwe(e,t,n){return(t=Lwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lwe(e){var t=Bwe(e,"string");return typeof t=="symbol"?t:t+""}function Bwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ol.apply(null,arguments)}var Fwe=e=>{var{value:t,formatter:n}=e,r=Ln(e.children)?t:e.children;return typeof n=="function"?n(r):r},tT=e=>e!=null&&typeof e=="function",Uwe=(e,t)=>{var n=Aa(t-e),r=Math.min(Math.abs(t-e),360);return n*r},zwe=(e,t,n)=>{var{position:r,viewBox:i,offset:s,className:o}=e,{cx:u,cy:m,innerRadius:f,outerRadius:g,startAngle:x,endAngle:w,clockWise:_}=i,T=(f+g)/2,C=Uwe(x,w),A=C>=0?1:-1,M,D;r==="insideStart"?(M=x+A*s,D=_):r==="insideEnd"?(M=w-A*s,D=!_):r==="end"&&(M=w+A*s,D=_),D=C<=0?D:!D;var R=ta(u,m,T,M),z=ta(u,m,T,M+(D?1:-1)*359),k="M".concat(R.x,",").concat(R.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(D?0:1,`,
    `).concat(z.x,",").concat(z.y),I=Ln(e.id)?fu("recharts-radial-line-"):e.id;return N.createElement("text",Ol({},n,{dominantBaseline:"central",className:ln("recharts-radial-bar-label",o)}),N.createElement("defs",null,N.createElement("path",{id:I,d:k})),N.createElement("textPath",{xlinkHref:"#".concat(I)},t))},Vwe=e=>{var{viewBox:t,offset:n,position:r}=e,{cx:i,cy:s,innerRadius:o,outerRadius:u,startAngle:m,endAngle:f}=t,g=(m+f)/2;if(r==="outside"){var{x,y:w}=ta(i,s,u+n,g);return{x,y:w,textAnchor:x>=i?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var _=(o+u)/2,{x:T,y:C}=ta(i,s,_,g);return{x:T,y:C,textAnchor:"middle",verticalAnchor:"middle"}},$we=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,{x:s,y:o,width:u,height:m}=t,f=m>=0?1:-1,g=f*r,x=f>0?"end":"start",w=f>0?"start":"end",_=u>=0?1:-1,T=_*r,C=_>0?"end":"start",A=_>0?"start":"end";if(i==="top"){var M={x:s+u/2,y:o-f*r,textAnchor:"middle",verticalAnchor:x};return Qr(Qr({},M),n?{height:Math.max(o-n.y,0),width:u}:{})}if(i==="bottom"){var D={x:s+u/2,y:o+m+g,textAnchor:"middle",verticalAnchor:w};return Qr(Qr({},D),n?{height:Math.max(n.y+n.height-(o+m),0),width:u}:{})}if(i==="left"){var R={x:s-T,y:o+m/2,textAnchor:C,verticalAnchor:"middle"};return Qr(Qr({},R),n?{width:Math.max(R.x-n.x,0),height:m}:{})}if(i==="right"){var z={x:s+u+T,y:o+m/2,textAnchor:A,verticalAnchor:"middle"};return Qr(Qr({},z),n?{width:Math.max(n.x+n.width-z.x,0),height:m}:{})}var k=n?{width:u,height:m}:{};return i==="insideLeft"?Qr({x:s+T,y:o+m/2,textAnchor:A,verticalAnchor:"middle"},k):i==="insideRight"?Qr({x:s+u-T,y:o+m/2,textAnchor:C,verticalAnchor:"middle"},k):i==="insideTop"?Qr({x:s+u/2,y:o+g,textAnchor:"middle",verticalAnchor:w},k):i==="insideBottom"?Qr({x:s+u/2,y:o+m-g,textAnchor:"middle",verticalAnchor:x},k):i==="insideTopLeft"?Qr({x:s+T,y:o+g,textAnchor:A,verticalAnchor:w},k):i==="insideTopRight"?Qr({x:s+u-T,y:o+g,textAnchor:C,verticalAnchor:w},k):i==="insideBottomLeft"?Qr({x:s+T,y:o+m-g,textAnchor:A,verticalAnchor:x},k):i==="insideBottomRight"?Qr({x:s+u-T,y:o+m-g,textAnchor:C,verticalAnchor:x},k):i&&typeof i=="object"&&(ot(i.x)||dd(i.x))&&(ot(i.y)||dd(i.y))?Qr({x:s+Si(i.x,u),y:o+Si(i.y,m),textAnchor:"end",verticalAnchor:"end"},k):Qr({x:s+u/2,y:o+m/2,textAnchor:"middle",verticalAnchor:"middle"},k)},Hwe=e=>"cx"in e&&ot(e.cx);function ss(e){var{offset:t=5}=e,n=WI(e,Rwe),r=Qr({offset:t},n),{viewBox:i,position:s,value:o,children:u,content:m,className:f="",textBreakAll:g,labelRef:x}=r,w=YE(),_=i||w;if(!_||Ln(o)&&Ln(u)&&!N.isValidElement(m)&&typeof m!="function")return null;if(N.isValidElement(m)){var{labelRef:T}=r,C=WI(r,Pwe);return N.cloneElement(m,C)}var A;if(typeof m=="function"){if(A=N.createElement(m,r),N.isValidElement(A))return A}else A=Fwe(r);var M=Hwe(_),D=Yt(r,!0);if(M&&(s==="insideStart"||s==="insideEnd"||s==="end"))return zwe(r,A,D);var R=M?Vwe(r):$we(r,_);return N.createElement(Ry,Ol({ref:x,className:ln("recharts-label",f)},D,R,{breakAll:g}),A)}ss.displayName="Label";var c$=e=>{var{cx:t,cy:n,angle:r,startAngle:i,endAngle:s,r:o,radius:u,innerRadius:m,outerRadius:f,x:g,y:x,top:w,left:_,width:T,height:C,clockWise:A,labelViewBox:M}=e;if(M)return M;if(ot(T)&&ot(C)){if(ot(g)&&ot(x))return{x:g,y:x,width:T,height:C};if(ot(w)&&ot(_))return{x:w,y:_,width:T,height:C}}if(ot(g)&&ot(x))return{x:g,y:x,width:0,height:0};if(ot(t)&&ot(n))return{cx:t,cy:n,startAngle:i||r||0,endAngle:s||r||0,innerRadius:m||0,outerRadius:f||u||o||0,clockWise:A};if(e.viewBox)return e.viewBox},qwe=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?N.createElement(ss,Ol({key:"label-implicit"},r)):Zo(e)?N.createElement(ss,Ol({key:"label-implicit",value:e},r)):N.isValidElement(e)?e.type===ss?N.cloneElement(e,Qr({key:"label-implicit"},r)):N.createElement(ss,Ol({key:"label-implicit",content:e},r)):tT(e)?N.createElement(ss,Ol({key:"label-implicit",content:e},r)):e&&typeof e=="object"?N.createElement(ss,Ol({},e,{key:"label-implicit"},r)):null},Ywe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:i,labelRef:s}=t,o=c$(t),u=V0(i,ss).map((f,g)=>N.cloneElement(f,{viewBox:n||o,key:"label-".concat(g)}));if(!r)return u;var m=qwe(t.label,n||o,s);return[m,...u]};ss.parseViewBox=c$;ss.renderCallByParent=Ywe;var eN={},tN={},KI;function Wwe(){return KI||(KI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t}(tN)),tN}var nN={},XI;function Gwe(){return XI||(XI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t}(nN)),nN}var QI;function Kwe(){return QI||(QI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wwe(),n=Gwe(),r=DE();function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i}(eN)),eN}var rN,ZI;function Xwe(){return ZI||(ZI=1,rN=Kwe().last),rN}var Qwe=Xwe();const Zwe=zi(Qwe);var Jwe=["valueAccessor"],e2e=["data","dataKey","clockWise","id","textBreakAll"];function h1(){return h1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h1.apply(null,arguments)}function JI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function e8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JI(Object(n),!0).forEach(function(r){t2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t2e(e,t,n){return(t=n2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n2e(e){var t=r2e(e,"string");return typeof t=="symbol"?t:t+""}function r2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t8(e,t){if(e==null)return{};var n,r,i=a2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function a2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var i2e=e=>Array.isArray(e.value)?Zwe(e.value):e.value;function Bl(e){var{valueAccessor:t=i2e}=e,n=t8(e,Jwe),{data:r,dataKey:i,clockWise:s,id:o,textBreakAll:u}=n,m=t8(n,e2e);return!r||!r.length?null:N.createElement(Sr,{className:"recharts-label-list"},r.map((f,g)=>{var x=Ln(i)?t(f,g):qn(f&&f.payload,i),w=Ln(o)?{}:{id:"".concat(o,"-").concat(g)};return N.createElement(ss,h1({},Yt(f,!0),m,w,{parentViewBox:f.parentViewBox,value:x,textBreakAll:u,viewBox:ss.parseViewBox(Ln(s)?f:e8(e8({},f),{},{clockWise:s})),key:"label-".concat(g),index:g}))}))}Bl.displayName="LabelList";function s2e(e,t){return e?e===!0?N.createElement(Bl,{key:"labelList-implicit",data:t}):N.isValidElement(e)||tT(e)?N.createElement(Bl,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?N.createElement(Bl,h1({data:t},e,{key:"labelList-implicit"})):null:null}function o2e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:r}=e,i=V0(r,Bl).map((o,u)=>N.cloneElement(o,{data:t,key:"labelList-".concat(u)}));if(!n)return i;var s=s2e(e.label,t);return[s,...i]}Bl.renderCallByParent=o2e;function A_(){return A_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A_.apply(null,arguments)}var nT=e=>{var{cx:t,cy:n,r,className:i}=e,s=ln("recharts-dot",i);return t===+t&&n===+n&&r===+r?N.createElement("circle",A_({},Yt(e,!1),SE(e),{className:s,cx:t,cy:n,r})):null},u$=e=>e.graphicalItems.polarItems,l2e=Ue([qr,X0],OC),rT=Ue([u$,Yr,l2e],MC),c2e=Ue([rT],DC),aT=Ue([c2e,bC],RC),u2e=Ue([aT,Yr,rT],PC),d2e=Ue([aT,Yr,rT],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var s,o=qn(r,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:qn(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),n8=()=>{},f2e=Ue([Yr,yV,n8,d2e,n8],LC),d$=Ue([Yr,gn,aT,u2e,K0,qr,f2e],BC),h2e=Ue([d$,Yr,sm],zC);Ue([Yr,d$,h2e,qr],$C);var m2e={radiusAxis:{},angleAxis:{}},f$=$s({name:"polarAxis",initialState:m2e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:uTe,removeRadiusAxis:dTe,addAngleAxis:fTe,removeAngleAxis:hTe}=f$.actions,g2e=f$.reducer;function r8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function a8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r8(Object(n),!0).forEach(function(r){p2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p2e(e,t,n){return(t=x2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x2e(e){var t=v2e(e,"string");return typeof t=="symbol"?t:t+""}function v2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iT=(e,t)=>t,y2e=[],sT=(e,t,n)=>(n==null?void 0:n.length)===0?y2e:n,h$=Ue([bC,iT,sT],(e,t,n)=>{var{chartData:r}=e,i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>a8(a8({},t.presentationProps),s.props))),i!=null)return i}),b2e=Ue([h$,iT,sT],(e,t,n)=>{if(e!=null)return e.map((r,i)=>{var s,o=qn(r,t.nameKey,t.name),u;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:wu(o,t.dataKey),color:u,payload:r,type:t.legendType}})}),w2e=Ue([u$,iT],(e,t)=>{if(e.some(n=>n.type==="pie"&&t.dataKey===n.dataKey&&t.data===n.data))return t}),j2e=Ue([h$,w2e,sT,ga],(e,t,n,r)=>{if(!(t==null||e==null))return hje({offset:r,pieSettings:t,displayedData:e,cells:n})}),N2e={countOfBars:0,cartesianItems:[],polarItems:[]},m$=$s({name:"graphicalItems",initialState:N2e,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Il(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Il(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Il(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addBar:S2e,removeBar:_2e,addCartesianGraphicalItem:A2e,replaceCartesianGraphicalItem:E2e,removeCartesianGraphicalItem:C2e,addPolarGraphicalItem:T2e,removePolarGraphicalItem:O2e}=m$.actions,M2e=m$.reducer;function i8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i8(Object(n),!0).forEach(function(r){D2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D2e(e,t,n){return(t=R2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R2e(e){var t=P2e(e,"string");return typeof t=="symbol"?t:t+""}function P2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k2e(e){var t=fr(),n=N.useRef(null);return N.useEffect(()=>{var r=s8(s8({},e),{},{stackId:$E(e.stackId)});n.current===null?t(A2e(r)):n.current!==r&&t(E2e({prev:n.current,next:r})),n.current=r},[t,e]),N.useEffect(()=>()=>{n.current&&(t(C2e(n.current)),n.current=null)},[t]),null}function I2e(e){var t=fr();return N.useEffect(()=>(t(T2e(e)),()=>{t(O2e(e))}),[t,e]),null}var aN={},o8;function L2e(){return o8||(o8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t}(aN)),aN}var iN,l8;function B2e(){return l8||(l8=1,iN=L2e().isPlainObject),iN}var F2e=B2e();const U2e=zi(F2e);function m1(){return m1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m1.apply(null,arguments)}var c8=(e,t,n,r,i)=>{var s=n-r,o;return o="M ".concat(e,",").concat(t),o+="L ".concat(e+n,",").concat(t),o+="L ".concat(e+n-s/2,",").concat(t+i),o+="L ".concat(e+n-s/2-r,",").concat(t+i),o+="L ".concat(e,",").concat(t," Z"),o},z2e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},V2e=e=>{var t=ps(e,z2e),n=N.useRef(),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&i(A)}catch{}},[]);var{x:s,y:o,upperWidth:u,lowerWidth:m,height:f,className:g}=t,{animationEasing:x,animationDuration:w,animationBegin:_,isUpdateAnimationActive:T}=t;if(s!==+s||o!==+o||u!==+u||m!==+m||f!==+f||u===0&&m===0||f===0)return null;var C=ln("recharts-trapezoid",g);return T?N.createElement(Gl,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:f,x:s,y:o},to:{upperWidth:u,lowerWidth:m,height:f,x:s,y:o},duration:w,animationEasing:x,isActive:T},A=>{var{upperWidth:M,lowerWidth:D,height:R,x:z,y:k}=A;return N.createElement(Gl,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:w,easing:x},N.createElement("path",m1({},Yt(t,!0),{className:C,d:c8(z,k,M,D,R),ref:n})))}):N.createElement("g",null,N.createElement("path",m1({},Yt(t,!0),{className:C,d:c8(s,o,u,m,f)})))},$2e=["option","shapeType","propTransformer","activeClassName","isActive"];function H2e(e,t){if(e==null)return{};var n,r,i=q2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function q2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function u8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function g1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u8(Object(n),!0).forEach(function(r){Y2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y2e(e,t,n){return(t=W2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W2e(e){var t=G2e(e,"string");return typeof t=="symbol"?t:t+""}function G2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K2e(e,t){return g1(g1({},t),e)}function X2e(e,t){return e==="symbols"}function d8(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return N.createElement(tz,n);case"trapezoid":return N.createElement(V2e,n);case"sector":return N.createElement(az,n);case"symbols":if(X2e(t))return N.createElement(TE,n);break;default:return null}}function Q2e(e){return N.isValidElement(e)?e.props:e}function g$(e){var{option:t,shapeType:n,propTransformer:r=K2e,activeClassName:i="recharts-active-shape",isActive:s}=e,o=H2e(e,$2e),u;if(N.isValidElement(t))u=N.cloneElement(t,g1(g1({},o),Q2e(t)));else if(typeof t=="function")u=t(o);else if(U2e(t)&&typeof t!="boolean"){var m=r(t,o);u=N.createElement(d8,{shapeType:n,elementProps:m})}else{var f=o;u=N.createElement(d8,{shapeType:n,elementProps:f})}return s?N.createElement(Sr,{className:i},u):u}var oT=(e,t)=>{var n=fr();return(r,i)=>s=>{e==null||e(r,i,s),n(kV({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},lT=e=>{var t=fr();return(n,r)=>i=>{e==null||e(n,r,i),t(Lye())}},cT=(e,t)=>{var n=fr();return(r,i)=>s=>{e==null||e(r,i,s),n(Bye({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function Py(e){var{fn:t,args:n}=e,r=fr(),i=gi();return N.useEffect(()=>{if(!i){var s=t(n);return r(Pye(s)),()=>{r(kye(s))}}},[t,n,r,i]),null}var p$=()=>{};function uT(e){var{legendPayload:t}=e,n=fr(),r=gi();return N.useEffect(()=>r?p$:(n(KU(t)),()=>{n(XU(t))}),[n,r,t]),null}function Z2e(e){var{legendPayload:t}=e,n=fr(),r=yt(gn);return N.useEffect(()=>r!=="centric"&&r!=="radial"?p$:(n(KU(t)),()=>{n(XU(t))}),[n,r,t]),null}function ky(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=N.useRef(fu(t)),r=N.useRef(e);return r.current!==e&&(n.current=fu(t),r.current=e),n.current}var J2e=["onMouseEnter","onClick","onMouseLeave"];function eje(e,t){if(e==null)return{};var n,r,i=tje(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function tje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function f8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f8(Object(n),!0).forEach(function(r){Iy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iy(e,t,n){return(t=nje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nje(e){var t=rje(e,"string");return typeof t=="symbol"?t:t+""}function rje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kd(){return kd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kd.apply(null,arguments)}function aje(e){var t=N.useMemo(()=>Yt(e,!1),[e]),n=N.useMemo(()=>V0(e.children,mu),[e.children]),r=N.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),i=yt(s=>b2e(s,r,n));return N.createElement(Z2e,{legendPayload:i})}function ije(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:o,name:u,hide:m,tooltipType:f}=e;return{dataDefinedOnItem:r==null?void 0:r.map(g=>g.tooltipPayload),positions:r==null?void 0:r.map(g=>g.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:o,dataKey:t,nameKey:n,name:wu(u,t),hide:m,type:f,color:o,unit:""}}}var sje=(e,t)=>e>t?"start":e<t?"end":"middle",oje=(e,t,n)=>typeof t=="function"?t(e):Si(t,n,n*.8),lje=(e,t,n)=>{var{top:r,left:i,width:s,height:o}=t,u=UU(s,o),m=i+Si(e.cx,s,s/2),f=r+Si(e.cy,o,o/2),g=Si(e.innerRadius,u,0),x=oje(n,e.outerRadius,u),w=e.maxRadius||Math.sqrt(s*s+o*o)/2;return{cx:m,cy:f,innerRadius:g,outerRadius:x,maxRadius:w}},cje=(e,t)=>{var n=Aa(t-e),r=Math.min(Math.abs(t-e),360);return n*r},uje=(e,t)=>{if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return e(t);var n=ln("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return N.createElement(ph,kd({},t,{type:"linear",className:n}))},dje=(e,t,n)=>{if(N.isValidElement(e))return N.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),N.isValidElement(r)))return r;var i=ln("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return N.createElement(Ry,kd({},t,{alignmentBaseline:"middle",className:i}),r)};function fje(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:s,dataKey:o}=n;if(!r||!i||!t)return null;var u=Yt(n,!1),m=Yt(i,!1),f=Yt(s,!1),g=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,x=t.map((w,_)=>{var T=(w.startAngle+w.endAngle)/2,C=ta(w.cx,w.cy,w.outerRadius+g,T),A=Dr(Dr(Dr(Dr({},u),w),{},{stroke:"none"},m),{},{index:_,textAnchor:sje(C.x,w.cx)},C),M=Dr(Dr(Dr(Dr({},u),w),{},{fill:"none",stroke:w.fill},f),{},{index:_,points:[ta(w.cx,w.cy,w.outerRadius,T),C],key:"line"});return N.createElement(Sr,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(_)},s&&uje(s,M),dje(i,A,qn(w,o)))});return N.createElement(Sr,{className:"recharts-pie-labels"},x)}function x$(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:s}=e,o=yt(hu),{onMouseEnter:u,onClick:m,onMouseLeave:f}=i,g=eje(i,J2e),x=oT(u,i.dataKey),w=lT(f),_=cT(m,i.dataKey);return t==null?null:N.createElement(N.Fragment,null,t.map((T,C)=>{if((T==null?void 0:T.startAngle)===0&&(T==null?void 0:T.endAngle)===0&&t.length!==1)return null;var A=n&&String(C)===o,M=o?r:null,D=A?n:M,R=Dr(Dr({},T),{},{stroke:T.stroke,tabIndex:-1,[HU]:C,[qU]:i.dataKey});return N.createElement(Sr,kd({tabIndex:-1,className:"recharts-pie-sector"},z0(g,T,C),{onMouseEnter:x(T,C),onMouseLeave:w(T,C),onClick:_(T,C),key:"sector-".concat(T==null?void 0:T.startAngle,"-").concat(T==null?void 0:T.endAngle,"-").concat(T.midAngle,"-").concat(C)}),N.createElement(g$,kd({option:D,isActive:A,shapeType:"sector"},R)))}),N.createElement(fje,{sectors:t,props:i,showLabels:s}))}function hje(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:s}=e,{cornerRadius:o,startAngle:u,endAngle:m,dataKey:f,nameKey:g,tooltipType:x}=n,w=Math.abs(n.minAngle),_=cje(u,m),T=Math.abs(_),C=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,A=r.filter(I=>qn(I,f,0)!==0).length,M=(T>=360?A:A-1)*C,D=T-A*w-M,R=r.reduce((I,B)=>{var V=qn(B,f,0);return I+(ot(V)?V:0)},0),z;if(R>0){var k;z=r.map((I,B)=>{var V=qn(I,f,0),F=qn(I,g,B),$=lje(n,s,I),W=(ot(V)?V:0)/R,Y,X=Dr(Dr({},I),i&&i[B]&&i[B].props);B?Y=k.endAngle+Aa(_)*C*(V!==0?1:0):Y=u;var ne=Y+Aa(_)*((V!==0?w:0)+W*D),J=(Y+ne)/2,H=($.innerRadius+$.outerRadius)/2,ee=[{name:F,value:V,payload:X,dataKey:f,type:x}],K=ta($.cx,$.cy,H,J);return k=Dr(Dr(Dr(Dr({},n.presentationProps),{},{percent:W,cornerRadius:o,name:F,tooltipPayload:ee,midAngle:J,middleRadius:H,tooltipPosition:K},X),$),{},{value:qn(I,f),startAngle:Y,endAngle:ne,payload:X,paddingAngle:Aa(_)*C}),k})}return z}function mje(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:u,activeShape:m,inactiveShape:f,onAnimationStart:g,onAnimationEnd:x}=t,w=ky(t,"recharts-pie-"),_=n.current,[T,C]=N.useState(!0),A=N.useCallback(()=>{typeof x=="function"&&x(),C(!1)},[x]),M=N.useCallback(()=>{typeof g=="function"&&g(),C(!0)},[g]);return N.createElement(Gl,{begin:s,duration:o,isActive:i,easing:u,from:{t:0},to:{t:1},onAnimationStart:M,onAnimationEnd:A,key:w},D=>{var{t:R}=D,z=[],k=r&&r[0],I=k.startAngle;return r.forEach((B,V)=>{var F=_&&_[V],$=V>0?du(B,"paddingAngle",0):0;if(F){var W=is(F.endAngle-F.startAngle,B.endAngle-B.startAngle),Y=Dr(Dr({},B),{},{startAngle:I+$,endAngle:I+W(R)+$});z.push(Y),I=Y.endAngle}else{var{endAngle:X,startAngle:ne}=B,J=is(0,X-ne),H=J(R),ee=Dr(Dr({},B),{},{startAngle:I+$,endAngle:I+H+$});z.push(ee),I=ee.endAngle}}),n.current=z,N.createElement(Sr,null,N.createElement(x$,{sectors:z,activeShape:m,inactiveShape:f,allOtherPieProps:t,showLabels:!T}))})}function gje(e){var{sectors:t,isAnimationActive:n,activeShape:r,inactiveShape:i}=e,s=N.useRef(null),o=s.current;return n&&t&&t.length&&(!o||o!==t)?N.createElement(mje,{props:e,previousSectorsRef:s}):N.createElement(x$,{sectors:t,activeShape:r,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function pje(e){var{hide:t,className:n,rootTabIndex:r}=e,i=ln("recharts-pie",n);return t?null:N.createElement(Sr,{tabIndex:r,className:i},N.createElement(gje,e))}var v$={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ju.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function xje(e){var t=ps(e,v$),n=N.useMemo(()=>V0(e.children,mu),[e.children]),r=Yt(t,!1),i=N.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:r}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,r]),s=yt(o=>j2e(o,i,n));return N.createElement(N.Fragment,null,N.createElement(Py,{fn:ije,args:Dr(Dr({},t),{},{sectors:s})}),N.createElement(pje,kd({},t,{sectors:s})))}class kh extends N.PureComponent{constructor(){super(...arguments),Iy(this,"id",fu("recharts-pie-"))}render(){return N.createElement(N.Fragment,null,N.createElement(I2e,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),N.createElement(aje,this.props),N.createElement(xje,this.props),this.props.children)}}Iy(kh,"displayName","Pie");Iy(kh,"defaultProps",v$);var vje=Ue([ga],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),yje=Ue([vje,Zl,Jl],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),bje=e=>{var t=gi();return yt(n=>Us(n,"xAxis",e,t))},wje=e=>{var t=gi();return yt(n=>Us(n,"yAxis",e,t))},Ly=()=>yt(yje),jje=()=>yt(jbe);function h8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function m8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h8(Object(n),!0).forEach(function(r){Nje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nje(e,t,n){return(t=Sje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sje(e){var t=_je(e,"string");return typeof t=="symbol"?t:t+""}function _je(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aje=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o=m8(m8({index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Yt(i,!1)),SE(i)),u;return N.isValidElement(i)?u=N.cloneElement(i,o):typeof i=="function"?u=i(o):u=N.createElement(nT,o),N.createElement(Sr,{className:"recharts-active-dot"},u)};function E_(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,s=yt(hu),o=jje();if(t==null||o==null)return null;var u=t.find(m=>o.includes(m.payload));return Ln(u)?null:Aje({point:u,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r})}var Eje=()=>{var e=fr();return N.useEffect(()=>(e(S2e()),()=>{e(_2e())})),null},Cje=["children"];function Tje(e,t){if(e==null)return{};var n,r,i=Oje(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var g8=()=>{},y$=N.createContext({addErrorBar:g8,removeErrorBar:g8}),Mje={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},b$=N.createContext(Mje);function w$(e){var{children:t}=e,n=Tje(e,Cje);return N.createElement(b$.Provider,{value:n},t)}var Dje=()=>N.useContext(b$),dT=e=>{var{children:t,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:s,data:o,stackId:u,hide:m,type:f,barSize:g}=e,[x,w]=N.useState([]),_=N.useCallback(A=>{w(M=>[...M,A])},[w]),T=N.useCallback(A=>{w(M=>M.filter(D=>D!==A))},[w]),C=gi();return N.createElement(y$.Provider,{value:{addErrorBar:_,removeErrorBar:T}},N.createElement(k2e,{type:f,data:o,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:s,errorBars:x,stackId:u,hide:m,barSize:g,isPanorama:C}),t)};function Rje(e){var{addErrorBar:t,removeErrorBar:n}=N.useContext(y$);return N.useEffect(()=>(t(e),()=>{n(e)}),[t,n,e]),null}var Pje=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function j$(e,t,n){return(t=kje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kje(e){var t=Ije(e,"string");return typeof t=="symbol"?t:t+""}function Ije(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p0.apply(null,arguments)}function Lje(e,t){if(e==null)return{};var n,r,i=Bje(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Fje(e){var{direction:t,width:n,dataKey:r,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:u}=e,m=Lje(e,Pje),f=Yt(m,!1),{data:g,dataPointFormatter:x,xAxisId:w,yAxisId:_,errorBarOffset:T}=Dje(),C=bje(w),A=wje(_);if((C==null?void 0:C.scale)==null||(A==null?void 0:A.scale)==null||g==null||t==="x"&&C.type!=="number")return null;var M=g.map(D=>{var{x:R,y:z,value:k,errorVal:I}=x(D,r,t);if(!I)return null;var B=[],V,F;if(Array.isArray(I)?[V,F]=I:V=F=I,t==="x"){var{scale:$}=C,W=z+T,Y=W+n,X=W-n,ne=$(k-V),J=$(k+F);B.push({x1:J,y1:Y,x2:J,y2:X}),B.push({x1:ne,y1:W,x2:J,y2:W}),B.push({x1:ne,y1:Y,x2:ne,y2:X})}else if(t==="y"){var{scale:H}=A,ee=R+T,K=ee-n,ue=ee+n,re=H(k-V),de=H(k+F);B.push({x1:K,y1:de,x2:ue,y2:de}),B.push({x1:ee,y1:re,x2:ee,y2:de}),B.push({x1:K,y1:re,x2:ue,y2:re})}var xe="".concat(R+T,"px ").concat(z+T,"px");return N.createElement(Sr,p0({className:"recharts-errorBar",key:"bar-".concat(B.map(Se=>"".concat(Se.x1,"-").concat(Se.x2,"-").concat(Se.y1,"-").concat(Se.y2)))},f),B.map(Se=>{var ye=i?{transformOrigin:"".concat(Se.x1-5,"px")}:void 0;return N.createElement(Gl,{from:{transform:"scaleY(0)",transformOrigin:xe},to:{transform:"scaleY(1)",transformOrigin:xe},begin:s,easing:u,isActive:i,duration:o,key:"line-".concat(Se.x1,"-").concat(Se.x2,"-").concat(Se.y1,"-").concat(Se.y2),style:{transformOrigin:xe}},N.createElement("line",p0({},Se,{style:ye})))}))});return N.createElement(Sr,{className:"recharts-errorBars"},M)}var N$=N.createContext(void 0);function Uje(e){var t=N.useContext(N$);return e??t??"x"}function S$(e){var{direction:t,children:n}=e;return N.createElement(N$.Provider,{value:t},n)}var _$={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function zje(e){var t=Uje(e.direction),{width:n,isAnimationActive:r,animationBegin:i,animationDuration:s,animationEasing:o}=ps(e,_$);return N.createElement(N.Fragment,null,N.createElement(Rje,{dataKey:e.dataKey,direction:t}),N.createElement(Fje,p0({},e,{direction:t,width:n,isAnimationActive:r,animationBegin:i,animationDuration:s,animationEasing:o})))}class A$ extends N.Component{render(){return N.createElement(zje,this.props)}}j$(A$,"defaultProps",_$);j$(A$,"displayName","ErrorBar");var Vje="Invariant failed";function $je(e,t){throw new Error(Vje)}var Hje=["x","y"];function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C_.apply(null,arguments)}function p8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p8(Object(n),!0).forEach(function(r){qje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qje(e,t,n){return(t=Yje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yje(e){var t=Wje(e,"string");return typeof t=="symbol"?t:t+""}function Wje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gje(e,t){if(e==null)return{};var n,r,i=Kje(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Xje(e,t){var{x:n,y:r}=e,i=Gje(e,Hje),s="".concat(n),o=parseInt(s,10),u="".concat(r),m=parseInt(u,10),f="".concat(t.height||i.height),g=parseInt(f,10),x="".concat(t.width||i.width),w=parseInt(x,10);return vg(vg(vg(vg(vg({},t),i),o?{x:o}:{}),m?{y:m}:{}),{},{height:g,width:w,name:t.name,radius:t.radius})}function E$(e){return N.createElement(g$,C_({shapeType:"rectangle",propTransformer:Xje,activeClassName:"recharts-active-bar"},e))}var Qje=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(ot(t))return t;var s=ot(r)||Ln(r);return s?t(r,i):(s||$je(),n)}};function By(e,t){var n,r,i=yt(f=>tc(f,e)),s=yt(f=>_u(f,t)),o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ts.allowDataOverflow,u=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:ns.allowDataOverflow,m=o||u;return{needClip:m,needClipX:o,needClipY:u}}function fT(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=Ly(),{needClipX:s,needClipY:o,needClip:u}=By(t,n);if(!u)return null;var{x:m,y:f,width:g,height:x}=i;return N.createElement("clipPath",{id:"clipPath-".concat(r)},N.createElement("rect",{x:s?m:m-g/2,y:o?f:f-x/2,width:s?g:g*2,height:o?x:x*2}))}var Zje=["onMouseEnter","onMouseLeave","onClick"],Jje=["value","background","tooltipPosition"],eNe=["onMouseEnter","onClick","onMouseLeave"];function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x0.apply(null,arguments)}function x8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x8(Object(n),!0).forEach(function(r){Fy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fy(e,t,n){return(t=tNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tNe(e){var t=nNe(e,"string");return typeof t=="symbol"?t:t+""}function nNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T_(e,t){if(e==null)return{};var n,r,i=rNe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rNe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aNe=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:wu(n,t),payload:e}]};function iNe(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:s,hide:o,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:wu(s,t),hide:o,type:e.tooltipType,color:e.fill,unit:u}}}function sNe(e){var t=yt(hu),{data:n,dataKey:r,background:i,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:u,onClick:m}=s,f=T_(s,Zje),g=oT(o,r),x=lT(u),w=cT(m,r);if(!i||n==null)return null;var _=Yt(i,!1);return N.createElement(N.Fragment,null,n.map((T,C)=>{var{value:A,background:M,tooltipPosition:D}=T,R=T_(T,Jje);if(!M)return null;var z=g(T,C),k=x(T,C),I=w(T,C),B=ai(ai(ai(ai(ai({option:i,isActive:String(C)===t},R),{},{fill:"#eee"},M),_),z0(f,T,C)),{},{onMouseEnter:z,onMouseLeave:k,onClick:I,dataKey:r,index:C,className:"recharts-bar-background-rectangle"});return N.createElement(E$,x0({key:"background-bar-".concat(C)},B))}))}function C$(e){var{data:t,props:n,showLabels:r}=e,i=Yt(n,!1),{shape:s,dataKey:o,activeBar:u}=n,m=yt(hu),f=yt(GV),{onMouseEnter:g,onClick:x,onMouseLeave:w}=n,_=T_(n,eNe),T=oT(g,o),C=lT(w),A=cT(x,o);return t?N.createElement(N.Fragment,null,t.map((M,D)=>{var R=u&&String(D)===m&&(f==null||o===f),z=R?u:s,k=ai(ai(ai({},i),M),{},{isActive:R,option:z,index:D,dataKey:o});return N.createElement(Sr,x0({className:"recharts-bar-rectangle"},z0(_,M,D),{onMouseEnter:T(M,D),onMouseLeave:C(M,D),onClick:A(M,D),key:"rectangle-".concat(M==null?void 0:M.x,"-").concat(M==null?void 0:M.y,"-").concat(M==null?void 0:M.value,"-").concat(D)}),N.createElement(E$,k))}),r&&Bl.renderCallByParent(n,t)):null}function oNe(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:s,animationBegin:o,animationDuration:u,animationEasing:m,onAnimationEnd:f,onAnimationStart:g}=t,x=n.current,w=ky(t,"recharts-bar-"),[_,T]=N.useState(!1),C=N.useCallback(()=>{typeof f=="function"&&f(),T(!1)},[f]),A=N.useCallback(()=>{typeof g=="function"&&g(),T(!0)},[g]);return N.createElement(Gl,{begin:o,duration:u,isActive:s,easing:m,from:{t:0},to:{t:1},onAnimationEnd:C,onAnimationStart:A,key:w},M=>{var{t:D}=M,R=D===1?r:r.map((z,k)=>{var I=x&&x[k];if(I){var B=is(I.x,z.x),V=is(I.y,z.y),F=is(I.width,z.width),$=is(I.height,z.height);return ai(ai({},z),{},{x:B(D),y:V(D),width:F(D),height:$(D)})}if(i==="horizontal"){var W=is(0,z.height),Y=W(D);return ai(ai({},z),{},{y:z.y+z.height-Y,height:Y})}var X=is(0,z.width),ne=X(D);return ai(ai({},z),{},{width:ne})});return D>0&&(n.current=R),N.createElement(Sr,null,N.createElement(C$,{props:t,data:R,showLabels:!_}))})}function lNe(e){var{data:t,isAnimationActive:n}=e,r=N.useRef(null);return n&&t&&t.length&&(r.current==null||r.current!==t)?N.createElement(oNe,{previousRectanglesRef:r,props:e}):N.createElement(C$,{props:e,data:t,showLabels:!0})}var T$=0,cNe=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:qn(e,t)}};class uNe extends N.PureComponent{constructor(){super(...arguments),Fy(this,"id",fu("recharts-bar-"))}render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:o,needClip:u,background:m,id:f,layout:g}=this.props;if(t)return null;var x=ln("recharts-bar",i),w=Ln(f)?this.id:f;return N.createElement(Sr,{className:x},u&&N.createElement("defs",null,N.createElement(fT,{clipPathId:w,xAxisId:s,yAxisId:o})),N.createElement(Sr,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(w,")"):null},N.createElement(sNe,{data:n,dataKey:r,background:m,allOtherBarProps:this.props}),N.createElement(lNe,this.props)),N.createElement(S$,{direction:g==="horizontal"?"y":"x"},this.props.children))}}var O$={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ju.isSsr,legendType:"rect",minPointSize:T$,xAxisId:0,yAxisId:0};function dNe(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:o,animationBegin:u,animationDuration:m,animationEasing:f,isAnimationActive:g}=ps(e,O$),{needClip:x}=By(t,n),w=H0(),_=gi(),T=N.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:s,stackId:$E(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,s,e.stackId]),C=V0(e.children,mu),A=yt(R=>FNe(R,t,n,_,T,C));if(w!=="vertical"&&w!=="horizontal")return null;var M,D=A==null?void 0:A[0];return D==null||D.height==null||D.width==null?M=0:M=w==="vertical"?D.height/2:D.width/2,N.createElement(w$,{xAxisId:t,yAxisId:n,data:A,dataPointFormatter:cNe,errorBarOffset:M},N.createElement(uNe,x0({},e,{layout:w,needClip:x,data:A,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:o,animationBegin:u,animationDuration:m,animationEasing:f,isAnimationActive:g})))}function fNe(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:o,yAxis:u,xAxisTicks:m,yAxisTicks:f,stackedData:g,displayedData:x,offset:w,cells:_}=e,T=t==="horizontal"?u:o,C=g?T.scale.domain():null,A=Kge({numericAxis:T});return x.map((M,D)=>{var R,z,k,I,B,V;g?R=Hge(g[D],C):(R=qn(M,n),Array.isArray(R)||(R=[A,R]));var F=Qje(r,T$)(R[1],D);if(t==="horizontal"){var $,[W,Y]=[u.scale(R[0]),u.scale(R[1])];z=tk({axis:o,ticks:m,bandSize:s,offset:i.offset,entry:M,index:D}),k=($=Y??W)!==null&&$!==void 0?$:void 0,I=i.size;var X=W-Y;if(B=Ui(X)?0:X,V={x:z,y:w.top,width:I,height:w.height},Math.abs(F)>0&&Math.abs(B)<Math.abs(F)){var ne=Aa(B||F)*(Math.abs(F)-Math.abs(B));k-=ne,B+=ne}}else{var[J,H]=[o.scale(R[0]),o.scale(R[1])];if(z=J,k=tk({axis:u,ticks:f,bandSize:s,offset:i.offset,entry:M,index:D}),I=H-J,B=i.size,V={x:w.left,y:k,width:w.width,height:B},Math.abs(F)>0&&Math.abs(I)<Math.abs(F)){var ee=Aa(I||F)*(Math.abs(F)-Math.abs(I));I+=ee}}var K=ai(ai({},M),{},{x:z,y:k,width:I,height:B,value:g?R:R[1],payload:M,background:V,tooltipPosition:{x:z+I/2,y:k+B/2}},_&&_[D]&&_[D].props);return K})}class Vr extends N.PureComponent{render(){return N.createElement(dT,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},N.createElement(Eje,null),N.createElement(uT,{legendPayload:aNe(this.props)}),N.createElement(Py,{fn:iNe,args:this.props}),N.createElement(dNe,this.props))}}Fy(Vr,"displayName","Bar");Fy(Vr,"defaultProps",O$);function v8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v8(Object(n),!0).forEach(function(r){hNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hNe(e,t,n){return(t=mNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mNe(e){var t=gNe(e,"string");return typeof t=="symbol"?t:t+""}function gNe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pNe=(e,t)=>t,xNe=(e,t,n)=>n,vNe=(e,t,n,r)=>r,hT=(e,t,n,r,i)=>i,yNe=(e,t,n,r,i)=>i.maxBarSize,bNe=(e,t,n,r,i,s)=>s,y8=(e,t,n)=>{var r=n??e;if(!Ln(r))return Si(r,t,0)},wNe=Ue([gn,Z0,pNe,xNe,vNe],(e,t,n,r,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),jNe=(e,t,n,r)=>{var i=gn(e);return i==="horizontal"?m0(e,"yAxis",n,r):m0(e,"xAxis",t,r)},NNe=(e,t,n)=>{var r=gn(e);return r==="horizontal"?bI(e,"xAxis",t):bI(e,"yAxis",n)};function SNe(e){return e.stackId!=null&&e.dataKey!=null}var _Ne=(e,t,n)=>{var r={},i=e.filter(SNe),s=e.filter(f=>f.stackId==null),o=i.reduce((f,g)=>(f[g.stackId]||(f[g.stackId]=[]),f[g.stackId].push(g),f),r),u=Object.entries(o).map(f=>{var[g,x]=f,w=x.map(T=>T.dataKey),_=y8(t,n,x[0].barSize);return{stackId:g,dataKeys:w,barSize:_}}),m=s.map(f=>{var g=[f.dataKey].filter(w=>w!=null),x=y8(t,n,f.barSize);return{stackId:void 0,dataKeys:g,barSize:x}});return[...u,...m]},ANe=Ue([wNe,R1e,NNe],_Ne),ENe=(e,t,n,r,i)=>{var s,o,u=gn(e),m=eV(e),{maxBarSize:f}=i,g=Ln(f)?m:f,x,w;return u==="horizontal"?(x=Us(e,"xAxis",t,r),w=el(e,"xAxis",t,r)):(x=Us(e,"yAxis",n,r),w=el(e,"yAxis",n,r)),(s=(o=Rd(x,w,!0))!==null&&o!==void 0?o:g)!==null&&s!==void 0?s:0},M$=(e,t,n,r)=>{var i=gn(e),s,o;return i==="horizontal"?(s=Us(e,"xAxis",t,r),o=el(e,"xAxis",t,r)):(s=Us(e,"yAxis",n,r),o=el(e,"yAxis",n,r)),Rd(s,o)};function CNe(e,t,n,r,i){var s=r.length;if(!(s<1)){var o=Si(e,n,0,!0),u,m=[];if(qa(r[0].barSize)){var f=!1,g=n/s,x=r.reduce((M,D)=>M+(D.barSize||0),0);x+=(s-1)*o,x>=n&&(x-=(s-1)*o,o=0),x>=n&&g>0&&(f=!0,g*=.9,x=s*g);var w=(n-x)/2>>0,_={offset:w-o,size:0};u=r.reduce((M,D)=>{var R,z={stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:_.offset+_.size+o,size:f?g:(R=D.barSize)!==null&&R!==void 0?R:0}},k=[...M,z];return _=k[k.length-1].position,k},m)}else{var T=Si(t,n,0,!0);n-2*T-(s-1)*o<=0&&(o=0);var C=(n-2*T-(s-1)*o)/s;C>1&&(C>>=0);var A=qa(i)?Math.min(C,i):C;u=r.reduce((M,D,R)=>[...M,{stackId:D.stackId,dataKeys:D.dataKeys,position:{offset:T+(C+o)*R+(C-A)/2,size:A}}],m)}return u}}var TNe=(e,t,n,r,i,s,o)=>{var u=Ln(o)?t:o,m=CNe(n,r,i!==s?i:s,e,u);return i!==s&&m!=null&&(m=m.map(f=>Gx(Gx({},f),{},{position:Gx(Gx({},f.position),{},{offset:f.position.offset-i/2})}))),m},ONe=Ue([ANe,eV,D1e,tV,ENe,M$,yNe],TNe),MNe=(e,t,n,r)=>Us(e,"xAxis",t,r),DNe=(e,t,n,r)=>Us(e,"yAxis",n,r),RNe=(e,t,n,r)=>el(e,"xAxis",t,r),PNe=(e,t,n,r)=>el(e,"yAxis",n,r),kNe=Ue([ONe,hT],(e,t)=>{if(e!=null){var n=e.find(r=>r.stackId===t.stackId&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),INe=(e,t)=>{if(!(!e||(t==null?void 0:t.dataKey)==null)){var{stackId:n}=t;if(n!=null){var r=e[n];if(r){var{stackedData:i}=r;if(i){var s=i.find(o=>o.key===t.dataKey);return s}}}}},LNe=Ue([Z0,hT],(e,t)=>{if(e.some(n=>n.type==="bar"&&t.dataKey===n.dataKey&&t.stackId===n.stackId&&t.stackId===n.stackId))return t}),BNe=Ue([jNe,hT],INe),FNe=Ue([ga,MNe,DNe,RNe,PNe,kNe,gn,jy,M$,BNe,LNe,bNe],(e,t,n,r,i,s,o,u,m,f,g,x)=>{var{chartData:w,dataStartIndex:_,dataEndIndex:T}=u;if(!(g==null||s==null||o!=="horizontal"&&o!=="vertical"||t==null||n==null||r==null||i==null||m==null)){var{data:C}=g,A;if(C!=null&&C.length>0?A=C:A=w==null?void 0:w.slice(_,T+1),A!=null)return fNe({layout:o,barSettings:g,pos:s,bandSize:m,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:f,displayedData:A,offset:e,cells:x})}}),D$=e=>{var{chartData:t}=e,n=fr(),r=gi();return N.useEffect(()=>r?()=>{}:(n(OI(t)),()=>{n(OI(void 0))}),[t,n,r]),null},b8={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},R$=$s({name:"brush",initialState:b8,reducers:{setBrushSettings(e,t){return t.payload==null?b8:t.payload}}}),{setBrushSettings:mTe}=R$.actions,UNe=R$.reducer;function zNe(e,t,n){return(t=VNe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VNe(e){var t=$Ne(e,"string");return typeof t=="symbol"?t:t+""}function $Ne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class mT{static create(t){return new mT(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}zNe(mT,"EPS",1e-4);function HNe(e){return(e%180+180)%180}var qNe=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=HNe(i),o=s*Math.PI/180,u=Math.atan(r/n),m=o>u&&o<Math.PI-u?r/Math.sin(o):n/Math.cos(o);return Math.abs(m)},YNe={dots:[],areas:[],lines:[]},P$=$s({name:"referenceElements",initialState:YNe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Il(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Il(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Il(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:gTe,removeDot:pTe,addArea:xTe,removeArea:vTe,addLine:yTe,removeLine:bTe}=P$.actions,WNe=P$.reducer,GNe=N.createContext(void 0),KNe=e=>{var{children:t}=e,[n]=N.useState("".concat(fu("recharts"),"-clip")),r=Ly();if(r==null)return null;var{x:i,y:s,width:o,height:u}=r;return N.createElement(GNe.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:i,y:s,height:u,width:o}))),t)};function sN(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function k$(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function XNe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return qNe(r,n)}function QNe(e,t,n){var r=n==="width",{x:i,y:s,width:o,height:u}=e;return t===1?{start:r?i:s,end:r?i+o:s+u}:{start:r?i+o:s+u,end:r?i:s}}function p1(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function ZNe(e,t){return k$(e,t+1)}function JNe(e,t,n,r,i){for(var s=(r||[]).slice(),{start:o,end:u}=t,m=0,f=1,g=o,x=function(){var T=r==null?void 0:r[m];if(T===void 0)return{v:k$(r,f)};var C=m,A,M=()=>(A===void 0&&(A=n(T,C)),A),D=T.coordinate,R=m===0||p1(e,D,M,g,u);R||(m=0,g=o,f+=1),R&&(g=D+e*(M()/2+i),m+=f)},w;f<=s.length;)if(w=x(),w)return w.v;return[]}function w8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ri(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w8(Object(n),!0).forEach(function(r){eSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eSe(e,t,n){return(t=tSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tSe(e){var t=nSe(e,"string");return typeof t=="symbol"?t:t+""}function nSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rSe(e,t,n,r,i){for(var s=(r||[]).slice(),o=s.length,{start:u}=t,{end:m}=t,f=function(w){var _=s[w],T,C=()=>(T===void 0&&(T=n(_,w)),T);if(w===o-1){var A=e*(_.coordinate+e*C()/2-m);s[w]=_=ri(ri({},_),{},{tickCoord:A>0?_.coordinate-A*e:_.coordinate})}else s[w]=_=ri(ri({},_),{},{tickCoord:_.coordinate});var M=p1(e,_.tickCoord,C,u,m);M&&(m=_.tickCoord-e*(C()/2+i),s[w]=ri(ri({},_),{},{isShow:!0}))},g=o-1;g>=0;g--)f(g);return s}function aSe(e,t,n,r,i,s){var o=(r||[]).slice(),u=o.length,{start:m,end:f}=t;if(s){var g=r[u-1],x=n(g,u-1),w=e*(g.coordinate+e*x/2-f);o[u-1]=g=ri(ri({},g),{},{tickCoord:w>0?g.coordinate-w*e:g.coordinate});var _=p1(e,g.tickCoord,()=>x,m,f);_&&(f=g.tickCoord-e*(x/2+i),o[u-1]=ri(ri({},g),{},{isShow:!0}))}for(var T=s?u-1:u,C=function(D){var R=o[D],z,k=()=>(z===void 0&&(z=n(R,D)),z);if(D===0){var I=e*(R.coordinate-e*k()/2-m);o[D]=R=ri(ri({},R),{},{tickCoord:I<0?R.coordinate-I*e:R.coordinate})}else o[D]=R=ri(ri({},R),{},{tickCoord:R.coordinate});var B=p1(e,R.tickCoord,k,m,f);B&&(m=R.tickCoord+e*(k()/2+i),o[D]=ri(ri({},R),{},{isShow:!0}))},A=0;A<T;A++)C(A);return o}function gT(e,t,n){var{tick:r,ticks:i,viewBox:s,minTickGap:o,orientation:u,interval:m,tickFormatter:f,unit:g,angle:x}=e;if(!i||!i.length||!r)return[];if(ot(m)||ju.isSsr){var w;return(w=ZNe(i,ot(m)?m:0))!==null&&w!==void 0?w:[]}var _=[],T=u==="top"||u==="bottom"?"width":"height",C=g&&T==="width"?Ug(g,{fontSize:t,letterSpacing:n}):{width:0,height:0},A=(R,z)=>{var k=typeof f=="function"?f(R.value,z):R.value;return T==="width"?XNe(Ug(k,{fontSize:t,letterSpacing:n}),C,x):Ug(k,{fontSize:t,letterSpacing:n})[T]},M=i.length>=2?Aa(i[1].coordinate-i[0].coordinate):1,D=QNe(s,M,T);return m==="equidistantPreserveStart"?JNe(M,D,A,i,o):(m==="preserveStart"||m==="preserveStartEnd"?_=aSe(M,D,A,i,o,m==="preserveStartEnd"):_=rSe(M,D,A,i,o),_.filter(R=>R.isShow))}var iSe=["viewBox"],sSe=["viewBox"];function lh(){return lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lh.apply(null,arguments)}function j8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(n),!0).forEach(function(r){pT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N8(e,t){if(e==null)return{};var n,r,i=oSe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pT(e,t,n){return(t=lSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lSe(e){var t=cSe(e,"string");return typeof t=="symbol"?t:t+""}function cSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Au extends N.Component{constructor(t){super(t),this.tickRefs=N.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:r}=t,i=N8(t,iSe),s=this.props,{viewBox:o}=s,u=N8(s,sSe);return!sN(r,o)||!sN(i,u)||!sN(n,this.state)}getTickLineCoord(t){var{x:n,y:r,width:i,height:s,orientation:o,tickSize:u,mirror:m,tickMargin:f}=this.props,g,x,w,_,T,C,A=m?-1:1,M=t.tickSize||u,D=ot(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":g=x=t.coordinate,_=r+ +!m*s,w=_-A*M,C=w-A*f,T=D;break;case"left":w=_=t.coordinate,x=n+ +!m*i,g=x-A*M,T=g-A*f,C=D;break;case"right":w=_=t.coordinate,x=n+ +m*i,g=x+A*M,T=g+A*f,C=D;break;default:g=x=t.coordinate,_=r+ +m*s,w=_+A*M,C=w+A*f,T=D;break}return{line:{x1:g,y1:w,x2:x,y2:_},tick:{x:T,y:C}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,r;switch(t){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:r,height:i,orientation:s,mirror:o,axisLine:u}=this.props,m=fa(fa(fa({},Yt(this.props,!1)),Yt(u,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!o||s==="bottom"&&o);m=fa(fa({},m),{},{x1:t,y1:n+f*i,x2:t+r,y2:n+f*i})}else{var g=+(s==="left"&&!o||s==="right"&&o);m=fa(fa({},m),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+i})}return N.createElement("line",lh({},m,{className:ln("recharts-cartesian-axis-line",du(u,"className"))}))}static renderTickItem(t,n,r){var i,s=ln(n.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(t))i=N.cloneElement(t,fa(fa({},n),{},{className:s}));else if(typeof t=="function")i=t(fa(fa({},n),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=ln(o,t.className)),i=N.createElement(Ry,lh({},n,{className:o}),r)}return i}renderTicks(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:o,tickFormatter:u,unit:m}=this.props,f=gT(fa(fa({},this.props),{},{ticks:r}),t,n),g=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),w=Yt(this.props,!1),_=Yt(o,!1),T=fa(fa({},w),{},{fill:"none"},Yt(i,!1)),C=f.map((A,M)=>{var{line:D,tick:R}=this.getTickLineCoord(A),z=fa(fa(fa(fa({textAnchor:g,verticalAnchor:x},w),{},{stroke:"none",fill:s},_),R),{},{index:M,payload:A,visibleTicksCount:f.length,tickFormatter:u});return N.createElement(Sr,lh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},z0(this.props,A,M)),i&&N.createElement("line",lh({},T,D,{className:ln("recharts-cartesian-axis-tick-line",du(i,"className"))})),o&&Au.renderTickItem(o,z,"".concat(typeof u=="function"?u(A.value,M):A.value).concat(m||"")))});return C.length>0?N.createElement("g",{className:"recharts-cartesian-axis-ticks"},C):null}render(){var{axisLine:t,width:n,height:r,className:i,hide:s}=this.props;if(s)return null;var{ticks:o}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:N.createElement(Sr,{className:ln("recharts-cartesian-axis",i),ref:u=>{if(u){var m=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(m);var f=m[0];if(f){var g=window.getComputedStyle(f).fontSize,x=window.getComputedStyle(f).letterSpacing;(g!==this.state.fontSize||x!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(f).fontSize,letterSpacing:window.getComputedStyle(f).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,o),ss.renderCallByParent(this.props))}}pT(Au,"displayName","CartesianAxis");pT(Au,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var uSe=["x1","y1","x2","y2","key"],dSe=["offset"],fSe=["xAxisId","yAxisId"],hSe=["xAxisId","yAxisId"];function S8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ii(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(n),!0).forEach(function(r){mSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mSe(e,t,n){return(t=gSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gSe(e){var t=pSe(e,"string");return typeof t=="symbol"?t:t+""}function pSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gd.apply(null,arguments)}function x1(e,t){if(e==null)return{};var n,r,i=xSe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vSe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:o,ry:u}=e;return N.createElement("rect",{x:r,y:i,ry:u,width:s,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function I$(e,t){var n;if(N.isValidElement(e))n=N.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:s,y2:o,key:u}=t,m=x1(t,uSe),f=Yt(m,!1),{offset:g}=f,x=x1(f,dSe);n=N.createElement("line",gd({},x,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:u}))}return n}function ySe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,u=x1(e,fSe),m=i.map((f,g)=>{var x=ii(ii({},u),{},{x1:t,y1:f,x2:t+n,y2:f,key:"line-".concat(g),index:g});return I$(r,x)});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function bSe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:o}=e,u=x1(e,hSe),m=i.map((f,g)=>{var x=ii(ii({},u),{},{x1:f,y1:t,x2:f,y2:t+n,key:"line-".concat(g),index:g});return I$(r,x)});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function wSe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:s,height:o,horizontalPoints:u,horizontal:m=!0}=e;if(!m||!t||!t.length)return null;var f=u.map(x=>Math.round(x+i-i)).sort((x,w)=>x-w);i!==f[0]&&f.unshift(0);var g=f.map((x,w)=>{var _=!f[w+1],T=_?i+o-x:f[w+1]-x;if(T<=0)return null;var C=w%t.length;return N.createElement("rect",{key:"react-".concat(w),y:x,x:r,height:T,width:s,stroke:"none",fill:t[C],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function jSe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:o,height:u,verticalPoints:m}=e;if(!t||!n||!n.length)return null;var f=m.map(x=>Math.round(x+i-i)).sort((x,w)=>x-w);i!==f[0]&&f.unshift(0);var g=f.map((x,w)=>{var _=!f[w+1],T=_?i+o-x:f[w+1]-x;if(T<=0)return null;var C=w%n.length;return N.createElement("rect",{key:"react-".concat(w),x,y:s,width:T,height:u,stroke:"none",fill:n[C],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var NSe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:s}=e;return zU(gT(ii(ii(ii({},Au.defaultProps),n),{},{ticks:VU(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,t)},SSe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:s}=e;return zU(gT(ii(ii(ii({},Au.defaultProps),n),{},{ticks:VU(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,t)},_Se={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function ea(e){var t=WE(),n=GE(),r=WU(),i=ii(ii({},ps(e,_Se)),{},{x:ot(e.x)?e.x:r.left,y:ot(e.y)?e.y:r.top,width:ot(e.width)?e.width:r.width,height:ot(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:o,x:u,y:m,width:f,height:g,syncWithTicks:x,horizontalValues:w,verticalValues:_}=i,T=gi(),C=yt(F=>wI(F,"xAxis",s,T)),A=yt(F=>wI(F,"yAxis",o,T));if(!ot(f)||f<=0||!ot(g)||g<=0||!ot(u)||u!==+u||!ot(m)||m!==+m)return null;var M=i.verticalCoordinatesGenerator||NSe,D=i.horizontalCoordinatesGenerator||SSe,{horizontalPoints:R,verticalPoints:z}=i;if((!R||!R.length)&&typeof D=="function"){var k=w&&w.length,I=D({yAxis:A?ii(ii({},A),{},{ticks:k?w:A.ticks}):void 0,width:t,height:n,offset:r},k?!0:x);Fg(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(R=I)}if((!z||!z.length)&&typeof M=="function"){var B=_&&_.length,V=M({xAxis:C?ii(ii({},C),{},{ticks:B?_:C.ticks}):void 0,width:t,height:n,offset:r},B?!0:x);Fg(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(z=V)}return N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(vSe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),N.createElement(wSe,gd({},i,{horizontalPoints:R})),N.createElement(jSe,gd({},i,{verticalPoints:z})),N.createElement(ySe,gd({},i,{offset:r,horizontalPoints:R,xAxis:C,yAxis:A})),N.createElement(bSe,gd({},i,{offset:r,verticalPoints:z,xAxis:C,yAxis:A})))}ea.displayName="CartesianGrid";var L$=(e,t,n,r)=>Us(e,"xAxis",t,r),B$=(e,t,n,r)=>el(e,"xAxis",t,r),F$=(e,t,n,r)=>Us(e,"yAxis",n,r),U$=(e,t,n,r)=>el(e,"yAxis",n,r),ASe=Ue([gn,L$,F$,B$,U$],(e,t,n,r,i)=>sl(e,"xAxis")?Rd(t,r,!1):Rd(n,i,!1)),ESe=(e,t,n,r,i)=>i,CSe=Ue([Z0,ESe],(e,t)=>{if(e.some(n=>n.type==="line"&&t.dataKey===n.dataKey&&t.data===n.data))return t}),TSe=Ue([gn,L$,F$,B$,U$,CSe,ASe,jy],(e,t,n,r,i,s,o,u)=>{var{chartData:m,dataStartIndex:f,dataEndIndex:g}=u;if(!(s==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{dataKey:x,data:w}=s,_;if(w!=null&&w.length>0?_=w:_=m==null?void 0:m.slice(f,g+1),_!=null)return GSe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:x,bandSize:o,displayedData:_})}}),OSe=["type","layout","connectNulls","needClip"],MSe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function z$(e,t){if(e==null)return{};var n,r,i=DSe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DSe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_8(Object(n),!0).forEach(function(r){Uy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Uy(e,t,n){return(t=RSe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RSe(e){var t=PSe(e,"string");return typeof t=="symbol"?t:t+""}function PSe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ih.apply(null,arguments)}var kSe=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:wu(n,t),payload:e}]};function ISe(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:s,name:o,hide:u,unit:m}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:wu(o,t),hide:u,type:e.tooltipType,color:e.stroke,unit:m}}}var V$=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function LSe(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var BSe=(e,t,n)=>{var r=n.reduce((x,w)=>x+w);if(!r)return V$(t,e);for(var i=Math.floor(e/r),s=e%r,o=t-e,u=[],m=0,f=0;m<n.length;f+=n[m],++m)if(f+n[m]>s){u=[...n.slice(0,m),s-f];break}var g=u.length%2===0?[0,o]:[o];return[...LSe(n,i),...u,...g].map(x=>"".concat(x,"px")).join(", ")};function FSe(e,t){var n;if(N.isValidElement(e))n=N.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=ln("recharts-line-dot",typeof e!="boolean"?e.className:"");n=N.createElement(nT,Ih({},t,{className:r}))}return n}function USe(e,t){return e==null?!1:t?!0:e.length===1}function zSe(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:s,needClip:o}=r;if(!USe(n,i))return null;var u=ny(i),m=Yt(r,!1),f=Yt(i,!0),g=n.map((w,_)=>{var T=oo(oo(oo({key:"dot-".concat(_),r:3},m),f),{},{index:_,cx:w.x,cy:w.y,dataKey:s,value:w.value,payload:w.payload,points:n});return FSe(i,T)}),x={clipPath:o?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):null};return N.createElement(Sr,Ih({className:"recharts-line-dots",key:"dots"},x),g)}function O_(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:s,showLabels:o}=e,{type:u,layout:m,connectNulls:f,needClip:g}=s,x=z$(s,OSe),w=oo(oo({},Yt(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:g?"url(#clipPath-".concat(t,")"):null,points:r,type:u,layout:m,connectNulls:f,strokeDasharray:i??s.strokeDasharray});return N.createElement(N.Fragment,null,(r==null?void 0:r.length)>1&&N.createElement(ph,Ih({},w,{pathRef:n})),N.createElement(zSe,{points:r,clipPathId:t,props:s}),o&&Bl.renderCallByParent(s,r))}function VSe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function $Se(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:u,isAnimationActive:m,animationBegin:f,animationDuration:g,animationEasing:x,animateNewValues:w,width:_,height:T,onAnimationEnd:C,onAnimationStart:A}=n,M=i.current,D=ky(n,"recharts-line-"),[R,z]=N.useState(!1),k=N.useCallback(()=>{typeof C=="function"&&C(),z(!1)},[C]),I=N.useCallback(()=>{typeof A=="function"&&A(),z(!0)},[A]),B=VSe(r.current),V=s.current;return N.createElement(Gl,{begin:f,duration:g,isActive:m,easing:x,from:{t:0},to:{t:1},onAnimationEnd:k,onAnimationStart:I,key:D},F=>{var{t:$}=F,W=is(V,B+V),Y=Math.min(W($),B),X;if(u){var ne="".concat(u).split(/[,\s]+/gim).map(ee=>parseFloat(ee));X=BSe(Y,B,ne)}else X=V$(B,Y);if(M){var J=M.length/o.length,H=$===1?o:o.map((ee,K)=>{var ue=Math.floor(K*J);if(M[ue]){var re=M[ue],de=is(re.x,ee.x),xe=is(re.y,ee.y);return oo(oo({},ee),{},{x:de($),y:xe($)})}if(w){var Se=is(_*2,ee.x),ye=is(T/2,ee.y);return oo(oo({},ee),{},{x:Se($),y:ye($)})}return oo(oo({},ee),{},{x:ee.x,y:ee.y})});return i.current=H,N.createElement(O_,{props:n,points:H,clipPathId:t,pathRef:r,showLabels:!R,strokeDasharray:X})}return $>0&&B>0&&(i.current=o,s.current=Y),N.createElement(O_,{props:n,points:o,clipPathId:t,pathRef:r,showLabels:!R,strokeDasharray:X})})}function HSe(e){var{clipPathId:t,props:n}=e,{points:r,isAnimationActive:i}=n,s=N.useRef(null),o=N.useRef(0),u=N.useRef(null),m=s.current;return i&&r&&r.length&&m!==r?N.createElement($Se,{props:n,clipPathId:t,previousPointsRef:s,longestAnimatedLengthRef:o,pathRef:u}):N.createElement(O_,{props:n,points:r,clipPathId:t,pathRef:u,showLabels:!0})}var qSe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:qn(e.payload,t)});class YSe extends N.Component{constructor(){super(...arguments),Uy(this,"id",fu("recharts-line-"))}render(){var t,{hide:n,dot:r,points:i,className:s,xAxisId:o,yAxisId:u,top:m,left:f,width:g,height:x,id:w,needClip:_,layout:T}=this.props;if(n)return null;var C=ln("recharts-line",s),A=Ln(w)?this.id:w,{r:M=3,strokeWidth:D=2}=(t=Yt(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},R=ny(r),z=M*2+D;return N.createElement(N.Fragment,null,N.createElement(Sr,{className:C},_&&N.createElement("defs",null,N.createElement(fT,{clipPathId:A,xAxisId:o,yAxisId:u}),!R&&N.createElement("clipPath",{id:"clipPath-dots-".concat(A)},N.createElement("rect",{x:f-z/2,y:m-z/2,width:g+z,height:x+z}))),N.createElement(HSe,{props:this.props,clipPathId:A}),N.createElement(S$,{direction:T==="horizontal"?"y":"x"},N.createElement(w$,{xAxisId:o,yAxisId:u,data:i,dataPointFormatter:qSe,errorBarOffset:0},this.props.children))),N.createElement(E_,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var $$={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ju.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function WSe(e){var t=ps(e,$$),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:o,connectNulls:u,dot:m,hide:f,isAnimationActive:g,label:x,legendType:w,xAxisId:_,yAxisId:T}=t,C=z$(t,MSe),{needClip:A}=By(_,T),{height:M,width:D,x:R,y:z}=Ly(),k=H0(),I=gi(),B=N.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),V=yt(F=>TSe(F,_,T,I,B));return k!=="horizontal"&&k!=="vertical"?null:N.createElement(YSe,Ih({},C,{connectNulls:u,dot:m,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:o,isAnimationActive:g,hide:f,label:x,legendType:w,xAxisId:_,yAxisId:T,points:V,layout:k,height:M,width:D,left:R,top:z,needClip:A}))}function GSe(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:o,bandSize:u,displayedData:m}=e;return m.map((f,g)=>{var x=qn(f,o);return t==="horizontal"?{x:Qv({axis:n,ticks:i,bandSize:u,entry:f,index:g}),y:Ln(x)?null:r.scale(x),value:x,payload:f}:{x:Ln(x)?null:n.scale(x),y:Qv({axis:r,ticks:s,bandSize:u,entry:f,index:g}),value:x,payload:f}})}class Is extends N.PureComponent{render(){return N.createElement(dT,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},N.createElement(uT,{legendPayload:kSe(this.props)}),N.createElement(Py,{fn:ISe,args:this.props}),N.createElement(WSe,this.props))}}Uy(Is,"displayName","Line");Uy(Is,"defaultProps",$$);var H$=(e,t,n,r)=>Us(e,"xAxis",t,r),q$=(e,t,n,r)=>el(e,"xAxis",t,r),Y$=(e,t,n,r)=>Us(e,"yAxis",n,r),W$=(e,t,n,r)=>el(e,"yAxis",n,r),KSe=Ue([gn,H$,Y$,q$,W$],(e,t,n,r,i)=>sl(e,"xAxis")?Rd(t,r,!1):Rd(n,i,!1)),XSe=(e,t,n,r,i)=>{var s,o=gn(e),u=sl(o,"xAxis"),m;if(u?m=m0(e,"yAxis",n,r):m=m0(e,"xAxis",t,r),m!=null){var{dataKey:f,stackId:g}=i;if(g!=null){var x=(s=m[g])===null||s===void 0?void 0:s.stackedData;return x==null?void 0:x.find(w=>w.key===f)}}},QSe=(e,t,n,r,i)=>i,ZSe=Ue([Z0,QSe],(e,t)=>{if(e.some(n=>n.type==="area"&&t.dataKey===n.dataKey&&$E(t.stackId)===n.stackId&&t.data===n.data))return t}),JSe=Ue([gn,H$,Y$,q$,W$,XSe,jy,KSe,ZSe],(e,t,n,r,i,s,o,u,m)=>{var{chartData:f,dataStartIndex:g,dataEndIndex:x}=o;if(!(m==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:w}=m,_;if(w&&w.length>0?_=w:_=f==null?void 0:f.slice(g,x+1),_!=null){var T=void 0;return v_e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:g,areaSettings:m,stackedData:s,displayedData:_,chartBaseValue:T,bandSize:u})}}}),e_e=["layout","type","stroke","connectNulls","isRange"],t_e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function G$(e,t){if(e==null)return{};var n,r,i=n_e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function n_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function A8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A8(Object(n),!0).forEach(function(r){zy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zy(e,t,n){return(t=r_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r_e(e){var t=a_e(e,"string");return typeof t=="symbol"?t:t+""}function a_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zc(){return Zc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zc.apply(null,arguments)}function v1(e,t){return e&&e!=="none"?e:t}var i_e=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:v1(r,i),value:wu(n,t),payload:e}]};function s_e(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:s,name:o,hide:u,unit:m}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:wu(o,t),hide:u,type:e.tooltipType,color:v1(r,s),unit:m}}}var o_e=(e,t)=>{var n;if(N.isValidElement(e))n=N.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=ln("recharts-area-dot",typeof e!="boolean"?e.className:"");n=N.createElement(nT,Zc({},t,{className:r}))}return n};function l_e(e,t){return e==null?!1:t?!0:e.length===1}function c_e(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:s,dataKey:o}=r;if(!l_e(n,s))return null;var u=ny(s),m=Yt(r,!1),f=Yt(s,!0),g=n.map((w,_)=>{var T=pd(pd(pd({key:"dot-".concat(_),r:3},m),f),{},{index:_,cx:w.x,cy:w.y,dataKey:o,value:w.value,payload:w.payload,points:n});return o_e(s,T)}),x={clipPath:i?"url(#clipPath-".concat(u?"":"dots-").concat(t,")"):void 0};return N.createElement(Sr,Zc({className:"recharts-area-dots"},x),g)}function M_(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:s,showLabels:o}=e,{layout:u,type:m,stroke:f,connectNulls:g,isRange:x}=s,w=G$(s,e_e);return N.createElement(N.Fragment,null,(t==null?void 0:t.length)>1&&N.createElement(Sr,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},N.createElement(ph,Zc({},Yt(w,!0),{points:t,connectNulls:g,type:m,baseLine:n,layout:u,stroke:"none",className:"recharts-area-area"})),f!=="none"&&N.createElement(ph,Zc({},Yt(s,!1),{className:"recharts-area-curve",layout:u,type:m,connectNulls:g,fill:"none",points:t})),f!=="none"&&x&&N.createElement(ph,Zc({},Yt(s,!1),{className:"recharts-area-curve",layout:u,type:m,connectNulls:g,fill:"none",points:n}))),N.createElement(c_e,{points:t,props:s,clipPathId:i}),o&&Bl.renderCallByParent(s,t))}function u_e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,s=r[0].y,o=r[r.length-1].y;if(!qa(s)||!qa(o))return null;var u=t*Math.abs(s-o),m=Math.max(...r.map(f=>f.x||0));return ot(n)?m=Math.max(n,m):n&&Array.isArray(n)&&n.length&&(m=Math.max(...n.map(f=>f.x||0),m)),ot(m)?N.createElement("rect",{x:0,y:s<o?s:s-u,width:m+(i?parseInt("".concat(i),10):1),height:Math.floor(u)}):null}function d_e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,s=r[0].x,o=r[r.length-1].x;if(!qa(s)||!qa(o))return null;var u=t*Math.abs(s-o),m=Math.max(...r.map(f=>f.y||0));return ot(n)?m=Math.max(n,m):n&&Array.isArray(n)&&n.length&&(m=Math.max(...n.map(f=>f.y||0),m)),ot(m)?N.createElement("rect",{x:s<o?s:s-u,y:0,width:u,height:Math.floor(m+(i?parseInt("".concat(i),10):1))}):null}function f_e(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:s}=e;return n==="vertical"?N.createElement(u_e,{alpha:t,points:r,baseLine:i,strokeWidth:s}):N.createElement(d_e,{alpha:t,points:r,baseLine:i,strokeWidth:s})}function h_e(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=e,{points:o,baseLine:u,isAnimationActive:m,animationBegin:f,animationDuration:g,animationEasing:x,onAnimationStart:w,onAnimationEnd:_}=r,T=ky(r,"recharts-area-"),[C,A]=N.useState(!0),M=N.useCallback(()=>{typeof _=="function"&&_(),A(!1)},[_]),D=N.useCallback(()=>{typeof w=="function"&&w(),A(!0)},[w]),R=i.current,z=s.current;return N.createElement(Gl,{begin:f,duration:g,isActive:m,easing:x,from:{t:0},to:{t:1},onAnimationEnd:M,onAnimationStart:D,key:T},k=>{var{t:I}=k;if(R){var B=R.length/o.length,V=I===1?o:o.map(($,W)=>{var Y=Math.floor(W*B);if(R[Y]){var X=R[Y];return pd(pd({},$),{},{x:Kf(X.x,$.x,I),y:Kf(X.y,$.y,I)})}return $}),F;return ot(u)?F=Kf(z,u,I):Ln(u)||Ui(u)?F=Kf(z,0,I):F=u.map(($,W)=>{var Y=Math.floor(W*B);if(Array.isArray(z)&&z[Y]){var X=z[Y];return pd(pd({},$),{},{x:Kf(X.x,$.x,I),y:Kf(X.y,$.y,I)})}return $}),I>0&&(i.current=V,s.current=F),N.createElement(M_,{points:V,baseLine:F,needClip:t,clipPathId:n,props:r,showLabels:!C})}return I>0&&(i.current=o,s.current=u),N.createElement(Sr,null,N.createElement("defs",null,N.createElement("clipPath",{id:"animationClipPath-".concat(n)},N.createElement(f_e,{alpha:I,points:o,baseLine:u,layout:r.layout,strokeWidth:r.strokeWidth}))),N.createElement(Sr,{clipPath:"url(#animationClipPath-".concat(n,")")},N.createElement(M_,{points:o,baseLine:u,needClip:t,clipPathId:n,props:r,showLabels:!0})))})}function m_e(e){var{needClip:t,clipPathId:n,props:r}=e,{points:i,baseLine:s,isAnimationActive:o}=r,u=N.useRef(null),m=N.useRef(),f=u.current,g=m.current;return o&&i&&i.length&&(f!==i||g!==s)?N.createElement(h_e,{needClip:t,clipPathId:n,props:r,previousPointsRef:u,previousBaselineRef:m}):N.createElement(M_,{points:i,baseLine:s,needClip:t,clipPathId:n,props:r,showLabels:!0})}class g_e extends N.PureComponent{constructor(){super(...arguments),zy(this,"id",fu("recharts-area-"))}render(){var t,{hide:n,dot:r,points:i,className:s,top:o,left:u,needClip:m,xAxisId:f,yAxisId:g,width:x,height:w,id:_,baseLine:T}=this.props;if(n)return null;var C=ln("recharts-area",s),A=Ln(_)?this.id:_,{r:M=3,strokeWidth:D=2}=(t=Yt(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},R=ny(r),z=M*2+D;return N.createElement(N.Fragment,null,N.createElement(Sr,{className:C},m&&N.createElement("defs",null,N.createElement(fT,{clipPathId:A,xAxisId:f,yAxisId:g}),!R&&N.createElement("clipPath",{id:"clipPath-dots-".concat(A)},N.createElement("rect",{x:u-z/2,y:o-z/2,width:x+z,height:w+z}))),N.createElement(m_e,{needClip:m,clipPathId:A,props:this.props})),N.createElement(E_,{points:i,mainColor:v1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(T)&&N.createElement(E_,{points:T,mainColor:v1(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var K$={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!ju.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function p_e(e){var t,n=ps(e,K$),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:o,connectNulls:u,dot:m,fill:f,fillOpacity:g,hide:x,isAnimationActive:w,legendType:_,stroke:T,xAxisId:C,yAxisId:A}=n,M=G$(n,t_e),D=H0(),R=XV(),{needClip:z}=By(C,A),k=gi(),I=N.useMemo(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:u,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,u,e.data,e.dataKey]),{points:B,isRange:V,baseLine:F}=(t=yt(ne=>JSe(ne,C,A,k,I)))!==null&&t!==void 0?t:{},{height:$,width:W,x:Y,y:X}=Ly();return D!=="horizontal"&&D!=="vertical"||R!=="AreaChart"&&R!=="ComposedChart"?null:N.createElement(g_e,Zc({},M,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:o,baseLine:F,connectNulls:u,dot:m,fill:f,fillOpacity:g,height:$,hide:x,layout:D,isAnimationActive:w,isRange:V,legendType:_,needClip:z,points:B,stroke:T,width:W,left:Y,top:X,xAxisId:C,yAxisId:A}))}var x_e=(e,t,n,r,i)=>{var s=n??t;if(ot(s))return s;var o=e==="horizontal"?i:r,u=o.scale.domain();if(o.type==="number"){var m=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return s==="dataMin"?f:s==="dataMax"||m<0?m:Math.max(Math.min(u[0],u[1]),0)}return s==="dataMin"?u[0]:s==="dataMax"?u[1]:u[0]};function v_e(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:o,xAxis:u,yAxis:m,displayedData:f,dataStartIndex:g,xAxisTicks:x,yAxisTicks:w,bandSize:_}=e,T=i&&i.length,C=x_e(s,o,n,u,m),A=s==="horizontal",M=!1,D=f.map((z,k)=>{var I;T?I=i[g+k]:(I=qn(z,r),Array.isArray(I)?M=!0:I=[C,I]);var B=I[1]==null||T&&!t&&qn(z,r)==null;return A?{x:Qv({axis:u,ticks:x,bandSize:_,entry:z,index:k}),y:B?null:m.scale(I[1]),value:I,payload:z}:{x:B?null:u.scale(I[1]),y:Qv({axis:m,ticks:w,bandSize:_,entry:z,index:k}),value:I,payload:z}}),R;return T||M?R=D.map(z=>{var k=Array.isArray(z.value)?z.value[0]:null;return A?{x:z.x,y:k!=null&&z.y!=null?m.scale(k):null}:{x:k!=null?u.scale(k):null,y:z.y}}):R=A?m.scale(C):u.scale(C),{points:D,baseLine:R,isRange:M}}class Id extends N.PureComponent{render(){return N.createElement(dT,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},N.createElement(uT,{legendPayload:i_e(this.props)}),N.createElement(Py,{fn:s_e,args:this.props}),N.createElement(p_e,this.props))}}zy(Id,"displayName","Area");zy(Id,"defaultProps",K$);function E8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function C8(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E8(Object(n),!0).forEach(function(r){y_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y_e(e,t,n){return(t=b_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b_e(e){var t=w_e(e,"string");return typeof t=="symbol"?t:t+""}function w_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j_e={xAxis:{},yAxis:{},zAxis:{}},X$=$s({name:"cartesianAxis",initialState:j_e,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=C8(C8({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:N_e,removeXAxis:S_e,addYAxis:__e,removeYAxis:A_e,addZAxis:wTe,removeZAxis:jTe,updateYAxisWidth:E_e}=X$.actions,C_e=X$.reducer,T_e=["children"],O_e=["dangerouslySetInnerHTML","ticks"];function Q$(e,t,n){return(t=M_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M_e(e){var t=D_e(e,"string");return typeof t=="symbol"?t:t+""}function D_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D_(){return D_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D_.apply(null,arguments)}function Z$(e,t){if(e==null)return{};var n,r,i=R_e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function R_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function P_e(e){var t=fr(),n=N.useMemo(()=>{var{children:s}=e,o=Z$(e,T_e);return o},[e]),r=yt(s=>tc(s,n.id)),i=n===r;return N.useEffect(()=>(t(N_e(n)),()=>{t(S_e(n))}),[n,t]),i?e.children:null}var k_e=e=>{var{xAxisId:t,className:n}=e,r=yt(YU),i=gi(),s="xAxis",o=yt(_=>om(_,s,t,i)),u=yt(_=>TV(_,s,t,i)),m=yt(_=>_V(_,t)),f=yt(_=>_ye(_,t));if(m==null||f==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=e,w=Z$(e,O_e);return N.createElement(Au,D_({},w,{scale:o,x:f.x,y:f.y,width:m.width,height:m.height,className:ln("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:u}))},I_e=e=>{var t,n,r,i,s;return N.createElement(P_e,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter},N.createElement(k_e,e))};class $r extends N.Component{render(){return N.createElement(I_e,this.props)}}Q$($r,"displayName","XAxis");Q$($r,"defaultProps",{allowDataOverflow:ts.allowDataOverflow,allowDecimals:ts.allowDecimals,allowDuplicatedCategory:ts.allowDuplicatedCategory,height:ts.height,hide:!1,mirror:ts.mirror,orientation:ts.orientation,padding:ts.padding,reversed:ts.reversed,scale:ts.scale,tickCount:ts.tickCount,type:ts.type,xAxisId:0});var L_e=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=e,o=0;if(t){t.forEach(g=>{if(g){var x=g.getBoundingClientRect();x.width>o&&(o=x.width)}});var u=n?n.getBoundingClientRect().width:0,m=i+s,f=o+m+u+(n?r:0);return Math.round(f)}return 0},B_e=["dangerouslySetInnerHTML","ticks"];function J$(e,t,n){return(t=F_e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F_e(e){var t=U_e(e,"string");return typeof t=="symbol"?t:t+""}function U_e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R_.apply(null,arguments)}function z_e(e,t){if(e==null)return{};var n,r,i=V_e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function V_e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $_e(e){var t=fr();return N.useEffect(()=>(t(__e(e)),()=>{t(A_e(e))}),[e,t]),null}var H_e=e=>{var t,{yAxisId:n,className:r,width:i,label:s}=e,o=N.useRef(null),u=N.useRef(null),m=yt(YU),f=gi(),g=fr(),x="yAxis",w=yt(R=>om(R,x,n,f)),_=yt(R=>AV(R,n)),T=yt(R=>Aye(R,n)),C=yt(R=>TV(R,x,n,f));if(N.useLayoutEffect(()=>{var R;if(!(i!=="auto"||!_||tT(s)||N.isValidElement(s))){var z=o.current,k=z==null||(R=z.tickRefs)===null||R===void 0?void 0:R.current,{tickSize:I,tickMargin:B}=z.props,V=L_e({ticks:k,label:u.current,labelGapWithTick:5,tickSize:I,tickMargin:B});Math.round(_.width)!==Math.round(V)&&g(E_e({id:n,width:V}))}},[o,o==null||(t=o.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,_==null?void 0:_.width,_,g,s,n,i]),_==null||T==null)return null;var{dangerouslySetInnerHTML:A,ticks:M}=e,D=z_e(e,B_e);return N.createElement(Au,R_({},D,{ref:o,labelRef:u,scale:w,x:T.x,y:T.y,width:_.width,height:_.height,className:ln("recharts-".concat(x," ").concat(x),r),viewBox:m,ticks:C}))},q_e=e=>{var t,n,r,i,s;return N.createElement(N.Fragment,null,N.createElement($_e,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter}),N.createElement(H_e,e))},Y_e={allowDataOverflow:ns.allowDataOverflow,allowDecimals:ns.allowDecimals,allowDuplicatedCategory:ns.allowDuplicatedCategory,hide:!1,mirror:ns.mirror,orientation:ns.orientation,padding:ns.padding,reversed:ns.reversed,scale:ns.scale,tickCount:ns.tickCount,type:ns.type,width:ns.width,yAxisId:0};class Hr extends N.Component{render(){return N.createElement(q_e,this.props)}}J$(Hr,"displayName","YAxis");J$(Hr,"defaultProps",Y_e);var oN={exports:{}},lN={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T8;function W_e(){if(T8)return lN;T8=1;var e=Lh();function t(m,f){return m===f&&(m!==0||1/m===1/f)||m!==m&&f!==f}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,o=e.useMemo,u=e.useDebugValue;return lN.useSyncExternalStoreWithSelector=function(m,f,g,x,w){var _=i(null);if(_.current===null){var T={hasValue:!1,value:null};_.current=T}else T=_.current;_=o(function(){function A(k){if(!M){if(M=!0,D=k,k=x(k),w!==void 0&&T.hasValue){var I=T.value;if(w(I,k))return R=I}return R=k}if(I=R,n(D,k))return I;var B=x(k);return w!==void 0&&w(I,B)?(D=k,I):(D=k,R=B)}var M=!1,D,R,z=g===void 0?null:g;return[function(){return A(f())},z===null?void 0:function(){return A(z())}]},[f,g,x,w]);var C=r(m,_[0],_[1]);return s(function(){T.hasValue=!0,T.value=C},[C]),u(C),C},lN}var O8;function G_e(){return O8||(O8=1,oN.exports=W_e()),oN.exports}G_e();function K_e(e){e()}function X_e(){let e=null,t=null;return{clear(){e=null,t=null},notify(){K_e(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var M8={notify(){},get:()=>[]};function Q_e(e,t){let n,r=M8,i=0,s=!1;function o(C){g();const A=r.subscribe(C);let M=!1;return()=>{M||(M=!0,A(),x())}}function u(){r.notify()}function m(){T.onStateChange&&T.onStateChange()}function f(){return s}function g(){i++,n||(n=e.subscribe(m),r=X_e())}function x(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=M8)}function w(){s||(s=!0,g())}function _(){s&&(s=!1,x())}const T={addNestedSub:o,notifyNestedSubs:u,handleChangeWrapper:m,isSubscribed:f,trySubscribe:w,tryUnsubscribe:_,getListeners:()=>r};return T}var Z_e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J_e=Z_e(),eAe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",tAe=eAe(),nAe=()=>J_e||tAe?N.useLayoutEffect:N.useEffect,rAe=nAe(),cN=Symbol.for("react-redux-context"),uN=typeof globalThis<"u"?globalThis:{};function aAe(){if(!N.createContext)return{};const e=uN[cN]??(uN[cN]=new Map);let t=e.get(N.createContext);return t||(t=N.createContext(null),e.set(N.createContext,t)),t}var iAe=aAe();function sAe(e){const{children:t,context:n,serverState:r,store:i}=e,s=N.useMemo(()=>{const m=Q_e(i);return{store:i,subscription:m,getServerState:r?()=>r:void 0}},[i,r]),o=N.useMemo(()=>i.getState(),[i]);rAe(()=>{const{subscription:m}=s;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),o!==i.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[s,o]);const u=n||iAe;return N.createElement(u.Provider,{value:s},t)}var oAe=sAe,lAe=(e,t)=>t,xT=Ue([lAe,gn,F1e,Da,HV,nc,Cbe,ga],Rbe),vT=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},eH=Bs("mouseClick"),tH=$0();tH.startListening({actionCreator:eH,effect:(e,t)=>{var n=e.payload,r=xT(t.getState(),vT(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Fye({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var P_=Bs("mouseMove"),nH=$0();nH.startListening({actionCreator:P_,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=YC(r,r.tooltip.settings.shared),s=xT(r,vT(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(LV({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(IV()))}});function cAe(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var D8={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},rH=$s({name:"rootProps",initialState:D8,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:D8.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),uAe=rH.reducer,{updateOptions:dAe}=rH.actions,aH=$s({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:fAe}=aH.actions,hAe=aH.reducer,iH=Bs("keyDown"),sH=Bs("focus"),yT=$0();yT.startListening({actionCreator:iH,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=Number(WC(i,qd(n))),u=nc(n);if(s==="Enter"){var m=f1(n,"axis","hover",String(i.index));t.dispatch(w_({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:m}));return}var f=Oye(n),g=f==="left-to-right"?1:-1,x=s==="ArrowRight"?1:-1,w=o+x*g;if(!(u==null||w>=u.length||w<0)){var _=f1(n,"axis","hover",String(w));t.dispatch(w_({active:!0,activeIndex:w.toString(),activeDataKey:void 0,activeCoordinate:_}))}}}}});yT.startListening({actionCreator:sH,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",o=f1(n,"axis","hover",String(s));t.dispatch(w_({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:o}))}}}});var Os=Bs("externalEvent"),oH=$0();oH.startListening({actionCreator:Os,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:ybe(n),activeDataKey:GV(n),activeIndex:hu(n),activeLabel:WV(n),activeTooltipIndex:hu(n),isTooltipActive:bbe(n)};e.payload.handler(r,e.payload.reactEvent)}}});var mAe=Ue([lm],e=>e.tooltipItemPayloads),gAe=Ue([mAe,tp,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var o=t(s,n);return o}}}),lH=Bs("touchMove"),cH=$0();cH.startListening({actionCreator:lH,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=YC(r,r.tooltip.settings.shared);if(i==="axis"){var s=xT(r,vT({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(LV({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,u=n.touches[0],m=document.elementFromPoint(u.clientX,u.clientY);if(!m||!m.getAttribute)return;var f=m.getAttribute(HU),g=(o=m.getAttribute(qU))!==null&&o!==void 0?o:void 0,x=gAe(t.getState(),f,g);t.dispatch(kV({activeDataKey:g,activeIndex:f,activeCoordinate:x}))}}});var pAe=xU({brush:UNe,cartesianAxis:C_e,chartData:Kbe,graphicalItems:M2e,layout:Cge,legend:m0e,options:Hbe,polarAxis:g2e,polarOptions:hAe,referenceElements:WNe,rootProps:uAe,tooltip:Uye}),xAe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Jme({reducer:pAe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([tH.middleware,nH.middleware,yT.middleware,oH.middleware,cH.middleware]),devTools:{serialize:{replacer:cAe},name:"recharts-".concat(n)}})};function uH(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=gi(),s=N.useRef(null);if(i)return n;s.current==null&&(s.current=xAe(t,r));var o=LE;return N.createElement(oAe,{context:o,store:s.current},n)}function dH(e){var{layout:t,width:n,height:r,margin:i}=e,s=fr(),o=gi();return N.useEffect(()=>{o||(s(_ge(t)),s(Age({width:n,height:r})),s(Sge(i)))},[s,o,t,n,r,i]),null}function fH(e){var t=fr();return N.useEffect(()=>{t(dAe(e))},[t,e]),null}var vAe=["children"];function yAe(e,t){if(e==null)return{};var n,r,i=bAe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bAe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function y1(){return y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y1.apply(null,arguments)}var wAe={width:"100%",height:"100%"},jAe=N.forwardRef((e,t)=>{var n=WE(),r=GE(),i=QU();if(!Oh(n)||!Oh(r))return null;var{children:s,otherAttributes:o,title:u,desc:m}=e,f,g;return typeof o.tabIndex=="number"?f=o.tabIndex:f=i?0:void 0,typeof o.role=="string"?g=o.role:g=i?"application":void 0,N.createElement(_E,y1({},o,{title:u,desc:m,role:g,tabIndex:f,width:n,height:r,style:wAe,ref:t}),s)}),NAe=e=>{var{children:t}=e,n=yt(gy);if(!n)return null;var{width:r,height:i,y:s,x:o}=n;return N.createElement(_E,{width:r,height:i,x:o,y:s},t)},R8=N.forwardRef((e,t)=>{var{children:n}=e,r=yAe(e,vAe),i=gi();return i?N.createElement(NAe,null,n):N.createElement(jAe,y1({ref:t},r),n)});function SAe(){var e=fr(),[t,n]=N.useState(null),r=yt(n0e);return N.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;qa(s)&&s!==r&&e(Ege(s))}},[t,e,r]),n}function P8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _Ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P8(Object(n),!0).forEach(function(r){AAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P8(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AAe(e,t,n){return(t=EAe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EAe(e){var t=CAe(e,"string");return typeof t=="symbol"?t:t+""}function CAe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TAe=N.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:o,onDoubleClick:u,onMouseDown:m,onMouseEnter:f,onMouseLeave:g,onMouseMove:x,onMouseUp:w,onTouchEnd:_,onTouchMove:T,onTouchStart:C,style:A,width:M}=e,D=fr(),[R,z]=N.useState(null),[k,I]=N.useState(null);Zbe();var B=SAe(),V=N.useCallback(xe=>{B(xe),typeof t=="function"&&t(xe),z(xe),I(xe)},[B,t,z,I]),F=N.useCallback(xe=>{D(eH(xe)),D(Os({handler:s,reactEvent:xe}))},[D,s]),$=N.useCallback(xe=>{D(P_(xe)),D(Os({handler:f,reactEvent:xe}))},[D,f]),W=N.useCallback(xe=>{D(IV()),D(Os({handler:g,reactEvent:xe}))},[D,g]),Y=N.useCallback(xe=>{D(P_(xe)),D(Os({handler:x,reactEvent:xe}))},[D,x]),X=N.useCallback(()=>{D(sH())},[D]),ne=N.useCallback(xe=>{D(iH(xe.key))},[D]),J=N.useCallback(xe=>{D(Os({handler:o,reactEvent:xe}))},[D,o]),H=N.useCallback(xe=>{D(Os({handler:u,reactEvent:xe}))},[D,u]),ee=N.useCallback(xe=>{D(Os({handler:m,reactEvent:xe}))},[D,m]),K=N.useCallback(xe=>{D(Os({handler:w,reactEvent:xe}))},[D,w]),ue=N.useCallback(xe=>{D(Os({handler:C,reactEvent:xe}))},[D,C]),re=N.useCallback(xe=>{D(lH(xe)),D(Os({handler:T,reactEvent:xe}))},[D,T]),de=N.useCallback(xe=>{D(Os({handler:_,reactEvent:xe}))},[D,_]);return N.createElement(t$.Provider,{value:R},N.createElement(UF.Provider,{value:k},N.createElement("div",{className:ln("recharts-wrapper",r),style:_Ae({position:"relative",cursor:"default",width:M,height:i},A),onClick:F,onContextMenu:J,onDoubleClick:H,onFocus:X,onKeyDown:ne,onMouseDown:ee,onMouseEnter:$,onMouseLeave:W,onMouseMove:Y,onMouseUp:K,onTouchEnd:de,onTouchMove:re,onTouchStart:ue,ref:V},n)))}),OAe=["children","className","width","height","style","compact","title","desc"];function MAe(e,t){if(e==null)return{};var n,r,i=DAe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DAe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hH=N.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:s,style:o,compact:u,title:m,desc:f}=e,g=MAe(e,OAe),x=Yt(g,!1);return u?N.createElement(R8,{otherAttributes:x,title:m,desc:f},n):N.createElement(TAe,{className:r,style:o,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},N.createElement(R8,{otherAttributes:x,title:m,desc:f,ref:t},N.createElement(KNe,null,n)))}),RAe=["width","height"];function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k_.apply(null,arguments)}function PAe(e,t){if(e==null)return{};var n,r,i=kAe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kAe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var IAe={top:5,right:5,bottom:5,left:5},LAe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:IAe,reverseStackOrder:!1,syncMethod:"index"},bT=N.forwardRef(function(t,n){var r,i=ps(t.categoricalChartProps,LAe),{width:s,height:o}=i,u=PAe(i,RAe);if(!Oh(s)||!Oh(o))return null;var{chartName:m,defaultTooltipEventType:f,validateTooltipEventTypes:g,tooltipPayloadSearcher:x,categoricalChartProps:w}=t,_={chartName:m,defaultTooltipEventType:f,validateTooltipEventTypes:g,tooltipPayloadSearcher:x,eventEmitter:void 0};return N.createElement(uH,{preloadedState:{options:_},reduxStoreName:(r=w.id)!==null&&r!==void 0?r:m},N.createElement(D$,{chartData:w.data}),N.createElement(dH,{width:s,height:o,layout:i.layout,margin:i.margin}),N.createElement(fH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),N.createElement(hH,k_({},u,{width:s,height:o,ref:n})))}),BAe=["axis"],v0=N.forwardRef((e,t)=>N.createElement(bT,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:BAe,tooltipPayloadSearcher:Dy,categoricalChartProps:e,ref:t})),FAe=["axis","item"],Ko=N.forwardRef((e,t)=>N.createElement(bT,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:FAe,tooltipPayloadSearcher:Dy,categoricalChartProps:e,ref:t}));function UAe(e){var t=fr();return N.useEffect(()=>{t(fAe(e))},[t,e]),null}var zAe=["width","height","layout"];function I_(){return I_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I_.apply(null,arguments)}function VAe(e,t){if(e==null)return{};var n,r,i=$Ae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $Ae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var HAe={top:5,right:5,bottom:5,left:5},qAe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:HAe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},YAe=N.forwardRef(function(t,n){var r,i=ps(t.categoricalChartProps,qAe),{width:s,height:o,layout:u}=i,m=VAe(i,zAe);if(!Oh(s)||!Oh(o))return null;var{chartName:f,defaultTooltipEventType:g,validateTooltipEventTypes:x,tooltipPayloadSearcher:w}=t,_={chartName:f,defaultTooltipEventType:g,validateTooltipEventTypes:x,tooltipPayloadSearcher:w,eventEmitter:void 0};return N.createElement(uH,{preloadedState:{options:_},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:f},N.createElement(D$,{chartData:i.data}),N.createElement(dH,{width:s,height:o,layout:u,margin:i.margin}),N.createElement(fH,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),N.createElement(UAe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),N.createElement(hH,I_({width:s,height:o},m,{ref:n})))}),WAe=["item"],GAe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},b1=N.forwardRef((e,t)=>{var n=ps(e,GAe);return N.createElement(YAe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:WAe,tooltipPayloadSearcher:Dy,categoricalChartProps:n,ref:t})}),KAe=["axis"],Vy=N.forwardRef((e,t)=>N.createElement(bT,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:KAe,tooltipPayloadSearcher:Dy,categoricalChartProps:e,ref:t}));const zc=["#8884d8","#82ca9d","#ffc658","#ff7300","#8dd1e1","#d084d0","#ffb347","#87ceeb","#dda0dd","#98fb98"];function XAe(){var T;const{profile:e}=Wt(),{t,language:n}=$t(),[r,i]=N.useState({spendingTrend:[],categoryBreakdown:[],monthlyComparison:[],topMerchants:[],paymentMethods:[],weeklyPattern:[],hourlyPattern:[],budgetAnalysis:{monthlyAverage:0,currentMonth:0,projection:0,variance:0},kpis:{totalSpent:0,averageTransaction:0,transactionCount:0,topCategory:"",savingsRate:0,spendingGrowth:0}}),[s,o]=N.useState(!0),[u,m]=N.useState("last_30_days"),[f,g]=N.useState("line");N.useEffect(()=>{e&&x()},[e,u]);const x=async()=>{var C,A,M,D;if(e)try{o(!0);const R=new Date;let z=new Date;switch(u){case"last_7_days":z=zo(R,7);break;case"last_30_days":z=zo(R,30);break;case"last_90_days":z=zo(R,90);break;case"last_year":z=zo(R,365);break;default:z=zo(R,30)}const{data:k,error:I}=await qe.from("transactions").select(`
          *,
          to_profile:profiles!transactions_to_user_id_fkey (
            full_name,
            user_type
          )
        `).eq("from_user_id",e.id).gte("created_at",z.toISOString()).lte("created_at",R.toISOString()).order("created_at",{ascending:!0});if(I)throw I;const B=k||[],V=fue({start:z,end:R}).map(ie=>{const ce=B.filter(le=>lr(new Date(le.created_at),"yyyy-MM-dd")===lr(ie,"yyyy-MM-dd"));return{date:lr(ie,"MMM dd"),amount:ce.reduce((le,he)=>le+he.amount,0),transactions:ce.length}}),F=new Map;B.forEach(ie=>{const ce=ie.transaction_type;if(F.has(ce)){const le=F.get(ce);F.set(ce,{amount:le.amount+ie.amount,count:le.count+1})}else F.set(ce,{amount:ie.amount,count:1})});const $=B.reduce((ie,ce)=>ie+ce.amount,0),W=Array.from(F.entries()).map(([ie,ce],le)=>({category:ie,amount:ce.amount,count:ce.count,percentage:$>0?ce.amount/$*100:0,color:zc[le%zc.length]})).sort((ie,ce)=>ce.amount-ie.amount),Y=hue({start:O2(R,11),end:R}).map(ie=>{const ce=xE(ie),le=ey(ie),he=B.filter(Ke=>{const ze=new Date(Ke.created_at);return ze>=ce&&ze<=le}),Ee=O2(ce,12),je=O2(le,12),be=he.reduce((Ke,ze)=>Ke+ze.amount,0)*.8;return{month:lr(ie,"MMM"),currentYear:he.reduce((Ke,ze)=>Ke+ze.amount,0),previousYear:be}}),X=new Map;B.forEach(ie=>{var le;const ce=((le=ie.to_profile)==null?void 0:le.full_name)||"Unknown";if(X.has(ce)){const he=X.get(ce);X.set(ce,{amount:he.amount+ie.amount,transactions:he.transactions+1})}else X.set(ce,{amount:ie.amount,transactions:1})});const ne=Array.from(X.entries()).map(([ie,ce])=>({name:ie,amount:ce.amount,transactions:ce.transactions})).sort((ie,ce)=>ce.amount-ie.amount).slice(0,5),J=new Map;B.forEach(ie=>{const ce=ie.payment_method||"wallet";if(J.has(ce)){const le=J.get(ce);J.set(ce,{amount:le.amount+ie.amount,count:le.count+1})}else J.set(ce,{amount:ie.amount,count:1})});const H=Array.from(J.entries()).map(([ie,ce])=>({method:ie,amount:ce.amount,count:ce.count,percentage:$>0?ce.amount/$*100:0})),K=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(ie=>{const ce=B.filter(le=>lr(new Date(le.created_at),"EEE")===ie);return{day:ie,amount:ce.reduce((le,he)=>le+he.amount,0),transactions:ce.length}}),ue=Array.from({length:24},(ie,ce)=>{const le=B.filter(he=>new Date(he.created_at).getHours()===ce);return{hour:`${ce.toString().padStart(2,"0")}:00`,amount:le.reduce((he,Ee)=>he+Ee.amount,0),transactions:le.length}}),re=B.filter(ie=>{const ce=new Date(ie.created_at),le=new Date;return ce.getMonth()===le.getMonth()&&ce.getFullYear()===le.getFullYear()}).reduce((ie,ce)=>ie+ce.amount,0),de=$/Math.max(1,Math.ceil((R.getTime()-z.getTime())/(30*24*60*60*1e3))),xe=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),Se=new Date().getDate(),ye=re/Se*xe,Le={totalSpent:$,averageTransaction:B.length>0?$/B.length:0,transactionCount:B.length,topCategory:((C=W[0])==null?void 0:C.category)||"",savingsRate:Math.max(0,(de-re)/Math.max(de,1)*100),spendingGrowth:Y.length>=2?((((A=Y[Y.length-1])==null?void 0:A.currentYear)||0)-(((M=Y[Y.length-2])==null?void 0:M.currentYear)||0))/Math.max(((D=Y[Y.length-2])==null?void 0:D.currentYear)||1,1)*100:0};i({spendingTrend:V,categoryBreakdown:W,monthlyComparison:Y,topMerchants:ne,paymentMethods:H,weeklyPattern:K,hourlyPattern:ue,budgetAnalysis:{monthlyAverage:de,currentMonth:re,projection:ye,variance:(ye-de)/Math.max(de,1)*100},kpis:Le})}catch(R){console.error("Error fetching analytics:",R)}finally{o(!1)}},w=C=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(C),_=()=>{const C={generatedAt:new Date().toISOString(),period:u,...r},A=new Blob([JSON.stringify(C,null,2)],{type:"application/json"}),M=URL.createObjectURL(A),D=document.createElement("a");D.href=M,D.download=`spending-analytics-${lr(new Date,"yyyy-MM-dd")}.json`,D.click(),URL.revokeObjectURL(M)};return s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("spendingAnalytics")}),a.jsx("p",{className:"text-muted-foreground",children:t("detailedInsightsIntoYourSpending")})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(It,{value:u,onValueChange:m,children:[a.jsx(Lt,{className:"w-[160px]",children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"last_7_days",children:t("last7Days")}),a.jsx(Oe,{value:"last_30_days",children:t("last30Days")}),a.jsx(Oe,{value:"last_90_days",children:t("last90Days")}),a.jsx(Oe,{value:"last_year",children:t("lastYear")})]})]}),a.jsxs(Ne,{variant:"outline",onClick:_,children:[a.jsx(_i,{className:"h-4 w-4 mr-2"}),t("exportReport")]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-6",children:[a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("totalSpent")}),a.jsx(wr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:w(r.kpis.totalSpent)}),a.jsxs("div",{className:"flex items-center space-x-2",children:[r.kpis.spendingGrowth>=0?a.jsx(Wn,{className:"h-4 w-4 text-red-500"}):a.jsx($l,{className:"h-4 w-4 text-green-500"}),a.jsxs("p",{className:`text-xs ${r.kpis.spendingGrowth>=0?"text-red-500":"text-green-500"}`,children:[r.kpis.spendingGrowth>=0?"+":"",r.kpis.spendingGrowth.toFixed(1),"% ",t("fromLastMonth")]})]})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("avgTransaction")}),a.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:w(r.kpis.averageTransaction)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.kpis.transactionCount," ",t("transactions")]})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("monthlyBudget")}),a.jsx(Kh,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:w(r.budgetAnalysis.projection)}),a.jsxs("p",{className:`text-xs ${r.budgetAnalysis.variance>=0?"text-red-500":"text-green-500"}`,children:[r.budgetAnalysis.variance>=0?"+":"",r.budgetAnalysis.variance.toFixed(1),"% ",t("projected")]})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("topCategory")}),a.jsx(M1,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:t(r.kpis.topCategory)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[(T=r.categoryBreakdown[0])==null?void 0:T.percentage.toFixed(1),"% ",t("ofSpending")]})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("savingsRate")}),a.jsx(Wn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[r.kpis.savingsRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("comparedToAverage")})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("frequency")}),a.jsx(RA,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(r.kpis.transactionCount/Math.max(1,parseInt(u.split("_")[1]))).toFixed(1)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("transactionsPerDay")})]})]})})]}),a.jsxs(ms,{defaultValue:"trend",className:"space-y-4",children:[a.jsxs(gs,{className:"grid w-full grid-cols-6",children:[a.jsx(Ct,{value:"trend",children:t("spendingTrend")}),a.jsx(Ct,{value:"category",children:t("categories")}),a.jsx(Ct,{value:"comparison",children:t("comparison")}),a.jsx(Ct,{value:"patterns",children:t("patterns")}),a.jsx(Ct,{value:"merchants",children:t("merchants")}),a.jsx(Ct,{value:"methods",children:t("paymentMethods")})]}),a.jsx(Mt,{value:"trend",className:"space-y-4",children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Pe,{children:t("spendingTrend")}),a.jsx(it,{children:t("dailySpendingPattern")})]}),a.jsxs(It,{value:f,onValueChange:g,children:[a.jsx(Lt,{className:"w-[120px]",children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"line",children:t("line")}),a.jsx(Oe,{value:"area",children:t("area")}),a.jsx(Oe,{value:"bar",children:t("bar")})]})]})]}),a.jsx(ge,{children:a.jsx(wi,{width:"100%",height:400,children:f==="line"?a.jsxs(v0,{data:r.spendingTrend,children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"date"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:C=>[w(Number(C)),t("amount")]}),a.jsx(_a,{}),a.jsx(Is,{type:"monotone",dataKey:"amount",stroke:"#8884d8",strokeWidth:2})]}):f==="area"?a.jsxs(Vy,{data:r.spendingTrend,children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"date"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:C=>[w(Number(C)),t("amount")]}),a.jsx(Id,{type:"monotone",dataKey:"amount",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]}):a.jsxs(Ko,{data:r.spendingTrend,children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"date"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:C=>[w(Number(C)),t("amount")]}),a.jsx(Vr,{dataKey:"amount",fill:"#8884d8"})]})})})]})}),a.jsx(Mt,{value:"category",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("spendingByCategory")}),a.jsx(it,{children:t("categoryDistribution")})]}),a.jsx(ge,{children:a.jsx(wi,{width:"100%",height:300,children:a.jsxs(b1,{children:[a.jsx(kh,{data:r.categoryBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({name:C,percentage:A})=>`${t(C)} ${A.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"amount",children:r.categoryBreakdown.map((C,A)=>a.jsx(mu,{fill:C.color},`cell-${A}`))}),a.jsx(yr,{formatter:C=>[w(Number(C)),t("amount")]})]})})})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("categoryBreakdown")}),a.jsx(it,{children:t("detailedCategoryAnalysis")})]}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-4",children:r.categoryBreakdown.map((C,A)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:C.color}}),a.jsx("span",{className:"font-medium",children:t(C.category)})]}),a.jsx("span",{className:"text-sm font-medium",children:w(C.amount)})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:[C.count," ",t("transactions")]}),a.jsxs("span",{children:[C.percentage.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${C.percentage}%`,backgroundColor:C.color}})})]},C.category))})})]})]})}),a.jsx(Mt,{value:"comparison",className:"space-y-4",children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("monthlyComparison")}),a.jsx(it,{children:t("currentVsPreviousYear")})]}),a.jsx(ge,{children:a.jsx(wi,{width:"100%",height:400,children:a.jsxs(Ko,{data:r.monthlyComparison,children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"month"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:C=>[w(Number(C)),""]}),a.jsx(_a,{}),a.jsx(Vr,{dataKey:"currentYear",fill:"#8884d8",name:t("currentYear")}),a.jsx(Vr,{dataKey:"previousYear",fill:"#82ca9d",name:t("previousYear")})]})})})]})}),a.jsx(Mt,{value:"patterns",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("weeklyPattern")}),a.jsx(it,{children:t("spendingByDayOfWeek")})]}),a.jsx(ge,{children:a.jsx(wi,{width:"100%",height:300,children:a.jsxs(Ko,{data:r.weeklyPattern,children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"day"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:C=>[w(Number(C)),t("amount")]}),a.jsx(Vr,{dataKey:"amount",fill:"#8884d8"})]})})})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("hourlyPattern")}),a.jsx(it,{children:t("spendingByHourOfDay")})]}),a.jsx(ge,{children:a.jsx(wi,{width:"100%",height:300,children:a.jsxs(v0,{data:r.hourlyPattern,children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"hour"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:C=>[w(Number(C)),t("amount")]}),a.jsx(Is,{type:"monotone",dataKey:"amount",stroke:"#82ca9d",strokeWidth:2})]})})})]})]})}),a.jsx(Mt,{value:"merchants",className:"space-y-4",children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("topMerchants")}),a.jsx(it,{children:t("merchantsBySpending")})]}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-4",children:r.topMerchants.map((C,A)=>a.jsxs(We.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:A*.1},className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-2xl font-bold text-muted-foreground",children:["#",A+1]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:C.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[C.transactions," ",t("transactions")]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold",children:w(C.amount)}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[w(C.amount/C.transactions)," ",t("avg")]})]})]},C.name))})})]})}),a.jsx(Mt,{value:"methods",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("paymentMethods")}),a.jsx(it,{children:t("methodDistribution")})]}),a.jsx(ge,{children:a.jsx(wi,{width:"100%",height:300,children:a.jsxs(b1,{children:[a.jsx(kh,{data:r.paymentMethods,cx:"50%",cy:"50%",labelLine:!1,label:({method:C,percentage:A})=>`${t(C)} ${A.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"amount",children:r.paymentMethods.map((C,A)=>a.jsx(mu,{fill:zc[A%zc.length]},`cell-${A}`))}),a.jsx(yr,{formatter:C=>[w(Number(C)),t("amount")]})]})})})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("methodBreakdown")}),a.jsx(it,{children:t("detailedMethodAnalysis")})]}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-4",children:r.paymentMethods.map((C,A)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:zc[A%zc.length]}}),a.jsx("span",{className:"font-medium",children:t(C.method)})]}),a.jsx("span",{className:"text-sm font-medium",children:w(C.amount)})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:[C.count," ",t("transactions")]}),a.jsxs("span",{children:[C.percentage.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${C.percentage}%`,backgroundColor:zc[A%zc.length]}})})]},C.method))})})]})]})})]}),r.budgetAnalysis.variance>20&&a.jsx(me,{className:"border-orange-200 bg-orange-50",children:a.jsxs(ge,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(vv,{className:"h-5 w-5 text-orange-600"}),a.jsx("span",{className:"font-medium text-orange-800",children:t("budgetWarning")}),a.jsxs(et,{variant:"outline",className:"bg-orange-100 text-orange-800",children:["+",r.budgetAnalysis.variance.toFixed(1),"% ",t("overBudget")]})]}),a.jsxs("p",{className:"text-sm text-orange-700 mt-2",children:[t("yourProjectedSpendingIs")," ",w(r.budgetAnalysis.projection)," ",t("comparedToYourAverage")," ",w(r.budgetAnalysis.monthlyAverage)]})]})})]})}function np(){const{profile:e,user:t,refreshProfile:n}=Wt(),{t:r,language:i,setLanguage:s}=$t(),[o,u]=N.useState(!1),[m,f]=N.useState(!1),[g,x]=N.useState({full_name:(e==null?void 0:e.full_name)||"",phone_number:(e==null?void 0:e.phone_number)||"",language_preference:(e==null?void 0:e.language_preference)||"en"}),w=(M,D)=>{x(R=>({...R,[M]:D}))},_=async()=>{if(e){f(!0);try{const{error:M}=await qe.from("profiles").update({full_name:g.full_name,phone_number:g.phone_number,language_preference:g.language_preference,updated_at:new Date().toISOString()}).eq("id",e.id);if(M)throw M;g.language_preference!==i&&s(g.language_preference),await n(),u(!1),Me.success(r("profileUpdated"))}catch(M){console.error("Error updating profile:",M),Me.error(r("errorUpdatingProfile"))}finally{f(!1)}}},T=()=>{x({full_name:(e==null?void 0:e.full_name)||"",phone_number:(e==null?void 0:e.phone_number)||"",language_preference:(e==null?void 0:e.language_preference)||"en"}),u(!1)},C=M=>({passenger:r("passenger"),driver:r("driver"),merchant:r("merchant"),event_admin:r("eventAdmin"),admin:r("systemAdmin")})[M]||M,A=M=>M.split(" ").map(D=>D[0]).join("").toUpperCase();return e?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r("profile")}),a.jsx("p",{className:"text-muted-foreground",children:r("manageYourAccountInformation")})]}),!o&&a.jsxs(Ne,{onClick:()=>u(!0),variant:"outline",children:[a.jsx(ZL,{className:"h-4 w-4 mr-2"}),r("editProfile")]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[a.jsxs(me,{children:[a.jsx(Re,{children:a.jsx(Pe,{className:"text-lg",children:r("profilePicture")})}),a.jsxs(ge,{className:"flex flex-col items-center space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(e0,{className:"h-24 w-24",children:[a.jsx(t0,{src:e.avatar_url}),a.jsx(n0,{className:"text-lg",children:A(e.full_name)})]}),a.jsx(Ne,{size:"sm",variant:"outline",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full p-0",children:a.jsx(uh,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-sm text-muted-foreground text-center",children:r("clickToUploadNewPicture")})]})]}),a.jsxs(me,{className:"md:col-span-2",children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsx(Pe,{className:"text-lg",children:r("personalInformation")}),a.jsx(it,{children:r("updateYourPersonalDetails")})]}),o&&a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Ne,{size:"sm",onClick:_,disabled:m,children:[a.jsx(QL,{className:"h-4 w-4 mr-2"}),r("save")]}),a.jsxs(Ne,{size:"sm",variant:"outline",onClick:T,children:[a.jsx(Xh,{className:"h-4 w-4 mr-2"}),r("cancel")]})]})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"full_name",children:r("fullName")}),o?a.jsx(vt,{id:"full_name",value:g.full_name,onChange:M=>w("full_name",M.target.value)}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(iu,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:e.full_name})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"phone_number",children:r("phoneNumber")}),o?a.jsx(vt,{id:"phone_number",value:g.phone_number,onChange:M=>w("phone_number",M.target.value)}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wS,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:e.phone_number||r("notProvided")})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:r("email")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(R1,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:e.email})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:r("language")}),o?a.jsxs(It,{value:g.language_preference,onValueChange:M=>w("language_preference",M),children:[a.jsx(Lt,{children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"en",children:"English"}),a.jsx(Oe,{value:"ar",children:""})]})]}):a.jsx("span",{children:e.language_preference==="ar"?"":"English"})]})]}),a.jsx(Bi,{}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:r("accountType")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(li,{className:"h-4 w-4 text-muted-foreground"}),a.jsx(et,{variant:"secondary",children:C(e.user_type)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:r("memberSince")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ta,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:new Date(e.created_at).toLocaleDateString(i==="ar"?"ar-SY":"en-US")})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:r("verificationStatus")}),a.jsx(et,{variant:e.is_verified?"default":"secondary",children:e.is_verified?r("verified"):r("unverified")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:r("accountStatus")}),a.jsx(et,{variant:e.is_active?"default":"destructive",children:e.is_active?r("active"):r("inactive")})]})]})]})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:r("accountActions")}),a.jsx(it,{children:r("manageYourAccountSecurity")})]}),a.jsx(ge,{className:"space-y-4",children:a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx(Ne,{variant:"outline",children:r("changePassword")}),a.jsx(Ne,{variant:"outline",children:r("downloadData")}),a.jsx(Ne,{variant:"outline",children:r("twoFactorAuth")}),a.jsx(Ne,{variant:"destructive",disabled:!0,children:r("deleteAccount")})]})})]})]}):null}var $y="Switch",[QAe,NTe]=Vi($y),[ZAe,JAe]=QAe($y),mH=N.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:u,value:m="on",onCheckedChange:f,form:g,...x}=e,[w,_]=N.useState(null),T=Zt(t,R=>_(R)),C=N.useRef(!1),A=w?g||!!w.closest("form"):!0,[M,D]=Hl({prop:i,defaultProp:s??!1,onChange:f,caller:$y});return a.jsxs(ZAe,{scope:n,checked:M,disabled:u,children:[a.jsx(St.button,{type:"button",role:"switch","aria-checked":M,"aria-required":o,"data-state":vH(M),"data-disabled":u?"":void 0,disabled:u,value:m,...x,ref:T,onClick:lt(e.onClick,R=>{D(z=>!z),A&&(C.current=R.isPropagationStopped(),C.current||R.stopPropagation())})}),A&&a.jsx(xH,{control:w,bubbles:!C.current,name:r,value:m,checked:M,required:o,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});mH.displayName=$y;var gH="SwitchThumb",pH=N.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=JAe(gH,n);return a.jsx(St.span,{"data-state":vH(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});pH.displayName=gH;var eEe="SwitchBubbleInput",xH=N.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const o=N.useRef(null),u=Zt(o,s),m=FA(n),f=UA(t);return N.useEffect(()=>{const g=o.current;if(!g)return;const x=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(x,"checked").set;if(m!==n&&_){const T=new Event("click",{bubbles:r});_.call(g,n),g.dispatchEvent(T)}},[m,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:u,style:{...i.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});xH.displayName=eEe;function vH(e){return e?"checked":"unchecked"}var tEe=mH,nEe=pH;function no({className:e,...t}){return a.jsx(tEe,{"data-slot":"switch",className:At("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(nEe,{"data-slot":"switch-thumb",className:At("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function rp(){const{profile:e}=Wt(),{t,language:n,setLanguage:r}=$t(),[i,s]=N.useState(!1),[o,u]=N.useState(!0),[m,f]=N.useState(!1),[g,x]=N.useState({email:!0,push:!0,sms:!1,transactions:!0,marketing:!1,security:!0}),[w,_]=N.useState({profileVisibility:"public",showOnlineStatus:!0,allowDataCollection:!1}),T=(R,z)=>{x(k=>({...k,[R]:z})),Me.success(t("settingUpdated"))},C=(R,z)=>{_(k=>({...k,[R]:z})),Me.success(t("settingUpdated"))},A=R=>{r(R),Me.success(t("languageChanged"))},M=()=>{Me.info(t("dataExportStarted"))},D=()=>{Me.error(t("featureNotAvailable"))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("settings")}),a.jsx("p",{className:"text-muted-foreground",children:t("manageYourAppPreferences")})]}),a.jsxs("div",{className:"grid gap-6",children:[a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{className:"flex items-center space-x-2",children:[a.jsx(kA,{className:"h-5 w-5"}),a.jsx("span",{children:t("languageAndAppearance")})]}),a.jsx(it,{children:t("customizeYourAppExperience")})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:t("language")}),a.jsxs(It,{value:n,onValueChange:A,children:[a.jsx(Lt,{children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"en",children:"English"}),a.jsx(Oe,{value:"ar",children:""})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx($e,{children:t("darkMode")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("toggleDarkMode")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(SS,{className:"h-4 w-4"}),a.jsx(no,{checked:m,onCheckedChange:f}),a.jsx(bS,{className:"h-4 w-4"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx($e,{children:t("showWalletBalance")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("displayBalanceInDashboard")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(di,{className:"h-4 w-4"}),a.jsx(no,{checked:o,onCheckedChange:u}),a.jsx(Hn,{className:"h-4 w-4"})]})]})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{className:"flex items-center space-x-2",children:[a.jsx(wh,{className:"h-5 w-5"}),a.jsx("span",{children:t("notifications")})]}),a.jsx(it,{children:t("controlWhenAndHowYouReceiveNotifications")})]}),a.jsx(ge,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs($e,{className:"flex items-center space-x-2",children:[a.jsx(R1,{className:"h-4 w-4"}),a.jsx("span",{children:t("emailNotifications")})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("receiveEmailUpdates")})]}),a.jsx(no,{checked:g.email,onCheckedChange:R=>T("email",R)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs($e,{className:"flex items-center space-x-2",children:[a.jsx(Bg,{className:"h-4 w-4"}),a.jsx("span",{children:t("pushNotifications")})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("receivePushNotifications")})]}),a.jsx(no,{checked:g.push,onCheckedChange:R=>T("push",R)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx($e,{children:t("smsNotifications")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("receiveSmsUpdates")})]}),a.jsx(no,{checked:g.sms,onCheckedChange:R=>T("sms",R)})]}),a.jsx(Bi,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs($e,{className:"flex items-center space-x-2",children:[a.jsx(Ea,{className:"h-4 w-4"}),a.jsx("span",{children:t("transactionNotifications")})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("notifyOnTransactions")})]}),a.jsx(no,{checked:g.transactions,onCheckedChange:R=>T("transactions",R)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx($e,{children:t("marketingNotifications")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("receivePromotionalEmails")})]}),a.jsx(no,{checked:g.marketing,onCheckedChange:R=>T("marketing",R)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs($e,{className:"flex items-center space-x-2",children:[a.jsx(li,{className:"h-4 w-4"}),a.jsx("span",{children:t("securityNotifications")})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("notifyOnSecurityEvents")})]}),a.jsx(no,{checked:g.security,onCheckedChange:R=>T("security",R)})]})]})})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{className:"flex items-center space-x-2",children:[a.jsx(li,{className:"h-5 w-5"}),a.jsx("span",{children:t("privacyAndSecurity")})]}),a.jsx(it,{children:t("controlYourDataAndPrivacy")})]}),a.jsx(ge,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:t("profileVisibility")}),a.jsxs(It,{value:w.profileVisibility,onValueChange:R=>C("profileVisibility",R),children:[a.jsx(Lt,{children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"public",children:t("public")}),a.jsx(Oe,{value:"private",children:t("private")}),a.jsx(Oe,{value:"contacts",children:t("contactsOnly")})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx($e,{children:t("showOnlineStatus")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("letOthersKnowWhenYouAreOnline")})]}),a.jsx(no,{checked:w.showOnlineStatus,onCheckedChange:R=>C("showOnlineStatus",R)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx($e,{children:t("allowDataCollection")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("helpImproveAppBySharing")})]}),a.jsx(no,{checked:w.allowDataCollection,onCheckedChange:R=>C("allowDataCollection",R)})]})]})})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("accountManagement")}),a.jsx(it,{children:t("manageYourAccountDataAndSettings")})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx(Ne,{variant:"outline",onClick:M,children:t("exportMyData")}),a.jsx(Ne,{variant:"outline",children:t("changePassword")}),a.jsx(Ne,{variant:"outline",children:t("twoFactorAuth")}),a.jsx(Ne,{variant:"outline",children:t("connectedAccounts")})]}),a.jsx(Bi,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{className:"text-destructive",children:t("dangerZone")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("irreversibleActions")}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Ne,{variant:"destructive",onClick:D,children:t("deleteAccount")}),a.jsx(Ne,{variant:"outline",children:t("deactivateAccount")})]})]})]})]}),a.jsxs(me,{children:[a.jsx(Re,{children:a.jsx(Pe,{children:t("appInformation")})}),a.jsxs(ge,{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:t("version")}),a.jsx("span",{children:"1.0.0"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:t("lastUpdate")}),a.jsx("span",{children:new Date().toLocaleDateString(n==="ar"?"ar-SY":"en-US")})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:t("buildNumber")}),a.jsx("span",{children:"1.0.0-beta"})]})]})]})]})]})}const yH=()=>{var H,ee;const{notifications:e,unreadCount:t,loading:n,stats:r,fetchNotifications:i,markAsRead:s,markAllAsRead:o,deleteNotification:u}=$_(),{language:m}=$t(),f=go(),[g,x]=N.useState({}),[w,_]=N.useState(""),[T,C]=N.useState([]),[A,M]=N.useState("desc"),[D,R]=N.useState(!1),z=e.filter(K=>{if(w){const ue=w.toLowerCase();if(!(K.title.toLowerCase().includes(ue)||K.message.toLowerCase().includes(ue)))return!1}return!(g.type&&g.type.length>0&&!g.type.includes(K.type)||g.priority&&g.priority.length>0&&!g.priority.includes(K.priority)||g.is_read!==void 0&&K.is_read!==g.is_read||g.date_from&&new Date(K.created_at)<new Date(g.date_from)||g.date_to&&new Date(K.created_at)>new Date(g.date_to))}),k=[...z].sort((K,ue)=>{const re=new Date(K.created_at).getTime(),de=new Date(ue.created_at).getTime();return A==="asc"?re-de:de-re}),I=K=>{switch(K){case"success":return a.jsx(Rr,{className:"h-5 w-5 text-green-600"});case"warning":return a.jsx(jr,{className:"h-5 w-5 text-yellow-600"});case"error":return a.jsx(nu,{className:"h-5 w-5 text-red-600"});case"ticket":return a.jsx(Oa,{className:"h-5 w-5 text-blue-600"});case"payment":return a.jsx(Ea,{className:"h-5 w-5 text-green-600"});case"refund":return a.jsx(wr,{className:"h-5 w-5 text-orange-600"});case"event":return a.jsx(Wte,{className:"h-5 w-5 text-purple-600"});case"system":return a.jsx(ru,{className:"h-5 w-5 text-gray-600"});default:return a.jsx(yv,{className:"h-5 w-5 text-blue-600"})}},B=K=>{const ue={low:"bg-gray-100 text-gray-800",normal:"bg-blue-100 text-blue-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"};return a.jsx(et,{variant:"secondary",className:ue[K],children:K.toUpperCase()})},V=K=>{K.is_read||s(K.id),K.action_url&&f(K.action_url)},F=()=>{T.forEach(K=>{const ue=e.find(re=>re.id===K);ue&&!ue.is_read&&s(K)}),C([])},$=()=>{T.forEach(K=>{u(K)}),C([])},W=()=>{T.length===k.length?C([]):C(k.map(K=>K.id))},Y=(K,ue)=>{const re={...g,[K]:ue};x(re),i(re)},X=()=>{x({}),_(""),i()};N.useEffect(()=>{const K=setTimeout(()=>{w!==g.search&&Y("search",w||void 0)},500);return()=>clearTimeout(K)},[w]);const J={en:{title:"Notifications",description:"Stay updated with your latest notifications",search:"Search notifications...",filters:"Filters",showFilters:"Show Filters",hideFilters:"Hide Filters",type:"Type",priority:"Priority",status:"Status",dateFrom:"From Date",dateTo:"To Date",clearFilters:"Clear Filters",markAllRead:"Mark All Read",markSelectedRead:"Mark Selected Read",deleteSelected:"Delete Selected",selectAll:"Select All",sortNewest:"Newest First",sortOldest:"Oldest First",noNotifications:"No notifications found",noNotificationsDesc:"Try adjusting your filters or check back later",all:"All",read:"Read",unread:"Unread",selected:"selected"},ar:{title:"",description:"   ",search:"  ...",filters:"",showFilters:" ",hideFilters:" ",type:"",priority:"",status:"",dateFrom:" ",dateTo:" ",clearFilters:" ",markAllRead:"  ",markSelectedRead:"  ",deleteSelected:" ",selectAll:" ",sortNewest:" ",sortOldest:" ",noNotifications:"    ",noNotificationsDesc:"     ",all:"",read:"",unread:" ",selected:""}}[m];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:J.title}),a.jsx("p",{className:"text-muted-foreground",children:J.description})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(me,{children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wh,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),a.jsx("p",{className:"text-2xl font-bold",children:r.total})]})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(et,{variant:"destructive",className:"h-5 w-5 p-0 flex items-center justify-center",children:r.unread}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Unread"}),a.jsx("p",{className:"text-2xl font-bold",children:r.unread})]})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jr,{className:"h-5 w-5 text-orange-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"High Priority"}),a.jsx("p",{className:"text-2xl font-bold",children:r.by_priority.high+r.by_priority.urgent})]})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rr,{className:"h-5 w-5 text-green-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Read"}),a.jsx("p",{className:"text-2xl font-bold",children:r.total-r.unread})]})]})})})]}),a.jsx(me,{children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(zs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(vt,{placeholder:J.search,value:w,onChange:K=>_(K.target.value),className:"pl-10"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>R(!D),children:[a.jsx(Gh,{className:"h-4 w-4 mr-2"}),D?J.hideFilters:J.showFilters]}),a.jsx(Ne,{variant:"outline",size:"sm",onClick:()=>M(A==="asc"?"desc":"asc"),children:A==="desc"?a.jsxs(a.Fragment,{children:[a.jsx(kte,{className:"h-4 w-4 mr-2"}),J.sortNewest]}):a.jsxs(a.Fragment,{children:[a.jsx(zte,{className:"h-4 w-4 mr-2"}),J.sortOldest]})})]})]}),a.jsx(A1,{children:D&&a.jsxs(We.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:[a.jsx(Bi,{className:"mb-4"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[a.jsxs("div",{children:[a.jsx($e,{children:J.type}),a.jsxs(It,{value:((H=g.type)==null?void 0:H[0])||"all",onValueChange:K=>Y("type",K==="all"?void 0:[K]),children:[a.jsx(Lt,{children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:J.all}),a.jsx(Oe,{value:"info",children:"Info"}),a.jsx(Oe,{value:"success",children:"Success"}),a.jsx(Oe,{value:"warning",children:"Warning"}),a.jsx(Oe,{value:"error",children:"Error"}),a.jsx(Oe,{value:"system",children:"System"}),a.jsx(Oe,{value:"ticket",children:"Ticket"}),a.jsx(Oe,{value:"payment",children:"Payment"}),a.jsx(Oe,{value:"refund",children:"Refund"}),a.jsx(Oe,{value:"event",children:"Event"})]})]})]}),a.jsxs("div",{children:[a.jsx($e,{children:J.priority}),a.jsxs(It,{value:((ee=g.priority)==null?void 0:ee[0])||"all",onValueChange:K=>Y("priority",K==="all"?void 0:[K]),children:[a.jsx(Lt,{children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:J.all}),a.jsx(Oe,{value:"low",children:"Low"}),a.jsx(Oe,{value:"normal",children:"Normal"}),a.jsx(Oe,{value:"high",children:"High"}),a.jsx(Oe,{value:"urgent",children:"Urgent"})]})]})]}),a.jsxs("div",{children:[a.jsx($e,{children:J.status}),a.jsxs(It,{value:g.is_read===void 0?"all":g.is_read?"read":"unread",onValueChange:K=>Y("is_read",K==="all"?void 0:K==="read"),children:[a.jsx(Lt,{children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:J.all}),a.jsx(Oe,{value:"read",children:J.read}),a.jsx(Oe,{value:"unread",children:J.unread})]})]})]}),a.jsxs("div",{children:[a.jsx($e,{children:J.dateFrom}),a.jsx(vt,{type:"date",value:g.date_from||"",onChange:K=>Y("date_from",K.target.value||void 0)})]}),a.jsxs("div",{children:[a.jsx($e,{children:J.dateTo}),a.jsx(vt,{type:"date",value:g.date_to||"",onChange:K=>Y("date_to",K.target.value||void 0)})]})]}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx(Ne,{variant:"outline",size:"sm",onClick:X,children:J.clearFilters})})]})}),T.length>0&&a.jsxs(We.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"flex items-center gap-4 p-3 bg-blue-50 rounded-lg border",children:[a.jsxs("span",{className:"text-sm font-medium",children:[T.length," ",J.selected]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Ne,{size:"sm",variant:"outline",onClick:F,children:[a.jsx(Kg,{className:"h-4 w-4 mr-2"}),J.markSelectedRead]}),a.jsxs(Ne,{size:"sm",variant:"outline",onClick:$,children:[a.jsx(bv,{className:"h-4 w-4 mr-2"}),J.deleteSelected]})]})]})]})})}),a.jsxs(me,{children:[a.jsx(Re,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(Pe,{children:["Notifications (",z.length,")"]}),t>0&&a.jsxs(it,{children:[t," unread notifications"]})]}),a.jsxs("div",{className:"flex gap-2",children:[k.length>0&&a.jsxs(Ne,{variant:"outline",size:"sm",onClick:W,children:[a.jsx(ou,{checked:T.length===k.length,className:"mr-2"}),J.selectAll]}),t>0&&a.jsxs(Ne,{size:"sm",onClick:o,children:[a.jsx(ene,{className:"h-4 w-4 mr-2"}),J.markAllRead]})]})]})}),a.jsx(ge,{className:"p-0",children:n?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):k.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(wh,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"font-semibold text-muted-foreground mb-2",children:J.noNotifications}),a.jsx("p",{className:"text-sm text-muted-foreground",children:J.noNotificationsDesc})]}):a.jsx(Od,{className:"h-96",children:a.jsx("div",{className:"space-y-1",children:k.map((K,ue)=>a.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ue*.05},className:`flex items-start gap-4 p-4 border-l-4 cursor-pointer transition-all hover:bg-gray-50 dark:hover:bg-gray-800 ${K.is_read?"border-l-gray-200":"border-l-blue-500 bg-blue-50 dark:bg-blue-950"} ${T.includes(K.id)?"bg-blue-100 dark:bg-blue-900":""}`,onClick:()=>V(K),children:[a.jsx(ou,{checked:T.includes(K.id),onCheckedChange:re=>{C(re?de=>[...de,K.id]:de=>de.filter(xe=>xe!==K.id))},onClick:re=>re.stopPropagation()}),a.jsx("div",{className:"flex-shrink-0 mt-1",children:I(K.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:`font-medium ${K.is_read?"text-muted-foreground":"text-foreground"}`,children:K.title}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:K.message})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[B(K.priority),!K.is_read&&a.jsx(et,{variant:"destructive",className:"h-2 w-2 p-0 rounded-full"})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:lr(new Date(K.created_at),"MMM dd, yyyy  HH:mm")}),a.jsxs("div",{className:"flex items-center gap-2",children:[K.action_url&&a.jsxs(Ne,{variant:"ghost",size:"sm",className:"h-6 px-2 text-xs",onClick:re=>{re.stopPropagation(),V(K)},children:[a.jsx(GL,{className:"h-3 w-3 mr-1"}),K.action_label||"View"]}),a.jsx(Ne,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 hover:text-red-600",onClick:re=>{re.stopPropagation(),u(K.id)},children:a.jsx(bv,{className:"h-3 w-3"})})]})]})]})]},K.id))})})})]})]})};function tl({className:e,...t}){return a.jsx("textarea",{"data-slot":"textarea",className:At("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const Hy=()=>{const{user:e}=Wt(),{conversations:t,activeConversation:n,messages:r,loading:i,fetchConversations:s,createConversation:o,sendMessage:u,setActiveConversation:m}=U6(),[f,g]=N.useState(""),[x,w]=N.useState(!1),[_,T]=N.useState({subject:"",initial_message:"",category:"general",priority:"normal"}),C=N.useRef(null);N.useEffect(()=>{var k;(k=C.current)==null||k.scrollIntoView({behavior:"smooth"})},[r]);const A=async()=>{if(!_.subject.trim()||!_.initial_message.trim()){Me.error("Please fill in all required fields");return}const k=await o(_);k&&(w(!1),T({subject:"",initial_message:"",category:"general",priority:"normal"}),setTimeout(()=>{const I=t.find(B=>B.id===k);I&&m(I)},1e3))},M=async()=>{!f.trim()||!n||(await u({conversation_id:n.id,content:f.trim(),message_type:"text"}),g(""))},D=k=>{switch(k){case"open":return"bg-blue-500";case"assigned":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-gray-500";default:return"bg-gray-500"}},R=k=>{switch(k){case"urgent":return"bg-red-500";case"high":return"bg-orange-500";case"normal":return"bg-blue-500";case"low":return"bg-gray-500";default:return"bg-gray-500"}},z=k=>Ah(new Date(k),{addSuffix:!0});return e?a.jsxs("div",{className:"flex h-[600px] gap-4",children:[a.jsxs("div",{className:"w-1/3 border-r",children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-semibold",children:"Support Conversations"}),a.jsxs(za,{open:x,onOpenChange:w,children:[a.jsx(bu,{asChild:!0,children:a.jsxs(Ne,{size:"sm",children:[a.jsx(cs,{className:"h-4 w-4 mr-2"}),"New Chat"]})}),a.jsxs(Va,{children:[a.jsx($a,{children:a.jsx(Ha,{children:"Start New Support Conversation"})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx($e,{htmlFor:"subject",children:"Subject *"}),a.jsx(vt,{id:"subject",placeholder:"Brief description of your issue",value:_.subject,onChange:k=>T(I=>({...I,subject:k.target.value}))})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"category",children:"Category"}),a.jsxs(It,{value:_.category,onValueChange:k=>T(I=>({...I,category:k})),children:[a.jsx(Lt,{children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"general",children:"General Support"}),a.jsx(Oe,{value:"technical",children:"Technical Issue"}),a.jsx(Oe,{value:"billing",children:"Billing & Payments"}),a.jsx(Oe,{value:"account",children:"Account Management"}),a.jsx(Oe,{value:"refund",children:"Refund Request"}),a.jsx(Oe,{value:"feedback",children:"Feedback"})]})]})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"priority",children:"Priority"}),a.jsxs(It,{value:_.priority,onValueChange:k=>T(I=>({...I,priority:k})),children:[a.jsx(Lt,{children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"low",children:"Low"}),a.jsx(Oe,{value:"normal",children:"Normal"}),a.jsx(Oe,{value:"high",children:"High"}),a.jsx(Oe,{value:"urgent",children:"Urgent"})]})]})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"message",children:"Initial Message *"}),a.jsx(tl,{id:"message",placeholder:"Describe your issue in detail...",rows:4,value:_.initial_message,onChange:k=>T(I=>({...I,initial_message:k.target.value}))})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Ne,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),a.jsx(Ne,{onClick:A,disabled:i,children:i?"Creating...":"Start Conversation"})]})]})]})]})]})}),a.jsx(Od,{className:"h-[calc(100%-120px)]",children:a.jsx("div",{className:"p-4 space-y-2",children:t.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(jh,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"No conversations yet"}),a.jsx(Ne,{onClick:()=>w(!0),size:"sm",children:"Start your first conversation"})]}):t.map(k=>a.jsx(me,{className:`cursor-pointer transition-colors hover:bg-muted/50 ${(n==null?void 0:n.id)===k.id?"ring-2 ring-primary":""}`,onClick:()=>m(k),children:a.jsxs(ge,{className:"p-3",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-sm truncate flex-1",children:k.subject}),k.unread_count&&k.unread_count>0&&a.jsx(et,{variant:"destructive",className:"text-xs",children:k.unread_count})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(et,{variant:"outline",className:`text-xs ${D(k.status)}`,children:k.status}),a.jsx(et,{variant:"outline",className:`text-xs ${R(k.priority)}`,children:k.priority}),k.category&&a.jsx(et,{variant:"secondary",className:"text-xs",children:k.category})]}),k.last_message&&a.jsx("p",{className:"text-xs text-muted-foreground truncate mb-1",children:k.last_message.content}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(zn,{className:"h-3 w-3 mr-1"}),z(k.updated_at)]})]})},k.id))})})]}),a.jsx("div",{className:"flex-1 flex flex-col",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"p-4 border-b",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:n.subject}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(et,{variant:"outline",className:D(n.status),children:n.status}),a.jsx(et,{variant:"outline",className:R(n.priority),children:n.priority}),n.category&&a.jsx(et,{variant:"secondary",children:n.category})]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Ta,{className:"h-4 w-4"}),"Created ",z(n.created_at)]}),n.assigned_admin&&a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(iu,{className:"h-4 w-4"}),"Assigned to ",n.assigned_admin.full_name]})]})]})}),a.jsx(Od,{className:"flex-1 p-4",children:a.jsxs("div",{className:"space-y-4",children:[r.map(k=>{var I,B,V,F,$;return a.jsx("div",{className:`flex ${k.sender_id===e.id?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`flex items-start gap-2 max-w-[70%] ${k.sender_id===e.id?"flex-row-reverse":"flex-row"}`,children:[a.jsxs(e0,{className:"h-8 w-8",children:[a.jsx(t0,{src:(I=k.sender)==null?void 0:I.avatar_url}),a.jsx(n0,{children:((V=(B=k.sender)==null?void 0:B.full_name)==null?void 0:V.charAt(0))||"U"})]}),a.jsxs("div",{className:`rounded-lg p-3 ${k.sender_id===e.id?"bg-primary text-primary-foreground":"bg-muted"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium",children:((F=k.sender)==null?void 0:F.full_name)||"Unknown User"}),(($=k.sender)==null?void 0:$.role)==="admin"&&a.jsx(et,{variant:"secondary",className:"text-xs",children:"Support"})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:k.content}),a.jsx("p",{className:`text-xs mt-1 ${k.sender_id===e.id?"text-primary-foreground/70":"text-muted-foreground"}`,children:z(k.created_at)})]})]})},k.id)}),a.jsx("div",{ref:C})]})}),a.jsx("div",{className:"p-4 border-t",children:n.status==="closed"?a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-muted-foreground",children:"This conversation has been closed"})}):a.jsxs("div",{className:"flex gap-2",children:[a.jsx(vt,{placeholder:"Type your message...",value:f,onChange:k=>g(k.target.value),onKeyPress:k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),M())},disabled:i}),a.jsx(Ne,{onClick:M,disabled:i||!f.trim(),children:a.jsx(IA,{className:"h-4 w-4"})})]})})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(jh,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a conversation"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Choose a conversation from the sidebar to start chatting"}),a.jsxs(Ne,{onClick:()=>w(!0),children:[a.jsx(cs,{className:"h-4 w-4 mr-2"}),"Start New Conversation"]})]})})})]}):a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-muted-foreground",children:"Please log in to access support chat"})})};function rEe(){return a.jsx(F0,{userType:"passenger",children:a.jsxs(Vh,{children:[a.jsx(xt,{index:!0,element:a.jsx(Tde,{})}),a.jsx(xt,{path:"wallet",element:a.jsx(Rde,{})}),a.jsx(xt,{path:"scanner",element:a.jsx(Afe,{})}),a.jsx(xt,{path:"transactions",element:a.jsx(Cfe,{})}),a.jsx(xt,{path:"events",element:a.jsx(Tfe,{})}),a.jsx(xt,{path:"tickets",element:a.jsx(Ofe,{})}),a.jsx(xt,{path:"analytics",element:a.jsx(XAe,{})}),a.jsx(xt,{path:"notifications",element:a.jsx(yH,{})}),a.jsx(xt,{path:"chat",element:a.jsx(Hy,{})}),a.jsx(xt,{path:"profile",element:a.jsx(np,{})}),a.jsx(xt,{path:"settings",element:a.jsx(rp,{})})]})})}var wT="Progress",jT=100,[aEe,STe]=Vi(wT),[iEe,sEe]=aEe(wT),bH=N.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=oEe,...o}=e;(i||i===0)&&!k8(i)&&console.error(lEe(`${i}`,"Progress"));const u=k8(i)?i:jT;r!==null&&!I8(r,u)&&console.error(cEe(`${r}`,"Progress"));const m=I8(r,u)?r:null,f=w1(m)?s(m,u):void 0;return a.jsx(iEe,{scope:n,value:m,max:u,children:a.jsx(St.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":w1(m)?m:void 0,"aria-valuetext":f,role:"progressbar","data-state":NH(m,u),"data-value":m??void 0,"data-max":u,...o,ref:t})})});bH.displayName=wT;var wH="ProgressIndicator",jH=N.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=sEe(wH,n);return a.jsx(St.div,{"data-state":NH(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});jH.displayName=wH;function oEe(e,t){return`${Math.round(e/t*100)}%`}function NH(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function w1(e){return typeof e=="number"}function k8(e){return w1(e)&&!isNaN(e)&&e>0}function I8(e,t){return w1(e)&&!isNaN(e)&&e<=t&&e>=0}function lEe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${jT}\`.`}function cEe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${jT} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var uEe=bH,dEe=jH;function Nd({className:e,value:t,...n}){return a.jsx(uEe,{"data-slot":"progress",className:At("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...n,children:a.jsx(dEe,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function fEe(){const{user:e}=Wt(),{t,isRTL:n}=$t(),[r,i]=N.useState({totalEarnings:0,dailyEarnings:0,weeklyEarnings:0,monthlyEarnings:0,totalTrips:0,dailyTrips:0,activeQRCodes:0,averageRating:0}),[s,o]=N.useState([]),[u,m]=N.useState("not_submitted"),[f,g]=N.useState(!0),[x,w]=N.useState(!1);N.useEffect(()=>{e&&Promise.all([_(),T(),C()]).finally(()=>g(!1))},[e]);const _=async()=>{if(e)try{const{data:k,error:I}=await qe.from("transactions").select("amount, created_at").eq("to_user_id",e.id).eq("type","transport_payment");if(I)throw I;const B=new Date,V=new Date(B.getFullYear(),B.getMonth(),B.getDate()),F=new Date(V.getTime()-7*24*60*60*1e3),$=new Date(V.getTime()-30*24*60*60*1e3),W=k||[],Y=W.reduce((re,de)=>re+de.amount,0),X=W.filter(re=>new Date(re.created_at)>=V).reduce((re,de)=>re+de.amount,0),ne=W.filter(re=>new Date(re.created_at)>=F).reduce((re,de)=>re+de.amount,0),J=W.filter(re=>new Date(re.created_at)>=$).reduce((re,de)=>re+de.amount,0),H=W.length,ee=W.filter(re=>new Date(re.created_at)>=V).length,{data:K,error:ue}=await qe.from("qr_codes").select("id").eq("driver_id",e.id).eq("is_active",!0);if(ue)throw ue;i({totalEarnings:Y,dailyEarnings:X,weeklyEarnings:ne,monthlyEarnings:J,totalTrips:H,dailyTrips:ee,activeQRCodes:(K==null?void 0:K.length)||0,averageRating:4.5})}catch(k){console.error("Error fetching driver stats:",k)}},T=async()=>{if(e)try{const{data:k,error:I}=await qe.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          from_user_id,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","transport_payment").order("created_at",{ascending:!1}).limit(5);if(I)throw I;const B=(k==null?void 0:k.map(V=>{var F;return{id:V.id,passenger_name:((F=V.profiles)==null?void 0:F.full_name)||t("unknown_passenger"),amount:V.amount,created_at:V.created_at,status:V.status,pickup_location:"Damascus",dropoff_location:"Aleppo"}}))||[];o(B)}catch(k){console.error("Error fetching recent trips:",k)}},C=async()=>{if(e)try{const{data:k,error:I}=await qe.from("driver_profiles").select("verification_status").eq("user_id",e.id).single();if(I){console.error("Error fetching verification status:",I);return}k&&m(k.verification_status||"not_submitted")}catch(k){console.error("Error:",k)}},A=k=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(k),M=k=>new Date(k).toLocaleDateString(n?"ar-SY":"en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=k=>{const I={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")}},B=I[k]||I.pending;return a.jsx(et,{variant:B.variant,children:B.label})};if(f)return a.jsx(hi,{text:t("loading_dashboard")});const z=r.dailyEarnings/5e4*100;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("driver_dashboard")}),a.jsx("p",{className:"text-muted-foreground",children:t("driver_dashboard_description")})]}),u!=="approved"&&a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsx(ci,{className:`border-l-4 ${u==="rejected"?"border-l-red-500 bg-red-50 dark:bg-red-950":u==="pending"?"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-950":"border-l-blue-500 bg-blue-50 dark:bg-blue-950"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[u==="rejected"?a.jsx(jr,{className:"h-5 w-5 text-red-600"}):u==="pending"?a.jsx(zn,{className:"h-5 w-5 text-yellow-600"}):a.jsx(li,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-medium mb-1",children:[u==="rejected"&&t("driver.verification.status.rejected"),u==="pending"&&t("driver.verification.status.pending"),u==="not_submitted"&&t("driver.verification.title")]}),a.jsxs(ui,{className:"text-sm",children:[u==="rejected"&&t("driver.verification.rejectedMessage"),u==="pending"&&"Your verification is being reviewed. You will be notified once approved.",u==="not_submitted"&&"Complete your driver verification to start earning with passengers."]})]}),a.jsx(Gt,{to:"/driver/verification",children:a.jsx(Ne,{variant:u==="rejected"?"destructive":"default",size:"sm",children:u==="rejected"?"Resubmit":u==="pending"?"View Status":"Start Verification"})})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("daily_earnings")}),a.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>w(!x),className:"h-4 w-4",children:x?a.jsx(di,{className:"h-4 w-4"}):a.jsx(Hn,{className:"h-4 w-4"})})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:x?A(r.dailyEarnings):""}),a.jsxs("div",{className:"mt-2",children:[a.jsx(Nd,{value:z,className:"h-2"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Math.round(z),"% ",t("of_daily_goal")]})]})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("total_earnings")}),a.jsx(wr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:x?A(r.totalEarnings):""}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(Wn,{className:"inline h-3 w-3 mr-1"}),t("weekly"),": ",x?A(r.weeklyEarnings):""]})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("total_trips")}),a.jsx(oi,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalTrips}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.dailyTrips," ",t("today")]})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("active_qr_codes")}),a.jsx(nr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.activeQRCodes}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[" ",r.averageRating.toFixed(1)," ",t("rating")]})]})]})})]}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("quick_actions")}),a.jsx(it,{children:t("quick_actions_description")})]}),a.jsx(ge,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Ne,{asChild:!0,className:"h-20 flex flex-col",children:a.jsxs(Gt,{to:"/driver/qr-generator",children:[a.jsx(nr,{className:"h-6 w-6 mb-2"}),t("generate_qr_code")]})}),a.jsx(Ne,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs(Gt,{to:"/driver/trips",children:[a.jsx(oi,{className:"h-6 w-6 mb-2"}),t("view_trips")]})}),a.jsx(Ne,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs(Gt,{to:"/driver/earnings",children:[a.jsx(wr,{className:"h-6 w-6 mb-2"}),t("view_earnings")]})}),a.jsx(Ne,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs(Gt,{to:"/driver/analytics",children:[a.jsx(M1,{className:"h-6 w-6 mb-2"}),t("view_analytics")]})})]})})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("recent_trips")}),a.jsx(it,{children:t("recent_trips_description")})]}),a.jsx(ge,{children:s.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(oi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_trips_yet")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_trips_description")})]}):a.jsxs("div",{className:"space-y-4",children:[s.map((k,I)=>a.jsxs(We.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*I},className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(Ca,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:k.passenger_name}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Xo,{className:"h-3 w-3 mr-1"}),k.pickup_location,"  ",k.dropoff_location]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(zn,{className:"h-3 w-3 mr-1"}),M(k.created_at)]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-lg",children:A(k.amount)}),D(k.status)]})]},k.id)),a.jsx(Ne,{asChild:!0,variant:"outline",className:"w-full",children:a.jsx(Gt,{to:"/driver/trips",children:t("view_all_trips")})})]})})]})})]})}function hEe(){const{user:e}=Wt(),{t,isRTL:n}=$t(),[r,i]=N.useState({totalEarnings:0,dailyEarnings:0,weeklyEarnings:0,monthlyEarnings:0,yearlyEarnings:0,averagePerTrip:0,totalTrips:0,peakHours:[]}),[s,o]=N.useState([]),[u,m]=N.useState([]),[f,g]=N.useState(!0),[x,w]=N.useState({from:cF(new Date,-30),to:new Date}),[_,T]=N.useState("all"),[C,A]=N.useState("");N.useEffect(()=>{e&&M()},[e,x]),N.useEffect(()=>{R()},[s,_,C]);const M=async()=>{if(e)try{let F=qe.from("transactions").select(`
          id,
          amount,
          created_at,
          from_user_id,
          commission,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","transport_payment").order("created_at",{ascending:!1});x!=null&&x.from&&(F=F.gte("created_at",x.from.toISOString())),x!=null&&x.to&&(F=F.lte("created_at",x.to.toISOString()));const{data:$,error:W}=await F;if(W)throw W;const Y=($==null?void 0:$.map(X=>{var ne;return{id:X.id,amount:X.amount,created_at:X.created_at,passenger_name:((ne=X.profiles)==null?void 0:ne.full_name)||t("unknown_passenger"),commission:X.commission||0}}))||[];o(Y),D(Y)}catch(F){console.error("Error fetching earnings:",F),Me.error(t("error_fetch_earnings"))}finally{g(!1)}},D=F=>{if(F.length===0)return;const $=new Date,W=new Date($.getFullYear(),$.getMonth(),$.getDate()),Y=new Date(W.getTime()-7*24*60*60*1e3),X=new Date(W.getTime()-30*24*60*60*1e3),ne=new Date(W.getTime()-365*24*60*60*1e3),J=F.reduce((Le,ie)=>Le+ie.amount,0),H=F.filter(Le=>new Date(Le.created_at)>=W).reduce((Le,ie)=>Le+ie.amount,0),ee=F.filter(Le=>new Date(Le.created_at)>=Y).reduce((Le,ie)=>Le+ie.amount,0),K=F.filter(Le=>new Date(Le.created_at)>=X).reduce((Le,ie)=>Le+ie.amount,0),ue=F.filter(Le=>new Date(Le.created_at)>=ne).reduce((Le,ie)=>Le+ie.amount,0),re=F.length,de=re>0?J/re:0,xe=new Array(24).fill(0);F.forEach(Le=>{const ie=new Date(Le.created_at).getHours();xe[ie]++});const Se=Math.max(...xe),ye=xe.map((Le,ie)=>({hour:ie,count:Le})).filter(Le=>Le.count===Se&&Le.count>0).map(Le=>`${Le.hour}:00`);i({totalEarnings:J,dailyEarnings:H,weeklyEarnings:ee,monthlyEarnings:K,yearlyEarnings:ue,averagePerTrip:de,totalTrips:re,peakHours:ye})},R=()=>{let F=s;C&&(F=F.filter($=>$.passenger_name.toLowerCase().includes(C.toLowerCase())||$.id.toLowerCase().includes(C.toLowerCase()))),m(F)},z=()=>{const F=[["Date","Passenger","Amount","Commission","Net Earnings","Transaction ID"],...u.map(X=>[lr(new Date(X.created_at),"yyyy-MM-dd HH:mm"),X.passenger_name,X.amount.toString(),(X.commission||0).toString(),(X.amount-(X.commission||0)).toString(),X.id])].map(X=>X.join(",")).join(`
`),$=new Blob([F],{type:"text/csv"}),W=URL.createObjectURL($),Y=document.createElement("a");Y.href=W,Y.download=`earnings-${lr(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),URL.revokeObjectURL(W),Me.success(t("earnings_exported"))},k=F=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(F),I=F=>new Date(F).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});if(f)return a.jsx(hi,{text:t("loading_earnings")});const B=r.monthlyEarnings*.85,V=B>0?(r.monthlyEarnings-B)/B*100:0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("earnings")}),a.jsx("p",{className:"text-muted-foreground",children:t("earnings_description")})]}),a.jsxs(Ne,{onClick:z,variant:"outline",children:[a.jsx(_i,{className:"h-4 w-4 mr-2"}),t("export")]})]}),a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:t("date_range")}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(vt,{type:"date",value:x!=null&&x.from?lr(x.from,"yyyy-MM-dd"):"",onChange:F=>w($=>({from:F.target.value?new Date(F.target.value):void 0,to:$==null?void 0:$.to}))}),a.jsx(vt,{type:"date",value:x!=null&&x.to?lr(x.to,"yyyy-MM-dd"):"",onChange:F=>w($=>({from:$==null?void 0:$.from,to:F.target.value?new Date(F.target.value):void 0}))})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("div",{className:"w-48",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:t("search")}),a.jsx(vt,{placeholder:t("search_transactions"),value:C,onChange:F=>A(F.target.value)})]})})]})})}),a.jsxs(ms,{defaultValue:"overview",className:"w-full",children:[a.jsxs(gs,{className:"grid w-full grid-cols-3",children:[a.jsx(Ct,{value:"overview",children:t("overview")}),a.jsx(Ct,{value:"details",children:t("details")}),a.jsx(Ct,{value:"analytics",children:t("analytics")})]}),a.jsx(Mt,{value:"overview",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("total_earnings")}),a.jsx(wr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:k(r.totalEarnings)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.totalTrips," ",t("trips_completed")]})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("monthly_earnings")}),V>=0?a.jsx(Wn,{className:"h-4 w-4 text-green-600"}):a.jsx($l,{className:"h-4 w-4 text-red-600"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:k(r.monthlyEarnings)}),a.jsxs("p",{className:`text-xs ${V>=0?"text-green-600":"text-red-600"}`,children:[V>=0?"+":"",V.toFixed(1),"% ",t("from_last_month")]})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("average_per_trip")}),a.jsx(Hn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:k(r.averagePerTrip)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[t("daily"),": ",k(r.dailyEarnings)]})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("peak_hours")}),a.jsx(Ta,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.peakHours.length>0?r.peakHours[0]:"--:--"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:r.peakHours.length>1&&`+${r.peakHours.length-1} ${t("more")}`})]})]})})]})}),a.jsx(Mt,{value:"details",className:"space-y-6",children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("recent_earnings")}),a.jsxs(it,{children:[t("showing")," ",u.length," ",t("transactions")]})]}),a.jsx(ge,{children:u.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(wr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_earnings_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_earnings_description")})]}):a.jsx("div",{className:"space-y-4",children:u.map((F,$)=>a.jsxs(We.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*$},className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(wr,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:F.passenger_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:I(F.created_at)}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[F.id.slice(0,8),"..."]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-lg text-green-600",children:["+",k(F.amount)]}),F.commission&&F.commission>0&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t("commission"),": -",k(F.commission)]}),a.jsx(et,{variant:"outline",className:"mt-1",children:t("trip_payment")})]})]},F.id))})})]})}),a.jsx(Mt,{value:"analytics",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(me,{children:[a.jsx(Re,{children:a.jsx(Pe,{children:t("earnings_breakdown")})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("daily_average")}),a.jsx("span",{className:"font-medium",children:k(r.dailyEarnings)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("weekly_average")}),a.jsx("span",{className:"font-medium",children:k(r.weeklyEarnings/7)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("monthly_average")}),a.jsx("span",{className:"font-medium",children:k(r.monthlyEarnings/30)})]}),a.jsxs("div",{className:"flex justify-between items-center border-t pt-4",children:[a.jsx("span",{className:"font-medium",children:t("total_net_earnings")}),a.jsx("span",{className:"font-bold text-lg",children:k(r.totalEarnings)})]})]})]}),a.jsxs(me,{children:[a.jsx(Re,{children:a.jsx(Pe,{children:t("performance_metrics")})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("total_trips")}),a.jsx("span",{className:"font-medium",children:r.totalTrips})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("average_per_trip")}),a.jsx("span",{className:"font-medium",children:k(r.averagePerTrip)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("peak_hours")}),a.jsx("span",{className:"font-medium",children:r.peakHours.length>0?r.peakHours.join(", "):t("no_data")})]}),a.jsxs("div",{className:"flex justify-between items-center border-t pt-4",children:[a.jsx("span",{className:"font-medium",children:t("efficiency_rating")}),a.jsxs(et,{variant:"outline",children:[" ",t("excellent")]})]})]})]})]})})]})]})}function mEe(){const{user:e}=Wt(),{t,isRTL:n}=$t(),[r,i]=N.useState([]),[s,o]=N.useState([]),[u,m]=N.useState(!0),[f,g]=N.useState(""),[x,w]=N.useState("all"),[_,T]=N.useState(null);N.useEffect(()=>{e&&C()},[e]),N.useEffect(()=>{A()},[r,f,x]);const C=async()=>{if(e)try{const{data:Y,error:X}=await qe.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          from_user_id,
          metadata,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("transaction_type","payment").not("qr_code_id","is",null).order("created_at",{ascending:!1});if(X)throw X;const ne=(Y==null?void 0:Y.map(J=>{var ee;const H=J.metadata||{};return{id:J.id,passenger_name:((ee=J.profiles)==null?void 0:ee.full_name)||t("unknown_passenger"),passenger_id:J.from_user_id,amount:J.amount,created_at:J.created_at,status:J.status,pickup_location:H.pickup_location||"Damascus City Center",dropoff_location:H.dropoff_location||"Damascus Airport",distance:H.distance||Math.floor(Math.random()*20)+5,duration:H.duration||Math.floor(Math.random()*45)+15,rating:H.rating||Math.floor(Math.random()*2)+4,notes:H.notes}}))||[];i(ne)}catch(Y){console.error("Error fetching trips:",Y),Me.error(t("error_fetch_trips"))}finally{m(!1)}},A=()=>{let Y=r.filter(X=>{const ne=X.passenger_name.toLowerCase().includes(f.toLowerCase())||(X.pickup_location||"").toLowerCase().includes(f.toLowerCase())||(X.dropoff_location||"").toLowerCase().includes(f.toLowerCase())||X.id.toLowerCase().includes(f.toLowerCase()),J=x==="all"||X.status===x;return ne&&J});o(Y)},M=Y=>{const X={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")},in_progress:{variant:"secondary",label:t("in_progress")}},ne=X[Y]||X.pending;return a.jsx(et,{variant:ne.variant,children:ne.label})},D=Y=>"".repeat(Math.floor(Y))+(Y%1>=.5?"":""),R=Y=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(Y),z=Y=>new Date(Y).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),k=Y=>{const X=Math.floor(Y/60),ne=Y%60;return X>0?`${X}h ${ne}m`:`${ne}m`},I=Y=>s.filter(X=>X.status===Y);if(u)return a.jsx(hi,{text:t("loading_trips")});const B=I("completed"),V=I("pending"),F=I("cancelled"),$=I("in_progress");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("trips")}),a.jsx("p",{className:"text-muted-foreground",children:t("trips_description")})]}),a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(vt,{placeholder:t("search_trips"),value:f,onChange:Y=>g(Y.target.value),className:"pl-10"})]})}),a.jsxs(It,{value:x,onValueChange:w,children:[a.jsxs(Lt,{className:"w-[150px]",children:[a.jsx(Gh,{className:"h-4 w-4 mr-2"}),a.jsx(zt,{})]}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:t("all_statuses")}),a.jsx(Oe,{value:"completed",children:t("completed")}),a.jsx(Oe,{value:"pending",children:t("pending")}),a.jsx(Oe,{value:"in_progress",children:t("in_progress")}),a.jsx(Oe,{value:"cancelled",children:t("cancelled")})]})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("completed")}),a.jsx("p",{className:"text-2xl font-bold",children:B.length})]}),a.jsx(oi,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("pending")}),a.jsx("p",{className:"text-2xl font-bold",children:V.length})]}),a.jsx(zn,{className:"h-8 w-8 text-yellow-600"})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("in_progress")}),a.jsx("p",{className:"text-2xl font-bold",children:$.length})]}),a.jsx(LD,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("cancelled")}),a.jsx("p",{className:"text-2xl font-bold",children:F.length})]}),a.jsx(oi,{className:"h-8 w-8 text-red-600"})]})})})]}),a.jsxs(ms,{defaultValue:"all",className:"w-full",children:[a.jsxs(gs,{className:"grid w-full grid-cols-5",children:[a.jsxs(Ct,{value:"all",children:[t("all")," (",s.length,")"]}),a.jsxs(Ct,{value:"completed",children:[t("completed")," (",B.length,")"]}),a.jsxs(Ct,{value:"pending",children:[t("pending")," (",V.length,")"]}),a.jsxs(Ct,{value:"in_progress",children:[t("in_progress")," (",$.length,")"]}),a.jsxs(Ct,{value:"cancelled",children:[t("cancelled")," (",F.length,")"]})]}),a.jsx(Mt,{value:"all",className:"space-y-4",children:a.jsx(W,{trips:s})}),a.jsx(Mt,{value:"completed",className:"space-y-4",children:a.jsx(W,{trips:B})}),a.jsx(Mt,{value:"pending",className:"space-y-4",children:a.jsx(W,{trips:V})}),a.jsx(Mt,{value:"in_progress",className:"space-y-4",children:a.jsx(W,{trips:$})}),a.jsx(Mt,{value:"cancelled",className:"space-y-4",children:a.jsx(W,{trips:F})})]})]});function W({trips:Y}){return Y.length===0?a.jsx(me,{children:a.jsxs(ge,{className:"text-center py-12",children:[a.jsx(oi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_trips_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_trips_description")})]})}):a.jsx("div",{className:"space-y-4",children:Y.map((X,ne)=>a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ne*.1},children:a.jsx(me,{className:"hover:shadow-lg transition-shadow",children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(Ca,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold",children:X.passenger_name}),M(X.status)]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Xo,{className:"h-4 w-4 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:t("pickup")}),a.jsx("p",{children:X.pickup_location})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(LD,{className:"h-4 w-4 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:t("dropoff")}),a.jsx("p",{children:X.dropoff_location})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(zn,{className:"h-4 w-4 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:t("date_time")}),a.jsx("p",{children:z(X.created_at)})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[a.jsxs("span",{children:[a.jsxs("strong",{children:[t("distance"),":"]})," ",X.distance,"km"]}),a.jsxs("span",{children:[a.jsxs("strong",{children:[t("duration"),":"]})," ",k(X.duration||0)]}),X.rating&&a.jsxs("span",{children:[a.jsxs("strong",{children:[t("rating"),":"]})," ",D(X.rating)]})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"text-2xl font-bold text-green-600",children:R(X.amount)})})]})]})]}),a.jsxs(za,{children:[a.jsx(bu,{asChild:!0,children:a.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>T(X),children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),t("details")]})}),a.jsxs(Va,{className:"max-w-2xl",children:[a.jsxs($a,{children:[a.jsx(Ha,{children:t("trip_details")}),a.jsxs(Fi,{children:[t("trip_id"),": ",X.id]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("passenger_info")}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsxs("strong",{children:[t("name"),":"]})," ",X.passenger_name]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[t("rating"),":"]})," ",X.rating?D(X.rating):t("no_rating")]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("trip_info")}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsxs("strong",{children:[t("date"),":"]})," ",z(X.created_at)]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[t("status"),":"]})," ",M(X.status)]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("route_details")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-green-600",children:t("pickup_location")}),a.jsx("p",{children:X.pickup_location})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-red-600",children:t("dropoff_location")}),a.jsx("p",{children:X.dropoff_location})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("trip_metrics")}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("p",{className:"font-medium",children:t("distance")}),a.jsxs("p",{className:"text-lg font-bold",children:[X.distance,"km"]})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("p",{className:"font-medium",children:t("duration")}),a.jsx("p",{className:"text-lg font-bold",children:k(X.duration||0)})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("p",{className:"font-medium",children:t("earnings")}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:R(X.amount)})]})]})]}),X.notes&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("notes")}),a.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded",children:X.notes})]})]})]})]})]})})})},X.id))})}}function gEe(){const{user:e}=Wt(),{t,isRTL:n}=$t(),[r,i]=N.useState([]),[s,o]=N.useState(!0),[u,m]=N.useState(!1),[f,g]=N.useState({amount:"",description:"",pickup_location:"",dropoff_location:"",expires_at:""});N.useEffect(()=>{e&&x()},[e]);const x=async()=>{if(e)try{const{data:I,error:B}=await qe.from("qr_codes").select(`
          *,
          usage_count:transactions(count)
        `).eq("driver_id",e.id).order("created_at",{ascending:!1});if(B)throw B;const V=(I==null?void 0:I.map(F=>{var $,W;return{...F,usage_count:((W=($=F.usage_count)==null?void 0:$[0])==null?void 0:W.count)||0}}))||[];i(V)}catch(I){console.error("Error fetching QR codes:",I),Me.error(t("error_fetch_qr_codes"))}finally{o(!1)}},w=async()=>{if(!e||!f.amount){Me.error(t("please_fill_required_fields"));return}m(!0);try{const I=parseFloat(f.amount);if(I<=0){Me.error(t("invalid_amount"));return}const B={type:"transport_payment",driver_id:e.id,amount:I,pickup_location:f.pickup_location||null,dropoff_location:f.dropoff_location||null,timestamp:Date.now()},{data:V,error:F}=await qe.from("qr_codes").insert({driver_id:e.id,qr_data:JSON.stringify(B),is_active:!0,expires_at:f.expires_at||null,route_info:`${f.pickup_location}  ${f.dropoff_location}`,vehicle_info:f.description||null}).select().single();if(F)throw F;Me.success(t("qr_code_generated_successfully")),g({amount:"",description:"",pickup_location:"",dropoff_location:"",expires_at:""}),x()}catch(I){console.error("Error generating QR code:",I),Me.error(t("error_generate_qr_code"))}finally{m(!1)}},_=async(I,B)=>{try{const{error:V}=await qe.from("qr_codes").update({is_active:!B}).eq("id",I).eq("driver_id",e==null?void 0:e.id);if(V)throw V;Me.success(t(B?"qr_code_deactivated":"qr_code_activated")),x()}catch(V){console.error("Error toggling QR code status:",V),Me.error(t("error_toggle_qr_status"))}},T=I=>{const B=I.qr_data;navigator.clipboard.writeText(B),Me.success(t("qr_data_copied"))},C=I=>{const B=I.qr_data,V=new Blob([B],{type:"application/json"}),F=URL.createObjectURL(V),$=document.createElement("a");$.href=F,$.download=`qr-code-${I.id}.json`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(F),Me.success(t("qr_code_downloaded"))},A=I=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(I),M=I=>new Date(I).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=I=>I?new Date(I)<new Date:!1,R=I=>D(I.expires_at)?a.jsx(et,{variant:"destructive",children:t("expired")}):I.is_active?a.jsx(et,{variant:"default",children:t("active")}):a.jsx(et,{variant:"outline",children:t("inactive")});if(s)return a.jsx(hi,{text:t("loading_qr_codes")});const z=r.filter(I=>I.is_active&&!D(I.expires_at)),k=r.filter(I=>!I.is_active||D(I.expires_at));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("qr_code_generator")}),a.jsx("p",{className:"text-muted-foreground",children:t("qr_generator_description")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("active_qr_codes")}),a.jsx("p",{className:"text-2xl font-bold",children:z.length})]}),a.jsx(nr,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_usage")}),a.jsx("p",{className:"text-2xl font-bold",children:r.reduce((I,B)=>I+B.usage_count,0)})]}),a.jsx(Hn,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_earnings")}),a.jsx("p",{className:"text-2xl font-bold",children:A(r.reduce((I,B)=>I+15e3*B.usage_count,0))})]}),a.jsx(wr,{className:"h-8 w-8 text-green-600"})]})})})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("generate_new_qr_code")}),a.jsx(it,{children:t("create_qr_description")})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs($e,{htmlFor:"amount",children:[t("amount")," *"]}),a.jsx(vt,{id:"amount",type:"number",placeholder:"0",value:f.amount,onChange:I=>g(B=>({...B,amount:I.target.value}))})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"expires_at",children:t("expires_at")}),a.jsx(vt,{id:"expires_at",type:"datetime-local",value:f.expires_at,onChange:I=>g(B=>({...B,expires_at:I.target.value}))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx($e,{htmlFor:"pickup_location",children:t("pickup_location")}),a.jsx(vt,{id:"pickup_location",placeholder:t("pickup_location_placeholder"),value:f.pickup_location,onChange:I=>g(B=>({...B,pickup_location:I.target.value}))})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"dropoff_location",children:t("dropoff_location")}),a.jsx(vt,{id:"dropoff_location",placeholder:t("dropoff_location_placeholder"),value:f.dropoff_location,onChange:I=>g(B=>({...B,dropoff_location:I.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"description",children:t("description")}),a.jsx(tl,{id:"description",placeholder:t("qr_description_placeholder"),value:f.description,onChange:I=>g(B=>({...B,description:I.target.value}))})]}),a.jsx(Ne,{onClick:w,disabled:u,className:"w-full",children:u?a.jsx(hi,{text:t("generating")}):a.jsxs(a.Fragment,{children:[a.jsx(nr,{className:"h-4 w-4 mr-2"}),t("generate_qr_code")]})})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{children:[t("active_qr_codes")," (",z.length,")"]}),a.jsx(it,{children:t("manage_active_qr_codes")})]}),a.jsx(ge,{children:z.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(nr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_active_qr_codes")}),a.jsx("p",{className:"text-muted-foreground",children:t("generate_first_qr_code")})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:z.map((I,B)=>a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.1},children:a.jsxs(me,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs(Re,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Pe,{className:"text-lg",children:A(I.amount||0)}),R(I)]}),I.description&&a.jsx(it,{children:I.description})]}),a.jsxs(ge,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2 text-sm",children:[I.route_info&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Xo,{className:"h-4 w-4 mr-2 text-blue-600"}),a.jsx("span",{children:I.route_info})]}),I.vehicle_info&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Xo,{className:"h-4 w-4 mr-2 text-gray-600"}),a.jsx("span",{children:I.vehicle_info})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(zn,{className:"h-4 w-4 mr-2 text-blue-600"}),a.jsx("span",{children:M(I.created_at||"")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2 text-purple-600"}),a.jsxs("span",{children:[I.usage_count," ",t("times_used")]})]}),I.expires_at&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(zn,{className:"h-4 w-4 mr-2 text-orange-600"}),a.jsxs("span",{children:[t("expires"),": ",M(I.expires_at)]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>T(I),className:"flex-1",children:[a.jsx(PA,{className:"h-4 w-4 mr-1"}),t("copy")]}),a.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>C(I),className:"flex-1",children:[a.jsx(_i,{className:"h-4 w-4 mr-1"}),t("download")]})]}),a.jsx(Ne,{variant:I.is_active?"destructive":"default",size:"sm",onClick:()=>_(I.id,I.is_active),className:"w-full",children:I.is_active?a.jsxs(a.Fragment,{children:[a.jsx(di,{className:"h-4 w-4 mr-2"}),t("deactivate")]}):a.jsxs(a.Fragment,{children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),t("activate")]})})]})]})},I.id))})})]}),k.length>0&&a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{children:[t("inactive_expired_qr_codes")," (",k.length,")"]}),a.jsx(it,{children:t("manage_inactive_qr_codes")})]}),a.jsx(ge,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.map((I,B)=>a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:B*.1},children:a.jsxs(me,{className:"opacity-60 hover:opacity-80 transition-opacity",children:[a.jsxs(Re,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Pe,{className:"text-lg",children:A(I.amount||0)}),R(I)]}),I.description&&a.jsx(it,{children:I.description})]}),a.jsxs(ge,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(zn,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:M(I.created_at||"")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{children:[I.usage_count," ",t("times_used")]})]})]}),!D(I.expires_at)&&a.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>_(I.id,I.is_active),className:"w-full",children:[a.jsx(_d,{className:"h-4 w-4 mr-2"}),t("reactivate")]})]})]})},I.id))})})]})]})}const pEe={lessThanXSeconds:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xSeconds:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},halfAMinute:" ",lessThanXMinutes:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},xMinutes:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXHours:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xHours:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},xDays:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXWeeks:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xWeeks:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXMonths:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xMonths:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},aboutXYears:{one:"  ",two:" ",threeToTen:"{{count}}  ",other:"{{count}}  "},xYears:{one:" ",two:"",threeToTen:"{{count}} ",other:"{{count}} "},overXYears:{one:"  ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "},almostXYears:{one:"   ",two:"  ",threeToTen:"  {{count}} ",other:"  {{count}} "}},xEe=(e,t,n)=>{const r=pEe[e];let i;return typeof r=="string"?i=r:t===1?i=r.one:t===2?i=r.two:t<=10?i=r.threeToTen.replace("{{count}}",String(t)):i=r.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?" "+i:" "+i:i},vEe={full:"EEEE do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},yEe={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},bEe={full:"{{date}} ' ' {{time}}",long:"{{date}} ' ' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wEe={date:mh({formats:vEe,defaultWidth:"full"}),time:mh({formats:yEe,defaultWidth:"full"}),dateTime:mh({formats:bEe,defaultWidth:"full"})},jEe={lastWeek:"eeee '  ' p",yesterday:"'  ' p",today:"'  ' p",tomorrow:"'  ' p",nextWeek:"eeee '  ' p",other:"P"},NEe=e=>jEe[e],SEe={narrow:["",""],abbreviated:["..",".."],wide:[" "," "]},_Ee={narrow:["1","2","3","4"],abbreviated:["1","2","3","4"],wide:[" "," "," "," "]},AEe={narrow:["","","","","","","","","","","",""],abbreviated:["","","","","","","","","","","",""],wide:["","","","","","","","","","","",""]},EEe={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},CEe={narrow:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},abbreviated:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "},wide:{am:"",pm:"",morning:"",noon:"",afternoon:" ",evening:"",night:"",midnight:" "}},TEe={narrow:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},abbreviated:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "},wide:{am:"",pm:"",morning:" ",noon:"",afternoon:" ",evening:" ",night:" ",midnight:" "}},OEe=e=>String(e),MEe={ordinalNumber:OEe,era:Fo({values:SEe,defaultWidth:"wide"}),quarter:Fo({values:_Ee,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fo({values:AEe,defaultWidth:"wide"}),day:Fo({values:EEe,defaultWidth:"wide"}),dayPeriod:Fo({values:CEe,defaultWidth:"wide",formattingValues:TEe,defaultFormattingWidth:"wide"})},DEe=/^(\d+)(th|st|nd|rd)?/i,REe=/\d+/i,PEe={narrow:/[]/,abbreviated:/[]\.\./,wide:/(|) /},kEe={any:[//,//]},IEe={narrow:/^[1234]/i,abbreviated:/[1234]/,wide:/ (|||)/},LEe={any:[/1/i,/2/i,/3/i,/4/i]},BEe={narrow:/^[]/,abbreviated:/^(|||||||||||)/,wide:/^(|||||||||||)/},FEe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},UEe={narrow:/^[]/i,short:/^(||||||)/i,abbreviated:/^(||||||)/i,wide:/^(||||||)/i},zEe={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],wide:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],any:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i]},VEe={narrow:/^(|| || | | | )/,any:/^(|| || | | | )/},$Ee={any:{am:/^/,pm:/^/,midnight:/ /,noon://,afternoon:/ /,morning:/ /,evening:/ /,night:/ /}},HEe={ordinalNumber:hF({matchPattern:DEe,parsePattern:REe,valueCallback:e=>parseInt(e,10)}),era:Uo({matchPatterns:PEe,defaultMatchWidth:"wide",parsePatterns:kEe,defaultParseWidth:"any"}),quarter:Uo({matchPatterns:IEe,defaultMatchWidth:"wide",parsePatterns:LEe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Uo({matchPatterns:BEe,defaultMatchWidth:"wide",parsePatterns:FEe,defaultParseWidth:"any"}),day:Uo({matchPatterns:UEe,defaultMatchWidth:"wide",parsePatterns:zEe,defaultParseWidth:"any"}),dayPeriod:Uo({matchPatterns:VEe,defaultMatchWidth:"any",parsePatterns:$Ee,defaultParseWidth:"any"})},y0={code:"ar",formatDistance:xEe,formatLong:wEe,formatRelative:NEe,localize:MEe,match:HEe,options:{weekStartsOn:6,firstWeekContainsDate:1}},qEe=()=>{const{user:e}=Wt(),{language:t,t:n}=$t(),[r,i]=N.useState([]),[s,o]=N.useState([]),[u,m]=N.useState(!0),[f,g]=N.useState("30"),[x,w]=N.useState("line");N.useEffect(()=>{e&&_()},[e,f]);const _=async()=>{if(e){m(!0);try{const k=zo(new Date,parseInt(f)),{data:I,error:B}=await qe.from("transactions").select(`
          *,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","transport_payment").gte("created_at",k.toISOString()).order("created_at",{ascending:!0});if(B)throw B;const{data:V,error:F}=await qe.from("qr_codes").select("*").eq("driver_id",e.id).gte("created_at",k.toISOString()).order("created_at",{ascending:!0});if(F)throw F;i(I||[]),o(V||[])}catch(k){console.error("Error fetching analytics data:",k)}finally{m(!1)}}},T=()=>{const k=r.filter(ce=>ce.status==="completed"),I=k.reduce((ce,le)=>ce+le.amount,0),B=15,V=30,F=k.length*B,$=k.length*V,W=4.5,X=k.filter(ce=>kv(Jr(ce.created_at))).reduce((ce,le)=>ce+le.amount,0),ne=k.length>0?I/k.length:0,J=B,H=V,ee=F>0?I/F:0,K=$>0?I/($/60):0,ue=r.length>0?r.filter(ce=>ce.status==="cancelled").length/r.length*100:0,re=Math.floor(parseInt(f)/2),de=zo(new Date,re),xe=k.filter(ce=>Jr(ce.created_at)>=de),Se=k.filter(ce=>Jr(ce.created_at)<de),ye=xe.reduce((ce,le)=>ce+le.amount,0),Le=Se.reduce((ce,le)=>ce+le.amount,0),ie=Le>0?(ye-Le)/Le*100:0;return{totalTrips:k.length,totalEarnings:I,avgRating:W,todayEarnings:X,avgTripFare:ne,avgTripDistance:J,avgTripDuration:H,earningsPerKm:ee,earningsPerHour:K,cancellationRate:ue,earningsGrowth:ie,totalDistance:F,totalDuration:$}},C=()=>{const k=new Map;return r.filter(I=>I.status==="completed").forEach(I=>{const B=lr(Jr(I.created_at),"yyyy-MM-dd");k.set(B,(k.get(B)||0)+I.amount)}),Array.from(k.entries()).map(([I,B])=>({date:lr(Jr(I),"MMM dd",{locale:t==="ar"?y0:void 0}),earnings:B,trips:r.filter(V=>lr(Jr(V.created_at),"yyyy-MM-dd")===I&&V.status==="completed").length})).sort((I,B)=>I.date.localeCompare(B.date))},A=()=>{const k=new Map;for(let I=0;I<24;I++)k.set(I,{trips:0,earnings:0});return r.filter(I=>I.status==="completed").forEach(I=>{const B=Jr(I.created_at).getHours(),V=k.get(B)||{trips:0,earnings:0};k.set(B,{trips:V.trips+1,earnings:V.earnings+I.amount})}),Array.from(k.entries()).map(([I,B])=>({hour:`${I.toString().padStart(2,"0")}:00`,trips:B.trips,earnings:B.earnings,avgFare:B.trips>0?B.earnings/B.trips:0}))},M=()=>{const k=[],I=new Date;for(let B=5;B>=0;B--){const V=new Date(I.getFullYear(),I.getMonth()-B,1),F=xE(V),$=ey(V),W=r.filter(Y=>{const X=Jr(Y.created_at);return X>=F&&X<=$&&Y.status==="completed"});k.push({month:lr(V,"MMM yyyy",{locale:t==="ar"?y0:void 0}),trips:W.length,earnings:W.reduce((Y,X)=>Y+X.amount,0),avgRating:4.5})}return k},D=()=>[{location:"Damascus City Center",trips:Math.floor(Math.random()*50)+10,earnings:Math.floor(Math.random()*5e5)+1e5},{location:"Aleppo",trips:Math.floor(Math.random()*40)+8,earnings:Math.floor(Math.random()*4e5)+8e4},{location:"Lattakia",trips:Math.floor(Math.random()*30)+5,earnings:Math.floor(Math.random()*3e5)+6e4},{location:"Homs",trips:Math.floor(Math.random()*25)+5,earnings:Math.floor(Math.random()*25e4)+5e4},{location:"Daraa",trips:Math.floor(Math.random()*20)+3,earnings:Math.floor(Math.random()*2e5)+4e4}].map(I=>({...I,avgFare:I.earnings/I.trips,avgRating:4+Math.random()*1})).sort((I,B)=>B.earnings-I.earnings),R=()=>{const k=T(),I={metadata:{exportDate:new Date().toISOString(),dateRange:`${f} days`,driverId:e==null?void 0:e.id,generatedBy:"Tickets Driver Analytics"},kpis:k,earningsTrend:C(),hourlyPerformance:A(),monthlyComparison:M(),locationPerformance:D(),rawData:{transactions:r.length,qrCodes:s.length}},B=new Blob([JSON.stringify(I,null,2)],{type:"application/json"}),V=URL.createObjectURL(B),F=document.createElement("a");F.href=V,F.download=`driver-analytics-${lr(new Date,"yyyy-MM-dd")}.json`,F.click(),URL.revokeObjectURL(V)},z=T();return u?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):a.jsxs("div",{className:"space-y-6",dir:t==="ar"?"rtl":"ltr",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:n("driver.analytics")}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n("Track your earnings, performance, and business insights")})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("select",{value:f,onChange:k=>g(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-md bg-white dark:bg-gray-800 dark:border-gray-600",children:[a.jsx("option",{value:"7",children:n("Last 7 days")}),a.jsx("option",{value:"30",children:n("Last 30 days")}),a.jsx("option",{value:"90",children:n("Last 90 days")}),a.jsx("option",{value:"365",children:n("Last year")})]}),a.jsxs(Ne,{onClick:R,variant:"outline",size:"sm",children:[a.jsx(_i,{className:"h-4 w-4 mr-2"}),n("export")]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:n("driver.totalEarnings")}),a.jsx(wr,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(ge,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[z.totalEarnings.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[z.earningsGrowth>0?a.jsx(Wn,{className:"h-3 w-3 text-green-600 mr-1"}):a.jsx($l,{className:"h-3 w-3 text-red-600 mr-1"}),a.jsxs("span",{className:z.earningsGrowth>0?"text-green-600":"text-red-600",children:[Math.abs(z.earningsGrowth).toFixed(1),"% vs last period"]})]})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:n("totalTrips")}),a.jsx(oi,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:z.totalTrips}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Avg fare: ",z.avgTripFare.toLocaleString()," SYP"]})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:n("averageRating")}),a.jsx(Qg,{className:"h-4 w-4 text-yellow-600"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:z.avgRating.toFixed(1)}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Cancellation rate: ",z.cancellationRate.toFixed(1),"%"]})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:n("driver.earningsPerHour")}),a.jsx(zn,{className:"h-4 w-4 text-purple-600"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:z.earningsPerHour.toLocaleString()}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Per km: ",z.earningsPerKm.toLocaleString()," SYP"]})]})]})]}),a.jsxs(ms,{defaultValue:"earnings",className:"space-y-4",children:[a.jsxs(gs,{className:"grid w-full grid-cols-2 lg:grid-cols-6",children:[a.jsx(Ct,{value:"earnings",children:n("earnings")}),a.jsx(Ct,{value:"performance",children:n("driver.performance")}),a.jsx(Ct,{value:"monthly",children:n("monthly")}),a.jsx(Ct,{value:"hourly",children:n("hourly")}),a.jsx(Ct,{value:"locations",children:n("locations")}),a.jsx(Ct,{value:"efficiency",children:n("driver.efficiency")})]}),a.jsx(Mt,{value:"earnings",className:"space-y-4",children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Pe,{children:n("driver.earningsTrend")}),a.jsx(it,{children:n("Daily earnings and trip volume over time")})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{variant:x==="line"?"default":"outline",size:"sm",onClick:()=>w("line"),children:n("Line")}),a.jsx(Ne,{variant:x==="area"?"default":"outline",size:"sm",onClick:()=>w("area"),children:n("Area")}),a.jsx(Ne,{variant:x==="bar"?"default":"outline",size:"sm",onClick:()=>w("bar"),children:n("Bar")})]})]}),a.jsx(ge,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(wi,{width:"100%",height:"100%",children:x==="line"?a.jsxs(v0,{data:C(),children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"date"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:(k,I)=>[`${k} ${I==="earnings"?"SYP":""}`,I==="earnings"?"Earnings":"Trips"]}),a.jsx(_a,{}),a.jsx(Is,{type:"monotone",dataKey:"earnings",stroke:"#8884d8",strokeWidth:2}),a.jsx(Is,{type:"monotone",dataKey:"trips",stroke:"#82ca9d",strokeWidth:2})]}):x==="area"?a.jsxs(Vy,{data:C(),children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"date"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:(k,I)=>[`${k} ${I==="earnings"?"SYP":""}`,I==="earnings"?"Earnings":"Trips"]}),a.jsx(_a,{}),a.jsx(Id,{type:"monotone",dataKey:"earnings",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]}):a.jsxs(Ko,{data:C(),children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"date"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:(k,I)=>[`${k} ${I==="earnings"?"SYP":""}`,I==="earnings"?"Earnings":"Trips"]}),a.jsx(_a,{}),a.jsx(Vr,{dataKey:"earnings",fill:"#8884d8"}),a.jsx(Vr,{dataKey:"trips",fill:"#82ca9d"})]})})})})]})}),a.jsx(Mt,{value:"performance",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(me,{children:[a.jsx(Re,{children:a.jsx(Pe,{children:n("driver.performanceMetrics")})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Trip Distance"}),a.jsxs("span",{className:"font-semibold",children:[z.avgTripDistance.toFixed(1)," km"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Trip Duration"}),a.jsxs("span",{className:"font-semibold",children:[Math.round(z.avgTripDuration/60)," min"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Distance"}),a.jsxs("span",{className:"font-semibold",children:[z.totalDistance.toLocaleString()," km"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Duration"}),a.jsxs("span",{className:"font-semibold",children:[Math.round(z.totalDuration/3600)," hrs"]})]})]}),z.cancellationRate>10&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 rounded-lg",children:[a.jsx(jr,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"text-sm text-red-700",children:"High cancellation rate detected"})]})]})]}),a.jsxs(me,{children:[a.jsx(Re,{children:a.jsx(Pe,{children:n("driver.ratingDistribution")})}),a.jsx(ge,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(wi,{width:"100%",height:"100%",children:a.jsxs(b1,{children:[a.jsx(kh,{data:[{name:"5 Stars",value:Math.floor(r.length*.6),fill:"#10B981"},{name:"4 Stars",value:Math.floor(r.length*.3),fill:"#84CC16"},{name:"3 Stars",value:Math.floor(r.length*.08),fill:"#F59E0B"},{name:"2 Stars",value:Math.floor(r.length*.02),fill:"#F97316"},{name:"1 Star",value:Math.floor(r.length*.01),fill:"#EF4444"}].filter(k=>k.value>0),cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:k,percent:I})=>`${k}: ${((I||0)*100).toFixed(0)}%`,children:[{name:"5 Stars",value:Math.floor(r.length*.6),fill:"#10B981"},{name:"4 Stars",value:Math.floor(r.length*.3),fill:"#84CC16"},{name:"3 Stars",value:Math.floor(r.length*.08),fill:"#F59E0B"},{name:"2 Stars",value:Math.floor(r.length*.02),fill:"#F97316"},{name:"1 Star",value:Math.floor(r.length*.01),fill:"#EF4444"}].filter(k=>k.value>0).map((k,I)=>a.jsx(mu,{fill:k.fill},`cell-${I}`))}),a.jsx(yr,{})]})})})})]})]})}),a.jsx(Mt,{value:"monthly",className:"space-y-4",children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:n("driver.monthlyComparison")}),a.jsx(it,{children:n("Compare performance across different months")})]}),a.jsx(ge,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(wi,{width:"100%",height:"100%",children:a.jsxs(Ko,{data:M(),children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"month"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:(k,I)=>[I==="earnings"?`${k} SYP`:I==="avgRating"?`${k}/5`:k,I==="earnings"?"Earnings":I==="trips"?"Trips":"Avg Rating"]}),a.jsx(_a,{}),a.jsx(Vr,{dataKey:"earnings",fill:"#8884d8"}),a.jsx(Vr,{dataKey:"trips",fill:"#82ca9d"})]})})})})]})}),a.jsx(Mt,{value:"hourly",className:"space-y-4",children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:n("driver.hourlyPerformance")}),a.jsx(it,{children:n("Analyze your busiest hours and earnings patterns")})]}),a.jsx(ge,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(wi,{width:"100%",height:"100%",children:a.jsxs(Ko,{data:A(),children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"hour"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:(k,I)=>[I==="earnings"||I==="avgFare"?`${k} SYP`:k,I==="earnings"?"Earnings":I==="trips"?"Trips":"Avg Fare"]}),a.jsx(_a,{}),a.jsx(Vr,{dataKey:"trips",fill:"#82ca9d"}),a.jsx(Vr,{dataKey:"earnings",fill:"#8884d8"})]})})})})]})}),a.jsx(Mt,{value:"locations",className:"space-y-4",children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:n("driver.locationPerformance")}),a.jsx(it,{children:n("Areas with highest earnings and trip frequency")})]}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-4",children:D().map((k,I)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(et,{variant:"outline",className:"text-sm",children:["#",I+1]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:k.location}),a.jsxs("p",{className:"text-sm text-gray-600",children:[k.trips," trips ",k.avgRating.toFixed(1)," "]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold",children:[k.earnings.toLocaleString()," SYP"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[k.avgFare.toLocaleString()," SYP/trip"]})]})]},k.location))})})]})}),a.jsx(Mt,{value:"efficiency",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(me,{children:[a.jsx(Re,{children:a.jsx(Pe,{children:n("driver.efficiency")})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Earnings per KM"}),a.jsxs("span",{className:"font-bold text-green-600",children:[z.earningsPerKm.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Earnings per Hour"}),a.jsxs("span",{className:"font-bold text-blue-600",children:[z.earningsPerHour.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Average Trip Fare"}),a.jsxs("span",{className:"font-bold text-purple-600",children:[z.avgTripFare.toLocaleString()," SYP"]})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Recommendations"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[z.avgRating<4.5&&a.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[a.jsx(Kh,{className:"h-4 w-4"}),a.jsx("span",{children:"Focus on improving customer service to boost ratings"})]}),z.cancellationRate>10&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[a.jsx(jr,{className:"h-4 w-4"}),a.jsx("span",{children:"Work on reducing trip cancellations"})]}),z.earningsPerHour<500&&a.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[a.jsx(Wn,{className:"h-4 w-4"}),a.jsx("span",{children:"Consider working during peak hours for better earnings"})]})]})]})]})]}),a.jsxs(me,{children:[a.jsx(Re,{children:a.jsx(Pe,{children:n("driver.todaySnapshot")})}),a.jsx(ge,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg",children:[a.jsx("h3",{className:"text-2xl font-bold",children:z.todayEarnings.toLocaleString()}),a.jsx("p",{className:"text-purple-100",children:"Today's Earnings"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("h4",{className:"text-xl font-bold",children:r.filter(k=>kv(Jr(k.created_at))&&k.status==="completed").length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Today's Trips"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("h4",{className:"text-xl font-bold",children:z.avgRating.toFixed(1)}),a.jsx("p",{className:"text-sm text-gray-600",children:"Overall Rating"})]})]})]})})]})]})})]})]})},dN=[{type:"license_front",label:"Driver License (Front)",icon:Ea},{type:"license_back",label:"Driver License (Back)",icon:Ea},{type:"vehicle_registration",label:"Vehicle Registration",icon:D1},{type:"vehicle_photo",label:"Vehicle Photo",icon:oi}],YEe=["bus","microbus","taxi","private_car","motorcycle","truck"];function WEe(){const{user:e}=Wt(),{t,language:n}=$t(),[r,i]=N.useState(!1),[s,o]=N.useState(!1),[u,m]=N.useState({license_number:"",license_expiry:"",vehicle_type:"",vehicle_model:"",vehicle_plate:"",route_name:"",route_description:"",verification_status:"not_submitted"}),[f,g]=N.useState(dN.map(k=>({type:k.type,file:null,uploaded:!1}))),[x,w]=N.useState({});N.useEffect(()=>{_()},[e]);const _=async()=>{if(e){i(!0);try{const{data:k,error:I}=await qe.from("driver_profiles").select("*").eq("user_id",e.id).single();if(I){console.error("Error fetching driver profile:",I);return}if(k&&(m({license_number:k.license_number||"",license_expiry:k.license_expiry||"",vehicle_type:k.vehicle_type||"",vehicle_model:k.vehicle_model||"",vehicle_plate:k.vehicle_plate||"",route_name:k.route_name||"",route_description:k.route_description||"",verification_status:k.verification_status,verification_documents:k.verification_documents}),k.verification_documents)){const B=f.map(V=>{var F,$,W,Y;return{...V,url:($=(F=k.verification_documents)==null?void 0:F[V.type])==null?void 0:$.url,uploaded:!!((Y=(W=k.verification_documents)==null?void 0:W[V.type])!=null&&Y.url)}});g(B)}}catch(k){console.error("Error:",k),Me.error(t("common.error"))}finally{i(!1)}}},T=async(k,I)=>{try{w(Y=>({...Y,[k]:0}));const B=I.name.split(".").pop(),V=`${e==null?void 0:e.id}/${k}_${Date.now()}.${B}`,{data:F,error:$}=await qe.storage.from("verification-docs").upload(V,I,{cacheControl:"3600",upsert:!1});if($)throw console.error("Upload error:",$),$;w(Y=>({...Y,[k]:100}));const{data:W}=qe.storage.from("verification-docs").getPublicUrl(V);return W.publicUrl}catch(B){return console.error("Error uploading document:",B),w(V=>({...V,[k]:0})),null}},C=async(k,I)=>{if(!I)return;if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(I.type)){Me.error(t("driver.verification.invalidFileType"));return}if(I.size>5*1024*1024){Me.error(t("driver.verification.fileTooLarge"));return}const V=await T(k,I);V?(g(F=>F.map($=>$.type===k?{...$,file:I,url:V,uploaded:!0}:$)),Me.success(t("driver.verification.documentUploaded"))):Me.error(t("driver.verification.uploadFailed"))},A=async()=>{if(!u.license_number||!u.license_expiry||!u.vehicle_type||!u.vehicle_model||!u.vehicle_plate){Me.error(t("driver.verification.fillRequired"));return}if(!f.every(I=>I.uploaded)){Me.error(t("driver.verification.uploadAllDocuments"));return}o(!0);try{const I=f.reduce((V,F)=>(F.url&&(V[F.type]={url:F.url,uploaded_at:new Date().toISOString(),status:"uploaded"}),V),{}),{error:B}=await qe.from("driver_profiles").update({license_number:u.license_number,license_expiry:u.license_expiry,vehicle_type:u.vehicle_type,vehicle_model:u.vehicle_model,vehicle_plate:u.vehicle_plate,route_name:u.route_name,route_description:u.route_description,verification_status:"pending",verification_documents:I,updated_at:new Date().toISOString()}).eq("user_id",e==null?void 0:e.id);if(B)throw B;m(V=>({...V,verification_status:"pending"})),Me.success(t("driver.verification.submitted"))}catch(I){console.error("Error submitting verification:",I),Me.error(t("common.error"))}finally{o(!1)}},M=()=>{switch(u.verification_status){case"approved":return a.jsx(Rr,{className:"w-5 h-5 text-green-500"});case"pending":return a.jsx(zn,{className:"w-5 h-5 text-yellow-500"});case"rejected":return a.jsx(nu,{className:"w-5 h-5 text-red-500"});default:return a.jsx(jr,{className:"w-5 h-5 text-gray-500"})}},D=()=>{const k={not_submitted:"secondary",pending:"default",approved:"default",rejected:"destructive"};return a.jsxs(et,{variant:k[u.verification_status],className:"flex items-center gap-1",children:[M(),t(`driver.verification.status.${u.verification_status}`)]})},R=()=>{const k=[u.license_number,u.vehicle_type,u.vehicle_plate,f.filter(I=>I.uploaded).length===dN.length];return k.filter(Boolean).length/k.length*100};if(r)return a.jsxs("div",{className:"flex justify-center p-8",children:[t("common.loading"),"..."]});const z=u.verification_status==="approved"||u.verification_status==="pending";return a.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:t("driver.verification.title")}),a.jsx("p",{className:"text-muted-foreground",children:t("driver.verification.description")})]}),a.jsxs(me,{className:"mb-6",children:[a.jsxs(Re,{children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[t("driver.verification.status.title"),D()]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:t("driver.verification.progress")}),a.jsxs("span",{children:[Math.round(R()),"%"]})]}),a.jsx(Nd,{value:R(),className:"w-full"})]})]}),u.verification_status==="rejected"&&a.jsx(ge,{children:a.jsxs(ci,{variant:"destructive",children:[a.jsx(jr,{className:"h-4 w-4"}),a.jsx(ui,{children:t("driver.verification.rejectedMessage")})]})})]}),a.jsxs(me,{className:"mb-6",children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("driver.verification.driverInfo")}),a.jsx(it,{children:t("driver.verification.driverInfoDesc")})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs($e,{htmlFor:"license_number",children:[t("driver.verification.licenseNumber")," *"]}),a.jsx(vt,{id:"license_number",value:u.license_number,onChange:k=>m(I=>({...I,license_number:k.target.value})),placeholder:t("driver.verification.licenseNumberPlaceholder"),disabled:z})]}),a.jsxs("div",{children:[a.jsxs($e,{htmlFor:"license_expiry",children:[t("driver.verification.licenseExpiry")," *"]}),a.jsx(vt,{id:"license_expiry",type:"date",value:u.license_expiry,onChange:k=>m(I=>({...I,license_expiry:k.target.value})),disabled:z})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs($e,{htmlFor:"vehicle_type",children:[t("driver.verification.vehicleType")," *"]}),a.jsxs(It,{value:u.vehicle_type,onValueChange:k=>m(I=>({...I,vehicle_type:k})),disabled:z,children:[a.jsx(Lt,{children:a.jsx(zt,{placeholder:t("driver.verification.selectVehicleType")})}),a.jsx(Bt,{children:YEe.map(k=>a.jsx(Oe,{value:k,children:t(`driver.verification.vehicleTypes.${k}`)},k))})]})]}),a.jsxs("div",{children:[a.jsxs($e,{htmlFor:"vehicle_model",children:[t("driver.verification.vehicleModel")," *"]}),a.jsx(vt,{id:"vehicle_model",value:u.vehicle_model,onChange:k=>m(I=>({...I,vehicle_model:k.target.value})),placeholder:t("driver.verification.vehicleModelPlaceholder"),disabled:z})]})]}),a.jsxs("div",{children:[a.jsxs($e,{htmlFor:"vehicle_plate",children:[t("driver.verification.vehiclePlate")," *"]}),a.jsx(vt,{id:"vehicle_plate",value:u.vehicle_plate,onChange:k=>m(I=>({...I,vehicle_plate:k.target.value})),placeholder:t("driver.verification.vehiclePlatePlaceholder"),disabled:z})]}),a.jsx(Bi,{}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"route_name",children:t("driver.verification.routeName")}),a.jsx(vt,{id:"route_name",value:u.route_name,onChange:k=>m(I=>({...I,route_name:k.target.value})),placeholder:t("driver.verification.routeNamePlaceholder"),disabled:z})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"route_description",children:t("driver.verification.routeDescription")}),a.jsx(tl,{id:"route_description",value:u.route_description,onChange:k=>m(I=>({...I,route_description:k.target.value})),placeholder:t("driver.verification.routeDescriptionPlaceholder"),disabled:z,rows:3})]})]})]}),a.jsxs(me,{className:"mb-6",children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("driver.verification.documents")}),a.jsx(it,{children:t("driver.verification.documentsDesc")})]}),a.jsx(ge,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map((k,I)=>{const V=dN[I].icon;return a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(V,{className:"w-5 h-5 text-primary"}),a.jsx("span",{className:"font-medium",children:t(`driver.verification.documentTypes.${k.type}`)}),k.uploaded&&a.jsx(Rr,{className:"w-4 h-4 text-green-500"})]}),!z&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(vt,{type:"file",accept:"image/*,.pdf",onChange:F=>{var W;const $=(W=F.target.files)==null?void 0:W[0];$&&C(k.type,$)},disabled:k.uploaded}),x[k.type]>0&&x[k.type]<100&&a.jsx(Nd,{value:x[k.type],className:"w-full"})]}),k.url&&a.jsx("div",{className:"mt-2",children:a.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>window.open(k.url,"_blank"),className:"flex items-center gap-1",children:[a.jsx(D1,{className:"w-4 h-4"}),t("driver.verification.viewDocument")]})})]},k.type)})})})]}),!z&&a.jsx("div",{className:"flex justify-end",children:a.jsx(Ne,{onClick:A,disabled:s||f.some(k=>!k.uploaded),className:"min-w-32",children:t(s?"common.saving":"driver.verification.submit")})}),u.verification_status==="approved"&&a.jsxs(ci,{className:"mt-4",children:[a.jsx(Rr,{className:"h-4 w-4"}),a.jsx(ui,{children:t("driver.verification.approvedMessage")})]})]})}function GEe(){return V_(["driver"]),a.jsx(F0,{userType:"driver",children:a.jsxs(Vh,{children:[a.jsx(xt,{path:"/",element:a.jsx(Ul,{to:"/driver/home",replace:!0})}),a.jsx(xt,{path:"/home",element:a.jsx(fEe,{})}),a.jsx(xt,{path:"/earnings",element:a.jsx(hEe,{})}),a.jsx(xt,{path:"/trips",element:a.jsx(mEe,{})}),a.jsx(xt,{path:"/qr-generator",element:a.jsx(gEe,{})}),a.jsx(xt,{path:"/analytics",element:a.jsx(qEe,{})}),a.jsx(xt,{path:"/verification",element:a.jsx(WEe,{})}),a.jsx(xt,{path:"/profile",element:a.jsx(np,{})}),a.jsx(xt,{path:"/settings",element:a.jsx(rp,{})}),a.jsx(xt,{path:"/chat",element:a.jsx(Hy,{})})]})})}function KEe(){const{user:e}=Wt(),{t,isRTL:n}=$t(),[r,i]=N.useState({totalEarnings:0,dailyEarnings:0,weeklyEarnings:0,monthlyEarnings:0,totalTransactions:0,dailyTransactions:0,activeQRCodes:0,uniqueCustomers:0}),[s,o]=N.useState([]),[u,m]=N.useState(!0),[f,g]=N.useState(!1);N.useEffect(()=>{e&&Promise.all([x(),w()]).finally(()=>m(!1))},[e]);const x=async()=>{if(e)try{const{data:D,error:R}=await qe.from("transactions").select("amount, created_at, from_user_id").eq("to_user_id",e.id).eq("type","merchant_payment");if(R)throw R;const z=new Date,k=new Date(z.getFullYear(),z.getMonth(),z.getDate()),I=new Date(k.getTime()-7*24*60*60*1e3),B=new Date(k.getTime()-30*24*60*60*1e3),V=D||[],F=V.reduce((K,ue)=>K+ue.amount,0),$=V.filter(K=>new Date(K.created_at)>=k).reduce((K,ue)=>K+ue.amount,0),W=V.filter(K=>new Date(K.created_at)>=I).reduce((K,ue)=>K+ue.amount,0),Y=V.filter(K=>new Date(K.created_at)>=B).reduce((K,ue)=>K+ue.amount,0),X=V.length,ne=V.filter(K=>new Date(K.created_at)>=k).length,J=new Set(V.map(K=>K.from_user_id)).size,{data:H,error:ee}=await qe.from("qr_codes").select("id").eq("driver_id",e.id).eq("is_active",!0);if(ee)throw ee;i({totalEarnings:F,dailyEarnings:$,weeklyEarnings:W,monthlyEarnings:Y,totalTransactions:X,dailyTransactions:ne,activeQRCodes:(H==null?void 0:H.length)||0,uniqueCustomers:J})}catch(D){console.error("Error fetching merchant stats:",D)}},w=async()=>{if(e)try{const{data:D,error:R}=await qe.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          from_user_id,
          metadata,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","merchant_payment").order("created_at",{ascending:!1}).limit(5);if(R)throw R;const z=(D==null?void 0:D.map(k=>{var I,B;return{id:k.id,customer_name:((I=k.profiles)==null?void 0:I.full_name)||t("unknown_customer"),amount:k.amount,created_at:k.created_at,status:k.status,payment_method:((B=k.metadata)==null?void 0:B.payment_method)||"wallet"}}))||[];o(z)}catch(D){console.error("Error fetching recent transactions:",D)}},_=D=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(D),T=D=>new Date(D).toLocaleDateString(n?"ar-SY":"en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),C=D=>{const R={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")}},z=R[D]||R.pending;return a.jsx(et,{variant:z.variant,children:z.label})};if(u)return a.jsx(hi,{text:t("loading_dashboard")});const M=r.dailyEarnings/1e5*100;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("merchant_dashboard")}),a.jsx("p",{className:"text-muted-foreground",children:t("merchant_dashboard_description")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("daily_earnings")}),a.jsx(Ne,{variant:"ghost",size:"icon",onClick:()=>g(!f),className:"h-4 w-4",children:f?a.jsx(di,{className:"h-4 w-4"}):a.jsx(Hn,{className:"h-4 w-4"})})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:f?_(r.dailyEarnings):""}),a.jsxs("div",{className:"mt-2",children:[a.jsx(Nd,{value:M,className:"h-2"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Math.round(M),"% ",t("of_daily_goal")]})]})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("total_earnings")}),a.jsx(wr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:f?_(r.totalEarnings):""}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(Wn,{className:"inline h-3 w-3 mr-1"}),t("monthly"),": ",f?_(r.monthlyEarnings):""]})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("transactions")}),a.jsx(BD,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalTransactions}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.dailyTransactions," ",t("today")]})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("customers")}),a.jsx(Ca,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.uniqueCustomers}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.activeQRCodes," ",t("active_qr_codes")]})]})]})})]}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("quick_actions")}),a.jsx(it,{children:t("merchant_quick_actions_description")})]}),a.jsx(ge,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(Ne,{asChild:!0,className:"h-20 flex flex-col",children:a.jsxs(Gt,{to:"/merchant/qr-codes",children:[a.jsx(nr,{className:"h-6 w-6 mb-2"}),t("create_qr_code")]})}),a.jsx(Ne,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs(Gt,{to:"/merchant/payments",children:[a.jsx(wr,{className:"h-6 w-6 mb-2"}),t("view_payments")]})}),a.jsx(Ne,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs(Gt,{to:"/merchant/business",children:[a.jsx(au,{className:"h-6 w-6 mb-2"}),t("manage_business")]})}),a.jsx(Ne,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs(Gt,{to:"/merchant/analytics",children:[a.jsx(Wn,{className:"h-6 w-6 mb-2"}),t("view_analytics")]})})]})})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("recent_transactions")}),a.jsx(it,{children:t("recent_merchant_transactions_description")})]}),a.jsx(ge,{children:s.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(BD,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_transactions_yet")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_merchant_transactions_description")})]}):a.jsxs("div",{className:"space-y-4",children:[s.map((D,R)=>a.jsxs(We.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*R},className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(Ca,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:D.customer_name}),a.jsx("div",{className:"flex items-center text-sm text-muted-foreground",children:a.jsxs("span",{className:"mr-2",children:[t("payment_method"),": ",t(D.payment_method)]})}),a.jsx("div",{className:"flex items-center text-sm text-muted-foreground",children:a.jsx("span",{children:T(D.created_at)})})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-lg",children:_(D.amount)}),C(D.status)]})]},D.id)),a.jsx(Ne,{asChild:!0,variant:"outline",className:"w-full",children:a.jsx(Gt,{to:"/merchant/payments",children:t("view_all_payments")})})]})})]})})]})}function XEe(){const{t:e}=$t();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:e("business_management")}),a.jsx("p",{className:"text-muted-foreground",children:e("business_management_description")})]}),a.jsx(me,{children:a.jsxs(ge,{className:"text-center py-12",children:[a.jsx(au,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:e("business_page_coming_soon")}),a.jsx("p",{className:"text-muted-foreground",children:e("business_page_description")})]})})]})}function QEe(){const{user:e}=Wt(),{t,isRTL:n}=$t(),[r,i]=N.useState([]),[s,o]=N.useState([]),[u,m]=N.useState(!0),[f,g]=N.useState(""),[x,w]=N.useState("all");N.useEffect(()=>{e&&_()},[e]),N.useEffect(()=>{T()},[r,f,x]);const _=async()=>{if(e)try{const{data:B,error:V}=await qe.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          metadata,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","merchant_payment").order("created_at",{ascending:!1});if(V)throw V;const F=(B==null?void 0:B.map($=>{var W,Y,X;return{id:$.id,customer_name:((W=$.profiles)==null?void 0:W.full_name)||t("unknown_customer"),amount:$.amount,created_at:$.created_at,status:$.status,payment_method:((Y=$.metadata)==null?void 0:Y.payment_method)||"wallet",description:(X=$.metadata)==null?void 0:X.description}}))||[];i(F)}catch(B){console.error("Error fetching payments:",B),Me.error(t("error_fetch_payments"))}finally{m(!1)}},T=()=>{let B=r.filter(V=>{const F=V.customer_name.toLowerCase().includes(f.toLowerCase())||V.id.toLowerCase().includes(f.toLowerCase()),$=x==="all"||V.status===x;return F&&$});o(B)},C=B=>{const V={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")}},F=V[B]||V.pending;return a.jsx(et,{variant:F.variant,children:F.label})},A=B=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(B),M=B=>new Date(B).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),D=()=>{const B=[["Date","Customer","Amount","Status","Payment Method","Transaction ID"],...s.map(W=>[M(W.created_at),W.customer_name,W.amount.toString(),W.status,W.payment_method,W.id])].map(W=>W.join(",")).join(`
`),V=new Blob([B],{type:"text/csv"}),F=URL.createObjectURL(V),$=document.createElement("a");$.href=F,$.download=`merchant-payments-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(F),Me.success(t("payments_exported"))};if(u)return a.jsx(hi,{text:t("loading_payments")});const R=s.filter(B=>B.status==="completed"),z=s.filter(B=>B.status==="pending"),k=s.filter(B=>B.status==="cancelled");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("payments")}),a.jsx("p",{className:"text-muted-foreground",children:t("merchant_payments_description")})]}),a.jsxs(Ne,{onClick:D,variant:"outline",children:[a.jsx(_i,{className:"h-4 w-4 mr-2"}),t("export")]})]}),a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(vt,{placeholder:t("search_payments"),value:f,onChange:B=>g(B.target.value),className:"pl-10"})]})}),a.jsxs(It,{value:x,onValueChange:w,children:[a.jsxs(Lt,{className:"w-[150px]",children:[a.jsx(Gh,{className:"h-4 w-4 mr-2"}),a.jsx(zt,{})]}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:t("all_statuses")}),a.jsx(Oe,{value:"completed",children:t("completed")}),a.jsx(Oe,{value:"pending",children:t("pending")}),a.jsx(Oe,{value:"cancelled",children:t("cancelled")})]})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_payments")}),a.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),a.jsx(wr,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_amount")}),a.jsx("p",{className:"text-2xl font-bold",children:A(s.reduce((B,V)=>B+V.amount,0))})]}),a.jsx(wr,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("unique_customers")}),a.jsx("p",{className:"text-2xl font-bold",children:new Set(s.map(B=>B.customer_name)).size})]}),a.jsx(Ca,{className:"h-8 w-8 text-purple-600"})]})})})]}),a.jsxs(ms,{defaultValue:"all",className:"w-full",children:[a.jsxs(gs,{className:"grid w-full grid-cols-4",children:[a.jsxs(Ct,{value:"all",children:[t("all")," (",s.length,")"]}),a.jsxs(Ct,{value:"completed",children:[t("completed")," (",R.length,")"]}),a.jsxs(Ct,{value:"pending",children:[t("pending")," (",z.length,")"]}),a.jsxs(Ct,{value:"cancelled",children:[t("cancelled")," (",k.length,")"]})]}),a.jsx(Mt,{value:"all",className:"space-y-4",children:a.jsx(I,{payments:s})}),a.jsx(Mt,{value:"completed",className:"space-y-4",children:a.jsx(I,{payments:R})}),a.jsx(Mt,{value:"pending",className:"space-y-4",children:a.jsx(I,{payments:z})}),a.jsx(Mt,{value:"cancelled",className:"space-y-4",children:a.jsx(I,{payments:k})})]})]});function I({payments:B}){return B.length===0?a.jsx(me,{children:a.jsxs(ge,{className:"text-center py-12",children:[a.jsx(wr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_payments_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_payments_description")})]})}):a.jsx("div",{className:"space-y-4",children:B.map((V,F)=>a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.1},children:a.jsx(me,{className:"hover:shadow-lg transition-shadow",children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(wr,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:V.customer_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t("payment_method"),": ",t(V.payment_method)]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:M(V.created_at)}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[V.id.slice(0,8),"..."]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-lg text-green-600",children:["+",A(V.amount)]}),C(V.status)]})]})})})},V.id))})}}var Zf={},fN,L8;function ZEe(){return L8||(L8=1,fN=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),fN}var hN={},Vc={},B8;function Yd(){if(B8)return Vc;B8=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Vc.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Vc.getSymbolTotalCodewords=function(r){return t[r]},Vc.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Vc.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},Vc.isKanjiModeEnabled=function(){return typeof e<"u"},Vc.toSJIS=function(r){return e(r)},Vc}var mN={},F8;function NT(){return F8||(F8=1,function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}}(mN)),mN}var gN,U8;function JEe(){if(U8)return gN;U8=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let r=0;r<n;r++)this.putBit((t>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},gN=e,gN}var pN,z8;function eCe(){if(z8)return pN;z8=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,n,r,i){const s=t*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},e.prototype.get=function(t,n){return this.data[t*this.size+n]},e.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},e.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},pN=e,pN}var xN={},V8;function tCe(){return V8||(V8=1,function(e){const t=Yd().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=t(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,u=[s-7];for(let m=1;m<i-1;m++)u[m]=u[m-1]-o;return u.push(6),u.reverse()},e.getPositions=function(r){const i=[],s=e.getRowColCoords(r),o=s.length;for(let u=0;u<o;u++)for(let m=0;m<o;m++)u===0&&m===0||u===0&&m===o-1||u===o-1&&m===0||i.push([s[u],s[m]]);return i}}(xN)),xN}var vN={},$8;function nCe(){if($8)return vN;$8=1;const e=Yd().getSymbolSize,t=7;return vN.getPositions=function(r){const i=e(r);return[[0,0],[i-t,0],[0,i-t]]},vN}var yN={},H8;function rCe(){return H8||(H8=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const s=i.size;let o=0,u=0,m=0,f=null,g=null;for(let x=0;x<s;x++){u=m=0,f=g=null;for(let w=0;w<s;w++){let _=i.get(x,w);_===f?u++:(u>=5&&(o+=t.N1+(u-5)),f=_,u=1),_=i.get(w,x),_===g?m++:(m>=5&&(o+=t.N1+(m-5)),g=_,m=1)}u>=5&&(o+=t.N1+(u-5)),m>=5&&(o+=t.N1+(m-5))}return o},e.getPenaltyN2=function(i){const s=i.size;let o=0;for(let u=0;u<s-1;u++)for(let m=0;m<s-1;m++){const f=i.get(u,m)+i.get(u,m+1)+i.get(u+1,m)+i.get(u+1,m+1);(f===4||f===0)&&o++}return o*t.N2},e.getPenaltyN3=function(i){const s=i.size;let o=0,u=0,m=0;for(let f=0;f<s;f++){u=m=0;for(let g=0;g<s;g++)u=u<<1&2047|i.get(f,g),g>=10&&(u===1488||u===93)&&o++,m=m<<1&2047|i.get(g,f),g>=10&&(m===1488||m===93)&&o++}return o*t.N3},e.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let m=0;m<o;m++)s+=i.data[m];return Math.abs(Math.ceil(s*100/o/5)-10)*t.N4};function n(r,i,s){switch(r){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,s){const o=s.size;for(let u=0;u<o;u++)for(let m=0;m<o;m++)s.isReserved(m,u)||s.xor(m,u,n(i,m,u))},e.getBestMask=function(i,s){const o=Object.keys(e.Patterns).length;let u=0,m=1/0;for(let f=0;f<o;f++){s(f),e.applyMask(f,i);const g=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(f,i),g<m&&(m=g,u=f)}return u}}(yN)),yN}var Kx={},q8;function SH(){if(q8)return Kx;q8=1;const e=NT(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Kx.getBlocksCount=function(i,s){switch(s){case e.L:return t[(i-1)*4+0];case e.M:return t[(i-1)*4+1];case e.Q:return t[(i-1)*4+2];case e.H:return t[(i-1)*4+3];default:return}},Kx.getTotalCodewordsCount=function(i,s){switch(s){case e.L:return n[(i-1)*4+0];case e.M:return n[(i-1)*4+1];case e.Q:return n[(i-1)*4+2];case e.H:return n[(i-1)*4+3];default:return}},Kx}var bN={},yg={},Y8;function aCe(){if(Y8)return yg;Y8=1;const e=new Uint8Array(512),t=new Uint8Array(256);return function(){let r=1;for(let i=0;i<255;i++)e[i]=r,t[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)e[i]=e[i-255]}(),yg.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},yg.exp=function(r){return e[r]},yg.mul=function(r,i){return r===0||i===0?0:e[t[r]+t[i]]},yg}var W8;function iCe(){return W8||(W8=1,function(e){const t=aCe();e.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let u=0;u<i.length;u++)s[o+u]^=t.mul(r[o],i[u]);return s},e.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let m=0;m<i.length;m++)s[m]^=t.mul(i[m],o);let u=0;for(;u<s.length&&s[u]===0;)u++;s=s.slice(u)}return s},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=e.mul(i,new Uint8Array([1,t.exp(s)]));return i}}(bN)),bN}var wN,G8;function sCe(){if(G8)return wN;G8=1;const e=iCe();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=e.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const u=new Uint8Array(this.degree);return u.set(s,o),u}return s},wN=t,wN}var jN={},NN={},SN={},K8;function _H(){return K8||(K8=1,SN.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),SN}var Io={},X8;function AH(){if(X8)return Io;X8=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Io.KANJI=new RegExp(n,"g"),Io.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Io.BYTE=new RegExp(r,"g"),Io.NUMERIC=new RegExp(e,"g"),Io.ALPHANUMERIC=new RegExp(t,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+e+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Io.testKanji=function(m){return i.test(m)},Io.testNumeric=function(m){return s.test(m)},Io.testAlphanumeric=function(m){return o.test(m)},Io}var Q8;function Wd(){return Q8||(Q8=1,function(e){const t=_H(),n=AH();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return n.testNumeric(s)?e.NUMERIC:n.testAlphanumeric(s)?e.ALPHANUMERIC:n.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(s,o){if(e.isValid(s))return s;try{return r(s)}catch{return o}}}(NN)),NN}var Z8;function oCe(){return Z8||(Z8=1,function(e){const t=Yd(),n=SH(),r=NT(),i=Wd(),s=_H(),o=7973,u=t.getBCHDigit(o);function m(w,_,T){for(let C=1;C<=40;C++)if(_<=e.getCapacity(C,T,w))return C}function f(w,_){return i.getCharCountIndicator(w,_)+4}function g(w,_){let T=0;return w.forEach(function(C){const A=f(C.mode,_);T+=A+C.getBitsLength()}),T}function x(w,_){for(let T=1;T<=40;T++)if(g(w,T)<=e.getCapacity(T,_,i.MIXED))return T}e.from=function(_,T){return s.isValid(_)?parseInt(_,10):T},e.getCapacity=function(_,T,C){if(!s.isValid(_))throw new Error("Invalid QR Code version");typeof C>"u"&&(C=i.BYTE);const A=t.getSymbolTotalCodewords(_),M=n.getTotalCodewordsCount(_,T),D=(A-M)*8;if(C===i.MIXED)return D;const R=D-f(C,_);switch(C){case i.NUMERIC:return Math.floor(R/10*3);case i.ALPHANUMERIC:return Math.floor(R/11*2);case i.KANJI:return Math.floor(R/13);case i.BYTE:default:return Math.floor(R/8)}},e.getBestVersionForData=function(_,T){let C;const A=r.from(T,r.M);if(Array.isArray(_)){if(_.length>1)return x(_,A);if(_.length===0)return 1;C=_[0]}else C=_;return m(C.mode,C.getLength(),A)},e.getEncodedBits=function(_){if(!s.isValid(_)||_<7)throw new Error("Invalid QR Code version");let T=_<<12;for(;t.getBCHDigit(T)-u>=0;)T^=o<<t.getBCHDigit(T)-u;return _<<12|T}}(jN)),jN}var _N={},J8;function lCe(){if(J8)return _N;J8=1;const e=Yd(),t=1335,n=21522,r=e.getBCHDigit(t);return _N.getEncodedBits=function(s,o){const u=s.bit<<3|o;let m=u<<10;for(;e.getBCHDigit(m)-r>=0;)m^=t<<e.getBCHDigit(m)-r;return(u<<10|m)^n},_N}var AN={},EN,e6;function cCe(){if(e6)return EN;e6=1;const e=Wd();function t(n){this.mode=e.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),r.put(o,10);const u=this.data.length-i;u>0&&(s=this.data.substr(i),o=parseInt(s,10),r.put(o,u*3+1))},EN=t,EN}var CN,t6;function uCe(){if(t6)return CN;t6=1;const e=Wd(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=e.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=t.indexOf(this.data[s])*45;o+=t.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(t.indexOf(this.data[s]),6)},CN=n,CN}var TN,n6;function dCe(){if(n6)return TN;n6=1;const e=Wd();function t(n){this.mode=e.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},TN=t,TN}var ON,r6;function fCe(){if(r6)return ON;r6=1;const e=Wd(),t=Yd();function n(r){this.mode=e.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=t.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},ON=n,ON}var MN={exports:{}},a6;function hCe(){return a6||(a6=1,function(e){var t={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var u=t.PriorityQueue.make();u.push(r,0);for(var m,f,g,x,w,_,T,C,A;!u.empty();){m=u.pop(),f=m.value,x=m.cost,w=n[f]||{};for(g in w)w.hasOwnProperty(g)&&(_=w[g],T=x+_,C=o[g],A=typeof o[g]>"u",(A||C>T)&&(o[g]=T,u.push(g,T),s[g]=f))}if(typeof i<"u"&&typeof o[i]>"u"){var M=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(M)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t}(MN)),MN.exports}var i6;function mCe(){return i6||(i6=1,function(e){const t=Wd(),n=cCe(),r=uCe(),i=dCe(),s=fCe(),o=AH(),u=Yd(),m=hCe();function f(M){return unescape(encodeURIComponent(M)).length}function g(M,D,R){const z=[];let k;for(;(k=M.exec(R))!==null;)z.push({data:k[0],index:k.index,mode:D,length:k[0].length});return z}function x(M){const D=g(o.NUMERIC,t.NUMERIC,M),R=g(o.ALPHANUMERIC,t.ALPHANUMERIC,M);let z,k;return u.isKanjiModeEnabled()?(z=g(o.BYTE,t.BYTE,M),k=g(o.KANJI,t.KANJI,M)):(z=g(o.BYTE_KANJI,t.BYTE,M),k=[]),D.concat(R,z,k).sort(function(B,V){return B.index-V.index}).map(function(B){return{data:B.data,mode:B.mode,length:B.length}})}function w(M,D){switch(D){case t.NUMERIC:return n.getBitsLength(M);case t.ALPHANUMERIC:return r.getBitsLength(M);case t.KANJI:return s.getBitsLength(M);case t.BYTE:return i.getBitsLength(M)}}function _(M){return M.reduce(function(D,R){const z=D.length-1>=0?D[D.length-1]:null;return z&&z.mode===R.mode?(D[D.length-1].data+=R.data,D):(D.push(R),D)},[])}function T(M){const D=[];for(let R=0;R<M.length;R++){const z=M[R];switch(z.mode){case t.NUMERIC:D.push([z,{data:z.data,mode:t.ALPHANUMERIC,length:z.length},{data:z.data,mode:t.BYTE,length:z.length}]);break;case t.ALPHANUMERIC:D.push([z,{data:z.data,mode:t.BYTE,length:z.length}]);break;case t.KANJI:D.push([z,{data:z.data,mode:t.BYTE,length:f(z.data)}]);break;case t.BYTE:D.push([{data:z.data,mode:t.BYTE,length:f(z.data)}])}}return D}function C(M,D){const R={},z={start:{}};let k=["start"];for(let I=0;I<M.length;I++){const B=M[I],V=[];for(let F=0;F<B.length;F++){const $=B[F],W=""+I+F;V.push(W),R[W]={node:$,lastCount:0},z[W]={};for(let Y=0;Y<k.length;Y++){const X=k[Y];R[X]&&R[X].node.mode===$.mode?(z[X][W]=w(R[X].lastCount+$.length,$.mode)-w(R[X].lastCount,$.mode),R[X].lastCount+=$.length):(R[X]&&(R[X].lastCount=$.length),z[X][W]=w($.length,$.mode)+4+t.getCharCountIndicator($.mode,D))}}k=V}for(let I=0;I<k.length;I++)z[k[I]].end=0;return{map:z,table:R}}function A(M,D){let R;const z=t.getBestModeForData(M);if(R=t.from(D,z),R!==t.BYTE&&R.bit<z.bit)throw new Error('"'+M+'" cannot be encoded with mode '+t.toString(R)+`.
 Suggested mode is: `+t.toString(z));switch(R===t.KANJI&&!u.isKanjiModeEnabled()&&(R=t.BYTE),R){case t.NUMERIC:return new n(M);case t.ALPHANUMERIC:return new r(M);case t.KANJI:return new s(M);case t.BYTE:return new i(M)}}e.fromArray=function(D){return D.reduce(function(R,z){return typeof z=="string"?R.push(A(z,null)):z.data&&R.push(A(z.data,z.mode)),R},[])},e.fromString=function(D,R){const z=x(D,u.isKanjiModeEnabled()),k=T(z),I=C(k,R),B=m.find_path(I.map,"start","end"),V=[];for(let F=1;F<B.length-1;F++)V.push(I.table[B[F]].node);return e.fromArray(_(V))},e.rawSplit=function(D){return e.fromArray(x(D,u.isKanjiModeEnabled()))}}(AN)),AN}var s6;function gCe(){if(s6)return hN;s6=1;const e=Yd(),t=NT(),n=JEe(),r=eCe(),i=tCe(),s=nCe(),o=rCe(),u=SH(),m=sCe(),f=oCe(),g=lCe(),x=Wd(),w=mCe();function _(I,B){const V=I.size,F=s.getPositions(B);for(let $=0;$<F.length;$++){const W=F[$][0],Y=F[$][1];for(let X=-1;X<=7;X++)if(!(W+X<=-1||V<=W+X))for(let ne=-1;ne<=7;ne++)Y+ne<=-1||V<=Y+ne||(X>=0&&X<=6&&(ne===0||ne===6)||ne>=0&&ne<=6&&(X===0||X===6)||X>=2&&X<=4&&ne>=2&&ne<=4?I.set(W+X,Y+ne,!0,!0):I.set(W+X,Y+ne,!1,!0))}}function T(I){const B=I.size;for(let V=8;V<B-8;V++){const F=V%2===0;I.set(V,6,F,!0),I.set(6,V,F,!0)}}function C(I,B){const V=i.getPositions(B);for(let F=0;F<V.length;F++){const $=V[F][0],W=V[F][1];for(let Y=-2;Y<=2;Y++)for(let X=-2;X<=2;X++)Y===-2||Y===2||X===-2||X===2||Y===0&&X===0?I.set($+Y,W+X,!0,!0):I.set($+Y,W+X,!1,!0)}}function A(I,B){const V=I.size,F=f.getEncodedBits(B);let $,W,Y;for(let X=0;X<18;X++)$=Math.floor(X/3),W=X%3+V-8-3,Y=(F>>X&1)===1,I.set($,W,Y,!0),I.set(W,$,Y,!0)}function M(I,B,V){const F=I.size,$=g.getEncodedBits(B,V);let W,Y;for(W=0;W<15;W++)Y=($>>W&1)===1,W<6?I.set(W,8,Y,!0):W<8?I.set(W+1,8,Y,!0):I.set(F-15+W,8,Y,!0),W<8?I.set(8,F-W-1,Y,!0):W<9?I.set(8,15-W-1+1,Y,!0):I.set(8,15-W-1,Y,!0);I.set(F-8,8,1,!0)}function D(I,B){const V=I.size;let F=-1,$=V-1,W=7,Y=0;for(let X=V-1;X>0;X-=2)for(X===6&&X--;;){for(let ne=0;ne<2;ne++)if(!I.isReserved($,X-ne)){let J=!1;Y<B.length&&(J=(B[Y]>>>W&1)===1),I.set($,X-ne,J),W--,W===-1&&(Y++,W=7)}if($+=F,$<0||V<=$){$-=F,F=-F;break}}}function R(I,B,V){const F=new n;V.forEach(function(ne){F.put(ne.mode.bit,4),F.put(ne.getLength(),x.getCharCountIndicator(ne.mode,I)),ne.write(F)});const $=e.getSymbolTotalCodewords(I),W=u.getTotalCodewordsCount(I,B),Y=($-W)*8;for(F.getLengthInBits()+4<=Y&&F.put(0,4);F.getLengthInBits()%8!==0;)F.putBit(0);const X=(Y-F.getLengthInBits())/8;for(let ne=0;ne<X;ne++)F.put(ne%2?17:236,8);return z(F,I,B)}function z(I,B,V){const F=e.getSymbolTotalCodewords(B),$=u.getTotalCodewordsCount(B,V),W=F-$,Y=u.getBlocksCount(B,V),X=F%Y,ne=Y-X,J=Math.floor(F/Y),H=Math.floor(W/Y),ee=H+1,K=J-H,ue=new m(K);let re=0;const de=new Array(Y),xe=new Array(Y);let Se=0;const ye=new Uint8Array(I.buffer);for(let he=0;he<Y;he++){const Ee=he<ne?H:ee;de[he]=ye.slice(re,re+Ee),xe[he]=ue.encode(de[he]),re+=Ee,Se=Math.max(Se,Ee)}const Le=new Uint8Array(F);let ie=0,ce,le;for(ce=0;ce<Se;ce++)for(le=0;le<Y;le++)ce<de[le].length&&(Le[ie++]=de[le][ce]);for(ce=0;ce<K;ce++)for(le=0;le<Y;le++)Le[ie++]=xe[le][ce];return Le}function k(I,B,V,F){let $;if(Array.isArray(I))$=w.fromArray(I);else if(typeof I=="string"){let J=B;if(!J){const H=w.rawSplit(I);J=f.getBestVersionForData(H,V)}$=w.fromString(I,J||40)}else throw new Error("Invalid data");const W=f.getBestVersionForData($,V);if(!W)throw new Error("The amount of data is too big to be stored in a QR Code");if(!B)B=W;else if(B<W)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+W+`.
`);const Y=R(B,V,$),X=e.getSymbolSize(B),ne=new r(X);return _(ne,B),T(ne),C(ne,B),M(ne,V,0),B>=7&&A(ne,B),D(ne,Y),isNaN(F)&&(F=o.getBestMask(ne,M.bind(null,ne,V))),o.applyMask(F,ne),M(ne,V,F),{modules:ne,version:B,errorCorrectionLevel:V,maskPattern:F,segments:$}}return hN.create=function(B,V){if(typeof B>"u"||B==="")throw new Error("No input text");let F=t.M,$,W;return typeof V<"u"&&(F=t.from(V.errorCorrectionLevel,t.M),$=f.from(V.version),W=o.from(V.maskPattern),V.toSJISFunc&&e.setToSJISFunction(V.toSJISFunc)),k(B,$,F,W)},hN}var DN={},RN={},o6;function EH(){return o6||(o6=1,function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const s=e.getScale(r,i);return Math.floor((r+i.margin*2)*s)},e.qrToImageData=function(r,i,s){const o=i.modules.size,u=i.modules.data,m=e.getScale(o,s),f=Math.floor((o+s.margin*2)*m),g=s.margin*m,x=[s.color.light,s.color.dark];for(let w=0;w<f;w++)for(let _=0;_<f;_++){let T=(w*f+_)*4,C=s.color.light;if(w>=g&&_>=g&&w<f-g&&_<f-g){const A=Math.floor((w-g)/m),M=Math.floor((_-g)/m);C=x[u[A*o+M]?1:0]}r[T++]=C.r,r[T++]=C.g,r[T++]=C.b,r[T]=C.a}}}(RN)),RN}var l6;function pCe(){return l6||(l6=1,function(e){const t=EH();function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,o,u){let m=u,f=o;typeof m>"u"&&(!o||!o.getContext)&&(m=o,o=void 0),o||(f=r()),m=t.getOptions(m);const g=t.getImageWidth(s.modules.size,m),x=f.getContext("2d"),w=x.createImageData(g,g);return t.qrToImageData(w.data,s,m),n(x,f,g),x.putImageData(w,0,0),f},e.renderToDataURL=function(s,o,u){let m=u;typeof m>"u"&&(!o||!o.getContext)&&(m=o,o=void 0),m||(m={});const f=e.render(s,o,m),g=m.type||"image/png",x=m.rendererOpts||{};return f.toDataURL(g,x.quality)}}(DN)),DN}var PN={},c6;function xCe(){if(c6)return PN;c6=1;const e=EH();function t(i,s){const o=i.a/255,u=s+'="'+i.hex+'"';return o<1?u+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':u}function n(i,s,o){let u=i+s;return typeof o<"u"&&(u+=" "+o),u}function r(i,s,o){let u="",m=0,f=!1,g=0;for(let x=0;x<i.length;x++){const w=Math.floor(x%s),_=Math.floor(x/s);!w&&!f&&(f=!0),i[x]?(g++,x>0&&w>0&&i[x-1]||(u+=f?n("M",w+o,.5+_+o):n("m",m,0),m=0,f=!1),w+1<s&&i[x+1]||(u+=n("h",g),g=0)):m++}return u}return PN.render=function(s,o,u){const m=e.getOptions(o),f=s.modules.size,g=s.modules.data,x=f+m.margin*2,w=m.color.light.a?"<path "+t(m.color.light,"fill")+' d="M0 0h'+x+"v"+x+'H0z"/>':"",_="<path "+t(m.color.dark,"stroke")+' d="'+r(g,f,m.margin)+'"/>',T='viewBox="0 0 '+x+" "+x+'"',A='<svg xmlns="http://www.w3.org/2000/svg" '+(m.width?'width="'+m.width+'" height="'+m.width+'" ':"")+T+' shape-rendering="crispEdges">'+w+_+`</svg>
`;return typeof u=="function"&&u(null,A),A},PN}var u6;function vCe(){if(u6)return Zf;u6=1;const e=ZEe(),t=gCe(),n=pCe(),r=xCe();function i(s,o,u,m,f){const g=[].slice.call(arguments,1),x=g.length,w=typeof g[x-1]=="function";if(!w&&!e())throw new Error("Callback required as last argument");if(w){if(x<2)throw new Error("Too few arguments provided");x===2?(f=u,u=o,o=m=void 0):x===3&&(o.getContext&&typeof f>"u"?(f=m,m=void 0):(f=m,m=u,u=o,o=void 0))}else{if(x<1)throw new Error("Too few arguments provided");return x===1?(u=o,o=m=void 0):x===2&&!o.getContext&&(m=u,u=o,o=void 0),new Promise(function(_,T){try{const C=t.create(u,m);_(s(C,o,m))}catch(C){T(C)}})}try{const _=t.create(u,m);f(null,s(_,o,m))}catch(_){f(_)}}return Zf.create=t.create,Zf.toCanvas=i.bind(null,n.render),Zf.toDataURL=i.bind(null,n.renderToDataURL),Zf.toString=i.bind(null,function(s,o,u){return r.render(s,u)}),Zf}var yCe=vCe();const CH=zi(yCe);function bCe(){const{user:e}=Wt(),{t,isRTL:n}=$t(),[r,i]=N.useState([]),[s,o]=N.useState(!0),[u,m]=N.useState(!1),[f,g]=N.useState(null),[x,w]=N.useState(!1);N.useRef(null);const[_,T]=N.useState({amount:"",description:"",business_name:"",expires_at:""});N.useEffect(()=>{e&&C()},[e]);const C=async()=>{if(e)try{const{data:ne,error:J}=await qe.from("qr_codes").select(`
          *,
          usage_count:transactions(count)
        `).eq("driver_id",e.id).order("created_at",{ascending:!1});if(J)throw J;const H=(ne==null?void 0:ne.map(ee=>{var K,ue;return{...ee,usage_count:((ue=(K=ee.usage_count)==null?void 0:K[0])==null?void 0:ue.count)||0,business_name:ee.route_info,description:ee.vehicle_info}}))||[];i(H)}catch(ne){console.error("Error fetching QR codes:",ne),Me.error(t("error_fetch_qr_codes"))}finally{o(!1)}},A=async ne=>{try{return await CH.toDataURL(ne,{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"})}catch(J){return console.error("Error generating QR image:",J),null}},M=async()=>{if(!e||!_.amount){Me.error(t("please_fill_required_fields"));return}m(!0);try{const ne=parseFloat(_.amount);if(ne<=0){Me.error(t("invalid_amount"));return}const J={type:"merchant",merchant_id:e.id,amount:ne,business_name:_.business_name||null,description:_.description||null,timestamp:Date.now()},H=JSON.stringify(J),ee=await A(H),{data:K,error:ue}=await qe.from("qr_codes").insert({driver_id:e.id,qr_data:H,is_active:!0,expires_at:_.expires_at||null,route_info:_.business_name||null,vehicle_info:_.description||null}).select().single();if(ue)throw ue;Me.success(t("qr_code_generated_successfully")),T({amount:"",description:"",business_name:"",expires_at:""}),C()}catch(ne){console.error("Error generating QR code:",ne),Me.error(t("error_generate_qr_code"))}finally{m(!1)}},D=async(ne,J)=>{try{const{error:H}=await qe.from("qr_codes").update({is_active:!J}).eq("id",ne).eq("driver_id",e==null?void 0:e.id);if(H)throw H;Me.success(t(J?"qr_code_deactivated":"qr_code_activated")),C()}catch(H){console.error("Error toggling QR code status:",H),Me.error(t("error_toggle_qr_status"))}},R=ne=>{const J=ne.qr_data;navigator.clipboard.writeText(J),Me.success(t("qr_data_copied"))},z=async ne=>{try{const J=await A(ne.qr_data);if(!J){Me.error("Failed to generate QR code image");return}const H=document.createElement("a");H.href=J,H.download=`merchant-qr-${ne.business_name||ne.id}.png`,document.body.appendChild(H),H.click(),document.body.removeChild(H),Me.success(t("qr_code_downloaded"))}catch(J){console.error("Error downloading QR code:",J),Me.error("Failed to download QR code")}},k=async ne=>{try{const J=await A(ne.qr_data);if(!J){Me.error("Failed to generate QR code image");return}const H=window.open("","_blank");if(H){const ee=JSON.parse(ne.qr_data);H.document.write(`
          <html>
            <head>
              <title>QR Code - ${ne.business_name||"Merchant Payment"}</title>
              <style>
                body { 
                  font-family: Arial, sans-serif; 
                  text-align: center; 
                  padding: 20px;
                  background: white;
                }
                .qr-container {
                  max-width: 400px;
                  margin: 0 auto;
                  padding: 30px;
                  border: 2px solid #ddd;
                  border-radius: 10px;
                }
                .business-name { 
                  font-size: 24px; 
                  font-weight: bold; 
                  margin-bottom: 10px;
                  color: #333;
                }
                .amount { 
                  font-size: 32px; 
                  font-weight: bold; 
                  color: #059669;
                  margin: 20px 0;
                }
                .description { 
                  font-size: 16px; 
                  color: #666;
                  margin-bottom: 20px;
                }
                .qr-image { 
                  margin: 20px 0;
                }
                .instructions {
                  font-size: 14px;
                  color: #666;
                  margin-top: 20px;
                }
                @media print {
                  body { margin: 0; }
                }
              </style>
            </head>
            <body>
              <div class="qr-container">
                <div class="business-name">${ne.business_name||"Merchant Payment"}</div>
                ${ne.description?`<div class="description">${ne.description}</div>`:""}
                <div class="amount">${V(ee.amount||0)}</div>
                <div class="qr-image">
                  <img src="${J}" alt="QR Code" style="max-width: 200px; height: auto;" />
                </div>
                <div class="instructions">
                  Scan this QR code with the Tickets app to make a payment
                </div>
              </div>
            </body>
          </html>
        `),H.document.close(),H.print()}}catch(J){console.error("Error printing QR code:",J),Me.error("Failed to print QR code")}},I=async ne=>{try{const J=await A(ne.qr_data);if(!J){Me.error("Failed to generate QR code image");return}const ee=await(await fetch(J)).blob(),K=new File([ee],`merchant-qr-${ne.business_name||ne.id}.png`,{type:"image/png"});if(navigator.share&&navigator.canShare({files:[K]}))await navigator.share({title:`QR Code - ${ne.business_name||"Merchant Payment"}`,text:`Payment QR Code for ${V(JSON.parse(ne.qr_data).amount||0)}`,files:[K]});else{const ue=document.createElement("canvas"),re=ue.getContext("2d"),de=new Image;de.onload=()=>{ue.width=de.width,ue.height=de.height,re==null||re.drawImage(de,0,0),ue.toBlob(xe=>{xe&&(navigator.clipboard.write([new ClipboardItem({"image/png":xe})]),Me.success("QR code copied to clipboard"))})},de.src=J}}catch(J){console.error("Error sharing QR code:",J),navigator.clipboard.writeText(ne.qr_data),Me.success("QR data copied to clipboard")}},B=ne=>{g(ne),w(!0)},V=ne=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(ne),F=ne=>new Date(ne).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),$=ne=>ne?new Date(ne)<new Date:!1,W=ne=>$(ne.expires_at)?a.jsx(et,{variant:"destructive",children:t("expired")}):ne.is_active?a.jsx(et,{variant:"default",children:t("active")}):a.jsx(et,{variant:"outline",children:t("inactive")});if(s)return a.jsx(hi,{text:t("loading_qr_codes")});const Y=r.filter(ne=>ne.is_active&&!$(ne.expires_at)),X=r.filter(ne=>!ne.is_active||$(ne.expires_at));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("merchant_qr_codes")}),a.jsx("p",{className:"text-muted-foreground",children:t("merchant_qr_description")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("active_qr_codes")}),a.jsx("p",{className:"text-2xl font-bold",children:Y.length})]}),a.jsx(nr,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_scans")}),a.jsx("p",{className:"text-2xl font-bold",children:r.reduce((ne,J)=>ne+J.usage_count,0)})]}),a.jsx(Hn,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_earnings")}),a.jsx("p",{className:"text-2xl font-bold",children:V(r.reduce((ne,J)=>ne+25e3*J.usage_count,0))})]}),a.jsx(wr,{className:"h-8 w-8 text-green-600"})]})})})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("generate_merchant_qr_code")}),a.jsx(it,{children:t("create_merchant_qr_description")})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs($e,{htmlFor:"amount",children:[t("amount")," *"]}),a.jsx(vt,{id:"amount",type:"number",placeholder:"0",value:_.amount,onChange:ne=>T(J=>({...J,amount:ne.target.value}))})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"business_name",children:t("business_name")}),a.jsx(vt,{id:"business_name",placeholder:t("business_name_placeholder"),value:_.business_name,onChange:ne=>T(J=>({...J,business_name:ne.target.value}))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx($e,{htmlFor:"description",children:t("description")}),a.jsx(vt,{id:"description",placeholder:t("qr_description_placeholder"),value:_.description,onChange:ne=>T(J=>({...J,description:ne.target.value}))})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"expires_at",children:t("expires_at")}),a.jsx(vt,{id:"expires_at",type:"datetime-local",value:_.expires_at,onChange:ne=>T(J=>({...J,expires_at:ne.target.value}))})]})]}),a.jsx(Ne,{onClick:M,disabled:u,className:"w-full",children:u?a.jsx(hi,{text:t("generating")}):a.jsxs(a.Fragment,{children:[a.jsx(nr,{className:"h-4 w-4 mr-2"}),t("generate_qr_code")]})})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{children:[t("active_qr_codes")," (",Y.length,")"]}),a.jsx(it,{children:t("manage_active_merchant_qr_codes")})]}),a.jsx(ge,{children:Y.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(nr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_active_qr_codes")}),a.jsx("p",{className:"text-muted-foreground",children:t("generate_first_merchant_qr_code")})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.map((ne,J)=>a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:J*.1},children:a.jsxs(me,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs(Re,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Pe,{className:"text-lg",children:ne.business_name||t("merchant_payment")}),W(ne)]}),ne.description&&a.jsx(it,{children:ne.description})]}),a.jsxs(ge,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(au,{className:"h-4 w-4 mr-2 text-blue-600"}),a.jsx("span",{children:ne.business_name||t("merchant_business")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(zn,{className:"h-4 w-4 mr-2 text-blue-600"}),a.jsx("span",{children:F(ne.created_at||"")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2 text-purple-600"}),a.jsxs("span",{children:[ne.usage_count," ",t("times_scanned")]})]}),ne.expires_at&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(zn,{className:"h-4 w-4 mr-2 text-orange-600"}),a.jsxs("span",{children:[t("expires"),": ",F(ne.expires_at)]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>B(ne),className:"gap-1",children:[a.jsx(Fne,{className:"h-3 w-3"}),"View"]}),a.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>z(ne),className:"gap-1",children:[a.jsx(_i,{className:"h-3 w-3"}),"Download"]}),a.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>k(ne),className:"gap-1",children:[a.jsx(jS,{className:"h-3 w-3"}),"Print"]}),a.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>I(ne),className:"gap-1",children:[a.jsx(NS,{className:"h-3 w-3"}),"Share"]})]}),a.jsx(Ne,{variant:ne.is_active?"destructive":"default",size:"sm",onClick:()=>D(ne.id,ne.is_active),className:"w-full",children:ne.is_active?a.jsxs(a.Fragment,{children:[a.jsx(di,{className:"h-4 w-4 mr-2"}),t("deactivate")]}):a.jsxs(a.Fragment,{children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),t("activate")]})})]})]})},ne.id))})})]}),X.length>0&&a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{children:[t("inactive_expired_qr_codes")," (",X.length,")"]}),a.jsx(it,{children:t("manage_inactive_merchant_qr_codes")})]}),a.jsx(ge,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:X.map((ne,J)=>a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:J*.1},children:a.jsxs(me,{className:"opacity-60 hover:opacity-80 transition-opacity",children:[a.jsxs(Re,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Pe,{className:"text-lg",children:ne.business_name||t("merchant_payment")}),W(ne)]}),ne.description&&a.jsx(it,{children:ne.description})]}),a.jsxs(ge,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(zn,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:F(ne.created_at||"")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{children:[ne.usage_count," ",t("times_scanned")]})]})]}),!$(ne.expires_at)&&a.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>D(ne.id,ne.is_active),className:"w-full",children:[a.jsx(_d,{className:"h-4 w-4 mr-2"}),t("reactivate")]})]})]})},ne.id))})})]}),a.jsx(za,{open:x,onOpenChange:w,children:a.jsxs(Va,{className:"max-w-md",children:[a.jsxs($a,{children:[a.jsx(Ha,{className:"text-center",children:(f==null?void 0:f.business_name)||t("merchant_payment")}),(f==null?void 0:f.description)&&a.jsx(Fi,{className:"text-center",children:f.description})]}),f&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(wCe,{qrData:f.qr_data})}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("amount"),":"]}),a.jsx("span",{className:"font-bold text-green-600",children:V(JSON.parse(f.qr_data).amount||0)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("status"),":"]}),W(f)]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("scans"),":"]}),a.jsx("span",{children:f.usage_count})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("created"),":"]}),a.jsx("span",{children:F(f.created_at)})]}),f.expires_at&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("expires"),":"]}),a.jsx("span",{children:F(f.expires_at)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(Ne,{variant:"outline",onClick:()=>z(f),className:"gap-2",children:[a.jsx(_i,{className:"h-4 w-4"}),t("download")]}),a.jsxs(Ne,{variant:"outline",onClick:()=>k(f),className:"gap-2",children:[a.jsx(jS,{className:"h-4 w-4"}),t("print")]}),a.jsxs(Ne,{variant:"outline",onClick:()=>I(f),className:"gap-2",children:[a.jsx(NS,{className:"h-4 w-4"}),t("share")]}),a.jsxs(Ne,{variant:"outline",onClick:()=>R(f),className:"gap-2",children:[a.jsx(PA,{className:"h-4 w-4"}),t("copy")]})]}),a.jsx(Ne,{variant:f.is_active?"destructive":"default",onClick:()=>{D(f.id,f.is_active),w(!1)},className:"w-full gap-2",disabled:$(f.expires_at),children:f.is_active?a.jsxs(a.Fragment,{children:[a.jsx(di,{className:"h-4 w-4"}),t("deactivate")]}):a.jsxs(a.Fragment,{children:[a.jsx(Hn,{className:"h-4 w-4"}),t("activate")]})})]})]})})]})}function wCe({qrData:e,size:t=200}){const[n,r]=N.useState("");return N.useEffect(()=>{e&&(async()=>{try{const s=await CH.toDataURL(e,{width:t,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"});r(s)}catch(s){console.error("Error generating QR code:",s)}})()},[e,t]),n?a.jsx("div",{className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm",children:a.jsx("img",{src:n,alt:"QR Code",className:"rounded",style:{width:t,height:t}})}):a.jsx("div",{className:"flex items-center justify-center bg-gray-100 rounded-lg",style:{width:t,height:t},children:a.jsx(hi,{text:""})})}function jCe(){const{t:e}=$t();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:e("analytics")}),a.jsx("p",{className:"text-muted-foreground",children:e("analytics_description")})]}),a.jsx(me,{children:a.jsxs(ge,{className:"text-center py-12",children:[a.jsx(Wn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:e("analytics_coming_soon")}),a.jsx("p",{className:"text-muted-foreground",children:e("analytics_description")})]})})]})}const TH=()=>{const{user:e}=Wt(),[t,n]=N.useState(null),[r,i]=N.useState([]),[s,o]=N.useState(!1),[u,m]=N.useState(!1),[f,g]=N.useState(""),[x,w]=N.useState("bank_transfer"),[_,T]=N.useState({bank_name:"",account_number:"",account_holder:"",swift_code:""}),[C,A]=N.useState({provider:"syriatel",phone_number:""}),[M,D]=N.useState(""),R=async()=>{if(e)try{const{data:F,error:$}=await qe.from("wallets").select("balance, currency").eq("user_id",e.id).single();if($){console.error("Error fetching wallet:",$);return}n(F)}catch(F){console.error("Error fetching wallet:",F)}},z=async()=>{if(e){o(!0);try{const{data:F,error:$}=await qe.from("withdrawal_requests").select("*").eq("user_id",e.id).order("requested_at",{ascending:!1});if($){console.error("Error fetching withdrawal requests:",$),Me.error("Failed to load withdrawal history");return}i(F||[])}catch(F){console.error("Error fetching withdrawal requests:",F),Me.error("Failed to load withdrawal history")}finally{o(!1)}}},k=async()=>{if(!e||!t)return;const F=parseFloat(f);if(isNaN(F)||F<=0){Me.error("Please enter a valid amount");return}if(F>t.balance){Me.error("Insufficient balance");return}if(F<1e3){Me.error("Minimum withdrawal amount is 1,000 SYP");return}let $={};if(x==="bank_transfer"){if(!_.bank_name||!_.account_number||!_.account_holder){Me.error("Please fill in all bank details");return}$={type:"bank_transfer",..._}}else if(x==="mobile_wallet"){if(!C.phone_number){Me.error("Please enter your mobile wallet phone number");return}$={type:"mobile_wallet",...C}}m(!0);try{const{error:W}=await qe.from("withdrawal_requests").insert({user_id:e.id,amount:F,currency:t.currency,payment_method:$,request_notes:M.trim()||null});if(W){console.error("Error submitting withdrawal request:",W),Me.error("Failed to submit withdrawal request");return}Me.success("Withdrawal request submitted successfully"),g(""),D(""),T({bank_name:"",account_number:"",account_holder:"",swift_code:""}),A({provider:"syriatel",phone_number:""}),z()}catch(W){console.error("Error submitting withdrawal request:",W),Me.error("Failed to submit withdrawal request")}finally{m(!1)}};N.useEffect(()=>{e&&(R(),z())},[e]);const I=F=>{switch(F){case"pending":return"bg-yellow-500";case"approved":return"bg-green-500";case"rejected":return"bg-red-500";case"completed":return"bg-blue-500";default:return"bg-gray-500"}},B=F=>{switch(F){case"pending":return zn;case"approved":return Kg;case"rejected":return Xh;case"completed":return Kg;default:return vv}},V=(F,$="SYP")=>new Intl.NumberFormat("en-US",{style:"currency",currency:$==="SYP"?"USD":$,minimumFractionDigits:0}).format(F).replace("$","")+" "+$;return e?a.jsxs("div",{className:"space-y-6",children:[a.jsxs(me,{children:[a.jsx(Re,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(su,{className:"h-5 w-5"}),"Wallet Balance"]})}),a.jsx(ge,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl font-bold",children:t?V(t.balance,t.currency):"..."}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Available for withdrawal"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(Wn,{className:"h-8 w-8 text-green-500 mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total earnings"})]})]})})]}),a.jsxs(ms,{defaultValue:"request",className:"w-full",children:[a.jsxs(gs,{className:"grid w-full grid-cols-2",children:[a.jsx(Ct,{value:"request",children:"Request Withdrawal"}),a.jsx(Ct,{value:"history",children:"Withdrawal History"})]}),a.jsxs(Mt,{value:"request",className:"space-y-6",children:[a.jsxs(me,{children:[a.jsx(Re,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(_i,{className:"h-5 w-5"}),"Request Withdrawal"]})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx($e,{htmlFor:"amount",children:"Withdrawal Amount *"}),a.jsxs("div",{className:"relative",children:[a.jsx(wr,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),a.jsx(vt,{id:"amount",type:"number",placeholder:"Enter amount",value:f,onChange:F=>g(F.target.value),className:"pl-10",min:"1000",max:(t==null?void 0:t.balance)||0})]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Minimum: 1,000 SYP  Available: ",t?V(t.balance,t.currency):"0 SYP"]})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"payment-method",children:"Payment Method *"}),a.jsxs(It,{value:x,onValueChange:w,children:[a.jsx(Lt,{children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"bank_transfer",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(RD,{className:"h-4 w-4"}),"Bank Transfer"]})}),a.jsx(Oe,{value:"mobile_wallet",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wS,{className:"h-4 w-4"}),"Mobile Wallet"]})})]})]})]}),x==="bank_transfer"&&a.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[a.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[a.jsx(RD,{className:"h-4 w-4"}),"Bank Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx($e,{htmlFor:"bank-name",children:"Bank Name *"}),a.jsx(vt,{id:"bank-name",placeholder:"e.g., Bank Audi",value:_.bank_name,onChange:F=>T($=>({...$,bank_name:F.target.value}))})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"account-number",children:"Account Number *"}),a.jsx(vt,{id:"account-number",placeholder:"1234567890",value:_.account_number,onChange:F=>T($=>({...$,account_number:F.target.value}))})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"account-holder",children:"Account Holder Name *"}),a.jsx(vt,{id:"account-holder",placeholder:"Full name as on bank account",value:_.account_holder,onChange:F=>T($=>({...$,account_holder:F.target.value}))})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"swift-code",children:"SWIFT/BIC Code"}),a.jsx(vt,{id:"swift-code",placeholder:"Optional",value:_.swift_code,onChange:F=>T($=>({...$,swift_code:F.target.value}))})]})]})]}),x==="mobile_wallet"&&a.jsxs("div",{className:"space-y-3 p-4 border rounded-lg bg-muted/30",children:[a.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[a.jsx(wS,{className:"h-4 w-4"}),"Mobile Wallet Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx($e,{htmlFor:"wallet-provider",children:"Provider"}),a.jsxs(It,{value:C.provider,onValueChange:F=>A($=>({...$,provider:F})),children:[a.jsx(Lt,{children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"syriatel",children:"Syriatel Cash"}),a.jsx(Oe,{value:"mtn",children:"MTN Cash"}),a.jsx(Oe,{value:"bemo",children:"Bemo Pay"})]})]})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"wallet-phone",children:"Phone Number *"}),a.jsx(vt,{id:"wallet-phone",placeholder:"+963 XXX XXX XXX",value:C.phone_number,onChange:F=>A($=>({...$,phone_number:F.target.value}))})]})]})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"notes",children:"Additional Notes"}),a.jsx(tl,{id:"notes",placeholder:"Any special instructions or notes...",value:M,onChange:F=>D(F.target.value),rows:3})]}),a.jsx("div",{className:"flex justify-end pt-4",children:a.jsx(Ne,{onClick:k,disabled:u||!f||parseFloat(f)<=0,className:"w-full md:w-auto",children:u?"Submitting...":"Submit Withdrawal Request"})})]})]}),a.jsx(me,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(yv,{className:"h-5 w-5 text-blue-500 mt-0.5"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-medium",children:"Important Information"}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1",children:[a.jsx("li",{children:" Minimum withdrawal amount is 1,000 SYP"}),a.jsx("li",{children:" Processing time: 2-5 business days"}),a.jsx("li",{children:" Bank transfers may incur additional fees"}),a.jsx("li",{children:" Ensure your payment details are accurate to avoid delays"}),a.jsx("li",{children:" You'll receive a notification once your request is processed"})]})]})]})})})]}),a.jsx(Mt,{value:"history",children:a.jsxs(me,{children:[a.jsx(Re,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Ta,{className:"h-5 w-5"}),"Withdrawal History"]})}),a.jsx(ge,{children:s?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading withdrawal history..."})}):r.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(_i,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No withdrawal requests yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Your withdrawal history will appear here"})]}):a.jsx(Od,{className:"h-[400px]",children:a.jsx("div",{className:"space-y-4",children:r.map(F=>{var W,Y,X;const $=B(F.status);return a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(et,{variant:"outline",className:`${I(F.status)} text-white`,children:[a.jsx($,{className:"h-3 w-3 mr-1"}),F.status.charAt(0).toUpperCase()+F.status.slice(1)]}),a.jsx("span",{className:"text-lg font-medium",children:V(F.amount,F.currency)})]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:Ah(new Date(F.requested_at),{addSuffix:!0})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Payment Method:"}),a.jsx("p",{className:"font-medium",children:((W=F.payment_method)==null?void 0:W.type)==="bank_transfer"?`Bank Transfer - ${F.payment_method.bank_name}`:`${(Y=F.payment_method)==null?void 0:Y.provider} - ${(X=F.payment_method)==null?void 0:X.phone_number}`})]}),F.processed_at&&a.jsxs("div",{children:[a.jsx("p",{className:"text-muted-foreground",children:"Processed:"}),a.jsx("p",{className:"font-medium",children:Ah(new Date(F.processed_at),{addSuffix:!0})})]})]}),F.request_notes&&a.jsxs("div",{className:"mt-3 p-2 bg-muted/30 rounded text-sm",children:[a.jsx("p",{className:"text-muted-foreground",children:"Your notes:"}),a.jsx("p",{children:F.request_notes})]}),F.admin_notes&&a.jsxs("div",{className:"mt-3 p-2 bg-blue-50 dark:bg-blue-900/20 rounded text-sm",children:[a.jsx("p",{className:"text-muted-foreground",children:"Admin notes:"}),a.jsx("p",{children:F.admin_notes})]})]},F.id)})})})})]})})]})]}):a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-muted-foreground",children:"Please log in to access withdrawal features"})})};function NCe(){return V_(["merchant"]),a.jsx(F0,{userType:"merchant",children:a.jsxs(Vh,{children:[a.jsx(xt,{path:"/",element:a.jsx(Ul,{to:"/merchant/home",replace:!0})}),a.jsx(xt,{path:"/home",element:a.jsx(KEe,{})}),a.jsx(xt,{path:"/business",element:a.jsx(XEe,{})}),a.jsx(xt,{path:"/payments",element:a.jsx(QEe,{})}),a.jsx(xt,{path:"/qr-codes",element:a.jsx(bCe,{})}),a.jsx(xt,{path:"/analytics",element:a.jsx(jCe,{})}),a.jsx(xt,{path:"/profile",element:a.jsx(np,{})}),a.jsx(xt,{path:"/settings",element:a.jsx(rp,{})}),a.jsx(xt,{path:"/chat",element:a.jsx(Hy,{})}),a.jsx(xt,{path:"/withdrawal",element:a.jsx(TH,{})})]})})}function SCe(){const{profile:e}=Wt(),{t,language:n}=$t(),[r,i]=N.useState({totalEvents:0,activeEvents:0,totalTicketsSold:0,totalRevenue:0,pendingValidations:0,recentEvents:[],recentTickets:[]}),[s,o]=N.useState(!0),[u,m]=N.useState(!0);N.useEffect(()=>{e&&f()},[e]);const f=async()=>{if(e)try{o(!0);const{data:_,error:T}=await qe.from("events").select("*").eq("created_by",e.id);if(T)throw T;const C=(_==null?void 0:_.map(F=>F.id))||[],{data:A,error:M}=await qe.from("user_tickets").select(`
          *,
          events (
            title,
            ticket_price
          ),
          profiles (
            full_name
          )
        `).in("event_id",C);if(M)throw M;const D=(_==null?void 0:_.length)||0,R=(_==null?void 0:_.filter(F=>new Date(F.event_date)>new Date&&F.is_active).length)||0,z=(A==null?void 0:A.length)||0,k=(A==null?void 0:A.reduce((F,$)=>{var W;return F+(((W=$.events)==null?void 0:W.ticket_price)||0)},0))||0,I=(A==null?void 0:A.filter(F=>F.status==="pending").length)||0,B=(_==null?void 0:_.sort((F,$)=>new Date($.created_at).getTime()-new Date(F.created_at).getTime()).slice(0,5))||[],V=(A==null?void 0:A.sort((F,$)=>new Date($.created_at).getTime()-new Date(F.created_at).getTime()).slice(0,5))||[];i({totalEvents:D,activeEvents:R,totalTicketsSold:z,totalRevenue:k,pendingValidations:I,recentEvents:B,recentTickets:V})}catch(_){console.error("Error fetching event stats:",_)}finally{o(!1)}},g=_=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(_),x=_=>{switch(_){case"active":return"default";case"pending":return"secondary";case"used":return"default";case"cancelled":return"destructive";default:return"secondary"}},w=_=>{switch(_){case"active":return a.jsx(Rr,{className:"h-4 w-4"});case"pending":return a.jsx(zn,{className:"h-4 w-4"});case"used":return a.jsx(Rr,{className:"h-4 w-4"});case"cancelled":return a.jsx(nu,{className:"h-4 w-4"});default:return a.jsx(zn,{className:"h-4 w-4"})}};return s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:[t("welcome"),", ",e==null?void 0:e.full_name]}),a.jsx("p",{className:"text-muted-foreground",children:t("eventAdminDashboardOverview")})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Ne,{children:[a.jsx(cs,{className:"h-4 w-4 mr-2"}),t("createEvent")]}),a.jsxs(Ne,{variant:"outline",children:[a.jsx(nr,{className:"h-4 w-4 mr-2"}),t("validateTickets")]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("totalEvents")}),a.jsx(Ta,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalEvents}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.activeEvents," ",t("activeEvents")]})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("ticketsSold")}),a.jsx(Oa,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalTicketsSold}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",r.pendingValidations," ",t("pendingValidation")]})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("totalRevenue")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wr,{className:"h-4 w-4 text-muted-foreground"}),a.jsx(Ne,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0",onClick:()=>m(!u),children:u?a.jsx(Hn,{className:"h-3 w-3"}):a.jsx(di,{className:"h-3 w-3"})})]})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:u?g(r.totalRevenue):""}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(Wn,{className:"h-3 w-3 inline mr-1"}),t("fromTicketSales")]})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("pendingValidations")}),a.jsx(Ca,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.pendingValidations}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("requiresAttention")})]})]})})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("recentEvents")}),a.jsx(it,{children:t("yourLatestEventActivities")})]}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-4",children:r.recentEvents.length>0?r.recentEvents.map((_,T)=>a.jsxs(We.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:_.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(_.event_date).toLocaleDateString(n==="ar"?"ar-SY":"en-US")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(et,{variant:_.is_active?"default":"secondary",children:_.is_active?t("active"):t("inactive")}),a.jsx("span",{className:"text-sm font-medium",children:g(_.ticket_price)})]})]},_.id)):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noEventsYet")})})})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("recentTicketActivity")}),a.jsx(it,{children:t("latestTicketPurchasesAndValidations")})]}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-4",children:r.recentTickets.length>0?r.recentTickets.map((_,T)=>{var C,A;return a.jsxs(We.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:(C=_.events)==null?void 0:C.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t("purchasedBy")," ",(A=_.profiles)==null?void 0:A.full_name]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(et,{variant:x(_.status),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[w(_.status),a.jsx("span",{children:t(_.status)})]})})})]},_.id)}):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noTicketActivityYet")})})})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("quickActions")}),a.jsx(it,{children:t("commonTasksAndActions")})]}),a.jsx(ge,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsx(Ne,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(cs,{className:"h-6 w-6"}),a.jsx("span",{children:t("createNewEvent")})]})}),a.jsx(Ne,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(nr,{className:"h-6 w-6"}),a.jsx("span",{children:t("validateTickets")})]})}),a.jsx(Ne,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(Wn,{className:"h-6 w-6"}),a.jsx("span",{children:t("viewAnalytics")})]})})]})})]})]})}function ST({className:e,...t}){return a.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:a.jsx("table",{"data-slot":"table",className:At("w-full caption-bottom text-sm",e),...t})})}function _T({className:e,...t}){return a.jsx("thead",{"data-slot":"table-header",className:At("[&_tr]:border-b",e),...t})}function AT({className:e,...t}){return a.jsx("tbody",{"data-slot":"table-body",className:At("[&_tr:last-child]:border-0",e),...t})}function ET({className:e,...t}){return a.jsx("tr",{"data-slot":"table-row",className:At("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function ha({className:e,...t}){return a.jsx("th",{"data-slot":"table-head",className:At("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function ma({className:e,...t}){return a.jsx("td",{"data-slot":"table-cell",className:At("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}const d6=["concert","sports","conference","workshop","festival","theater","exhibition","other"];function _Ce(){const{profile:e}=Wt(),{t,language:n}=$t(),[r,i]=N.useState([]),[s,o]=N.useState([]),[u,m]=N.useState(!0),[f,g]=N.useState(""),[x,w]=N.useState("all"),[_,T]=N.useState("all"),[C,A]=N.useState(!1),[M,D]=N.useState(null),[R,z]=N.useState({title:"",description:"",event_date:"",location:"",ticket_price:0,max_capacity:100,category:"other",is_active:!0});N.useEffect(()=>{k()},[]),N.useEffect(()=>{I()},[r,f,x,_]);const k=async()=>{if(e)try{m(!0);const{data:H,error:ee}=await qe.from("events").select(`
          *,
          user_tickets (
            id
          )
        `).eq("created_by",e.id).order("created_at",{ascending:!1});if(ee)throw ee;const K=H.map(ue=>{var re;return{...ue,current_bookings:((re=ue.user_tickets)==null?void 0:re.length)||0}});i(K)}catch(H){console.error("Error fetching events:",H),Me.error(t("errorFetchingEvents"))}finally{m(!1)}},I=()=>{let H=r;f&&(H=H.filter(ee=>ee.title.toLowerCase().includes(f.toLowerCase())||ee.description.toLowerCase().includes(f.toLowerCase())||ee.location.toLowerCase().includes(f.toLowerCase()))),x!=="all"&&(H=H.filter(ee=>ee.category===x)),_!=="all"&&(_==="active"?H=H.filter(ee=>ee.is_active):_==="inactive"?H=H.filter(ee=>!ee.is_active):_==="upcoming"?H=H.filter(ee=>new Date(ee.event_date)>new Date):_==="past"&&(H=H.filter(ee=>new Date(ee.event_date)<new Date))),o(H)},B=(H,ee)=>{z(K=>({...K,[H]:ee}))},V=async()=>{if(e)try{const H={...R,created_by:e.id,updated_at:new Date().toISOString()};let ee;if(M?ee=await qe.from("events").update(H).eq("id",M.id).select():ee=await qe.from("events").insert(H).select(),ee.error)throw ee.error;Me.success(t(M?"eventUpdated":"eventCreated")),A(!1),D(null),Y(),k()}catch(H){console.error("Error saving event:",H),Me.error(t("errorSavingEvent"))}},F=H=>{D(H),z({title:H.title,description:H.description,event_date:H.event_date.split("T")[0],location:H.location,ticket_price:H.ticket_price,max_capacity:H.max_capacity,category:H.category,is_active:H.is_active}),A(!0)},$=async H=>{if(confirm(t("confirmDeleteEvent")))try{const{error:ee}=await qe.from("events").delete().eq("id",H);if(ee)throw ee;Me.success(t("eventDeleted")),k()}catch(ee){console.error("Error deleting event:",ee),Me.error(t("errorDeletingEvent"))}},W=async H=>{try{const{error:ee}=await qe.from("events").update({is_active:!H.is_active}).eq("id",H.id);if(ee)throw ee;Me.success(t("eventStatusUpdated")),k()}catch(ee){console.error("Error updating event status:",ee),Me.error(t("errorUpdatingEvent"))}},Y=()=>{z({title:"",description:"",event_date:"",location:"",ticket_price:0,max_capacity:100,category:"other",is_active:!0})},X=H=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(H),ne=H=>H.is_active?new Date(H.event_date)<new Date?"destructive":"default":"secondary",J=H=>H.is_active?new Date(H.event_date)<new Date?t("ended"):t("active"):t("inactive");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("eventManagement")}),a.jsx("p",{className:"text-muted-foreground",children:t("createAndManageYourEvents")})]}),a.jsxs(za,{open:C,onOpenChange:A,children:[a.jsx(bu,{asChild:!0,children:a.jsxs(Ne,{onClick:()=>{Y(),D(null)},children:[a.jsx(cs,{className:"h-4 w-4 mr-2"}),t("createEvent")]})}),a.jsxs(Va,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs($a,{children:[a.jsx(Ha,{children:t(M?"editEvent":"createNewEvent")}),a.jsx(Fi,{children:t(M?"updateEventDetails":"fillEventInformation")})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"title",children:t("eventTitle")}),a.jsx(vt,{id:"title",value:R.title,onChange:H=>B("title",H.target.value),placeholder:t("enterEventTitle")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"category",children:t("category")}),a.jsxs(It,{value:R.category,onValueChange:H=>B("category",H),children:[a.jsx(Lt,{children:a.jsx(zt,{})}),a.jsx(Bt,{children:d6.map(H=>a.jsx(Oe,{value:H,children:t(H)},H))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"description",children:t("description")}),a.jsx(tl,{id:"description",value:R.description,onChange:H=>B("description",H.target.value),placeholder:t("enterEventDescription"),rows:3})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"event_date",children:t("eventDate")}),a.jsx(vt,{id:"event_date",type:"datetime-local",value:R.event_date,onChange:H=>B("event_date",H.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"location",children:t("location")}),a.jsx(vt,{id:"location",value:R.location,onChange:H=>B("location",H.target.value),placeholder:t("enterEventLocation")})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs($e,{htmlFor:"ticket_price",children:[t("ticketPrice")," (SYP)"]}),a.jsx(vt,{id:"ticket_price",type:"number",value:R.ticket_price,onChange:H=>B("ticket_price",Number(H.target.value)),min:"0"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"max_capacity",children:t("maxCapacity")}),a.jsx(vt,{id:"max_capacity",type:"number",value:R.max_capacity,onChange:H=>B("max_capacity",Number(H.target.value)),min:"1"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(no,{id:"is_active",checked:R.is_active,onCheckedChange:H=>B("is_active",H)}),a.jsx($e,{htmlFor:"is_active",children:t("eventActive")})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(Ne,{variant:"outline",onClick:()=>A(!1),children:t("cancel")}),a.jsx(Ne,{onClick:V,children:t(M?"updateEvent":"createEvent")})]})]})]})]})]}),a.jsx(me,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(vt,{placeholder:t("searchEvents"),value:f,onChange:H=>g(H.target.value),className:"pl-9"})]})}),a.jsxs(It,{value:x,onValueChange:w,children:[a.jsx(Lt,{className:"w-[180px]",children:a.jsx(zt,{placeholder:t("filterByCategory")})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:t("allCategories")}),d6.map(H=>a.jsx(Oe,{value:H,children:t(H)},H))]})]}),a.jsxs(It,{value:_,onValueChange:T,children:[a.jsx(Lt,{className:"w-[180px]",children:a.jsx(zt,{placeholder:t("filterByStatus")})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:t("allStatuses")}),a.jsx(Oe,{value:"active",children:t("active")}),a.jsx(Oe,{value:"inactive",children:t("inactive")}),a.jsx(Oe,{value:"upcoming",children:t("upcoming")}),a.jsx(Oe,{value:"past",children:t("past")})]})]})]})})}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("eventsList")}),a.jsxs(it,{children:[t("totalEvents"),": ",s.length]})]}),a.jsx(ge,{children:u?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.length>0?a.jsx("div",{className:"rounded-md border",children:a.jsxs(ST,{children:[a.jsx(_T,{children:a.jsxs(ET,{children:[a.jsx(ha,{children:t("event")}),a.jsx(ha,{children:t("date")}),a.jsx(ha,{children:t("location")}),a.jsx(ha,{children:t("price")}),a.jsx(ha,{children:t("capacity")}),a.jsx(ha,{children:t("status")}),a.jsx(ha,{className:"text-right",children:t("actions")})]})}),a.jsx(AT,{children:s.map((H,ee)=>a.jsxs(We.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ee*.1},className:"hover:bg-muted/50",children:[a.jsx(ma,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-medium",children:H.title}),a.jsx(et,{variant:"outline",children:t(H.category)})]})}),a.jsx(ma,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ta,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:new Date(H.event_date).toLocaleDateString(n==="ar"?"ar-SY":"en-US")})]})}),a.jsx(ma,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Xo,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"truncate max-w-[120px]",children:H.location})]})}),a.jsx(ma,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wr,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:X(H.ticket_price)})]})}),a.jsx(ma,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ca,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{children:[H.current_bookings,"/",H.max_capacity]})]})}),a.jsx(ma,{children:a.jsx(et,{variant:ne(H),children:J(H)})}),a.jsx(ma,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>F(H),children:a.jsx(ZL,{className:"h-4 w-4"})}),a.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>W(H),children:a.jsx(ru,{className:"h-4 w-4"})}),a.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>$(H.id),children:a.jsx(bv,{className:"h-4 w-4"})})]})})]},H.id))})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ta,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:t("noEventsFound")}),a.jsx("p",{className:"text-muted-foreground",children:t("createYourFirstEvent")})]})})]})]})}function ACe(){const{profile:e}=Wt(),{t,language:n}=$t(),[r,i]=N.useState([]),[s,o]=N.useState(""),[u,m]=N.useState([]),[f,g]=N.useState([]),[x,w]=N.useState(!0),[_,T]=N.useState(!1),[C,A]=N.useState(null),[M,D]=N.useState(""),[R,z]=N.useState(""),[k,I]=N.useState(null),[B,V]=N.useState(""),[F,$]=N.useState("all"),[W,Y]=N.useState(!1),X=N.useRef(null),ne=N.useRef(null),J=N.useRef(null),H=N.useRef(null);N.useEffect(()=>(ee(),()=>{de()}),[]),N.useEffect(()=>{s&&K()},[s]),N.useEffect(()=>{ue()},[u,B,F]);const ee=async()=>{if(e)try{const{data:le,error:he}=await qe.from("event_admins").select(`
          event_id,
          events (
            id,
            title,
            description,
            category,
            start_date,
            location,
            image_url,
            is_active
          )
        `).eq("user_id",e.id).eq("is_active",!0);if(he)throw he;const{data:Ee,error:je}=await qe.from("events").select("id, title, description, category, start_date, location, image_url, is_active").eq("created_by",e.id);if(je)throw je;const be=(le||[]).map(Qe=>Qe.events).filter(Boolean),ze=[...Ee||[],...be].reduce((Qe,ht)=>(ht&&!Qe.find(Je=>Je.id===ht.id)&&Qe.push(ht),Qe),[]);i(ze.filter(Qe=>Qe.is_active))}catch(le){console.error("Error fetching events:",le),Me.error(t("errorFetchingEvents"))}finally{w(!1)}},K=async()=>{if(s)try{const{data:le,error:he}=await qe.from("qr_validations").select(`
          *,
          user_tickets (
            ticket_number,
            event_details_snapshot,
            profiles (
              full_name,
              email
            )
          )
        `).eq("event_id",s).order("validated_at",{ascending:!1});if(he)throw he;const Ee=(le||[]).map(je=>({...je,ticket:je.user_tickets?{ticket_number:je.user_tickets.ticket_number,user:je.user_tickets.profiles,event_details_snapshot:je.user_tickets.event_details_snapshot}:null}));m(Ee)}catch(le){console.error("Error fetching validations:",le),Me.error("Error fetching validations")}},ue=()=>{let le=u;B&&(le=le.filter(he=>{var Ee,je,be,Ke,ze;return((Ee=he.ticket)==null?void 0:Ee.ticket_number.toLowerCase().includes(B.toLowerCase()))||((be=(je=he.ticket)==null?void 0:je.user)==null?void 0:be.full_name.toLowerCase().includes(B.toLowerCase()))||((ze=(Ke=he.ticket)==null?void 0:Ke.user)==null?void 0:ze.email.toLowerCase().includes(B.toLowerCase()))})),F!=="all"&&(le=le.filter(he=>he.validation_status===F)),g(le)},re=async()=>{try{A(null);const le=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});X.current&&(X.current.srcObject=le,J.current=le,T(!0),H.current=setInterval(xe,1e3))}catch(le){console.error("Camera error:",le),A(t("cameraAccessDenied")),T(!1)}},de=()=>{J.current&&(J.current.getTracks().forEach(le=>le.stop()),J.current=null),H.current&&(clearInterval(H.current),H.current=null),T(!1)},xe=()=>{if(!X.current||!ne.current||!_)return;const le=X.current,he=ne.current,Ee=he.getContext("2d");!Ee||le.readyState!==le.HAVE_ENOUGH_DATA||(he.width=le.videoWidth,he.height=le.videoHeight,Ee.drawImage(le,0,0,he.width,he.height))},Se=async le=>{if(!s){Me.error(t("selectEventFirst"));return}try{w(!0);const{data:he,error:Ee}=await qe.rpc("validate_event_qr",{p_ticket_qr_data:le,p_event_id:s,p_validator_id:e==null?void 0:e.id,p_validation_location:R||null});if(Ee)throw Ee;const je=he[0];I(je),Y(!0),je.success?(Me.success(t("ticketValidatedSuccessfully")),K()):Me.error(je.message),D("")}catch(he){console.error("Validation error:",he),Me.error(t("validationError")),I({success:!1,message:t("validationError")}),Y(!0)}finally{w(!1)}},ye=()=>{if(!M.trim()){Me.error(t("enterQRCode"));return}Se(M.trim())},Le=le=>new Date(le).toLocaleString(n==="ar"?"ar-SY":"en-US"),ie=le=>{switch(le){case"valid":return"default";case"invalid":return"destructive";case"expired":return"secondary";case"used":return"outline";default:return"secondary"}},ce=le=>{switch(le){case"valid":return a.jsx(Rr,{className:"h-4 w-4 text-green-500"});case"invalid":return a.jsx(nu,{className:"h-4 w-4 text-red-500"});case"expired":return a.jsx(zn,{className:"h-4 w-4 text-gray-500"});case"used":return a.jsx(jr,{className:"h-4 w-4 text-yellow-500"});default:return a.jsx(jr,{className:"h-4 w-4"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("ticketValidation")}),a.jsx("p",{className:"text-muted-foreground",children:t("scanAndValidateEventTickets")})]})}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("selectEvent")}),a.jsx(it,{children:t("chooseEventToValidateTickets")})]}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:t("event")}),a.jsxs(It,{value:s,onValueChange:o,children:[a.jsx(Lt,{children:a.jsx(zt,{placeholder:t("selectEvent")})}),a.jsx(Bt,{children:r.map(le=>a.jsx(Oe,{value:le.id,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{children:le.title}),a.jsxs("span",{className:"text-muted-foreground text-sm",children:["(",new Date(le.start_date).toLocaleDateString(),")"]})]})},le.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs($e,{children:[t("validationLocation")," (",t("optional"),")"]}),a.jsx(vt,{value:R,onChange:le=>z(le.target.value),placeholder:t("enterValidationLocation")})]})]})})})]}),s&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{className:"flex items-center space-x-2",children:[a.jsx(nr,{className:"h-5 w-5"}),a.jsx("span",{children:t("qrScanner")})]}),a.jsx(it,{children:t("scanTicketQRCode")})]}),a.jsx(ge,{className:"space-y-4",children:a.jsx("div",{className:"relative",children:_?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[a.jsx("video",{ref:X,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),a.jsx("canvas",{ref:ne,className:"hidden"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:a.jsx("div",{className:"w-48 h-48 border-2 border-white border-dashed rounded-lg"})})]}),a.jsxs(Ne,{variant:"outline",onClick:de,className:"w-full",children:[a.jsx(yS,{className:"h-4 w-4 mr-2"}),t("stopCamera")]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-center h-64 bg-muted rounded-lg",children:a.jsxs("div",{className:"text-center",children:[a.jsx(uh,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"font-medium",children:t("cameraNotActive")}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:t("startCameraToScan")})]})}),C?a.jsxs(ci,{children:[a.jsx(jr,{className:"h-4 w-4"}),a.jsx(ui,{children:C})]}):a.jsxs(Ne,{onClick:re,className:"w-full",children:[a.jsx(uh,{className:"h-4 w-4 mr-2"}),t("startCamera")]})]})})})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{className:"flex items-center space-x-2",children:[a.jsx(Oa,{className:"h-5 w-5"}),a.jsx("span",{children:t("manualValidation")})]}),a.jsx(it,{children:t("enterQRCodeManually")})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:t("qrCodeData")}),a.jsx(vt,{value:M,onChange:le=>D(le.target.value),placeholder:t("pasteQRCodeData")})]}),a.jsxs(Ne,{onClick:ye,disabled:!M.trim()||x,className:"w-full",children:[x?a.jsx(_d,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(Rr,{className:"h-4 w-4 mr-2"}),t("validateTicket")]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-medium mb-2",children:t("todayStats")}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"text-center p-2 bg-green-50 dark:bg-green-900/20 rounded",children:[a.jsx("div",{className:"font-medium text-green-700 dark:text-green-400",children:u.filter(le=>le.validation_status==="valid"&&new Date(le.validated_at).toDateString()===new Date().toDateString()).length}),a.jsx("div",{className:"text-green-600 dark:text-green-500",children:t("valid")})]}),a.jsxs("div",{className:"text-center p-2 bg-red-50 dark:bg-red-900/20 rounded",children:[a.jsx("div",{className:"font-medium text-red-700 dark:text-red-400",children:u.filter(le=>le.validation_status==="invalid"&&new Date(le.validated_at).toDateString()===new Date().toDateString()).length}),a.jsx("div",{className:"text-red-600 dark:text-red-500",children:t("invalid")})]})]})]})]})]})]}),a.jsxs(me,{children:[a.jsx(Re,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Pe,{children:t("validationHistory")}),a.jsx(it,{children:t("recentTicketValidations")})]}),a.jsxs(Ne,{variant:"outline",size:"sm",onClick:K,children:[a.jsx(_d,{className:"h-4 w-4 mr-2"}),t("refresh")]})]})}),a.jsx(ge,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(vt,{placeholder:t("searchValidations"),value:B,onChange:le=>V(le.target.value),className:"pl-9"})]})}),a.jsxs(It,{value:F,onValueChange:$,children:[a.jsx(Lt,{className:"w-[180px]",children:a.jsx(zt,{placeholder:t("filterByStatus")})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:t("allStatuses")}),a.jsx(Oe,{value:"valid",children:t("valid")}),a.jsx(Oe,{value:"invalid",children:t("invalid")}),a.jsx(Oe,{value:"expired",children:t("expired")}),a.jsx(Oe,{value:"used",children:t("used")})]})]})]}),f.length>0?a.jsx("div",{className:"rounded-md border",children:a.jsxs(ST,{children:[a.jsx(_T,{children:a.jsxs(ET,{children:[a.jsx(ha,{children:t("ticket")}),a.jsx(ha,{children:t("holder")}),a.jsx(ha,{children:t("status")}),a.jsx(ha,{children:t("location")}),a.jsx(ha,{children:t("validatedAt")})]})}),a.jsx(AT,{children:f.map((le,he)=>{var Ee,je,be,Ke,ze,Qe,ht;return a.jsxs(We.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:he*.1},className:"hover:bg-muted/50",children:[a.jsx(ma,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("p",{className:"font-medium",children:["#",(Ee=le.ticket)==null?void 0:Ee.ticket_number]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:(be=(je=le.ticket)==null?void 0:je.event_details_snapshot)==null?void 0:be.event_title})]})}),a.jsx(ma,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-medium",children:(ze=(Ke=le.ticket)==null?void 0:Ke.user)==null?void 0:ze.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:(ht=(Qe=le.ticket)==null?void 0:Qe.user)==null?void 0:ht.email})]})}),a.jsx(ma,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[ce(le.validation_status),a.jsx(et,{variant:ie(le.validation_status),children:t(le.validation_status)})]})}),a.jsx(ma,{children:le.validation_location||"-"}),a.jsx(ma,{children:Le(le.validated_at)})]},le.id)})})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(nr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:t("noValidationsFound")}),a.jsx("p",{className:"text-muted-foreground",children:t("startValidatingTickets")})]})]})})]})]}),a.jsx(za,{open:W,onOpenChange:Y,children:a.jsxs(Va,{children:[a.jsx($a,{children:a.jsx(Ha,{className:"flex items-center space-x-2",children:k!=null&&k.success?a.jsxs(a.Fragment,{children:[a.jsx(Rr,{className:"h-5 w-5 text-green-500"}),a.jsx("span",{children:t("validTicket")})]}):a.jsxs(a.Fragment,{children:[a.jsx(nu,{className:"h-5 w-5 text-red-500"}),a.jsx("span",{children:t("invalidTicket")})]})})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(ci,{children:a.jsx(ui,{children:k==null?void 0:k.message})}),(k==null?void 0:k.success)&&k.ticket_data&&a.jsxs(me,{children:[a.jsx(Re,{children:a.jsx(Pe,{className:"text-lg",children:t("ticketDetails")})}),a.jsx(ge,{className:"space-y-3",children:a.jsxs("div",{className:"grid gap-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[t("ticketNumber"),":"]}),a.jsxs("span",{className:"font-medium",children:["#",k.ticket_data.ticket_number]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[t("event"),":"]}),a.jsx("span",{className:"font-medium",children:k.ticket_data.event_title})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[t("eventDate"),":"]}),a.jsx("span",{children:Le(k.ticket_data.event_date)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-muted-foreground",children:[t("purchasedAt"),":"]}),a.jsx("span",{children:Le(k.ticket_data.purchased_at)})]})]})})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Ne,{onClick:()=>Y(!1),children:t("close")})})]})]})})]})}const ECe=()=>{var B,V;const{user:e}=Wt(),{language:t}=$t(),[n,r]=N.useState([]),[i,s]=N.useState([]),[o,u]=N.useState([]),[m,f]=N.useState(!0),[g,x]=N.useState("30"),[w,_]=N.useState("line");N.useEffect(()=>{e&&T()},[e,g]);const T=async()=>{if(e){f(!0);try{const F=zo(new Date,parseInt(g)),{data:$,error:W}=await qe.from("events").select("*").eq("organizer_id",e.id).gte("created_at",F.toISOString()).order("created_at",{ascending:!0});if(W)throw W;const{data:Y,error:X}=await qe.from("event_ticket_sales").select("*").in("event_id",($==null?void 0:$.map(H=>H.id))||[]).gte("created_at",F.toISOString()).order("created_at",{ascending:!0});if(X)throw X;const{data:ne,error:J}=await qe.from("event_attendees").select("*").in("event_id",($==null?void 0:$.map(H=>H.id))||[]);if(J)throw J;r($||[]),s(Y||[]),u(ne||[])}catch(F){console.error("Error fetching analytics data:",F)}finally{f(!1)}}},C=()=>{const F=i.filter(he=>he.status==="confirmed"),$=F.reduce((he,Ee)=>he+Ee.total_amount,0),W=F.reduce((he,Ee)=>he+Ee.quantity,0),Y=F.reduce((he,Ee)=>he+Ee.booking_fee,0),X=$-Y,ne=n.filter(he=>he.status==="completed"),J=n.filter(he=>he.status==="upcoming"),H=o.length>0&&W>0?o.filter(he=>he.check_in_time).length/W*100:0,ee=W>0?$/W:0,K=Math.floor(parseInt(g)/2),ue=zo(new Date,K),re=F.filter(he=>Jr(he.created_at)>=ue),de=F.filter(he=>Jr(he.created_at)<ue),xe=re.reduce((he,Ee)=>he+Ee.total_amount,0),Se=de.reduce((he,Ee)=>he+Ee.total_amount,0),ye=Se>0?(xe-Se)/Se*100:0,Le=o.filter(he=>he.rating).length,ie=Le>0?o.filter(he=>he.rating).reduce((he,Ee)=>he+(Ee.rating||0),0)/Le:0,le=F.filter(he=>kv(Jr(he.created_at))).reduce((he,Ee)=>he+Ee.total_amount,0);return{totalRevenue:$,netRevenue:X,totalTicketsSold:W,totalEvents:n.length,completedEvents:ne.length,upcomingEvents:J.length,attendanceRate:H,avgTicketPrice:ee,revenueGrowth:ye,avgRating:ie,todayRevenue:le,totalFees:Y}},A=()=>{const F=new Map;return i.filter($=>$.status==="confirmed").forEach($=>{const W=lr(Jr($.created_at),"yyyy-MM-dd"),Y=F.get(W)||{revenue:0,tickets:0,events:new Set};Y.events.add($.event_id),F.set(W,{revenue:Y.revenue+$.total_amount,tickets:Y.tickets+$.quantity,events:Y.events})}),Array.from(F.entries()).map(([$,W])=>({date:lr(Jr($),"MMM dd",{locale:t==="ar"?y0:void 0}),revenue:W.revenue,tickets:W.tickets,events:W.events.size})).sort(($,W)=>$.date.localeCompare(W.date))},M=()=>n.map(F=>{const $=i.filter(ee=>ee.event_id===F.id&&ee.status==="confirmed"),W=$.reduce((ee,K)=>ee+K.total_amount,0),Y=$.reduce((ee,K)=>ee+K.quantity,0),X=F.total_tickets>0?Y/F.total_tickets*100:0,ne=o.filter(ee=>ee.event_id===F.id),J=ne.filter(ee=>ee.check_in_time).length,H=Y>0?J/Y*100:0;return{...F,revenue:W,ticketsSold:Y,sellOutRate:X,attendanceRate:H,avgRating:ne.length>0?ne.filter(ee=>ee.rating).reduce((ee,K)=>ee+(K.rating||0),0)/ne.filter(ee=>ee.rating).length:0}}).sort((F,$)=>$.revenue-F.revenue),D=()=>{const F=new Map;return n.forEach($=>{const W=$.category||"Other",Y=i.filter(H=>H.event_id===$.id&&H.status==="confirmed"),X=Y.reduce((H,ee)=>H+ee.total_amount,0),ne=Y.reduce((H,ee)=>H+ee.quantity,0),J=F.get(W)||{revenue:0,tickets:0,events:0};F.set(W,{revenue:J.revenue+X,tickets:J.tickets+ne,events:J.events+1})}),Array.from(F.entries()).map(([$,W])=>({name:$,revenue:W.revenue,tickets:W.tickets,events:W.events,avgRevenue:W.events>0?W.revenue/W.events:0})).sort(($,W)=>W.revenue-$.revenue)},R=()=>{const F=[],$=new Date;for(let W=5;W>=0;W--){const Y=new Date($.getFullYear(),$.getMonth()-W,1),X=xE(Y),ne=ey(Y),J=n.filter(ee=>{const K=Jr(ee.created_at);return K>=X&&K<=ne}),H=i.filter(ee=>{const K=Jr(ee.created_at);return K>=X&&K<=ne&&ee.status==="confirmed"});F.push({month:lr(Y,"MMM yyyy",{locale:t==="ar"?y0:void 0}),events:J.length,revenue:H.reduce((ee,K)=>ee+K.total_amount,0),tickets:H.reduce((ee,K)=>ee+K.quantity,0)})}return F},z=()=>{const F=new Map;i.filter(W=>W.status==="confirmed").forEach(W=>{const Y=W.customer_id,X=F.get(Y)||{tickets:0,revenue:0,events:new Set};X.events.add(W.event_id),F.set(Y,{tickets:X.tickets+W.quantity,revenue:X.revenue+W.total_amount,events:X.events})});const $=Array.from(F.entries()).map(([W,Y])=>({id:W,tickets:Y.tickets,revenue:Y.revenue,events:Y.events.size,avgSpend:Y.tickets>0?Y.revenue/Y.tickets:0}));return{totalCustomers:$.length,repeatCustomers:$.filter(W=>W.events>1).length,topCustomers:$.sort((W,Y)=>Y.revenue-W.revenue).slice(0,10),avgSpendPerCustomer:$.length>0?$.reduce((W,Y)=>W+Y.revenue,0)/$.length:0}},k=()=>{const F=C(),$={metadata:{exportDate:new Date().toISOString(),dateRange:`${g} days`,organizerId:e==null?void 0:e.id,generatedBy:"Tickets Event Analytics"},kpis:F,salesTrend:A(),eventPerformance:M(),categoryAnalysis:D(),monthlyComparison:R(),customerInsights:z(),rawData:{events:n.length,ticketSales:i.length,attendees:o.length}},W=new Blob([JSON.stringify($,null,2)],{type:"application/json"}),Y=URL.createObjectURL(W),X=document.createElement("a");X.href=Y,X.download=`event-analytics-${lr(new Date,"yyyy-MM-dd")}.json`,X.click(),URL.revokeObjectURL(Y)},I=C();return m?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):a.jsxs("div",{className:"space-y-6",dir:t==="ar"?"rtl":"ltr",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Event Analytics"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your event performance, ticket sales, and attendee insights"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("select",{value:g,onChange:F=>x(F.target.value),className:"px-3 py-2 border border-gray-300 rounded-md bg-white dark:bg-gray-800 dark:border-gray-600",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 90 days"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(Ne,{onClick:k,variant:"outline",size:"sm",children:[a.jsx(_i,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(wr,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(ge,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[I.totalRevenue.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[I.revenueGrowth>0?a.jsx(Wn,{className:"h-3 w-3 text-green-600 mr-1"}):a.jsx($l,{className:"h-3 w-3 text-red-600 mr-1"}),a.jsxs("span",{className:I.revenueGrowth>0?"text-green-600":"text-red-600",children:[Math.abs(I.revenueGrowth).toFixed(1),"% vs last period"]})]})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Tickets Sold"}),a.jsx(Oa,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:I.totalTicketsSold}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Avg price: ",I.avgTicketPrice.toLocaleString()," SYP"]})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Events"}),a.jsx(Ta,{className:"h-4 w-4 text-purple-600"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:I.totalEvents}),a.jsxs("p",{className:"text-xs text-gray-600",children:[I.upcomingEvents," upcoming  ",I.completedEvents," completed"]})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Attendance Rate"}),a.jsx(Ca,{className:"h-4 w-4 text-yellow-600"})]}),a.jsxs(ge,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[I.attendanceRate.toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Rating: ",I.avgRating.toFixed(1),"/5 "]})]})]})]}),a.jsxs(ms,{defaultValue:"sales",className:"space-y-4",children:[a.jsxs(gs,{className:"grid w-full grid-cols-2 lg:grid-cols-6",children:[a.jsx(Ct,{value:"sales",children:"Sales"}),a.jsx(Ct,{value:"events",children:"Events"}),a.jsx(Ct,{value:"categories",children:"Categories"}),a.jsx(Ct,{value:"customers",children:"Customers"}),a.jsx(Ct,{value:"monthly",children:"Monthly"}),a.jsx(Ct,{value:"insights",children:"Insights"})]}),a.jsx(Mt,{value:"sales",className:"space-y-4",children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Pe,{children:"Sales Trend"}),a.jsx(it,{children:"Daily ticket sales revenue and volume over time"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{variant:w==="line"?"default":"outline",size:"sm",onClick:()=>_("line"),children:"Line"}),a.jsx(Ne,{variant:w==="area"?"default":"outline",size:"sm",onClick:()=>_("area"),children:"Area"}),a.jsx(Ne,{variant:w==="bar"?"default":"outline",size:"sm",onClick:()=>_("bar"),children:"Bar"})]})]}),a.jsx(ge,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(wi,{width:"100%",height:"100%",children:w==="line"?a.jsxs(v0,{data:A(),children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"date"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:(F,$)=>[`${F} ${$==="revenue"?"SYP":""}`,$==="revenue"?"Revenue":$==="tickets"?"Tickets":"Events"]}),a.jsx(_a,{}),a.jsx(Is,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2}),a.jsx(Is,{type:"monotone",dataKey:"tickets",stroke:"#82ca9d",strokeWidth:2}),a.jsx(Is,{type:"monotone",dataKey:"events",stroke:"#ffc658",strokeWidth:2})]}):w==="area"?a.jsxs(Vy,{data:A(),children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"date"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:(F,$)=>[`${F} ${$==="revenue"?"SYP":""}`,$==="revenue"?"Revenue":$==="tickets"?"Tickets":"Events"]}),a.jsx(_a,{}),a.jsx(Id,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]}):a.jsxs(Ko,{data:A(),children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"date"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:(F,$)=>[`${F} ${$==="revenue"?"SYP":""}`,$==="revenue"?"Revenue":$==="tickets"?"Tickets":"Events"]}),a.jsx(_a,{}),a.jsx(Vr,{dataKey:"revenue",fill:"#8884d8"}),a.jsx(Vr,{dataKey:"tickets",fill:"#82ca9d"})]})})})})]})}),a.jsx(Mt,{value:"events",className:"space-y-4",children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:"Event Performance"}),a.jsx(it,{children:"Top performing events by revenue and attendance"})]}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-4",children:M().slice(0,10).map((F,$)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(et,{variant:"outline",className:"text-sm",children:["#",$+1]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:F.title}),a.jsxs("p",{className:"text-sm text-gray-600",children:[lr(Jr(F.date),"MMM dd, yyyy"),"  ",F.location]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[F.ticketsSold,"/",F.total_tickets," tickets ",F.sellOutRate.toFixed(1),"% sold ",F.attendanceRate.toFixed(1),"% attendance"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold",children:[F.revenue.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Qg,{className:"h-3 w-3 text-yellow-500"}),a.jsx("span",{className:"text-sm",children:F.avgRating?F.avgRating.toFixed(1):"N/A"})]})]})]},F.id))})})]})}),a.jsx(Mt,{value:"categories",className:"space-y-4",children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:"Category Analysis"}),a.jsx(it,{children:"Performance breakdown by event categories"})]}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-4",children:D().map((F,$)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(et,{variant:"outline",className:"text-sm",children:["#",$+1]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:F.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[F.events," events  ",F.tickets," tickets sold"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold",children:[F.revenue.toLocaleString()," SYP"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Avg: ",F.avgRevenue.toLocaleString()," SYP/event"]})]})]},F.name))})})]})}),a.jsx(Mt,{value:"customers",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(me,{children:[a.jsx(Re,{children:a.jsx(Pe,{children:"Customer Insights"})}),a.jsx(ge,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Customers"}),a.jsx("span",{className:"font-semibold",children:z().totalCustomers})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Repeat Customers"}),a.jsx("span",{className:"font-semibold",children:z().repeatCustomers})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Spend per Customer"}),a.jsxs("span",{className:"font-semibold",children:[z().avgSpendPerCustomer.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Customer Retention"}),a.jsxs("span",{className:"font-semibold",children:[z().totalCustomers>0?(z().repeatCustomers/z().totalCustomers*100).toFixed(1):0,"%"]})]})]})})]}),a.jsxs(me,{children:[a.jsx(Re,{children:a.jsx(Pe,{children:"Top Customers"})}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-2",children:z().topCustomers.slice(0,5).map((F,$)=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(et,{variant:"outline",children:["#",$+1]}),a.jsxs("span",{className:"text-sm",children:["Customer ",F.id.slice(-8)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-semibold",children:[F.revenue.toLocaleString()," SYP"]}),a.jsxs("p",{className:"text-xs text-gray-600",children:[F.tickets," tickets  ",F.events," events"]})]})]},F.id))})})]})]})}),a.jsx(Mt,{value:"monthly",className:"space-y-4",children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:"Monthly Comparison"}),a.jsx(it,{children:"Compare performance across different months"})]}),a.jsx(ge,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(wi,{width:"100%",height:"100%",children:a.jsxs(Ko,{data:R(),children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"month"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:(F,$)=>[$==="revenue"?`${F} SYP`:F,$==="revenue"?"Revenue":$==="events"?"Events":"Tickets"]}),a.jsx(_a,{}),a.jsx(Vr,{dataKey:"revenue",fill:"#8884d8"}),a.jsx(Vr,{dataKey:"events",fill:"#82ca9d"}),a.jsx(Vr,{dataKey:"tickets",fill:"#ffc658"})]})})})})]})}),a.jsx(Mt,{value:"insights",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(me,{children:[a.jsx(Re,{children:a.jsx(Pe,{children:"Business Insights"})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Net Revenue"}),a.jsxs("span",{className:"font-bold text-green-600",children:[I.netRevenue.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Avg Ticket Price"}),a.jsxs("span",{className:"font-bold text-blue-600",children:[I.avgTicketPrice.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Platform Fees"}),a.jsxs("span",{className:"font-bold text-purple-600",children:[I.totalFees.toLocaleString()," SYP"]})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Recommendations"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[I.attendanceRate<80&&a.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[a.jsx(Kh,{className:"h-4 w-4"}),a.jsx("span",{children:"Focus on improving event promotion to boost attendance"})]}),I.avgRating<4&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[a.jsx(Qg,{className:"h-4 w-4"}),a.jsx("span",{children:"Work on event quality and customer experience"})]}),I.avgTicketPrice<500&&a.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[a.jsx(Wn,{className:"h-4 w-4"}),a.jsx("span",{children:"Consider premium event offerings to increase revenue"})]})]})]})]})]}),a.jsxs(me,{children:[a.jsx(Re,{children:a.jsx(Pe,{children:"Performance Summary"})}),a.jsx(ge,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg",children:[a.jsx("h3",{className:"text-2xl font-bold",children:I.todayRevenue.toLocaleString()}),a.jsx("p",{className:"text-green-100",children:"Today's Revenue"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsxs("h4",{className:"text-xl font-bold",children:[I.attendanceRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Attendance Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("h4",{className:"text-xl font-bold",children:I.avgRating.toFixed(1)}),a.jsx("p",{className:"text-sm text-gray-600",children:"Avg Rating"})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Quick Stats"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Best performing category:"}),a.jsx("span",{className:"font-semibold",children:((B=D()[0])==null?void 0:B.name)||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Highest revenue event:"}),a.jsxs("span",{className:"font-semibold",children:[((V=M()[0])==null?void 0:V.title.slice(0,20))||"N/A","..."]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Customer retention rate:"}),a.jsxs("span",{className:"font-semibold",children:[z().totalCustomers>0?(z().repeatCustomers/z().totalCustomers*100).toFixed(1):0,"%"]})]})]})]})]})})]})]})})]})]})};function CCe(){return a.jsx(F0,{userType:"event_admin",children:a.jsxs(Vh,{children:[a.jsx(xt,{path:"/",element:a.jsx(Ul,{to:"/event-admin/home",replace:!0})}),a.jsx(xt,{path:"/home",element:a.jsx(SCe,{})}),a.jsx(xt,{path:"/events",element:a.jsx(_Ce,{})}),a.jsx(xt,{path:"/validation",element:a.jsx(ACe,{})}),a.jsx(xt,{path:"/analytics",element:a.jsx(ECe,{})}),a.jsx(xt,{path:"/profile",element:a.jsx(np,{})}),a.jsx(xt,{path:"/settings",element:a.jsx(rp,{})}),a.jsx(xt,{path:"/chat",element:a.jsx(Hy,{})}),a.jsx(xt,{path:"/withdrawal",element:a.jsx(TH,{})})]})})}function TCe(){const{profile:e}=Wt(),{t,language:n}=$t(),[r,i]=N.useState({totalUsers:0,activeUsers:0,totalTransactions:0,totalRevenue:0,pendingDisputes:0,systemUptime:99.9,recentUsers:[],recentTransactions:[],usersByType:{passengers:0,drivers:0,merchants:0,eventAdmins:0}}),[s,o]=N.useState({totalEvents:0,activeEvents:0,totalTicketsSold:0,eventRevenue:0,recentEvents:[],eventAdminPerformance:[],withdrawalRequests:[],topPerformingEvents:[]}),[u,m]=N.useState(!0),[f,g]=N.useState(!0);N.useEffect(()=>{e&&(x(),w())},[e]);const x=async()=>{try{m(!0);const{data:A,error:M}=await qe.from("profiles").select("*").order("created_at",{ascending:!1});if(M)throw M;const{data:D,error:R}=await qe.from("transactions").select(`
          *,
          from_profile:profiles!transactions_from_user_id_fkey (
            full_name
          ),
          to_profile:profiles!transactions_to_user_id_fkey (
            full_name
          )
        `).order("created_at",{ascending:!1}).limit(10);if(R)throw R;const{data:z,error:k}=await qe.from("disputes").select("*").eq("status","open");if(k)throw k;const I=(A==null?void 0:A.length)||0,B=(A==null?void 0:A.filter(Y=>Y.is_active).length)||0,V=(D==null?void 0:D.length)||0,F=(D==null?void 0:D.reduce((Y,X)=>Y+X.amount,0))||0,$={passengers:(A==null?void 0:A.filter(Y=>Y.user_type==="passenger").length)||0,drivers:(A==null?void 0:A.filter(Y=>Y.user_type==="driver").length)||0,merchants:(A==null?void 0:A.filter(Y=>Y.user_type==="merchant").length)||0,eventAdmins:(A==null?void 0:A.filter(Y=>Y.user_type==="event_admin").length)||0},W=(A==null?void 0:A.slice(0,5))||[];i({totalUsers:I,activeUsers:B,totalTransactions:V,totalRevenue:F,pendingDisputes:(z==null?void 0:z.length)||0,systemUptime:99.9,recentUsers:W,recentTransactions:(D==null?void 0:D.slice(0,5))||[],usersByType:$})}catch(A){console.error("Error fetching system stats:",A)}finally{m(!1)}},w=async()=>{try{const{data:A,error:M}=await qe.from("events").select(`
          *,
          creator:profiles!events_created_by_fkey (
            full_name,
            user_type
          )
        `).order("created_at",{ascending:!1});if(M)throw M;const{data:D,error:R}=await qe.from("user_tickets").select(`
          *,
          event:events (
            title,
            created_by
          )
        `);if(R)throw R;const{data:z,error:k}=await qe.from("withdrawal_requests").select(`
          *,
          user:profiles (
            full_name,
            user_type
          )
        `).eq("status","pending").order("created_at",{ascending:!1});if(k)throw k;const I=(A==null?void 0:A.length)||0,B=(A==null?void 0:A.filter(Y=>Y.is_active).length)||0,V=(D==null?void 0:D.length)||0,F=(D==null?void 0:D.reduce((Y,X)=>{var ne;return Y+(((ne=X.event_details_snapshot)==null?void 0:ne.price)||0)},0))||0,$=(A==null?void 0:A.filter(Y=>{var X;return((X=Y.creator)==null?void 0:X.user_type)==="event_admin"}).map(Y=>{var J;const X=(D==null?void 0:D.filter(H=>H.event_id===Y.id))||[],ne=X.reduce((H,ee)=>{var K;return H+(((K=ee.event_details_snapshot)==null?void 0:K.price)||0)},0);return{adminName:(J=Y.creator)==null?void 0:J.full_name,eventTitle:Y.title,ticketsSold:X.length,revenue:ne,eventStatus:Y.is_active?"Active":"Inactive",createdAt:Y.created_at}}).sort((Y,X)=>X.revenue-Y.revenue).slice(0,10))||[],W=(A==null?void 0:A.map(Y=>{const X=(D==null?void 0:D.filter(J=>J.event_id===Y.id))||[],ne=X.reduce((J,H)=>{var ee;return J+(((ee=H.event_details_snapshot)==null?void 0:ee.price)||0)},0);return{...Y,ticketsSold:X.length,revenue:ne}}).sort((Y,X)=>X.revenue-Y.revenue).slice(0,5))||[];o({totalEvents:I,activeEvents:B,totalTicketsSold:V,eventRevenue:F,recentEvents:(A==null?void 0:A.slice(0,5))||[],eventAdminPerformance:$,withdrawalRequests:z||[],topPerformingEvents:W})}catch(A){console.error("Error fetching event stats:",A)}},_=A=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(A),T=A=>{switch(A){case"passenger":return"default";case"driver":return"secondary";case"merchant":return"outline";case"event_admin":return"destructive";case"admin":return"destructive";default:return"secondary"}},C=A=>{switch(A){case"completed":return"default";case"pending":return"secondary";case"failed":return"destructive";case"cancelled":return"outline";default:return"secondary"}};return u?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("systemDashboard")}),a.jsx("p",{className:"text-muted-foreground",children:t("systemOverviewAndManagement")})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Ne,{variant:"outline",children:[a.jsx(ru,{className:"h-4 w-4 mr-2"}),t("systemSettings")]}),a.jsxs(Ne,{variant:"outline",children:[a.jsx(li,{className:"h-4 w-4 mr-2"}),t("securityPanel")]})]})]}),a.jsx(me,{className:"border-green-200 bg-green-50",children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(RA,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"font-medium text-green-800",children:t("systemOperational")}),a.jsxs(et,{variant:"outline",className:"bg-green-100 text-green-800",children:[r.systemUptime,"% ",t("uptime")]})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Oa,{className:"h-4 w-4 text-blue-600"}),a.jsxs("span",{className:"text-blue-800",children:[s.totalEvents," Events"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Sg,{className:"h-4 w-4 text-purple-600"}),a.jsxs("span",{className:"text-purple-800",children:[r.usersByType.eventAdmins," Event Admins"]})]})]})]})})}),a.jsxs(ms,{defaultValue:"overview",className:"w-full",children:[a.jsxs(gs,{className:"grid w-full grid-cols-3",children:[a.jsx(Ct,{value:"overview",children:"System Overview"}),a.jsx(Ct,{value:"events",children:"Event Management"}),a.jsx(Ct,{value:"performance",children:"Performance & Analytics"})]}),a.jsxs(Mt,{value:"overview",className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("totalUsers")}),a.jsx(Ca,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalUsers}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.activeUsers," ",t("activeUsers")]})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("totalTransactions")}),a.jsx(Ea,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalTransactions}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(Wn,{className:"h-3 w-3 inline mr-1"}),t("systemVolume")]})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("totalRevenue")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wr,{className:"h-4 w-4 text-muted-foreground"}),a.jsx(Ne,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0",onClick:()=>g(!f),children:f?a.jsx(Hn,{className:"h-3 w-3"}):a.jsx(di,{className:"h-3 w-3"})})]})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:f?_(r.totalRevenue):""}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("systemRevenue")})]})]})}),a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:t("pendingIssues")}),a.jsx(jr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.pendingDisputes}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("requiresAttention")})]})]})})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("userDistribution")}),a.jsx(it,{children:t("usersByAccountType")})]}),a.jsx(ge,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.usersByType.passengers}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("passengers")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.usersByType.drivers}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("drivers")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.usersByType.merchants}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("merchants")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.usersByType.eventAdmins}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("eventAdmins")})]})]})})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("recentUsers")}),a.jsx(it,{children:t("latestRegistrations")})]}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-4",children:r.recentUsers.length>0?r.recentUsers.map((A,M)=>a.jsxs(We.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:M*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:A.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:A.email})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(et,{variant:T(A.user_type),children:t(A.user_type)}),a.jsx(et,{variant:A.is_active?"default":"secondary",children:A.is_active?t("active"):t("inactive")})]})]},A.id)):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noRecentUsers")})})})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("recentTransactions")}),a.jsx(it,{children:t("latestSystemActivity")})]}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-4",children:r.recentTransactions.length>0?r.recentTransactions.map((A,M)=>{var D,R;return a.jsxs(We.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:M*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-medium",children:[(D=A.from_profile)==null?void 0:D.full_name,"  ",(R=A.to_profile)==null?void 0:R.full_name]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t(A.transaction_type),"  ",A.payment_method]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(et,{variant:C(A.status),children:t(A.status)}),a.jsx("span",{className:"text-sm font-medium",children:_(A.amount)})]})]},A.id)}):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noRecentTransactions")})})})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("quickActions")}),a.jsx(it,{children:t("commonAdministrativeTasks")})]}),a.jsx(ge,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsx(Ne,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(Ca,{className:"h-6 w-6"}),a.jsx("span",{children:t("manageUsers")})]})}),a.jsx(Ne,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(Wn,{className:"h-6 w-6"}),a.jsx("span",{children:t("systemAnalytics")})]})}),a.jsx(Ne,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(jr,{className:"h-6 w-6"}),a.jsx("span",{children:t("handleDisputes")})]})}),a.jsx(Ne,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(ru,{className:"h-6 w-6"}),a.jsx("span",{children:t("systemConfig")})]})})]})})]})]}),a.jsxs(Mt,{value:"events",className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Total Events"}),a.jsx(Ta,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:s.totalEvents}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.activeEvents," active events"]})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Tickets Sold"}),a.jsx(Oa,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:s.totalTicketsSold}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all events"})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Event Revenue"}),a.jsx(wr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:_(s.eventRevenue)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total event earnings"})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Pending Withdrawals"}),a.jsx(zn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:s.withdrawalRequests.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Requiring approval"})]})]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx($te,{className:"h-5 w-5"}),"Top Performing Events"]}),a.jsx(it,{children:"Events ranked by revenue and ticket sales"})]}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-4",children:s.topPerformingEvents.length>0?s.topPerformingEvents.map((A,M)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(et,{variant:"outline",className:"text-xs",children:["#",M+1]}),a.jsx("h4",{className:"font-medium",children:A.title})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[A.ticketsSold," tickets  ",A.is_active?"Active":"Inactive"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium",children:_(A.revenue)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Revenue"})]})]},A.id)):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No events found"})})})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(zn,{className:"h-5 w-5"}),"Pending Withdrawals"]}),a.jsx(it,{children:"Withdrawal requests awaiting approval"})]}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-4",children:s.withdrawalRequests.length>0?s.withdrawalRequests.slice(0,5).map((A,M)=>{var D,R,z;return a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:(D=A.user)==null?void 0:D.full_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[(R=A.user)==null?void 0:R.user_type,"  ",(z=A.payment_method)==null?void 0:z.type]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium",children:_(A.amount)}),a.jsx(et,{variant:"secondary",className:"text-xs",children:A.status})]})]},A.id)}):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:"No pending withdrawals"})})})]})]})]}),a.jsxs(Mt,{value:"performance",className:"space-y-6",children:[a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Sg,{className:"h-5 w-5"}),"Event Admin Performance"]}),a.jsx(it,{children:"Track event admin performance and revenue generation"})]}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-4",children:s.eventAdminPerformance.length>0?s.eventAdminPerformance.map((A,M)=>a.jsxs(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:M*.1},className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary/10 rounded-full",children:a.jsx(_S,{className:"h-4 w-4 text-primary"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:A.adminName}),a.jsx("p",{className:"text-sm text-muted-foreground",children:A.eventTitle})]})]})}),a.jsxs("div",{className:"grid grid-cols-3 gap-6 text-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-bold",children:A.ticketsSold}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Tickets"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-lg font-bold",children:_(A.revenue)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Revenue"})]}),a.jsx("div",{children:a.jsx(et,{variant:A.eventStatus==="Active"?"default":"secondary",children:A.eventStatus})})]})]},M)):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Sg,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No event admin performance data"})]})})})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(M1,{className:"h-5 w-5"}),"System Performance"]}),a.jsx(it,{children:"Key system performance indicators"})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"User Engagement"}),a.jsxs("span",{children:[Math.round(r.activeUsers/r.totalUsers*100),"%"]})]}),a.jsx(Nd,{value:r.activeUsers/r.totalUsers*100,className:"h-2"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Event Success Rate"}),a.jsxs("span",{children:[Math.round(s.activeEvents/s.totalEvents*100),"%"]})]}),a.jsx(Nd,{value:s.activeEvents/s.totalEvents*100,className:"h-2"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"System Uptime"}),a.jsxs("span",{children:[r.systemUptime,"%"]})]}),a.jsx(Nd,{value:r.systemUptime,className:"h-2"})]})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Kh,{className:"h-5 w-5"}),"Quick Management Actions"]}),a.jsx(it,{children:"Administrative controls and oversight"})]}),a.jsx(ge,{children:a.jsxs("div",{className:"grid gap-3",children:[a.jsxs(Ne,{variant:"outline",className:"justify-start",children:[a.jsx(Sg,{className:"h-4 w-4 mr-2"}),"Manage Event Admins"]}),a.jsxs(Ne,{variant:"outline",className:"justify-start",children:[a.jsx(One,{className:"h-4 w-4 mr-2"}),"Event Oversight"]}),a.jsxs(Ne,{variant:"outline",className:"justify-start",children:[a.jsx(Rr,{className:"h-4 w-4 mr-2"}),"Approve Withdrawals"]}),a.jsxs(Ne,{variant:"outline",className:"justify-start",children:[a.jsx(jr,{className:"h-4 w-4 mr-2"}),"Handle Disputes (",r.pendingDisputes,")"]})]})})]})]})]})]})]})}const bg=[{value:"passenger",label:"Passenger",icon:Ca,color:"bg-blue-500"},{value:"driver",label:"Driver",icon:oi,color:"bg-green-500"},{value:"merchant",label:"Merchant",icon:au,color:"bg-purple-500"},{value:"event_admin",label:"Event Admin",icon:Oa,color:"bg-orange-500"},{value:"admin",label:"Admin",icon:Sg,color:"bg-red-500"}];function OCe(){const{profile:e}=Wt(),{t,language:n}=$t(),[r,i]=N.useState([]),[s,o]=N.useState([]),[u,m]=N.useState(new Set),[f,g]=N.useState(null),[x,w]=N.useState(!0),[_,T]=N.useState(""),[C,A]=N.useState("all"),[M,D]=N.useState("all"),[R,z]=N.useState("all"),[k,I]=N.useState(!1),[B,V]=N.useState(null),[F,$]=N.useState(!1),[W,Y]=N.useState({full_name:"",email:"",phone_number:"",user_type:"passenger",is_active:!0,language_preference:"en"});N.useEffect(()=>{X(),ne()},[]),N.useEffect(()=>{J()},[r,_,C,M,R]);const X=async()=>{try{w(!0);const{data:ie,error:ce}=await qe.from("profiles").select(`
          *,
          wallets (
            balance
          )
        `).order("created_at",{ascending:!1});if(ce)throw ce;const le=await Promise.all((ie||[]).map(async he=>{var je,be;const{count:Ee}=await qe.from("transactions").select("*",{count:"exact",head:!0}).or(`from_user_id.eq.${he.id},to_user_id.eq.${he.id}`);return{...he,wallet_balance:((be=(je=he.wallets)==null?void 0:je[0])==null?void 0:be.balance)||0,total_transactions:Ee||0}}));i(le)}catch(ie){console.error("Error fetching users:",ie),Me.error(t("errorFetchingUsers"))}finally{w(!1)}},ne=async()=>{try{const{data:ie,error:ce}=await qe.from("profiles").select("user_type, is_active, is_verified, created_at");if(ce)throw ce;const le=new Date,he=new Date(le.getFullYear(),le.getMonth(),1),Ee={total_users:ie.length,active_users:ie.filter(je=>je.is_active).length,verified_users:ie.filter(je=>je.is_verified).length,new_this_month:ie.filter(je=>new Date(je.created_at)>=he).length,by_role:{},by_status:{active:ie.filter(je=>je.is_active).length,inactive:ie.filter(je=>!je.is_active).length,verified:ie.filter(je=>je.is_verified).length,unverified:ie.filter(je=>!je.is_verified).length}};bg.forEach(je=>{Ee.by_role[je.value]=ie.filter(be=>be.user_type===je.value).length}),g(Ee)}catch(ie){console.error("Error fetching user stats:",ie)}},J=()=>{let ie=r;_&&(ie=ie.filter(ce=>ce.full_name.toLowerCase().includes(_.toLowerCase())||ce.email.toLowerCase().includes(_.toLowerCase())||ce.phone_number&&ce.phone_number.includes(_))),C!=="all"&&(ie=ie.filter(ce=>ce.user_type===C)),M!=="all"&&(M==="active"?ie=ie.filter(ce=>ce.is_active):M==="inactive"&&(ie=ie.filter(ce=>!ce.is_active))),R!=="all"&&(R==="verified"?ie=ie.filter(ce=>ce.is_verified):R==="unverified"&&(ie=ie.filter(ce=>!ce.is_verified))),o(ie)},H=(ie,ce)=>{m(le=>{const he=new Set(le);return ce?he.add(ie):he.delete(ie),he})},ee=ie=>{m(ie?new Set(s.map(ce=>ce.id)):new Set)},K=async(ie,ce)=>{try{const{error:le}=await qe.from("profiles").update({is_active:ce}).eq("id",ie);if(le)throw le;Me.success(t("userStatusUpdated")),X()}catch(le){console.error("Error updating user status:",le),Me.error(t("errorUpdatingUser"))}},ue=async(ie,ce)=>{try{const{error:le}=await qe.from("profiles").update({is_verified:ce}).eq("id",ie);if(le)throw le;Me.success(t("userVerificationUpdated")),X()}catch(le){console.error("Error updating user verification:",le),Me.error(t("errorUpdatingUser"))}},re=async(ie,ce)=>{try{const{error:le}=await qe.from("profiles").update({user_type:ce}).eq("id",ie);if(le)throw le;Me.success(t("userRoleUpdated")),X()}catch(le){console.error("Error updating user role:",le),Me.error(t("errorUpdatingUser"))}},de=async ie=>{if(u.size===0){Me.error(t("selectUsersFirst"));return}try{const ce=Array.from(u);let le={};switch(ie){case"activate":le={is_active:!0};break;case"deactivate":le={is_active:!1};break;case"verify":le={is_verified:!0};break;case"unverify":le={is_verified:!1};break;default:return}const{error:he}=await qe.from("profiles").update(le).in("id",ce);if(he)throw he;Me.success(t("bulkActionCompleted")),m(new Set),X()}catch(ce){console.error("Error performing bulk action:",ce),Me.error(t("errorPerformingBulkAction"))}},xe=ie=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(ie),Se=ie=>new Date(ie).toLocaleDateString(n==="ar"?"ar-SY":"en-US"),ye=ie=>bg.find(ce=>ce.value===ie)||bg[0],Le=ie=>ie.is_active?ie.is_verified?a.jsx(et,{variant:"default",children:"Active"}):a.jsx(et,{variant:"secondary",children:"Unverified"}):a.jsx(et,{variant:"destructive",children:"Inactive"});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("userManagement")}),a.jsx("p",{className:"text-muted-foreground",children:t("manageAllSystemUsers")})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Ne,{variant:"outline",onClick:X,children:[a.jsx(_d,{className:"h-4 w-4 mr-2"}),t("refresh")]}),a.jsxs(Ne,{variant:"outline",children:[a.jsx(_i,{className:"h-4 w-4 mr-2"}),t("export")]})]})]}),f&&a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(me,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ca,{className:"h-8 w-8 text-blue-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:f.total_users}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("totalUsers")})]})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(_S,{className:"h-8 w-8 text-green-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:f.active_users}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("activeUsers")})]})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Kc,{className:"h-8 w-8 text-purple-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:f.verified_users}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("verifiedUsers")})]})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(BA,{className:"h-8 w-8 text-orange-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold",children:f.new_this_month}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("newThisMonth")})]})]})})})]}),a.jsx(me,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(zs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(vt,{placeholder:t("searchUsers"),value:_,onChange:ie=>T(ie.target.value),className:"pl-9"})]})}),a.jsxs(It,{value:C,onValueChange:A,children:[a.jsx(Lt,{className:"w-[180px]",children:a.jsx(zt,{placeholder:t("filterByRole")})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:t("allRoles")}),bg.map(ie=>a.jsx(Oe,{value:ie.value,children:t(ie.label.toLowerCase())},ie.value))]})]}),a.jsxs(It,{value:M,onValueChange:D,children:[a.jsx(Lt,{className:"w-[180px]",children:a.jsx(zt,{placeholder:t("filterByStatus")})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:t("allStatuses")}),a.jsx(Oe,{value:"active",children:t("active")}),a.jsx(Oe,{value:"inactive",children:t("inactive")})]})]}),a.jsxs(It,{value:R,onValueChange:z,children:[a.jsx(Lt,{className:"w-[180px]",children:a.jsx(zt,{placeholder:t("filterByVerification")})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:t("allVerification")}),a.jsx(Oe,{value:"verified",children:t("verified")}),a.jsx(Oe,{value:"unverified",children:t("unverified")})]})]})]}),u.size>0&&a.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-muted rounded-lg",children:[a.jsxs("span",{className:"text-sm font-medium",children:[u.size," ",t("usersSelected")]}),a.jsxs("div",{className:"flex space-x-2 ml-auto",children:[a.jsxs(Ne,{size:"sm",variant:"outline",onClick:()=>de("activate"),children:[a.jsx(_S,{className:"h-4 w-4 mr-1"}),t("activate")]}),a.jsxs(Ne,{size:"sm",variant:"outline",onClick:()=>de("deactivate"),children:[a.jsx(_re,{className:"h-4 w-4 mr-1"}),t("deactivate")]}),a.jsxs(Ne,{size:"sm",variant:"outline",onClick:()=>de("verify"),children:[a.jsx(Kc,{className:"h-4 w-4 mr-1"}),t("verify")]}),a.jsxs(Ne,{size:"sm",variant:"outline",onClick:()=>de("unverify"),children:[a.jsx(li,{className:"h-4 w-4 mr-1"}),t("unverify")]})]})]})]})})}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:t("users")}),a.jsx(it,{children:t("manageUserAccountsAndPermissions")})]}),a.jsx(ge,{children:x?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.length>0?a.jsx("div",{className:"rounded-md border",children:a.jsxs(ST,{children:[a.jsx(_T,{children:a.jsxs(ET,{children:[a.jsx(ha,{className:"w-12",children:a.jsx(ou,{checked:u.size===s.length&&s.length>0,onCheckedChange:ee})}),a.jsx(ha,{children:t("user")}),a.jsx(ha,{children:t("role")}),a.jsx(ha,{children:t("status")}),a.jsx(ha,{children:t("wallet")}),a.jsx(ha,{children:t("joined")}),a.jsx(ha,{className:"w-24",children:t("actions")})]})}),a.jsx(AT,{children:a.jsx(A1,{children:s.map((ie,ce)=>{const le=ye(ie.user_type),he=le.icon;return a.jsxs(We.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:ce*.05},className:"hover:bg-muted/50",children:[a.jsx(ma,{children:a.jsx(ou,{checked:u.has(ie.id),onCheckedChange:Ee=>H(ie.id,Ee)})}),a.jsx(ma,{children:a.jsxs("div",{className:"flex items-center space-x-3",children:[ie.avatar_url?a.jsx("img",{src:ie.avatar_url,alt:ie.full_name,className:"w-8 h-8 rounded-full"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center",children:a.jsx(Ca,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:ie.full_name}),a.jsx("div",{className:"text-sm text-muted-foreground",children:ie.email}),ie.phone_number&&a.jsx("div",{className:"text-xs text-muted-foreground",children:ie.phone_number})]})]})}),a.jsx(ma,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`w-2 h-2 rounded-full ${le.color}`}),a.jsx(he,{className:"h-4 w-4"}),a.jsx("span",{children:t(le.label.toLowerCase())})]})}),a.jsx(ma,{children:a.jsxs("div",{className:"space-y-1",children:[Le(ie),ie.is_verified&&a.jsxs("div",{className:"flex items-center space-x-1 text-xs text-green-600",children:[a.jsx(Rr,{className:"h-3 w-3"}),a.jsx("span",{children:t("verified")})]})]})}),a.jsx(ma,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"font-medium",children:xe(ie.wallet_balance||0)}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[ie.total_transactions||0," ",t("transactions")]})]})}),a.jsx(ma,{children:a.jsx("div",{className:"text-sm",children:Se(ie.created_at)})}),a.jsx(ma,{children:a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>K(ie.id,!ie.is_active),title:ie.is_active?t("deactivate"):t("activate"),children:ie.is_active?a.jsx(di,{className:"h-4 w-4"}):a.jsx(Hn,{className:"h-4 w-4"})}),a.jsx(Ne,{variant:"ghost",size:"sm",onClick:()=>ue(ie.id,!ie.is_verified),title:ie.is_verified?t("unverify"):t("verify"),children:ie.is_verified?a.jsx(li,{className:"h-4 w-4"}):a.jsx(Kc,{className:"h-4 w-4"})}),a.jsxs(It,{value:ie.user_type,onValueChange:Ee=>re(ie.id,Ee),children:[a.jsx(Lt,{className:"w-auto h-8 text-xs",children:a.jsx(ru,{className:"h-3 w-3"})}),a.jsx(Bt,{children:bg.map(Ee=>a.jsx(Oe,{value:Ee.value,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ee.icon,{className:"h-4 w-4"}),a.jsx("span",{children:t(Ee.label.toLowerCase())})]})},Ee.value))})]})]})})]},ie.id)})})})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ca,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:t("noUsersFound")}),a.jsx("p",{className:"text-muted-foreground",children:t("adjustFiltersToSeeUsers")})]})})]})]})}const MCe=()=>{var I;const{user:e}=Wt(),{language:t}=$t(),[n,r]=N.useState(null),[i,s]=N.useState([]),[o,u]=N.useState([]),[m,f]=N.useState([]),[g,x]=N.useState(!0),[w,_]=N.useState("30"),[T,C]=N.useState("line");N.useEffect(()=>{e&&A()},[e,w]);const A=async()=>{if(e){x(!0);try{const B=zo(new Date,parseInt(w)),V={totalUsers:15420,activeUsers:8930,totalTransactions:45280,totalRevenue:125e4,platformFees:125e3,avgTransactionValue:2760,userGrowthRate:12.5,revenueGrowthRate:18.3},F=[{user_type:"passenger",count:8500,active_count:5200,revenue_generated:68e4},{user_type:"driver",count:2800,active_count:1850,revenue_generated:42e4},{user_type:"merchant",count:3200,active_count:1600,revenue_generated:125e3},{user_type:"event_admin",count:850,active_count:260,revenue_generated:25e3},{user_type:"admin",count:70,active_count:20,revenue_generated:0}],$=[];for(let ne=0;ne<1e3;ne++){const J=new Date(B.getTime()+Math.random()*(new Date().getTime()-B.getTime()));$.push({id:`tx_${ne}`,amount:Math.floor(Math.random()*1e4)+100,fee:Math.floor(Math.random()*100)+10,status:Math.random()>.1?"completed":Math.random()>.5?"pending":"failed",payment_method:["MTN Cash","Syriatel Cash","ShamCash","Card"][Math.floor(Math.random()*4)],user_type:["passenger","driver","merchant","event_admin"][Math.floor(Math.random()*4)],created_at:J.toISOString()})}const W=[],Y=["failed_login","suspicious_transaction","fraud_attempt","security_violation"],X=["low","medium","high","critical"];for(let ne=0;ne<50;ne++){const J=new Date(B.getTime()+Math.random()*(new Date().getTime()-B.getTime()));W.push({id:`sec_${ne}`,event_type:Y[Math.floor(Math.random()*Y.length)],severity:X[Math.floor(Math.random()*X.length)],user_id:Math.random()>.3?`user_${Math.floor(Math.random()*1e3)}`:void 0,details:"Security event detected by automated monitoring system",created_at:J.toISOString()})}r(V),s(F),u($),f(W)}catch(B){console.error("Error fetching system analytics:",B)}finally{x(!1)}}},M=()=>{const B=new Map;return o.filter(V=>V.status==="completed").forEach(V=>{const F=lr(Jr(V.created_at),"yyyy-MM-dd"),$=B.get(F)||{revenue:0,transactions:0,fees:0};B.set(F,{revenue:$.revenue+V.amount,transactions:$.transactions+1,fees:$.fees+V.fee})}),Array.from(B.entries()).map(([V,F])=>({date:lr(Jr(V),"MMM dd",{locale:t==="ar"?y0:void 0}),revenue:F.revenue,transactions:F.transactions,fees:F.fees})).sort((V,F)=>V.date.localeCompare(F.date))},D=()=>{const B={passenger:"#8884d8",driver:"#82ca9d",merchant:"#ffc658",event_admin:"#ff7c7c",admin:"#8dd1e1"};return i.map(V=>({name:V.user_type.charAt(0).toUpperCase()+V.user_type.slice(1),total:V.count,active:V.active_count,revenue:V.revenue_generated,color:B[V.user_type]}))},R=()=>{const B=new Map;return o.forEach(V=>{const F=V.payment_method,$=B.get(F)||{transactions:0,revenue:0};B.set(F,{transactions:$.transactions+1,revenue:$.revenue+(V.status==="completed"?V.amount:0),successRate:0})}),B.forEach((V,F)=>{const $=o.filter(Y=>Y.payment_method===F),W=$.filter(Y=>Y.status==="completed").length;V.successRate=$.length>0?W/$.length*100:0}),Array.from(B.entries()).map(([V,F])=>({name:V,transactions:F.transactions,revenue:F.revenue,successRate:F.successRate})).sort((V,F)=>F.revenue-V.revenue)},z=()=>{const B=new Map,V=new Map;m.forEach(W=>{B.set(W.event_type,(B.get(W.event_type)||0)+1),V.set(W.severity,(V.get(W.severity)||0)+1)});const F=m.filter(W=>kv(Jr(W.created_at))),$=m.filter(W=>W.severity==="critical");return{totalEvents:m.length,todayEvents:F.length,criticalEvents:$.length,eventTypes:Array.from(B.entries()).map(([W,Y])=>({type:W,count:Y})),severityDistribution:Array.from(V.entries()).map(([W,Y])=>({severity:W,count:Y}))}},k=()=>{const B={metadata:{exportDate:new Date().toISOString(),dateRange:`${w} days`,adminId:e==null?void 0:e.id,generatedBy:"Tickets System Analytics"},platformMetrics:n,userActivity:i,revenueTrend:M(),paymentMethods:R(),securityAnalysis:z(),rawData:{transactions:o.length,securityEvents:m.length}},V=new Blob([JSON.stringify(B,null,2)],{type:"application/json"}),F=URL.createObjectURL(V),$=document.createElement("a");$.href=F,$.download=`system-analytics-${lr(new Date,"yyyy-MM-dd")}.json`,$.click(),URL.revokeObjectURL(F)};return g||!n?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):a.jsxs("div",{className:"space-y-6",dir:t==="ar"?"rtl":"ltr",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"System Analytics"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Platform-wide business intelligence and performance monitoring"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("select",{value:w,onChange:B=>_(B.target.value),className:"px-3 py-2 border border-gray-300 rounded-md bg-white dark:bg-gray-800 dark:border-gray-600",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 90 days"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(Ne,{onClick:k,variant:"outline",size:"sm",children:[a.jsx(_i,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Total Users"}),a.jsx(Ca,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n.totalUsers.toLocaleString()}),a.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[a.jsx(Wn,{className:"h-3 w-3 text-green-600 mr-1"}),a.jsxs("span",{className:"text-green-600",children:[n.userGrowthRate,"% growth"]})]})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Platform Revenue"}),a.jsx(wr,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(ge,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[n.totalRevenue.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[a.jsx(Wn,{className:"h-3 w-3 text-green-600 mr-1"}),a.jsxs("span",{className:"text-green-600",children:[n.revenueGrowthRate,"% vs last period"]})]})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Active Users"}),a.jsx(RA,{className:"h-4 w-4 text-purple-600"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n.activeUsers.toLocaleString()}),a.jsxs("p",{className:"text-xs text-gray-600",children:[(n.activeUsers/n.totalUsers*100).toFixed(1),"% of total users"]})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Security Events"}),a.jsx(li,{className:"h-4 w-4 text-red-600"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:z().totalEvents}),a.jsxs("p",{className:"text-xs text-gray-600",children:[z().criticalEvents," critical events"]})]})]})]}),a.jsxs(ms,{defaultValue:"overview",className:"space-y-4",children:[a.jsxs(gs,{className:"grid w-full grid-cols-2 lg:grid-cols-6",children:[a.jsx(Ct,{value:"overview",children:"Overview"}),a.jsx(Ct,{value:"users",children:"Users"}),a.jsx(Ct,{value:"revenue",children:"Revenue"}),a.jsx(Ct,{value:"payments",children:"Payments"}),a.jsx(Ct,{value:"security",children:"Security"}),a.jsx(Ct,{value:"insights",children:"Insights"})]}),a.jsx(Mt,{value:"overview",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:"Platform Performance"}),a.jsx(it,{children:"Key metrics overview"})]}),a.jsx(ge,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Transactions"}),a.jsx("span",{className:"font-semibold",children:n.totalTransactions.toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Transaction Value"}),a.jsxs("span",{className:"font-semibold",children:[n.avgTransactionValue.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Platform Fees Collected"}),a.jsxs("span",{className:"font-semibold",children:[n.platformFees.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Success Rate"}),a.jsxs("span",{className:"font-semibold",children:[(o.filter(B=>B.status==="completed").length/o.length*100).toFixed(1),"%"]})]})]})})]}),a.jsxs(me,{children:[a.jsx(Re,{children:a.jsx(Pe,{children:"User Distribution"})}),a.jsx(ge,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(wi,{width:"100%",height:"100%",children:a.jsxs(b1,{children:[a.jsx(kh,{data:D(),cx:"50%",cy:"50%",outerRadius:80,dataKey:"total",label:({name:B,percent:V})=>`${B}: ${((V||0)*100).toFixed(0)}%`,children:D().map((B,V)=>a.jsx(mu,{fill:B.color},`cell-${V}`))}),a.jsx(yr,{})]})})})})]})]})}),a.jsx(Mt,{value:"users",className:"space-y-4",children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:"User Activity by Type"}),a.jsx(it,{children:"User counts and activity levels across different user types"})]}),a.jsx(ge,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(wi,{width:"100%",height:"100%",children:a.jsxs(Ko,{data:D(),children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"name"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:(B,V)=>[B,V==="total"?"Total Users":V==="active"?"Active Users":"Revenue Generated"]}),a.jsx(_a,{}),a.jsx(Vr,{dataKey:"total",fill:"#8884d8"}),a.jsx(Vr,{dataKey:"active",fill:"#82ca9d"})]})})})})]})}),a.jsx(Mt,{value:"revenue",className:"space-y-4",children:a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(Pe,{children:"Revenue Trend"}),a.jsx(it,{children:"Daily platform revenue and transaction volume"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{variant:T==="line"?"default":"outline",size:"sm",onClick:()=>C("line"),children:"Line"}),a.jsx(Ne,{variant:T==="area"?"default":"outline",size:"sm",onClick:()=>C("area"),children:"Area"}),a.jsx(Ne,{variant:T==="bar"?"default":"outline",size:"sm",onClick:()=>C("bar"),children:"Bar"})]})]}),a.jsx(ge,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(wi,{width:"100%",height:"100%",children:T==="line"?a.jsxs(v0,{data:M(),children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"date"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:(B,V)=>[`${B} ${V==="revenue"||V==="fees"?"SYP":""}`,V==="revenue"?"Revenue":V==="fees"?"Fees":"Transactions"]}),a.jsx(_a,{}),a.jsx(Is,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2}),a.jsx(Is,{type:"monotone",dataKey:"fees",stroke:"#82ca9d",strokeWidth:2}),a.jsx(Is,{type:"monotone",dataKey:"transactions",stroke:"#ffc658",strokeWidth:2})]}):T==="area"?a.jsxs(Vy,{data:M(),children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"date"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:(B,V)=>[`${B} ${V==="revenue"||V==="fees"?"SYP":""}`,V==="revenue"?"Revenue":V==="fees"?"Fees":"Transactions"]}),a.jsx(_a,{}),a.jsx(Id,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),a.jsx(Id,{type:"monotone",dataKey:"fees",stackId:"2",stroke:"#82ca9d",fill:"#82ca9d",fillOpacity:.6})]}):a.jsxs(Ko,{data:M(),children:[a.jsx(ea,{strokeDasharray:"3 3"}),a.jsx($r,{dataKey:"date"}),a.jsx(Hr,{}),a.jsx(yr,{formatter:(B,V)=>[`${B} ${V==="revenue"||V==="fees"?"SYP":""}`,V==="revenue"?"Revenue":V==="fees"?"Fees":"Transactions"]}),a.jsx(_a,{}),a.jsx(Vr,{dataKey:"revenue",fill:"#8884d8"}),a.jsx(Vr,{dataKey:"fees",fill:"#82ca9d"})]})})})})]})}),a.jsx(Mt,{value:"payments",className:"space-y-4",children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:"Payment Methods Performance"}),a.jsx(it,{children:"Usage and success rates by payment method"})]}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-4",children:R().map((B,V)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Bg,{className:"h-6 w-6 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:B.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[B.transactions," transactions  ",B.successRate.toFixed(1),"% success rate"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold",children:[B.revenue.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${B.successRate>=95?"bg-green-500":B.successRate>=90?"bg-yellow-500":"bg-red-500"}`,style:{width:`${B.successRate}%`}})}),a.jsxs("span",{className:"text-xs text-gray-600",children:[B.successRate.toFixed(0),"%"]})]})]})]},B.name))})})]})}),a.jsx(Mt,{value:"security",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:"Security Events"}),a.jsx(it,{children:"Recent security incidents and alerts"})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:["Total Events (last ",w," days)"]}),a.jsx("span",{className:"font-semibold",children:z().totalEvents})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Today's Events"}),a.jsx("span",{className:"font-semibold",children:z().todayEvents})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Critical Events"}),a.jsx("span",{className:"font-semibold text-red-600",children:z().criticalEvents})]})]}),z().criticalEvents>0&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 rounded-lg",children:[a.jsx(jr,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"text-sm text-red-700",children:"Immediate attention required for critical security events"})]})]})]}),a.jsxs(me,{children:[a.jsx(Re,{children:a.jsx(Pe,{children:"Event Types"})}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-2",children:z().eventTypes.map((B,V)=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[a.jsx("span",{className:"text-sm capitalize",children:B.type.replace("_"," ")}),a.jsx(et,{variant:"outline",children:B.count})]},B.type))})})]})]})}),a.jsx(Mt,{value:"insights",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(me,{children:[a.jsx(Re,{children:a.jsx(Pe,{children:"Business Intelligence"})}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Revenue per Active User"}),a.jsxs("span",{className:"font-bold text-green-600",children:[(n.totalRevenue/n.activeUsers).toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Platform Commission Rate"}),a.jsxs("span",{className:"font-bold text-blue-600",children:[(n.platformFees/n.totalRevenue*100).toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"User Engagement Rate"}),a.jsxs("span",{className:"font-bold text-purple-600",children:[(n.activeUsers/n.totalUsers*100).toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Strategic Insights"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[n.userGrowthRate>10&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx(Wn,{className:"h-4 w-4"}),a.jsx("span",{children:"Strong user growth indicates healthy market demand"})]}),n.activeUsers/n.totalUsers*100<60&&a.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[a.jsx(Kh,{className:"h-4 w-4"}),a.jsx("span",{children:"Focus on user activation and engagement strategies"})]}),z().criticalEvents>5&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[a.jsx(li,{className:"h-4 w-4"}),a.jsx("span",{children:"Elevated security monitoring recommended"})]})]})]})]})]}),a.jsxs(me,{children:[a.jsx(Re,{children:a.jsx(Pe,{children:"System Health"})}),a.jsx(ge,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg",children:[a.jsx("h3",{className:"text-2xl font-bold",children:n.platformFees.toLocaleString()}),a.jsx("p",{className:"text-green-100",children:"Platform Fees Collected"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsxs("h4",{className:"text-xl font-bold",children:[(o.filter(B=>B.status==="completed").length/o.length*100).toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("h4",{className:"text-xl font-bold",children:n.avgTransactionValue.toLocaleString()}),a.jsx("p",{className:"text-sm text-gray-600",children:"Avg Transaction"})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Quick Stats"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Most active user type:"}),a.jsx("span",{className:"font-semibold",children:D().reduce((B,V)=>V.active>B.active?V:B).name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Highest revenue user type:"}),a.jsx("span",{className:"font-semibold",children:D().reduce((B,V)=>V.revenue>B.revenue?V:B).name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Top payment method:"}),a.jsx("span",{className:"font-semibold",children:((I=R()[0])==null?void 0:I.name)||"N/A"})]})]})]})]})})]})]})})]})]})};function DCe(){const{profile:e}=Wt(),{t}=$t(),[n,r]=N.useState([]),[i,s]=N.useState({total:0,open:0,inProgress:0,resolved:0,averageResolutionTime:0}),[o,u]=N.useState(!0),[m,f]=N.useState(""),[g,x]=N.useState("all"),[w,_]=N.useState("all"),[T,C]=N.useState(null),[A,M]=N.useState(!1),[D,R]=N.useState(""),[z,k]=N.useState(""),[I,B]=N.useState(""),[V,F]=N.useState(""),[$,W]=N.useState(!1),[Y,X]=N.useState([]);N.useEffect(()=>{e&&(ne(),J())},[e]),N.useEffect(()=>{H()},[n]);const ne=async()=>{try{u(!0);const{data:ye,error:Le}=await qe.from("disputes").select(`
          *,
          reporter:profiles!disputes_reported_by_fkey (
            full_name,
            email,
            user_type
          ),
          assigned_admin:profiles!disputes_assigned_to_fkey (
            full_name,
            email
          ),
          transaction:transactions (
            amount,
            transaction_type,
            created_at
          )
        `).order("created_at",{ascending:!1});if(Le)throw Le;r(ye||[])}catch(ye){console.error("Error fetching disputes:",ye),Me.error("Failed to load disputes")}finally{u(!1)}},J=async()=>{try{const{data:ye,error:Le}=await qe.from("profiles").select("id, full_name, email").eq("user_type","admin").eq("is_active",!0);if(Le)throw Le;X(ye||[])}catch(ye){console.error("Error fetching admins:",ye)}},H=()=>{const ye=n.length,Le=n.filter(Ee=>Ee.status==="open").length,ie=n.filter(Ee=>Ee.status==="in_progress").length,ce=n.filter(Ee=>Ee.status==="resolved"||Ee.status==="closed").length,le=n.filter(Ee=>Ee.resolved_at),he=le.length>0?le.reduce((Ee,je)=>{const be=new Date(je.created_at),Ke=new Date(je.resolved_at);return Ee+(Ke.getTime()-be.getTime())},0)/le.length/(1e3*60*60*24):0;s({total:ye,open:Le,inProgress:ie,resolved:ce,averageResolutionTime:he})},ee=n.filter(ye=>{var le;const Le=ye.description.toLowerCase().includes(m.toLowerCase())||ye.dispute_type.toLowerCase().includes(m.toLowerCase())||((le=ye.reporter)==null?void 0:le.full_name.toLowerCase().includes(m.toLowerCase())),ie=g==="all"||ye.status===g,ce=w==="all"||ye.priority===w;return Le&&ie&&ce}),K=async()=>{if(T){W(!0);try{const ye={};D.trim()&&(ye.admin_notes=D),z.trim()&&(ye.resolution=z),I&&(ye.assigned_to=I),V&&(ye.status=V,(V==="resolved"||V==="closed")&&(ye.resolved_at=new Date().toISOString())),ye.updated_at=new Date().toISOString();const{error:Le}=await qe.from("disputes").update(ye).eq("id",T.id);if(Le)throw Le;Me.success("Dispute updated successfully"),M(!1),ne(),ue()}catch(ye){console.error("Error updating dispute:",ye),Me.error("Failed to update dispute")}finally{W(!1)}}},ue=()=>{R(""),k(""),B(""),F(""),C(null)},re=ye=>{C(ye),R(ye.admin_notes||""),k(ye.resolution||""),B(ye.assigned_to||""),F(ye.status),M(!0)},de=ye=>{switch(ye){case"open":return"bg-red-500";case"in_progress":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-gray-500";default:return"bg-gray-500"}},xe=ye=>{switch(ye){case"high":return"destructive";case"medium":return"secondary";case"low":return"outline";default:return"outline"}},Se=ye=>{switch(ye){case"open":return jr;case"in_progress":return zn;case"resolved":return Rr;case"closed":return nu;default:return rv}};return o?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dispute Management"}),a.jsx("p",{className:"text-muted-foreground",children:"Handle user disputes and complaints efficiently"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Ne,{variant:"outline",children:[a.jsx(D1,{className:"h-4 w-4 mr-2"}),"Export Report"]}),a.jsxs(Ne,{variant:"outline",children:[a.jsx(ru,{className:"h-4 w-4 mr-2"}),"Settings"]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Total Disputes"}),a.jsx(rv,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i.total}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"All time"})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Open"}),a.jsx(jr,{className:"h-4 w-4 text-red-500"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:i.open}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Requires attention"})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"In Progress"}),a.jsx(zn,{className:"h-4 w-4 text-yellow-500"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:i.inProgress}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Being handled"})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Resolved"}),a.jsx(Rr,{className:"h-4 w-4 text-green-500"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:i.resolved}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Completed"})]})]}),a.jsxs(me,{children:[a.jsxs(Re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Pe,{className:"text-sm font-medium",children:"Avg Resolution"}),a.jsx(xre,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ge,{children:[a.jsx("div",{className:"text-2xl font-bold",children:i.averageResolutionTime.toFixed(1)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Days"})]})]})]}),a.jsx(me,{children:a.jsx(ge,{className:"pt-6",children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zs,{className:"h-4 w-4 absolute left-3 top-3 text-muted-foreground"}),a.jsx(vt,{placeholder:"Search disputes...",value:m,onChange:ye=>f(ye.target.value),className:"pl-10"})]}),a.jsxs(It,{value:g,onValueChange:x,children:[a.jsx(Lt,{children:a.jsx(zt,{placeholder:"Filter by status"})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:"All Statuses"}),a.jsx(Oe,{value:"open",children:"Open"}),a.jsx(Oe,{value:"in_progress",children:"In Progress"}),a.jsx(Oe,{value:"resolved",children:"Resolved"}),a.jsx(Oe,{value:"closed",children:"Closed"})]})]}),a.jsxs(It,{value:w,onValueChange:_,children:[a.jsx(Lt,{children:a.jsx(zt,{placeholder:"Filter by priority"})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:"All Priorities"}),a.jsx(Oe,{value:"high",children:"High"}),a.jsx(Oe,{value:"medium",children:"Medium"}),a.jsx(Oe,{value:"low",children:"Low"})]})]}),a.jsxs(Ne,{variant:"outline",children:[a.jsx(Gh,{className:"h-4 w-4 mr-2"}),"Advanced Filter"]})]})})}),a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{children:["Disputes (",ee.length,")"]}),a.jsx(it,{children:"Manage and resolve user disputes"})]}),a.jsx(ge,{children:a.jsx("div",{className:"space-y-4",children:ee.length>0?ee.map((ye,Le)=>{var ce,le,he,Ee,je;const ie=Se(ye.status);return a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Le*.1},className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:a.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(ie,{className:"h-4 w-4"}),a.jsx("h4",{className:"font-medium",children:ye.dispute_type})]}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:ye.description})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:(ce=ye.reporter)==null?void 0:ce.full_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:(le=ye.reporter)==null?void 0:le.email}),a.jsx(et,{variant:"outline",className:"text-xs mt-1",children:(he=ye.reporter)==null?void 0:he.user_type})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsxs(et,{variant:xe(ye.priority),className:"text-xs",children:[ye.priority," priority"]}),a.jsx(et,{className:`text-white text-xs ${de(ye.status)}`,children:ye.status})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Ah(new Date(ye.created_at),{addSuffix:!0})})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(za,{open:A&&(T==null?void 0:T.id)===ye.id,onOpenChange:be=>{M(be),be||ue()},children:[a.jsx(bu,{asChild:!0,children:a.jsxs(Ne,{variant:"outline",size:"sm",onClick:()=>re(ye),children:[a.jsx(Hn,{className:"h-4 w-4 mr-2"}),"View"]})}),a.jsxs(Va,{className:"max-w-4xl",children:[a.jsxs($a,{children:[a.jsx(Ha,{children:"Dispute Details"}),a.jsx(Fi,{children:"Manage and resolve this dispute"})]}),T&&a.jsxs("div",{className:"grid gap-6",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Dispute Type"}),a.jsx("p",{className:"text-sm font-medium",children:T.dispute_type})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Reporter"}),a.jsx("p",{className:"text-sm font-medium",children:(Ee=T.reporter)==null?void 0:Ee.full_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:(je=T.reporter)==null?void 0:je.email})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Status"}),a.jsxs(It,{value:V,onValueChange:F,children:[a.jsx(Lt,{children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"open",children:"Open"}),a.jsx(Oe,{value:"in_progress",children:"In Progress"}),a.jsx(Oe,{value:"resolved",children:"Resolved"}),a.jsx(Oe,{value:"closed",children:"Closed"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Assign To"}),a.jsxs(It,{value:I,onValueChange:B,children:[a.jsx(Lt,{children:a.jsx(zt,{placeholder:"Select admin"})}),a.jsx(Bt,{children:Y.map(be=>a.jsx(Oe,{value:be.id,children:be.full_name},be.id))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{children:"Description"}),a.jsx("div",{className:"p-3 bg-muted rounded-lg",children:a.jsx("p",{className:"text-sm",children:T.description})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"admin-notes",children:"Admin Notes"}),a.jsx(tl,{id:"admin-notes",placeholder:"Add notes about this dispute...",value:D,onChange:be=>R(be.target.value),rows:3})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"resolution",children:"Resolution"}),a.jsx(tl,{id:"resolution",placeholder:"Describe how this dispute was resolved...",value:z,onChange:be=>k(be.target.value),rows:3})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(Ne,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),a.jsx(Ne,{onClick:K,disabled:$,children:$?"Updating...":"Update Dispute"})]})]})]})]})})]})},ye.id)}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(rv,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:"No disputes found"}),a.jsx("p",{className:"text-muted-foreground",children:"No disputes match your current filters"})]})})})]})]})}const RCe=({url:e,title:t,type:n})=>{const r=n.includes("image");return a.jsxs(za,{children:[a.jsx(bu,{asChild:!0,children:a.jsxs(Ne,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[a.jsx(Hn,{className:"w-4 h-4"}),"View"]})}),a.jsxs(Va,{className:"max-w-3xl max-h-[90vh]",children:[a.jsx($a,{children:a.jsx(Ha,{children:t})}),a.jsx("div",{className:"flex justify-center items-center p-4 max-h-[70vh] overflow-auto",children:r?a.jsx("img",{src:e,alt:t,className:"max-w-full max-h-full object-contain rounded-lg"}):a.jsx("iframe",{src:e,title:t,className:"w-full h-96 border rounded-lg"})})]})]})};function PCe(){const{user:e}=Wt(),{t}=$t(),[n,r]=N.useState([]),[i,s]=N.useState(null),[o,u]=N.useState(!0),[m,f]=N.useState(!1),[g,x]=N.useState("pending"),[w,_]=N.useState(!1),[T,C]=N.useState("approve"),[A,M]=N.useState("");N.useEffect(()=>{D()},[]);const D=async()=>{u(!0);try{const{data:F,error:$}=await qe.from("driver_profiles").select(`
          *,
          profiles!driver_profiles_user_id_fkey (
            full_name,
            email,
            phone_number,
            created_at
          )
        `).neq("verification_status","not_submitted").order("updated_at",{ascending:!1});if($)throw $;const W=(F==null?void 0:F.map(Y=>{var X,ne,J,H;return{...Y,full_name:((X=Y.profiles)==null?void 0:X.full_name)||"Unknown",email:((ne=Y.profiles)==null?void 0:ne.email)||"",phone_number:(J=Y.profiles)==null?void 0:J.phone_number,user_created_at:((H=Y.profiles)==null?void 0:H.created_at)||Y.created_at}}))||[];r(W)}catch(F){console.error("Error fetching submissions:",F),Me.error(t("common.error"))}finally{u(!1)}},R=async()=>{if(i){f(!0);try{const{error:F}=await qe.from("driver_profiles").update({verification_status:T,updated_at:new Date().toISOString()}).eq("user_id",i.user_id);if(F)throw F;await qe.from("notifications").insert({user_id:i.user_id,notification_type:"system",title:T==="approve"?"Verification Approved":"Verification Rejected",message:T==="approve"?"Congratulations! Your driver verification has been approved. You can now start accepting passengers.":`Your verification was rejected. ${A||"Please review your documents and resubmit."}`,metadata:{verification_status:T,review_notes:A,reviewer_id:e==null?void 0:e.id}}),Me.success(`Driver verification ${T}d successfully`),_(!1),s(null),M(""),await D()}catch(F){console.error("Error reviewing submission:",F),Me.error(t("common.error"))}finally{f(!1)}}},z=F=>{switch(F){case"approved":return a.jsx(Rr,{className:"w-5 h-5 text-green-500"});case"rejected":return a.jsx(nu,{className:"w-5 h-5 text-red-500"});case"pending":return a.jsx(zn,{className:"w-5 h-5 text-yellow-500"});default:return a.jsx(jr,{className:"w-5 h-5 text-gray-500"})}},k=F=>{const $={pending:"default",approved:"default",rejected:"destructive"};return a.jsxs(et,{variant:$[F],className:"flex items-center gap-1",children:[z(F),t(`driver.verification.status.${F}`)]})},I=n.filter(F=>g==="all"?!0:F.verification_status===g),V={pending:n.filter(F=>F.verification_status==="pending").length,approved:n.filter(F=>F.verification_status==="approved").length,rejected:n.filter(F=>F.verification_status==="rejected").length,all:n.length};return o?a.jsxs("div",{className:"flex justify-center p-8",children:[t("common.loading"),"..."]}):a.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-6xl",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Driver Verification Review"}),a.jsx("p",{className:"text-muted-foreground",children:"Review and approve driver verification submissions"})]}),a.jsxs(ms,{value:g,onValueChange:x,className:"w-full",children:[a.jsxs(gs,{className:"grid w-full grid-cols-4",children:[a.jsxs(Ct,{value:"pending",className:"flex items-center gap-2",children:["Pending ",V.pending>0&&a.jsx(et,{variant:"outline",children:V.pending})]}),a.jsxs(Ct,{value:"approved",className:"flex items-center gap-2",children:["Approved ",V.approved>0&&a.jsx(et,{variant:"outline",children:V.approved})]}),a.jsxs(Ct,{value:"rejected",className:"flex items-center gap-2",children:["Rejected ",V.rejected>0&&a.jsx(et,{variant:"outline",children:V.rejected})]}),a.jsxs(Ct,{value:"all",className:"flex items-center gap-2",children:["All ",V.all>0&&a.jsx(et,{variant:"outline",children:V.all})]})]}),a.jsx(Mt,{value:g,className:"mt-6",children:I.length===0?a.jsx(me,{children:a.jsxs(ge,{className:"p-8 text-center",children:[a.jsx(jr,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No submissions found for this status."})]})}):a.jsx("div",{className:"space-y-4",children:I.map(F=>a.jsxs(me,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(iu,{className:"w-8 h-8 text-primary"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:F.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:F.email}),F.phone_number&&a.jsx("p",{className:"text-sm text-muted-foreground",children:F.phone_number})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[k(F.verification_status),a.jsx(Ne,{variant:"outline",onClick:()=>s(F),children:"Review Details"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(oi,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("span",{children:[F.vehicle_type," - ",F.vehicle_model]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ta,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("span",{children:["License: ",F.license_number]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xo,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("span",{children:F.route_name||"No route specified"})]})]}),a.jsxs("div",{className:"mt-4 text-xs text-muted-foreground",children:["Submitted: ",new Date(F.updated_at).toLocaleDateString()," at ",new Date(F.updated_at).toLocaleTimeString()]})]},F.id))})})]}),i&&a.jsx(za,{open:!!i,onOpenChange:()=>s(null),children:a.jsxs(Va,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs($a,{children:[a.jsxs(Ha,{className:"flex items-center gap-2",children:[a.jsx(iu,{className:"w-5 h-5"}),i.full_name," - Verification Review"]}),a.jsx(Fi,{children:"Review driver information and documents for verification approval"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Driver Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"Full Name"}),a.jsx("p",{className:"font-medium",children:i.full_name})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"Email"}),a.jsx("p",{className:"font-medium",children:i.email})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"Phone"}),a.jsx("p",{className:"font-medium",children:i.phone_number||"Not provided"})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"Account Created"}),a.jsx("p",{className:"font-medium",children:new Date(i.user_created_at).toLocaleDateString()})]})]})]}),a.jsx(Bi,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Vehicle Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"License Number"}),a.jsx("p",{className:"font-medium",children:i.license_number})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"License Expiry"}),a.jsx("p",{className:"font-medium",children:i.license_expiry})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"Vehicle Type"}),a.jsx("p",{className:"font-medium",children:i.vehicle_type})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"Vehicle Model"}),a.jsx("p",{className:"font-medium",children:i.vehicle_model})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"Vehicle Plate"}),a.jsx("p",{className:"font-medium",children:i.vehicle_plate})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-muted-foreground",children:"Route"}),a.jsx("p",{className:"font-medium",children:i.route_name||"Not specified"})]})]}),i.route_description&&a.jsxs("div",{className:"mt-3",children:[a.jsx($e,{className:"text-muted-foreground",children:"Route Description"}),a.jsx("p",{className:"text-sm mt-1",children:i.route_description})]})]}),a.jsx(Bi,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Uploaded Documents"}),i.verification_documents?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(i.verification_documents).map(([F,$])=>{const Y=(X=>X.includes("license")?Ea:X.includes("vehicle")?oi:D1)(F);return a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(Y,{className:"w-5 h-5 text-primary"}),a.jsx("span",{className:"font-medium",children:t(`driver.verification.documentTypes.${F}`)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Uploaded: ",new Date($.uploaded_at).toLocaleDateString()]}),a.jsx(RCe,{url:$.url,title:t(`driver.verification.documentTypes.${F}`),type:$.url.includes(".pdf")?"application/pdf":"image"})]})]},F)})}):a.jsx("p",{className:"text-muted-foreground",children:"No documents uploaded"})]}),i.verification_status==="pending"&&a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsxs(Ne,{onClick:()=>{C("approve"),_(!0)},className:"flex-1",children:[a.jsx(Rr,{className:"w-4 h-4 mr-2"}),"Approve Verification"]}),a.jsxs(Ne,{variant:"destructive",onClick:()=>{C("reject"),_(!0)},className:"flex-1",children:[a.jsx(nu,{className:"w-4 h-4 mr-2"}),"Reject Verification"]})]})]})]})}),a.jsx(za,{open:w,onOpenChange:_,children:a.jsxs(Va,{children:[a.jsxs($a,{children:[a.jsxs(Ha,{children:[T==="approve"?"Approve":"Reject"," Driver Verification"]}),a.jsx(Fi,{children:T==="approve"?"This will approve the driver verification and allow them to start accepting passengers.":"This will reject the driver verification. Please provide feedback for the driver."})]}),T==="reject"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx($e,{htmlFor:"review-notes",children:"Feedback for Driver"}),a.jsx(tl,{id:"review-notes",value:A,onChange:F=>M(F.target.value),placeholder:"Explain why the verification was rejected and what needs to be corrected...",rows:4})]}),a.jsxs(Dde,{children:[a.jsx(Ne,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),a.jsx(Ne,{onClick:R,disabled:m||T==="reject"&&!A.trim(),variant:T==="approve"?"default":"destructive",children:m?"Processing...":`${T==="approve"?"Approve":"Reject"} Verification`})]})]})})]})}const kCe=()=>{const{createNotification:e}=$_(),{language:t}=$t(),[n,r]=N.useState({title:"",message:"",type:"info",priority:"normal",target_roles:[],target_users:[]}),[i,s]=N.useState([]),[o,u]=N.useState([]),[m,f]=N.useState({}),[g,x]=N.useState([]),[w,_]=N.useState(""),[T,C]=N.useState(!1),[A,M]=N.useState(!1),[D,R]=N.useState(!1);N.useEffect(()=>{z(),k()},[]),N.useEffect(()=>{let H=i;if(m.role&&(H=H.filter(ee=>ee.role===m.role)),m.is_verified!==void 0&&(H=H.filter(ee=>ee.is_verified===m.is_verified)),m.is_active!==void 0&&(H=H.filter(ee=>ee.is_active===m.is_active)),m.search){const ee=m.search.toLowerCase();H=H.filter(K=>K.full_name.toLowerCase().includes(ee)||K.email.toLowerCase().includes(ee))}u(H)},[i,m]);const z=async()=>{C(!0);try{const{data:H,error:ee}=await qe.from("profiles").select("*").order("full_name");if(ee){console.error("Error fetching users:",ee),Me.error("Failed to load users");return}s(H||[])}catch(H){console.error("Error fetching users:",H),Me.error("Failed to load users")}finally{C(!1)}},k=async()=>{try{const{data:H,error:ee}=await qe.from("notification_templates").select("*").eq("is_active",!0).order("name");if(ee){console.error("Error fetching templates:",ee);return}x(H||[])}catch(H){console.error("Error fetching templates:",H)}},I=H=>{const ee=g.find(K=>K.id===H);ee&&(r(K=>({...K,title:ee.title_template,message:ee.message_template,type:ee.type,priority:ee.priority,action_url:ee.action_url_template,action_label:ee.action_label})),_(H))},B=H=>{r(ee=>({...ee,target_roles:ee.target_roles.includes(H)?ee.target_roles.filter(K=>K!==H):[...ee.target_roles,H]}))},V=H=>{r(ee=>({...ee,target_users:ee.target_users.includes(H)?ee.target_users.filter(K=>K!==H):[...ee.target_users,H]}))},F=()=>{const H=o.map(ee=>ee.id);r(ee=>({...ee,target_users:ee.target_users.length===H.length?[]:H}))},$=()=>{let H=[...n.target_users];if(n.target_roles.length>0){const ee=i.filter(K=>n.target_roles.includes(K.role));H=[...H,...ee.map(K=>K.id)]}return[...new Set(H)]},W=async()=>{if(!n.title.trim()||!n.message.trim()){Me.error("Please fill in title and message");return}const H=$();if(H.length===0){Me.error("Please select at least one recipient");return}M(!0);try{await e({user_ids:H,title:n.title,message:n.message,type:n.type,priority:n.priority,action_url:n.action_url,action_label:n.action_label})&&(Me.success(`Notification sent to ${H.length} users`),r({title:"",message:"",type:"info",priority:"normal",target_roles:[],target_users:[]}),_(""))}catch(ee){console.error("Error sending notification:",ee),Me.error("Failed to send notification")}finally{M(!1)}},Y=async()=>{var ee;if(!n.title.trim()||!n.message.trim()){Me.error("Please fill in title and message");return}const H=prompt("Enter template name:");if(H)try{const{error:K}=await qe.from("notification_templates").insert({name:H,title_template:n.title,message_template:n.message,type:n.type,priority:n.priority,action_url_template:n.action_url,action_label:n.action_label,variables:[],created_by:(ee=(await qe.auth.getUser()).data.user)==null?void 0:ee.id});if(K){console.error("Error saving template:",K),Me.error("Failed to save template");return}Me.success("Template saved successfully"),k()}catch(K){console.error("Error saving template:",K),Me.error("Failed to save template")}},X=$(),J={en:{title:"Broadcast Notifications",description:"Send notifications to multiple users",compose:"Compose",templates:"Templates",recipients:"Recipients",preview:"Preview",notificationTitle:"Notification Title",notificationMessage:"Message Content",type:"Type",priority:"Priority",actionUrl:"Action URL (optional)",actionLabel:"Action Button Label",targetRoles:"Target User Roles",targetUsers:"Specific Users",searchUsers:"Search users...",selectAll:"Select All",selected:"selected",sendNotification:"Send Notification",saveTemplate:"Save as Template",loadTemplate:"Load Template",sending:"Sending...",noTemplates:"No templates available",noUsers:"No users found",scheduledFor:"Schedule for later",expiresAt:"Expires at"},ar:{title:" ",description:"   ",compose:"",templates:"",recipients:"",preview:"",notificationTitle:" ",notificationMessage:" ",type:"",priority:"",actionUrl:"  ()",actionLabel:"  ",targetRoles:"  ",targetUsers:" ",searchUsers:"  ...",selectAll:" ",selected:"",sendNotification:" ",saveTemplate:" ",loadTemplate:" ",sending:" ...",noTemplates:"   ",noUsers:"    ",scheduledFor:"  ",expiresAt:" "}}[t];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(KL,{className:"h-6 w-6"}),J.title]}),a.jsx("p",{className:"text-muted-foreground",children:J.description})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2 space-y-6",children:a.jsxs(ms,{defaultValue:"compose",className:"space-y-4",children:[a.jsxs(gs,{children:[a.jsx(Ct,{value:"compose",children:J.compose}),a.jsx(Ct,{value:"templates",children:J.templates})]}),a.jsx(Mt,{value:"compose",className:"space-y-4",children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:J.compose}),a.jsx(it,{children:"Create and send a notification"})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx($e,{htmlFor:"title",children:J.notificationTitle}),a.jsx(vt,{id:"title",value:n.title,onChange:H=>r(ee=>({...ee,title:H.target.value})),placeholder:"Enter notification title..."})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"message",children:J.notificationMessage}),a.jsx(tl,{id:"message",value:n.message,onChange:H=>r(ee=>({...ee,message:H.target.value})),placeholder:"Enter notification message...",rows:4})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx($e,{children:J.type}),a.jsxs(It,{value:n.type,onValueChange:H=>r(ee=>({...ee,type:H})),children:[a.jsx(Lt,{children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"info",children:"Info"}),a.jsx(Oe,{value:"success",children:"Success"}),a.jsx(Oe,{value:"warning",children:"Warning"}),a.jsx(Oe,{value:"error",children:"Error"}),a.jsx(Oe,{value:"system",children:"System"}),a.jsx(Oe,{value:"ticket",children:"Ticket"}),a.jsx(Oe,{value:"payment",children:"Payment"}),a.jsx(Oe,{value:"refund",children:"Refund"}),a.jsx(Oe,{value:"event",children:"Event"})]})]})]}),a.jsxs("div",{children:[a.jsx($e,{children:J.priority}),a.jsxs(It,{value:n.priority,onValueChange:H=>r(ee=>({...ee,priority:H})),children:[a.jsx(Lt,{children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"low",children:"Low"}),a.jsx(Oe,{value:"normal",children:"Normal"}),a.jsx(Oe,{value:"high",children:"High"}),a.jsx(Oe,{value:"urgent",children:"Urgent"})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx($e,{htmlFor:"actionUrl",children:J.actionUrl}),a.jsx(vt,{id:"actionUrl",value:n.action_url||"",onChange:H=>r(ee=>({...ee,action_url:H.target.value})),placeholder:"/dashboard/tickets"})]}),a.jsxs("div",{children:[a.jsx($e,{htmlFor:"actionLabel",children:J.actionLabel}),a.jsx(vt,{id:"actionLabel",value:n.action_label||"",onChange:H=>r(ee=>({...ee,action_label:H.target.value})),placeholder:"View Details"})]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs(Ne,{variant:"outline",onClick:Y,children:[a.jsx(QL,{className:"h-4 w-4 mr-2"}),J.saveTemplate]}),a.jsxs(Ne,{onClick:W,disabled:A||X.length===0,children:[a.jsx(IA,{className:"h-4 w-4 mr-2"}),A?J.sending:J.sendNotification]})]})]})]})}),a.jsx(Mt,{value:"templates",className:"space-y-4",children:a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsx(Pe,{children:J.templates}),a.jsx(it,{children:"Load from saved templates"})]}),a.jsx(ge,{children:g.length===0?a.jsx("p",{className:"text-center text-muted-foreground py-8",children:J.noTemplates}):a.jsx("div",{className:"space-y-2",children:g.map(H=>a.jsx(We.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-4 border rounded-lg cursor-pointer transition-colors ${w===H.id?"border-blue-500 bg-blue-50":"hover:bg-gray-50"}`,onClick:()=>I(H.id),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:H.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:H.title_template})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(et,{variant:"secondary",children:H.type}),a.jsx(et,{variant:"outline",children:H.priority})]})]})},H.id))})})]})})]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(me,{children:[a.jsxs(Re,{children:[a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(Kh,{className:"h-5 w-5"}),J.recipients]}),a.jsxs(it,{children:[X.length," users selected"]})]}),a.jsxs(ge,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx($e,{children:J.targetRoles}),a.jsx("div",{className:"space-y-2 mt-2",children:["passenger","driver","merchant","event_admin"].map(H=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ou,{id:H,checked:n.target_roles.includes(H),onCheckedChange:()=>B(H)}),a.jsx($e,{htmlFor:H,className:"capitalize",children:H.replace("_"," ")})]},H))})]}),a.jsx(Bi,{}),a.jsxs("div",{children:[a.jsx($e,{children:J.targetUsers}),a.jsxs("div",{className:"space-y-2 mt-2",children:[a.jsxs("div",{className:"relative",children:[a.jsx(zs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(vt,{placeholder:J.searchUsers,value:m.search||"",onChange:H=>f(ee=>({...ee,search:H.target.value})),className:"pl-10"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(Ne,{variant:"outline",size:"sm",onClick:F,children:[J.selectAll," (",o.length,")"]}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[n.target_users.length," ",J.selected]})]}),a.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1 border rounded-md p-2",children:o.map(H=>a.jsxs("div",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 rounded",children:[a.jsx(ou,{checked:n.target_users.includes(H.id),onCheckedChange:()=>V(H.id)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium truncate",children:H.full_name}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:H.email})]}),a.jsx(et,{variant:"outline",className:"text-xs",children:H.role})]},H.id))})]})]})]})]}),(n.title||n.message)&&a.jsxs(me,{children:[a.jsx(Re,{children:a.jsxs(Pe,{className:"flex items-center gap-2",children:[a.jsx(yv,{className:"h-5 w-5"}),J.preview]})}),a.jsx(ge,{children:a.jsx("div",{className:"border rounded-lg p-4 bg-gray-50",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsxs("div",{className:"flex-shrink-0 mt-1",children:[n.type==="success"&&a.jsx(Rr,{className:"h-5 w-5 text-green-600"}),n.type==="warning"&&a.jsx(jr,{className:"h-5 w-5 text-yellow-600"}),n.type==="error"&&a.jsx(jr,{className:"h-5 w-5 text-red-600"}),!["success","warning","error"].includes(n.type)&&a.jsx(yv,{className:"h-5 w-5 text-blue-600"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-sm",children:n.title||"Notification Title"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:n.message||"Notification message will appear here..."}),n.action_label&&a.jsx(Ne,{size:"sm",variant:"link",className:"h-auto p-0 mt-2",children:n.action_label})]}),a.jsx(et,{variant:n.priority==="urgent"?"destructive":"secondary",className:"text-xs",children:n.priority})]})})})]})]})]})]})},ICe=()=>{var X,ne,J,H,ee;const{user:e}=Wt(),{conversations:t,activeConversation:n,messages:r,loading:i,stats:s,fetchConversations:o,sendMessage:u,setActiveConversation:m,assignConversation:f,updateConversationStatus:g,refreshStats:x}=U6(),[w,_]=N.useState(""),[T,C]=N.useState(!1),[A,M]=N.useState({}),[D,R]=N.useState(""),[z,k]=N.useState(""),I=N.useRef(null);N.useEffect(()=>{var K;(K=I.current)==null||K.scrollIntoView({behavior:"smooth"})},[r]),N.useEffect(()=>{const K={...A};D&&(K.search=D),o(K)},[A,D,o]);const B=async()=>{!w.trim()||!n||(await u({conversation_id:n.id,content:w.trim(),message_type:"text",is_internal:T}),_(""),C(!1))},V=async(K,ue)=>{await f(K,ue)},F=async(K,ue)=>{await g(K,ue)},$=K=>{switch(K){case"open":return"bg-blue-500";case"assigned":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-gray-500";default:return"bg-gray-500"}},W=K=>{switch(K){case"urgent":return"bg-red-500 text-white";case"high":return"bg-orange-500 text-white";case"normal":return"bg-blue-500 text-white";case"low":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}},Y=K=>Ah(new Date(K),{addSuffix:!0});return!e||e.role!=="admin"?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("p",{className:"text-muted-foreground",children:"Access denied. Admin privileges required."})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(me,{children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(rv,{className:"h-5 w-5 text-blue-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Total Conversations"}),a.jsx("p",{className:"text-2xl font-bold",children:(s==null?void 0:s.total_conversations)||0})]})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(mne,{className:"h-5 w-5 text-yellow-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Open & Assigned"}),a.jsx("p",{className:"text-2xl font-bold",children:((s==null?void 0:s.open_conversations)||0)+((s==null?void 0:s.assigned_conversations)||0)})]})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(une,{className:"h-5 w-5 text-green-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Resolved Today"}),a.jsx("p",{className:"text-2xl font-bold",children:(s==null?void 0:s.resolved_today)||0})]})]})})}),a.jsx(me,{children:a.jsx(ge,{className:"p-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Wn,{className:"h-5 w-5 text-purple-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Response Time"}),a.jsxs("p",{className:"text-2xl font-bold",children:[(s==null?void 0:s.average_response_time)||0,"m"]})]})]})})})]}),a.jsxs("div",{className:"flex h-[700px] gap-6",children:[a.jsxs("div",{className:"w-1/3 border-r space-y-4",children:[a.jsxs(me,{children:[a.jsx(Re,{className:"pb-3",children:a.jsxs(Pe,{className:"text-sm flex items-center gap-2",children:[a.jsx(Gh,{className:"h-4 w-4"}),"Filters"]})}),a.jsxs(ge,{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx($e,{htmlFor:"search",className:"text-xs",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(zs,{className:"h-4 w-4 absolute left-2 top-2.5 text-muted-foreground"}),a.jsx(vt,{id:"search",placeholder:"Search conversations...",className:"pl-8 h-8",value:D,onChange:K=>R(K.target.value)})]})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-xs",children:"Status"}),a.jsxs(It,{value:((X=A.status)==null?void 0:X[0])||"all",onValueChange:K=>{M(K==="all"?ue=>({...ue,status:void 0}):ue=>({...ue,status:[K]}))},children:[a.jsx(Lt,{className:"h-8",children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:"All Status"}),a.jsx(Oe,{value:"open",children:"Open"}),a.jsx(Oe,{value:"assigned",children:"Assigned"}),a.jsx(Oe,{value:"resolved",children:"Resolved"}),a.jsx(Oe,{value:"closed",children:"Closed"})]})]})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-xs",children:"Priority"}),a.jsxs(It,{value:((ne=A.priority)==null?void 0:ne[0])||"all",onValueChange:K=>{M(K==="all"?ue=>({...ue,priority:void 0}):ue=>({...ue,priority:[K]}))},children:[a.jsx(Lt,{className:"h-8",children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:"All Priorities"}),a.jsx(Oe,{value:"urgent",children:"Urgent"}),a.jsx(Oe,{value:"high",children:"High"}),a.jsx(Oe,{value:"normal",children:"Normal"}),a.jsx(Oe,{value:"low",children:"Low"})]})]})]}),a.jsxs("div",{children:[a.jsx($e,{className:"text-xs",children:"Category"}),a.jsxs(It,{value:((J=A.category)==null?void 0:J[0])||"all",onValueChange:K=>{M(K==="all"?ue=>({...ue,category:void 0}):ue=>({...ue,category:[K]}))},children:[a.jsx(Lt,{className:"h-8",children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"all",children:"All Categories"}),a.jsx(Oe,{value:"general",children:"General"}),a.jsx(Oe,{value:"technical",children:"Technical"}),a.jsx(Oe,{value:"billing",children:"Billing"}),a.jsx(Oe,{value:"account",children:"Account"}),a.jsx(Oe,{value:"refund",children:"Refund"}),a.jsx(Oe,{value:"feedback",children:"Feedback"})]})]})]})]})]}),a.jsx(Od,{className:"h-[calc(100%-200px)]",children:a.jsx("div",{className:"space-y-2",children:t.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(jh,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No conversations found"})]}):t.map(K=>{var ue;return a.jsx(me,{className:`cursor-pointer transition-colors hover:bg-muted/50 ${(n==null?void 0:n.id)===K.id?"ring-2 ring-primary":""}`,onClick:()=>m(K),children:a.jsxs(ge,{className:"p-3",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsx("h4",{className:"font-medium text-sm truncate flex-1",children:K.subject}),a.jsx(et,{variant:"outline",className:`text-xs ${W(K.priority)}`,children:K.priority})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(et,{variant:"outline",className:`text-xs ${$(K.status)}`,children:K.status}),K.category&&a.jsx(et,{variant:"secondary",className:"text-xs",children:K.category})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(iu,{className:"h-3 w-3 mr-1"}),((ue=K.user)==null?void 0:ue.full_name)||"Unknown User"]}),K.assigned_admin&&a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(BA,{className:"h-3 w-3 mr-1"}),"Assigned to ",K.assigned_admin.full_name]}),a.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[a.jsx(zn,{className:"h-3 w-3 mr-1"}),Y(K.updated_at)]})]}),K.last_message&&a.jsx("p",{className:"text-xs text-muted-foreground truncate mt-1",children:K.last_message.content})]})},K.id)})})})]}),a.jsx("div",{className:"flex-1 flex flex-col",children:n?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 border-b space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:n.subject}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(et,{variant:"outline",className:$(n.status),children:n.status}),a.jsx(et,{variant:"outline",className:W(n.priority),children:n.priority}),n.category&&a.jsx(et,{variant:"secondary",children:n.category})]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground text-right",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(iu,{className:"h-4 w-4"}),((H=n.user)==null?void 0:H.full_name)||"Unknown User"]}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(R1,{className:"h-4 w-4"}),(ee=n.user)==null?void 0:ee.email]}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(Ta,{className:"h-4 w-4"}),"Created ",Y(n.created_at)]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(It,{value:z,onValueChange:k,children:[a.jsx(Lt,{className:"w-48",children:a.jsx(zt,{placeholder:"Assign to admin..."})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"unassigned",children:"Unassign"}),a.jsx(Oe,{value:e.id,children:"Assign to me"})]})]}),a.jsx(Ne,{size:"sm",onClick:()=>V(n.id,z),disabled:!z,children:"Assign"}),a.jsxs(It,{value:n.status,onValueChange:K=>F(n.id,K),children:[a.jsx(Lt,{className:"w-32",children:a.jsx(zt,{})}),a.jsxs(Bt,{children:[a.jsx(Oe,{value:"open",children:"Open"}),a.jsx(Oe,{value:"assigned",children:"Assigned"}),a.jsx(Oe,{value:"resolved",children:"Resolved"}),a.jsx(Oe,{value:"closed",children:"Closed"})]})]})]})]}),a.jsx(Od,{className:"flex-1 p-4",children:a.jsxs("div",{className:"space-y-4",children:[r.map(K=>{var ue,re,de,xe,Se;return a.jsx("div",{className:`flex ${K.sender_id===e.id?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`flex items-start gap-2 max-w-[70%] ${K.sender_id===e.id?"flex-row-reverse":"flex-row"}`,children:[a.jsxs(e0,{className:"h-8 w-8",children:[a.jsx(t0,{src:(ue=K.sender)==null?void 0:ue.avatar_url}),a.jsx(n0,{children:((de=(re=K.sender)==null?void 0:re.full_name)==null?void 0:de.charAt(0))||"U"})]}),a.jsxs("div",{className:`rounded-lg p-3 ${K.is_internal?"bg-yellow-100 dark:bg-yellow-900 border-l-4 border-yellow-500":K.sender_id===e.id?"bg-primary text-primary-foreground":"bg-muted"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-sm font-medium",children:((xe=K.sender)==null?void 0:xe.full_name)||"Unknown User"}),((Se=K.sender)==null?void 0:Se.role)==="admin"&&a.jsx(et,{variant:"secondary",className:"text-xs",children:"Admin"}),K.is_internal&&a.jsx(et,{variant:"outline",className:"text-xs",children:"Internal Note"})]}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:K.content}),a.jsx("p",{className:`text-xs mt-1 ${K.is_internal?"text-yellow-700 dark:text-yellow-300":K.sender_id===e.id?"text-primary-foreground/70":"text-muted-foreground"}`,children:Y(K.created_at)})]})]})},K.id)}),a.jsx("div",{ref:I})]})}),a.jsxs("div",{className:"p-4 border-t space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ou,{id:"internal",checked:T,onCheckedChange:K=>C(K===!0)}),a.jsx($e,{htmlFor:"internal",className:"text-sm",children:"Internal note (not visible to user)"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(tl,{placeholder:T?"Add internal note...":"Type your response...",value:w,onChange:K=>_(K.target.value),onKeyPress:K=>{K.key==="Enter"&&!K.shiftKey&&(K.preventDefault(),B())},disabled:i,rows:2}),a.jsx(Ne,{onClick:B,disabled:i||!w.trim(),children:a.jsx(IA,{className:"h-4 w-4"})})]})]})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(jh,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Select a conversation"}),a.jsx("p",{className:"text-muted-foreground",children:"Choose a conversation from the sidebar to start managing it"})]})})})]})]})};function LCe(){return V_(["admin"]),a.jsx(F0,{userType:"admin",children:a.jsxs(Vh,{children:[a.jsx(xt,{path:"/",element:a.jsx(Ul,{to:"/admin/home",replace:!0})}),a.jsx(xt,{path:"/home",element:a.jsx(TCe,{})}),a.jsx(xt,{path:"/users",element:a.jsx(OCe,{})}),a.jsx(xt,{path:"/analytics",element:a.jsx(MCe,{})}),a.jsx(xt,{path:"/disputes",element:a.jsx(DCe,{})}),a.jsx(xt,{path:"/verification-review",element:a.jsx(PCe,{})}),a.jsx(xt,{path:"/notifications",element:a.jsx(yH,{})}),a.jsx(xt,{path:"/broadcast",element:a.jsx(kCe,{})}),a.jsx(xt,{path:"/chat-management",element:a.jsx(ICe,{})}),a.jsx(xt,{path:"/profile",element:a.jsx(np,{})}),a.jsx(xt,{path:"/settings",element:a.jsx(rp,{})})]})})}function wg({children:e,allowedRoles:t}){const{user:n,profile:r,loading:i}=Wt();return i?a.jsx(hi,{}):n?r?t.includes(r.user_type)?a.jsx(a.Fragment,{children:e}):a.jsx(Ul,{to:`/${r.user_type}`,replace:!0}):a.jsx(hi,{text:"Loading profile..."}):a.jsx(Ul,{to:"/login",replace:!0})}function BCe(){const{user:e,profile:t,loading:n}=Wt(),{isRTL:r}=$t();return n?a.jsx(hi,{}):a.jsx("div",{className:`min-h-screen ${r?"rtl":"ltr"}`,children:a.jsx(eX,{children:a.jsxs(Vh,{children:[a.jsx(xt,{path:"/",element:e?a.jsx(Xx,{}):a.jsx(Pre,{})}),a.jsx(xt,{path:"/login",element:e?a.jsx(Xx,{}):a.jsx(Qre,{})}),a.jsx(xt,{path:"/register",element:e?a.jsx(Xx,{}):a.jsx(Wse,{})}),a.jsx(xt,{path:"/forgot-password",element:e?a.jsx(Xx,{}):a.jsx(Gse,{})}),a.jsx(xt,{path:"/otp-verification",element:a.jsx(uoe,{})}),a.jsx(xt,{path:"/reset-password",element:a.jsx(doe,{})}),a.jsx(xt,{path:"/passenger/*",element:a.jsx(wg,{allowedRoles:["passenger"],children:a.jsx(rEe,{})})}),a.jsx(xt,{path:"/driver/*",element:a.jsx(wg,{allowedRoles:["driver"],children:a.jsx(GEe,{})})}),a.jsx(xt,{path:"/merchant/*",element:a.jsx(wg,{allowedRoles:["merchant"],children:a.jsx(NCe,{})})}),a.jsx(xt,{path:"/event-admin/*",element:a.jsx(wg,{allowedRoles:["event_admin"],children:a.jsx(CCe,{})})}),a.jsx(xt,{path:"/admin/*",element:a.jsx(wg,{allowedRoles:["admin"],children:a.jsx(LCe,{})})}),a.jsx(xt,{path:"*",element:a.jsx(Ul,{to:"/",replace:!0})})]})})})}function Xx(){const{profile:e}=Wt();return e?a.jsx(Ul,{to:`/${e.user_type}`,replace:!0}):a.jsx(Ul,{to:"/login",replace:!0})}var FCe=(e,t,n,r,i,s,o,u)=>{let m=document.documentElement,f=["light","dark"];function g(_){(Array.isArray(e)?e:[e]).forEach(T=>{let C=T==="class",A=C&&s?i.map(M=>s[M]||M):i;C?(m.classList.remove(...A),m.classList.add(s&&s[_]?s[_]:_)):m.setAttribute(T,_)}),x(_)}function x(_){u&&f.includes(_)&&(m.style.colorScheme=_)}function w(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)g(r);else try{let _=localStorage.getItem(t)||n,T=o&&_==="system"?w():_;g(T)}catch{}},UCe=N.createContext(void 0),zCe={setTheme:e=>{},themes:[]},VCe=()=>{var e;return(e=N.useContext(UCe))!=null?e:zCe};N.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,themes:u,nonce:m,scriptProps:f})=>{let g=JSON.stringify([n,t,s,e,u,o,r,i]).slice(1,-1);return N.createElement("script",{...f,suppressHydrationWarning:!0,nonce:typeof window>"u"?m:"",dangerouslySetInnerHTML:{__html:`(${FCe.toString()})(${g})`}})});const $Ce=({...e})=>{const{theme:t="system"}=VCe();return a.jsx(FG,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function HCe(){return a.jsx(dG,{children:a.jsx(uG,{children:a.jsx(oG,{children:a.jsx(UG,{children:a.jsx(zG,{children:a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(BCe,{}),a.jsx($Ce,{richColors:!0,position:"top-right"})]})})})})})})}nY.createRoot(document.getElementById("root")).render(a.jsx(N.StrictMode,{children:a.jsx(HCe,{})}));export{Sd as _,hx as c,zi as g};
